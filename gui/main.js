(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"+cAZ":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("lT9W"),i=n("Y9TT");e.mobileNetV1=function(t,e){return r.tidy(function(){var n=null,o=i.pointwiseConvLayer(t,e.conv_0,[2,2]);if([e.conv_1,e.conv_2,e.conv_3,e.conv_4,e.conv_5,e.conv_6,e.conv_7,e.conv_8,e.conv_9,e.conv_10,e.conv_11,e.conv_12,e.conv_13].forEach(function(t,e){var a,s,u,l=e+1,c=function(t){return[2,4,6,12].some(function(e){return e===t})?[2,2]:[1,1]}(l);a=o,s=t.depthwise_conv,u=c,o=r.tidy(function(){var t=r.depthwiseConv2d(a,s.filters,u,"same");return t=r.batchNormalization(t,s.batch_norm_mean,s.batch_norm_variance,.0010000000474974513,s.batch_norm_scale,s.batch_norm_offset),r.clipByValue(t,0,6)}),o=i.pointwiseConvLayer(o,t.pointwise_conv,[1,1]),11===l&&(n=o)}),null===n)throw new Error("mobileNetV1 - output of conv layer 11 is null");return{out:o,conv11:n}})}},"+oCR":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("lT9W");e.bgrToRgbTensor=function(t){return r.tidy(function(){return r.stack(r.unstack(t,3).reverse(),3)})}},"+tJ4":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){return function(e){for(var n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.closed||e.complete()}}},"+umK":function(t,e,n){"use strict";function r(){}n.d(e,"a",function(){return r})},"/GL2":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("lT9W"),i=n("eihW"),o=n("x8+q"),a=n("0/8I");e.RNet=function(t,e){return r.tidy(function(){var n=a.sharedLayer(t,e),s=r.reshape(n,[n.shape[0],e.fc1.weights.shape[0]]),u=i.fullyConnectedLayer(s,e.fc1),l=o.prelu(u,e.prelu4_alpha),c=i.fullyConnectedLayer(l,e.fc2_1),f=r.expandDims(r.max(c,1),1),h=r.softmax(r.sub(c,f),1),d=i.fullyConnectedLayer(l,e.fc2_2);return{scores:r.unstack(h,1)[1],regions:d}})}},"/WYv":function(t,e,n){"use strict";function r(t){return t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},"0/8I":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("lT9W"),i=n("iDJ0"),o=n("x8+q");e.sharedLayer=function(t,e,n){return void 0===n&&(n=!1),r.tidy(function(){var a=i.convLayer(t,e.conv1,"valid");return a=o.prelu(a,e.prelu1_alpha),a=r.maxPool(a,n?[2,2]:[3,3],[2,2],"same"),a=i.convLayer(a,e.conv2,"valid"),a=o.prelu(a,e.prelu2_alpha),a=n?a:r.maxPool(a,[3,3],[2,2],"valid"),a=i.convLayer(a,e.conv3,"valid"),o.prelu(a,e.prelu3_alpha)})}},"0/uQ":function(t,e,n){"use strict";var r=n("6blF"),i=n("/WYv"),o=n("2ePl"),a=n("xTla"),s=n("En8+"),u=n("IUTb"),l=n("pugT"),c=n("S5XQ"),f=n("u67D"),h=n("JcRv"),d=n("Fxb1");function p(t,e){if(!e)return t instanceof r.a?t:new r.a(Object(d.a)(t));if(null!=t){if(function(t){return t&&"function"==typeof t[a.a]}(t))return function(t,e){return new r.a(e?function(n){var r=new l.a;return r.add(e.schedule(function(){var i=t[a.a]();r.add(i.subscribe({next:function(t){r.add(e.schedule(function(){return n.next(t)}))},error:function(t){r.add(e.schedule(function(){return n.error(t)}))},complete:function(){r.add(e.schedule(function(){return n.complete()}))}}))})),r}:Object(h.a)(t))}(t,e);if(Object(i.a)(t))return function(t,e){return new r.a(e?function(n){var r=new l.a;return r.add(e.schedule(function(){return t.then(function(t){r.add(e.schedule(function(){n.next(t),r.add(e.schedule(function(){return n.complete()}))}))},function(t){r.add(e.schedule(function(){return n.error(t)}))})})),r}:Object(c.a)(t))}(t,e);if(Object(o.a)(t))return Object(u.a)(t,e);if(function(t){return t&&"function"==typeof t[s.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(e?function(n){var r,i=new l.a;return i.add(function(){r&&"function"==typeof r.return&&r.return()}),i.add(e.schedule(function(){r=t[s.a](),i.add(e.schedule(function(){if(!n.closed){var t,e;try{var i=r.next();t=i.value,e=i.done}catch(t){return void n.error(t)}e?n.complete():(n.next(t),this.schedule())}}))})),i}:Object(f.a)(t))}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}n.d(e,"a",function(){return p})},"0Dbr":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("mrSG"),i=n("ppHe"),o=n("WLMy");e.FaceLandmarks5=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.getRefPointsForAlignment=function(){var t=this.getPositions();return[t[0],t[1],i.getCenterPoint([t[3],t[4]])]},e}(o.FaceLandmarks)},10:function(t,e,n){t.exports=n("x+jr")},"1Cpu":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BoundingBox=function(){function t(t,e,n,r){this._left=t,this._top=e,this._right=n,this._bottom=r}return Object.defineProperty(t.prototype,"left",{get:function(){return this._left},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){return this._top},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return this._right},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return this._bottom},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.right-this.left},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.bottom-this.top},enumerable:!0,configurable:!0}),t.prototype.toSquare=function(){var e=this.left,n=this.top,r=this.right,i=this.bottom,o=Math.abs(this.width-this.height)/2;return this.width<this.height&&(e-=o,r+=o),this.height<this.width&&(n-=o,i+=o),new t(e,n,r,i)},t.prototype.round=function(){return new t(Math.round(this.left),Math.round(this.top),Math.round(this.right),Math.round(this.bottom))},t.prototype.padAtBorders=function(t,e){var n=this.width+1,r=this.height+1,i=n,o=r,a=this.left,s=this.top,u=this.right,l=this.bottom;return u>e&&(i=-u+e+n,u=e),l>t&&(o=-l+t+r,l=t),a<1&&(o=2-a,a=1),s<1&&(o=2-s,s=1),{dy:1,edy:o,dx:1,edx:i,y:s,ey:l,x:a,ex:u,w:n,h:r}},t.prototype.calibrate=function(e){return new t(this.left+e.left*this.width,this.top+e.top*this.height,this.right+e.right*this.width,this.bottom+e.bottom*this.height).toSquare().round()},t}()},"2Bdj":function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},"2IeD":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("lT9W");e.padToSquare=function(t,e){return void 0===e&&(e=!1),r.tidy(function(){var n=t.shape.slice(1),i=n[0],o=n[1];if(i===o)return t;var a=Math.abs(i-o),s=Math.round(a*(e?.5:1)),u=i>o?2:1,l=function(e){var n=t.shape.slice();return n[u]=e,r.fill(n,0)},c=l(s),f=a-c.shape[u],h=[e&&f?l(f):null,t,c].filter(function(t){return null!==t});return r.concat(h,u)})}},"2SeC":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("lT9W");e.scale=function(t,e){return r.add(r.mul(t,e.weights),e.biases)}},"2ePl":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t}},"38xv":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("mrSG"),i=n("lT9W");e.NeuralNetwork=function(){function t(t){this._name=t,this._params=void 0,this._paramMappings=[]}return Object.defineProperty(t.prototype,"params",{get:function(){return this._params},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paramMappings",{get:function(){return this._paramMappings},enumerable:!0,configurable:!0}),t.prototype.getParamFromPath=function(t){var e=this.traversePropertyPath(t);return e.obj[e.objProp]},t.prototype.reassignParamFromPath=function(t,e){var n=this.traversePropertyPath(t),r=n.obj,i=n.objProp;r[i].dispose(),r[i]=e},t.prototype.getParamList=function(){var t=this;return this._paramMappings.map(function(e){var n=e.paramPath;return{path:n,tensor:t.getParamFromPath(n)}})},t.prototype.getTrainableParams=function(){return this.getParamList().filter(function(t){return t.tensor instanceof i.Variable})},t.prototype.getFrozenParams=function(){return this.getParamList().filter(function(t){return!(t.tensor instanceof i.Variable)})},t.prototype.variable=function(){var t=this;this.getFrozenParams().forEach(function(e){t.reassignParamFromPath(e.path,i.variable(e.tensor))})},t.prototype.freeze=function(){var t=this;this.getTrainableParams().forEach(function(e){t.reassignParamFromPath(e.path,i.tensor(e.tensor))})},t.prototype.dispose=function(t){void 0===t&&(t=!0),this.getParamList().forEach(function(e){if(t&&e.tensor.isDisposed)throw new Error("param tensor has already been disposed for path "+e.path);e.tensor.dispose()}),this._params=void 0},t.prototype.load=function(t){return r.__awaiter(this,void 0,void 0,function(){var e,n;return r.__generator(this,function(r){switch(r.label){case 0:if(t instanceof Float32Array)return this.extractWeights(t),[2];if(t&&"string"!=typeof t)throw new Error(this._name+".load - expected model uri, or weights as Float32Array");return[4,this.loadQuantizedParams(t)];case 1:return e=r.sent(),n=e.params,this._paramMappings=e.paramMappings,this._params=n,[2]}})})},t.prototype.extractWeights=function(t){var e=this.extractParams(t),n=e.params;this._paramMappings=e.paramMappings,this._params=n},t.prototype.traversePropertyPath=function(t){if(!this.params)throw new Error("traversePropertyPath - model has no loaded params");var e=t.split("/").reduce(function(e,n){if(!e.nextObj.hasOwnProperty(n))throw new Error("traversePropertyPath - object does not have property "+n+", for path "+t);return{obj:e.nextObj,objProp:n,nextObj:e.nextObj[n]}},{nextObj:this.params}),n=e.obj,r=e.objProp;if(!(n&&r&&n[r]instanceof i.Tensor))throw new Error("traversePropertyPath - parameter is not a tensor, for path "+t);return{obj:n,objProp:r}},t.prototype.loadQuantizedParams=function(t){throw new Error(this._name+".loadQuantizedParams - not implemented")},t.prototype.extractParams=function(t){throw new Error(this._name+".extractParams - not implemented")},t}()},"3Lul":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isMediaElement=function(t){return t instanceof HTMLImageElement||t instanceof HTMLVideoElement||t instanceof HTMLCanvasElement}},"4fS+":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CELL_STRIDE=2,e.CELL_SIZE=12},"4k+S":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("mrSG"),i=n("LrrT");function o(t){var e=new i.FaceDetectionNet;return e.extractWeights(t),e}r.__exportStar(n("LrrT"),e),e.createFaceDetectionNet=o,e.faceDetectionNet=function(t){return console.warn("faceDetectionNet(weights: Float32Array) will be deprecated in future, use createFaceDetectionNet instead"),o(t)}},"5WR/":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("lT9W"),i=n("2SeC");function o(t,e,n,o,a){void 0===a&&(a="same");var s=e.conv,u=s.bias,l=r.conv2d(t,s.filters,n,a);return l=r.add(l,u),l=i.scale(l,e.scale),o?r.relu(l):l}e.conv=function(t,e){return o(t,e,[1,1],!0)},e.convNoRelu=function(t,e){return o(t,e,[1,1],!1)},e.convDown=function(t,e){return o(t,e,[2,2],!0,"valid")}},6:function(t,e){},"67Y/":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("mrSG"),i=n("FFOo");function o(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new a(t,e))}}var a=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.project,this.thisArg))},t}(),s=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.project=n,i.count=0,i.thisArg=r||i,i}return r.__extends(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(i.a)},"6Khb":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("lT9W"),i=n("iDJ0");e.boxPredictionLayer=function(t,e){return r.tidy(function(){var n=t.shape[0];return{boxPredictionEncoding:r.reshape(i.convLayer(t,e.box_encoding_predictor),[n,-1,1,4]),classPrediction:r.reshape(i.convLayer(t,e.class_predictor),[n,-1,3])}})}},"6ahw":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("iLxQ"),i=n("DKTb"),o={closed:!0,next:function(t){},error:function(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete:function(){}}},"6blF":function(t,e,n){"use strict";var r=n("FFOo"),i=n("L/V9"),o=n("6ahw"),a=n("xTla"),s=n("y3By"),u=n("iLxQ");n.d(e,"a",function(){return l});var l=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var a=this.operator,s=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(o.a)}(t,e,n);if(a?a.call(s,this.source):s.add(this.source||u.a.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),u.a.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){u.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),t.error(e)}},t.prototype.forEach=function(t,e){var n=this;return new(e=c(e))(function(e,r){var i;i=n.subscribe(function(e){try{t(e)}catch(t){r(t),i&&i.unsubscribe()}},r,e)})},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[a.a]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:Object(s.b)(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=c(t))(function(t,n){var r;e.subscribe(function(t){return r=t},function(t){return n(t)},function(){return t(r)})})},t.create=function(e){return new t(e)},t}();function c(t){if(t||(t=u.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},7:function(t,e){},"7LN8":function(t,e,n){"use strict";var r=n("mrSG").__decorate,i=n("mrSG").__metadata;Object.defineProperty(e,"__esModule",{value:!0});var o=n("CcnG"),a=n("Ip0R"),s=n("CcnG"),u=function(){return r([s.Component({selector:"p-header",template:"<ng-content></ng-content>"})],function(){})}();e.Header=u;var l=function(){return r([s.Component({selector:"p-footer",template:"<ng-content></ng-content>"})],function(){})}();e.Footer=l;var c=function(){function t(t){this.template=t}return t.prototype.getType=function(){return this.name},r([o.Input(),i("design:type",String)],t.prototype,"type",void 0),r([o.Input("pTemplate"),i("design:type",String)],t.prototype,"name",void 0),r([o.Directive({selector:"[pTemplate]",host:{}})],t)}();e.PrimeTemplate=c;var f=function(){function t(){this.filterType="text",this.exportable=!0,this.resizable=!0,this.sortFunction=new o.EventEmitter}return t.prototype.ngAfterContentInit=function(){var t=this;this.templates.forEach(function(e){switch(e.getType()){case"header":t.headerTemplate=e.template;break;case"body":t.bodyTemplate=e.template;break;case"footer":t.footerTemplate=e.template;break;case"filter":t.filterTemplate=e.template;break;case"editor":t.editorTemplate=e.template;break;default:t.bodyTemplate=e.template}})},r([o.Input(),i("design:type",String)],t.prototype,"field",void 0),r([o.Input(),i("design:type",String)],t.prototype,"colId",void 0),r([o.Input(),i("design:type",String)],t.prototype,"sortField",void 0),r([o.Input(),i("design:type",String)],t.prototype,"filterField",void 0),r([o.Input(),i("design:type",String)],t.prototype,"header",void 0),r([o.Input(),i("design:type",String)],t.prototype,"footer",void 0),r([o.Input(),i("design:type",Object)],t.prototype,"sortable",void 0),r([o.Input(),i("design:type",Boolean)],t.prototype,"editable",void 0),r([o.Input(),i("design:type",Boolean)],t.prototype,"filter",void 0),r([o.Input(),i("design:type",String)],t.prototype,"filterMatchMode",void 0),r([o.Input(),i("design:type",String)],t.prototype,"filterType",void 0),r([o.Input(),i("design:type",Boolean)],t.prototype,"excludeGlobalFilter",void 0),r([o.Input(),i("design:type",Number)],t.prototype,"rowspan",void 0),r([o.Input(),i("design:type",Number)],t.prototype,"colspan",void 0),r([o.Input(),i("design:type",String)],t.prototype,"scope",void 0),r([o.Input(),i("design:type",Object)],t.prototype,"style",void 0),r([o.Input(),i("design:type",String)],t.prototype,"styleClass",void 0),r([o.Input(),i("design:type",Boolean)],t.prototype,"exportable",void 0),r([o.Input(),i("design:type",Object)],t.prototype,"headerStyle",void 0),r([o.Input(),i("design:type",String)],t.prototype,"headerStyleClass",void 0),r([o.Input(),i("design:type",Object)],t.prototype,"bodyStyle",void 0),r([o.Input(),i("design:type",String)],t.prototype,"bodyStyleClass",void 0),r([o.Input(),i("design:type",Object)],t.prototype,"footerStyle",void 0),r([o.Input(),i("design:type",String)],t.prototype,"footerStyleClass",void 0),r([o.Input(),i("design:type",Boolean)],t.prototype,"hidden",void 0),r([o.Input(),i("design:type",Boolean)],t.prototype,"expander",void 0),r([o.Input(),i("design:type",String)],t.prototype,"selectionMode",void 0),r([o.Input(),i("design:type",String)],t.prototype,"filterPlaceholder",void 0),r([o.Input(),i("design:type",Number)],t.prototype,"filterMaxlength",void 0),r([o.Input(),i("design:type",Boolean)],t.prototype,"frozen",void 0),r([o.Input(),i("design:type",Boolean)],t.prototype,"resizable",void 0),r([o.Output(),i("design:type",o.EventEmitter)],t.prototype,"sortFunction",void 0),r([o.ContentChildren(c),i("design:type",o.QueryList)],t.prototype,"templates",void 0),r([o.ContentChild(o.TemplateRef),i("design:type",o.TemplateRef)],t.prototype,"template",void 0),r([s.Component({selector:"p-column",template:""})],t)}();e.Column=f;var h=function(){function t(){}return r([o.ContentChildren(f),i("design:type",o.QueryList)],t.prototype,"columns",void 0),r([s.Component({selector:"p-row",template:""})],t)}();e.Row=h;var d=function(){function t(){}return r([o.Input(),i("design:type",Boolean)],t.prototype,"frozen",void 0),r([o.ContentChildren(h),i("design:type",o.QueryList)],t.prototype,"rows",void 0),r([s.Component({selector:"p-headerColumnGroup",template:""})],t)}();e.HeaderColumnGroup=d;var p=function(){function t(){}return r([o.Input(),i("design:type",Boolean)],t.prototype,"frozen",void 0),r([o.ContentChildren(h),i("design:type",o.QueryList)],t.prototype,"rows",void 0),r([s.Component({selector:"p-footerColumnGroup",template:""})],t)}();e.FooterColumnGroup=p,e.SharedModule=function(){return r([o.NgModule({imports:[a.CommonModule],exports:[u,l,f,c,h,d,p],declarations:[u,l,f,c,h,d,p]})],function(){})}()},8:function(t,e){},"8g8A":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("mrSG"),i=function(t){function e(){var n=t.call(this,"object unsubscribed")||this;return n.name="ObjectUnsubscribedError",Object.setPrototypeOf(n,e.prototype),n}return r.__extends(e,t),e}(Error)},9:function(t,e){},"9sgn":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FullFaceDescription=function(){function t(t,e,n){this._detection=t,this._landmarks=e,this._descriptor=n}return Object.defineProperty(t.prototype,"detection",{get:function(){return this._detection},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"landmarks",{get:function(){return this._landmarks},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"descriptor",{get:function(){return this._descriptor},enumerable:!0,configurable:!0}),t.prototype.forSize=function(e,n){return new t(this._detection.forSize(e,n),this._landmarks.forSize(e,n),this._descriptor)},t}()},C69x:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("mrSG"),i=n("lT9W"),o=n("38xv"),a=n("q/np"),s=n("zGsf"),u=n("DmoT"),l=n("maNC"),c=n("+oCR"),f=n("4fS+"),h=n("ocgu"),d=n("0Dbr"),p=n("SLrj"),v=n("xJL4"),g=n("kRXb"),m=n("gcA3"),y=n("Z+e8"),b=n("Qfhz"),w=n("dteb");e.Mtcnn=function(t){function e(){return t.call(this,"Mtcnn")||this}return r.__extends(e,t),e.prototype.forwardInput=function(t,e){return void 0===e&&(e={}),r.__awaiter(this,void 0,void 0,function(){var n,o,l,h,g,x,_,C,S,D,P,A,T,E,O,k,R,I,M;return r.__generator(this,function(r){switch(r.label){case 0:if(!(n=this.params))throw new Error("Mtcnn - load model before inference");if(o=t.inputs[0],!(l=t.canvases[0]))throw new Error("Mtcnn - inputCanvas is not defined, note that passing tensors into Mtcnn.forwardInput is not supported yet.");return h={},g=Date.now(),x=i.tidy(function(){return c.bgrToRgbTensor(i.expandDims(o).toFloat())}),_=function(e){return x.dispose(),t.dispose(),h.total=Date.now()-g,e},C=x.shape.slice(1),S=C[0],D=C[1],P=Object.assign({},p.getDefaultMtcnnForwardParams(),e),A=P.maxNumScales,T=P.scoreThresholds,E=(P.scaleSteps||m.pyramidDown(P.minFaceSize,P.scaleFactor,[S,D])).filter(function(t){var e=v.getSizesForScale(t,[S,D]);return Math.min(e.width,e.height)>f.CELL_SIZE}).slice(0,A),h.scales=E,h.pyramid=E.map(function(t){return v.getSizesForScale(t,[S,D])}),O=Date.now(),[4,y.stage1(x,E,T[0],n.pnet,h)];case 1:return k=r.sent(),h.total_stage1=Date.now()-O,k.boxes.length?(h.stage2_numInputBoxes=k.boxes.length,O=Date.now(),[4,b.stage2(l,k.boxes,T[1],n.rnet,h)]):[2,_({results:[],stats:h})];case 2:return R=r.sent(),h.total_stage2=Date.now()-O,R.boxes.length?(h.stage3_numInputBoxes=R.boxes.length,O=Date.now(),[4,w.stage3(l,R.boxes,T[2],n.onet,h)]):[2,_({results:[],stats:h})];case 3:return I=r.sent(),h.total_stage3=Date.now()-O,M=I.boxes.map(function(t,e){return{faceDetection:new a.FaceDetection(I.scores[e],new u.Rect(t.left/D,t.top/S,t.width/D,t.height/S),{height:S,width:D}),faceLandmarks:new d.FaceLandmarks5(I.points[e].map(function(t){return t.div(new s.Point(D,S))}),{width:D,height:S})}}),[2,_({results:M,stats:h})]}})})},e.prototype.forward=function(t,e){return void 0===e&&(e={}),r.__awaiter(this,void 0,void 0,function(){var n;return r.__generator(this,function(r){switch(r.label){case 0:return n=this.forwardInput,[4,l.toNetInput(t,!0,!0)];case 1:return[4,n.apply(this,[r.sent(),e])];case 2:return[2,r.sent().results]}})})},e.prototype.forwardWithStats=function(t,e){return void 0===e&&(e={}),r.__awaiter(this,void 0,void 0,function(){var n;return r.__generator(this,function(r){switch(r.label){case 0:return n=this.forwardInput,[4,l.toNetInput(t,!0,!0)];case 1:return[2,n.apply(this,[r.sent(),e])]}})})},e.prototype.loadQuantizedParams=function(t){return g.loadQuantizedParams(t)},e.prototype.extractParams=function(t){return h.extractParams(t)},e}(o.NeuralNetwork)},CKfB:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("lT9W");e.normalize=function(t){return r.tidy(function(){var e=r.fill(t.shape.slice(0,3).concat([1]),122.782),n=r.fill(t.shape.slice(0,3).concat([1]),117.001),i=r.fill(t.shape.slice(0,3).concat([1]),104.298),o=r.concat([e,n,i],3);return r.div(r.sub(t,o),r.scalar(256))})}},CcnG:function(t,e,n){"use strict";n.r(e);var r=n("mrSG"),i=n("6blF"),o=n("nkY7"),a=n("Zn8D"),s=n("IUTb"),u=n("K9Ia"),l=n("pugT"),c=n("FFOo");function f(){return function(t){return t.lift(new h(t))}}var h=function(){function t(t){this.connectable=t}return t.prototype.call=function(t,e){var n=this.connectable;n._refCount++;var r=new d(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i},t}(),d=function(t){function e(e,n){var r=t.call(this,e)||this;return r.connectable=n,r}return r.__extends(e,t),e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null},e}(c.a),p=function(t){function e(e,n){var r=t.call(this)||this;return r.source=e,r.subjectFactory=n,r._refCount=0,r._isComplete=!1,r}return r.__extends(e,t),e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new l.a).add(this.source.subscribe(new g(this.getSubject(),this))),t.closed?(this._connection=null,t=l.a.EMPTY):this._connection=t),t},e.prototype.refCount=function(){return f()(this)},e}(i.a).prototype,v={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:p._subscribe},_isComplete:{value:p._isComplete,writable:!0},getSubject:{value:p.getSubject},connect:{value:p.connect},refCount:{value:p.refCount}},g=function(t){function e(e,n){var r=t.call(this,e)||this;return r.connectable=n,r}return r.__extends(e,t),e.prototype._error=function(e){this._unsubscribe(),t.prototype._error.call(this,e)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}},e}(u.b);function m(){return new u.a}function y(t){return{providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function b(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}n.d(e,"\u0275angular_packages_core_core_j",function(){return Kr}),n.d(e,"\u0275angular_packages_core_core_k",function(){return Zr}),n.d(e,"\u0275angular_packages_core_core_l",function(){return Jr}),n.d(e,"\u0275angular_packages_core_core_f",function(){return Ve}),n.d(e,"\u0275angular_packages_core_core_g",function(){return Hr}),n.d(e,"\u0275angular_packages_core_core_h",function(){return Er}),n.d(e,"\u0275angular_packages_core_core_i",function(){return Lr}),n.d(e,"\u0275angular_packages_core_core_c",function(){return xe}),n.d(e,"\u0275angular_packages_core_core_d",function(){return ce}),n.d(e,"\u0275angular_packages_core_core_e",function(){return ve}),n.d(e,"\u0275angular_packages_core_core_m",function(){return gn}),n.d(e,"\u0275angular_packages_core_core_o",function(){return hn}),n.d(e,"\u0275angular_packages_core_core_n",function(){return fn}),n.d(e,"\u0275angular_packages_core_core_r",function(){return vn}),n.d(e,"\u0275angular_packages_core_core_p",function(){return dn}),n.d(e,"\u0275angular_packages_core_core_q",function(){return pn}),n.d(e,"\u0275angular_packages_core_core_v",function(){return ef}),n.d(e,"\u0275angular_packages_core_core_x",function(){return uf}),n.d(e,"\u0275angular_packages_core_core_w",function(){return nf}),n.d(e,"\u0275angular_packages_core_core_u",function(){return Gc}),n.d(e,"\u0275angular_packages_core_core_y",function(){return cf}),n.d(e,"\u0275angular_packages_core_core_bb",function(){return Dc}),n.d(e,"\u0275angular_packages_core_core_bd",function(){return Ac}),n.d(e,"\u0275angular_packages_core_core_be",function(){return Tc}),n.d(e,"\u0275angular_packages_core_core_bc",function(){return Pc}),n.d(e,"\u0275angular_packages_core_core_ba",function(){return Sc}),n.d(e,"\u0275angular_packages_core_core_z",function(){return ll}),n.d(e,"\u0275angular_packages_core_core_a",function(){return P}),n.d(e,"\u0275angular_packages_core_core_b",function(){return A}),n.d(e,"\u0275angular_packages_core_core_s",function(){return ya}),n.d(e,"\u0275angular_packages_core_core_t",function(){return Ri}),n.d(e,"createPlatform",function(){return Bn}),n.d(e,"assertPlatform",function(){return Hn}),n.d(e,"destroyPlatform",function(){return Xn}),n.d(e,"getPlatform",function(){return qn}),n.d(e,"PlatformRef",function(){return Un}),n.d(e,"ApplicationRef",function(){return Yn}),n.d(e,"enableProdMode",function(){return jn}),n.d(e,"isDevMode",function(){return Vn}),n.d(e,"createPlatformFactory",function(){return Wn}),n.d(e,"NgProbeToken",function(){return zn}),n.d(e,"APP_ID",function(){return je}),n.d(e,"PACKAGE_ROOT_URL",function(){return qe}),n.d(e,"PLATFORM_INITIALIZER",function(){return We}),n.d(e,"PLATFORM_ID",function(){return He}),n.d(e,"APP_BOOTSTRAP_LISTENER",function(){return Xe}),n.d(e,"APP_INITIALIZER",function(){return Le}),n.d(e,"ApplicationInitStatus",function(){return Fe}),n.d(e,"DebugElement",function(){return br}),n.d(e,"DebugNode",function(){return yr}),n.d(e,"asNativeElements",function(){return wr}),n.d(e,"getDebugNode",function(){return _r}),n.d(e,"Testability",function(){return On}),n.d(e,"TestabilityRegistry",function(){return kn}),n.d(e,"setTestabilityGetter",function(){return Rn}),n.d(e,"TRANSLATIONS",function(){return Ur}),n.d(e,"TRANSLATIONS_FORMAT",function(){return Gr}),n.d(e,"LOCALE_ID",function(){return qr}),n.d(e,"MissingTranslationStrategy",function(){return Yr}),n.d(e,"ApplicationModule",function(){return Qr}),n.d(e,"wtfCreateScope",function(){return yn}),n.d(e,"wtfLeave",function(){return bn}),n.d(e,"wtfStartTimeRange",function(){return wn}),n.d(e,"wtfEndTimeRange",function(){return xn}),n.d(e,"Type",function(){return q}),n.d(e,"EventEmitter",function(){return _n}),n.d(e,"ErrorHandler",function(){return ne}),n.d(e,"Sanitizer",function(){return Si}),n.d(e,"SecurityContext",function(){return Ci}),n.d(e,"ANALYZE_FOR_ENTRY_COMPONENTS",function(){return T}),n.d(e,"Attribute",function(){return E}),n.d(e,"ContentChild",function(){return R}),n.d(e,"ContentChildren",function(){return k}),n.d(e,"Query",function(){return O}),n.d(e,"ViewChild",function(){return M}),n.d(e,"ViewChildren",function(){return I}),n.d(e,"Component",function(){return V}),n.d(e,"Directive",function(){return j}),n.d(e,"HostBinding",function(){return H}),n.d(e,"HostListener",function(){return X}),n.d(e,"Input",function(){return B}),n.d(e,"Output",function(){return W}),n.d(e,"Pipe",function(){return z}),n.d(e,"CUSTOM_ELEMENTS_SCHEMA",function(){return Xt}),n.d(e,"NO_ERRORS_SCHEMA",function(){return qt}),n.d(e,"NgModule",function(){return Ut}),n.d(e,"ViewEncapsulation",function(){return Gt}),n.d(e,"Version",function(){return Yt}),n.d(e,"VERSION",function(){return Kt}),n.d(e,"defineInjectable",function(){return y}),n.d(e,"defineInjector",function(){return b}),n.d(e,"forwardRef",function(){return lt}),n.d(e,"resolveForwardRef",function(){return ct}),n.d(e,"Injectable",function(){return Ht}),n.d(e,"inject",function(){return Ft}),n.d(e,"INJECTOR",function(){return bt}),n.d(e,"Injector",function(){return xt}),n.d(e,"ReflectiveInjector",function(){return we}),n.d(e,"createInjector",function(){return Te}),n.d(e,"ResolvedReflectiveFactory",function(){return de}),n.d(e,"ReflectiveKey",function(){return se}),n.d(e,"InjectionToken",function(){return w}),n.d(e,"Inject",function(){return ft}),n.d(e,"Optional",function(){return ht}),n.d(e,"Self",function(){return dt}),n.d(e,"SkipSelf",function(){return pt}),n.d(e,"Host",function(){return vt}),n.d(e,"NgZone",function(){return Cn}),n.d(e,"RenderComponentType",function(){return Zn}),n.d(e,"Renderer",function(){return Qn}),n.d(e,"Renderer2",function(){return nr}),n.d(e,"RendererFactory2",function(){return tr}),n.d(e,"RendererStyleFlags2",function(){return er}),n.d(e,"RootRenderer",function(){return $n}),n.d(e,"COMPILER_OPTIONS",function(){return Ze}),n.d(e,"Compiler",function(){return Ke}),n.d(e,"CompilerFactory",function(){return Je}),n.d(e,"ModuleWithComponentFactories",function(){return Ge}),n.d(e,"ComponentFactory",function(){return $e}),n.d(e,"ComponentRef",function(){return Qe}),n.d(e,"ComponentFactoryResolver",function(){return an}),n.d(e,"ElementRef",function(){return rr}),n.d(e,"NgModuleFactory",function(){return cn}),n.d(e,"NgModuleRef",function(){return ln}),n.d(e,"NgModuleFactoryLoader",function(){return ir}),n.d(e,"getModuleFactory",function(){return sr}),n.d(e,"QueryList",function(){return ur}),n.d(e,"SystemJsNgModuleLoader",function(){return fr}),n.d(e,"SystemJsNgModuleLoaderConfig",function(){return lr}),n.d(e,"TemplateRef",function(){return dr}),n.d(e,"ViewContainerRef",function(){return pr}),n.d(e,"EmbeddedViewRef",function(){return mr}),n.d(e,"ViewRef",function(){return gr}),n.d(e,"ChangeDetectionStrategy",function(){return N}),n.d(e,"ChangeDetectorRef",function(){return vr}),n.d(e,"DefaultIterableDiffer",function(){return kr}),n.d(e,"IterableDiffers",function(){return Vr}),n.d(e,"KeyValueDiffers",function(){return zr}),n.d(e,"SimpleChange",function(){return Pr}),n.d(e,"WrappedValue",function(){return Dr}),n.d(e,"platformCore",function(){return Xr}),n.d(e,"\u0275ALLOW_MULTIPLE_PLATFORMS",function(){return Fn}),n.d(e,"\u0275APP_ID_RANDOM_PROVIDER",function(){return ze}),n.d(e,"\u0275defaultIterableDiffers",function(){return Wr}),n.d(e,"\u0275devModeEqual",function(){return Sr}),n.d(e,"\u0275isListLikeIterable",function(){return Ar}),n.d(e,"\u0275ChangeDetectorStatus",function(){return L}),n.d(e,"\u0275isDefaultChangeDetectionStrategy",function(){return F}),n.d(e,"\u0275Console",function(){return Ue}),n.d(e,"\u0275inject",function(){return Ft}),n.d(e,"\u0275setCurrentInjector",function(){return Lt}),n.d(e,"\u0275APP_ROOT",function(){return _e}),n.d(e,"\u0275ComponentFactory",function(){return $e}),n.d(e,"\u0275CodegenComponentFactoryResolver",function(){return sn}),n.d(e,"\u0275ReflectionCapabilities",function(){return at}),n.d(e,"\u0275RenderDebugInfo",function(){return Jn}),n.d(e,"\u0275_sanitizeHtml",function(){return yi}),n.d(e,"\u0275_sanitizeStyle",function(){return _i}),n.d(e,"\u0275_sanitizeUrl",function(){return ni}),n.d(e,"\u0275global",function(){return Z}),n.d(e,"\u0275looseIdentical",function(){return et}),n.d(e,"\u0275stringify",function(){return nt}),n.d(e,"\u0275makeDecorator",function(){return S}),n.d(e,"\u0275isObservable",function(){return Ne}),n.d(e,"\u0275isPromise",function(){return Me}),n.d(e,"\u0275clearOverrides",function(){return nu}),n.d(e,"\u0275overrideComponentView",function(){return eu}),n.d(e,"\u0275overrideProvider",function(){return tu}),n.d(e,"\u0275NOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR",function(){return Da}),n.d(e,"\u0275defineComponent",function(){return hf}),n.d(e,"\u0275defineDirective",function(){return wf}),n.d(e,"\u0275definePipe",function(){return xf}),n.d(e,"\u0275detectChanges",function(){return ac}),n.d(e,"\u0275renderComponent",function(){return Wc}),n.d(e,"\u0275directiveInject",function(){return Zc}),n.d(e,"\u0275injectTemplateRef",function(){return Jc}),n.d(e,"\u0275injectViewContainerRef",function(){return Qc}),n.d(e,"\u0275injectChangeDetectorRef",function(){return $c}),n.d(e,"\u0275injectAttribute",function(){return tf}),n.d(e,"\u0275PublicFeature",function(){return mf}),n.d(e,"\u0275NgOnChangesFeature",function(){return gf}),n.d(e,"\u0275markDirty",function(){return uc}),n.d(e,"\u0275NC",function(){return lc}),n.d(e,"\u0275C",function(){return Ul}),n.d(e,"\u0275E",function(){return _l}),n.d(e,"\u0275L",function(){return kl}),n.d(e,"\u0275T",function(){return Bl}),n.d(e,"\u0275V",function(){return Zl}),n.d(e,"\u0275Q",function(){return Gf}),n.d(e,"\u0275d",function(){return Cc}),n.d(e,"\u0275P",function(){return ec}),n.d(e,"\u0275b",function(){return fc}),n.d(e,"\u0275i1",function(){return dc}),n.d(e,"\u0275i2",function(){return pc}),n.d(e,"\u0275i3",function(){return vc}),n.d(e,"\u0275i4",function(){return gc}),n.d(e,"\u0275i5",function(){return mc}),n.d(e,"\u0275i6",function(){return yc}),n.d(e,"\u0275i7",function(){return bc}),n.d(e,"\u0275i8",function(){return wc}),n.d(e,"\u0275iV",function(){return hc}),n.d(e,"\u0275pb1",function(){return If}),n.d(e,"\u0275pb2",function(){return Mf}),n.d(e,"\u0275pb3",function(){return Nf}),n.d(e,"\u0275pb4",function(){return Lf}),n.d(e,"\u0275pbV",function(){return Ff}),n.d(e,"\u0275f0",function(){return _f}),n.d(e,"\u0275f1",function(){return Cf}),n.d(e,"\u0275f2",function(){return Sf}),n.d(e,"\u0275f3",function(){return Df}),n.d(e,"\u0275f4",function(){return Pf}),n.d(e,"\u0275f5",function(){return Af}),n.d(e,"\u0275f6",function(){return Tf}),n.d(e,"\u0275f7",function(){return Ef}),n.d(e,"\u0275f8",function(){return Of}),n.d(e,"\u0275fV",function(){return kf}),n.d(e,"\u0275cR",function(){return Gl}),n.d(e,"\u0275cr",function(){return Yl}),n.d(e,"\u0275qR",function(){return Yf}),n.d(e,"\u0275e",function(){return Rl}),n.d(e,"\u0275p",function(){return Ml}),n.d(e,"\u0275pD",function(){return $l}),n.d(e,"\u0275a",function(){return Il}),n.d(e,"\u0275s",function(){return zl}),n.d(e,"\u0275sn",function(){return Vl}),n.d(e,"\u0275k",function(){return jl}),n.d(e,"\u0275kn",function(){return Fl}),n.d(e,"\u0275t",function(){return Wl}),n.d(e,"\u0275v",function(){return Jl}),n.d(e,"\u0275st",function(){return xc}),n.d(e,"\u0275ld",function(){return _c}),n.d(e,"\u0275Pp",function(){return Rf}),n.d(e,"\u0275whenRendered",function(){return Hc}),n.d(e,"\u0275bypassSanitizationTrustHtml",function(){return th}),n.d(e,"\u0275bypassSanitizationTrustStyle",function(){return eh}),n.d(e,"\u0275bypassSanitizationTrustScript",function(){return nh}),n.d(e,"\u0275bypassSanitizationTrustUrl",function(){return rh}),n.d(e,"\u0275bypassSanitizationTrustResourceUrl",function(){return ih}),n.d(e,"\u0275sanitizeHtml",function(){return Zf}),n.d(e,"\u0275sanitizeStyle",function(){return Jf}),n.d(e,"\u0275sanitizeUrl",function(){return Qf}),n.d(e,"\u0275sanitizeResourceUrl",function(){return $f}),n.d(e,"\u0275registerModuleFactory",function(){return ar}),n.d(e,"\u0275EMPTY_ARRAY",function(){return _o}),n.d(e,"\u0275EMPTY_MAP",function(){return Co}),n.d(e,"\u0275and",function(){return So}),n.d(e,"\u0275ccf",function(){return Xo}),n.d(e,"\u0275cmf",function(){return ru}),n.d(e,"\u0275crt",function(){return Hi}),n.d(e,"\u0275did",function(){return va}),n.d(e,"\u0275eld",function(){return Do}),n.d(e,"\u0275elementEventFullName",function(){return eo}),n.d(e,"\u0275getComponentViewDefinitionFactory",function(){return qo}),n.d(e,"\u0275inlineInterpolate",function(){return wo}),n.d(e,"\u0275interpolate",function(){return bo}),n.d(e,"\u0275mod",function(){return No}),n.d(e,"\u0275mpd",function(){return Mo}),n.d(e,"\u0275ncd",function(){return Fa}),n.d(e,"\u0275nov",function(){return na}),n.d(e,"\u0275pid",function(){return ga}),n.d(e,"\u0275prd",function(){return ma}),n.d(e,"\u0275pad",function(){return za}),n.d(e,"\u0275pod",function(){return Ba}),n.d(e,"\u0275ppd",function(){return Va}),n.d(e,"\u0275qud",function(){return Ra}),n.d(e,"\u0275ted",function(){return Ha}),n.d(e,"\u0275unv",function(){return zi}),n.d(e,"\u0275vid",function(){return Ua});var w=function(){function t(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.ngInjectableDef=void 0!==e?y({providedIn:e.providedIn||"root",factory:e.factory}):void 0}return t.prototype.toString=function(){return"InjectionToken "+this._desc},t}(),x="__annotations__",_="__parameters__",C="__prop__metadata__";function S(t,e,n,i,o){var a=D(e);function s(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(this instanceof s)return a.call.apply(a,Object(r.__spread)([this],t)),this;var n,u=new((n=s).bind.apply(n,Object(r.__spread)([void 0],t))),l=function(e){return o&&o.apply(void 0,Object(r.__spread)([e],t)),(e.hasOwnProperty(x)?e[x]:Object.defineProperty(e,x,{value:[]})[x]).push(u),e};return i&&i(l),l}return n&&(s.prototype=Object.create(n.prototype)),s.prototype.ngMetadataName=t,s.annotationCls=s,s}function D(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(t){var i=t.apply(void 0,Object(r.__spread)(e));for(var o in i)this[o]=i[o]}}}function P(t,e,n){var i=D(e);function o(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(this instanceof o)return i.apply(this,t),this;var n,a=new((n=o).bind.apply(n,Object(r.__spread)([void 0],t)));return s.annotation=a,s;function s(t,e,n){for(var r=t.hasOwnProperty(_)?t[_]:Object.defineProperty(t,_,{value:[]})[_];r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(a),t}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=t,o.annotationCls=o,o}function A(t,e,n){var i=D(e);function o(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(this instanceof o)return i.apply(this,t),this;var n,a=new((n=o).bind.apply(n,Object(r.__spread)([void 0],t)));return function(t,e){var n=t.constructor,r=n.hasOwnProperty(C)?n[C]:Object.defineProperty(n,C,{value:{}})[C];r[e]=r.hasOwnProperty(e)&&r[e]||[],r[e].unshift(a)}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=t,o.annotationCls=o,o}var T=new w("AnalyzeForEntryComponents"),E=P("Attribute",function(t){return{attributeName:t}}),O=function(){},k=A("ContentChildren",function(t,e){return void 0===e&&(e={}),Object(r.__assign)({selector:t,first:!1,isViewQuery:!1,descendants:!1},e)},O),R=A("ContentChild",function(t,e){return void 0===e&&(e={}),Object(r.__assign)({selector:t,first:!0,isViewQuery:!1,descendants:!0},e)},O),I=A("ViewChildren",function(t,e){return void 0===e&&(e={}),Object(r.__assign)({selector:t,first:!1,isViewQuery:!0,descendants:!0},e)},O),M=A("ViewChild",function(t,e){return Object(r.__assign)({selector:t,first:!0,isViewQuery:!0,descendants:!0},e)},O),N=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),L=function(t){return t[t.CheckOnce=0]="CheckOnce",t[t.Checked=1]="Checked",t[t.CheckAlways=2]="CheckAlways",t[t.Detached=3]="Detached",t[t.Errored=4]="Errored",t[t.Destroyed=5]="Destroyed",t}({});function F(t){return null==t||t===N.Default}var j=S("Directive",function(t){return void 0===t&&(t={}),t}),V=S("Component",function(t){return void 0===t&&(t={}),Object(r.__assign)({changeDetection:N.Default},t)},j),z=S("Pipe",function(t){return Object(r.__assign)({pure:!0},t)}),B=A("Input",function(t){return{bindingPropertyName:t}}),W=A("Output",function(t){return{bindingPropertyName:t}}),H=A("HostBinding",function(t){return{hostPropertyName:t}}),X=A("HostListener",function(t,e){return{eventName:t,args:e}}),q=Function;function U(t){return"function"==typeof t}var G="undefined"!=typeof window&&window,Y="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,K="undefined"!=typeof global&&global,Z=G||K||Y,J=Promise.resolve(0),Q=null;function $(){if(!Q){var t=Z.Symbol;if(t&&t.iterator)Q=t.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),n=0;n<e.length;++n){var r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Q=r)}}return Q}function tt(t){"undefined"==typeof Zone?J.then(function(){t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}function et(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}function nt(t){if("string"==typeof t)return t;if(t instanceof Array)return"["+t.map(nt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;var e=t.toString();if(null==e)return""+e;var n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}var rt=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*arguments\)/,it=/^class\s+[A-Za-z\d$_]*\s*extends\s+[A-Za-z\d$_]+\s*{/,ot=/^class\s+[A-Za-z\d$_]*\s*extends\s+[A-Za-z\d$_]+\s*{[\s\S]*constructor\s*\(/,at=function(){function t(t){this._reflect=t||Z.Reflect}return t.prototype.isReflectionEnabled=function(){return!0},t.prototype.factory=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return new(t.bind.apply(t,Object(r.__spread)([void 0],e)))}},t.prototype._zipTypesAndAnnotations=function(t,e){var n;n=void 0===t?new Array(e.length):new Array(t.length);for(var r=0;r<n.length;r++)n[r]=void 0===t?[]:t[r]!=Object?[t[r]]:[],e&&null!=e[r]&&(n[r]=n[r].concat(e[r]));return n},t.prototype._ownParameters=function(t,e){var n=t.toString();if(rt.exec(n)||it.exec(n)&&!ot.exec(n))return null;if(t.parameters&&t.parameters!==e.parameters)return t.parameters;var r=t.ctorParameters;if(r&&r!==e.ctorParameters){var i="function"==typeof r?r():r,o=i.map(function(t){return t&&t.type}),a=i.map(function(t){return t&&st(t.decorators)});return this._zipTypesAndAnnotations(o,a)}var s=t.hasOwnProperty(_)&&t[_],u=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",t);return u||s?this._zipTypesAndAnnotations(u,s):new Array(t.length).fill(void 0)},t.prototype.parameters=function(t){if(!U(t))return[];var e=ut(t),n=this._ownParameters(t,e);return n||e===Object||(n=this.parameters(e)),n||[]},t.prototype._ownAnnotations=function(t,e){if(t.annotations&&t.annotations!==e.annotations){var n=t.annotations;return"function"==typeof n&&n.annotations&&(n=n.annotations),n}return t.decorators&&t.decorators!==e.decorators?st(t.decorators):t.hasOwnProperty(x)?t[x]:null},t.prototype.annotations=function(t){if(!U(t))return[];var e=ut(t),n=this._ownAnnotations(t,e)||[];return(e!==Object?this.annotations(e):[]).concat(n)},t.prototype._ownPropMetadata=function(t,e){if(t.propMetadata&&t.propMetadata!==e.propMetadata){var n=t.propMetadata;return"function"==typeof n&&n.propMetadata&&(n=n.propMetadata),n}if(t.propDecorators&&t.propDecorators!==e.propDecorators){var r=t.propDecorators,i={};return Object.keys(r).forEach(function(t){i[t]=st(r[t])}),i}return t.hasOwnProperty(C)?t[C]:null},t.prototype.propMetadata=function(t){if(!U(t))return{};var e=ut(t),n={};if(e!==Object){var i=this.propMetadata(e);Object.keys(i).forEach(function(t){n[t]=i[t]})}var o=this._ownPropMetadata(t,e);return o&&Object.keys(o).forEach(function(t){var e=[];n.hasOwnProperty(t)&&e.push.apply(e,Object(r.__spread)(n[t])),e.push.apply(e,Object(r.__spread)(o[t])),n[t]=e}),n},t.prototype.hasLifecycleHook=function(t,e){return t instanceof q&&e in t.prototype},t.prototype.guards=function(t){return{}},t.prototype.getter=function(t){return new Function("o","return o."+t+";")},t.prototype.setter=function(t){return new Function("o","v","return o."+t+" = v;")},t.prototype.method=function(t){return new Function("o","args","if (!o."+t+") throw new Error('\""+t+"\" is undefined');\n        return o."+t+".apply(o, args);")},t.prototype.importUri=function(t){return"object"==typeof t&&t.filePath?t.filePath:"./"+nt(t)},t.prototype.resourceUri=function(t){return"./"+nt(t)},t.prototype.resolveIdentifier=function(t,e,n,r){return r},t.prototype.resolveEnum=function(t,e){return t[e]},t}();function st(t){return t?t.map(function(t){var e=t.type.annotationCls,n=t.args?t.args:[];return new(e.bind.apply(e,Object(r.__spread)([void 0],n)))}):[]}function ut(t){var e=t.prototype?Object.getPrototypeOf(t.prototype):null;return(e?e.constructor:null)||Object}function lt(t){return t.__forward_ref__=lt,t.toString=function(){return nt(this())},t}function ct(t){return"function"==typeof t&&t.hasOwnProperty("__forward_ref__")&&t.__forward_ref__===lt?t():t}var ft=P("Inject",function(t){return{token:t}}),ht=P("Optional"),dt=P("Self"),pt=P("SkipSelf"),vt=P("Host"),gt="__source",mt=new Object,yt=mt,bt=new w("INJECTOR"),wt=function(){function t(){}return t.prototype.get=function(t,e){if(void 0===e&&(e=mt),e===mt)throw new Error("NullInjectorError: No provider for "+nt(t)+"!");return e},t}(),xt=function(){function t(){}return t.create=function(t,e){return Array.isArray(t)?new kt(t,e):new kt(t.providers,t.parent,t.name||null)},t.THROW_IF_NOT_FOUND=mt,t.NULL=new wt,t.ngInjectableDef=y({providedIn:"any",factory:function(){return Ft(bt)}}),t}(),_t=function(t){return t},Ct=[],St=_t,Dt=function(){return Array.prototype.slice.call(arguments)},Pt={},At=function(t){for(var e in t)if(t[e]===Pt)return e;throw Error("!prop")}({provide:String,useValue:Pt}),Tt=xt.NULL,Et=/\n/gm,Ot="\u0275",kt=function(){function t(t,e,n){void 0===e&&(e=Tt),void 0===n&&(n=null),this.parent=e,this.source=n;var r=this._records=new Map;r.set(xt,{token:xt,fn:_t,deps:Ct,value:this,useNew:!1}),r.set(bt,{token:bt,fn:_t,deps:Ct,value:this,useNew:!1}),function t(e,n){if(n)if((n=ct(n))instanceof Array)for(var r=0;r<n.length;r++)t(e,n[r]);else{if("function"==typeof n)throw Mt("Function/Class not supported",n);if(!n||"object"!=typeof n||!n.provide)throw Mt("Unexpected provider",n);var i=ct(n.provide),o=function(t){var e=function(t){var e=Ct,n=t.deps;if(n&&n.length){e=[];for(var r=0;r<n.length;r++){var i=6;if((u=ct(n[r]))instanceof Array)for(var o=0,a=u;o<a.length;o++){var s=a[o];s instanceof ht||s==ht?i|=1:s instanceof pt||s==pt?i&=-3:s instanceof dt||s==dt?i&=-5:u=s instanceof ft?s.token:ct(s)}e.push({token:u,options:i})}}else if(t.useExisting){var u;e=[{token:u=ct(t.useExisting),options:6}]}else if(!(n||At in t))throw Mt("'deps' required",t);return e}(t),n=_t,r=Ct,i=!1,o=ct(t.provide);if(At in t)r=t.useValue;else if(t.useFactory)n=t.useFactory;else if(t.useExisting);else if(t.useClass)i=!0,n=ct(t.useClass);else{if("function"!=typeof o)throw Mt("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",t);i=!0,n=o}return{deps:e,fn:n,useNew:i,value:r}}(n);if(!0===n.multi){var a=e.get(i);if(a){if(a.fn!==Dt)throw Rt(i)}else e.set(i,a={token:n.provide,deps:[],useNew:!1,fn:Dt,value:Ct});a.deps.push({token:i=n,options:6})}var s=e.get(i);if(s&&s.fn==Dt)throw Rt(i);e.set(i,o)}}(r,t)}return t.prototype.get=function(t,e,n){void 0===n&&(n=0);var i=this._records.get(t);try{return function t(e,n,i,o,a,s){try{return function(e,n,i,o,a,s){var u,l;if(!n||4&s)2&s||(u=o.get(e,a,0));else{if((u=n.value)==St)throw Error(Ot+"Circular dependency");if(u===Ct){n.value=St;var c=n.useNew,f=n.fn,h=n.deps,d=Ct;if(h.length){d=[];for(var p=0;p<h.length;p++){var v=h[p],g=v.options,m=2&g?i.get(v.token):void 0;d.push(t(v.token,m,i,m||4&g?o:Tt,1&g?null:xt.THROW_IF_NOT_FOUND,0))}}n.value=u=c?new((l=f).bind.apply(l,Object(r.__spread)([void 0],d))):f.apply(void 0,d)}}return u}(e,n,i,o,a,s)}catch(t){throw t instanceof Error||(t=new Error(t)),(t.ngTempTokenPath=t.ngTempTokenPath||[]).unshift(e),n&&n.value==St&&(n.value=Ct),t}}(t,i,this._records,this.parent,e,n)}catch(e){var o=e.ngTempTokenPath;throw t[gt]&&o.unshift(t[gt]),e.message=It("\n"+e.message,o,this.source),e.ngTokenPath=o,e.ngTempTokenPath=null,e}},t.prototype.toString=function(){var t=[];return this._records.forEach(function(e,n){return t.push(nt(n))}),"StaticInjector["+t.join(", ")+"]"},t}();function Rt(t){return Mt("Cannot mix multi providers and regular providers",t)}function It(t,e,n){void 0===n&&(n=null),t=t&&"\n"===t.charAt(0)&&t.charAt(1)==Ot?t.substr(2):t;var r=nt(e);if(e instanceof Array)r=e.map(nt).join(" -> ");else if("object"==typeof e){var i=[];for(var o in e)if(e.hasOwnProperty(o)){var a=e[o];i.push(o+":"+("string"==typeof a?JSON.stringify(a):nt(a)))}r="{"+i.join(", ")+"}"}return"StaticInjectorError"+(n?"("+n+")":"")+"["+r+"]: "+t.replace(Et,"\n  ")}function Mt(t,e){return new Error(It(t,e))}var Nt=void 0;function Lt(t){var e=Nt;return Nt=t,e}function Ft(t,e){if(void 0===e&&(e=0),void 0===Nt)throw new Error("inject() must be called from an injection context");if(null===Nt){var n=t.ngInjectableDef;if(n&&"root"==n.providedIn)return void 0===n.value?n.value=n.factory():n.value;throw new Error("Injector: NOT_FOUND ["+nt(t)+"]")}return Nt.get(t,8&e?null:void 0,e)}function jt(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");for(var i=void 0,o=0,a=0;a<r.length;a++){var s=r[a];s instanceof ht||"Optional"===s.__proto__.ngMetadataName?o|=8:s instanceof pt||"SkipSelf"===s.__proto__.ngMetadataName?o|=4:s instanceof dt||"Self"===s.__proto__.ngMetadataName?o|=2:i=s instanceof ft?s.token:s}e.push(Ft(i,o))}else e.push(Ft(r))}return e}var Vt={},zt=function(t,e){for(var n in t)if(t[n]===e)return n;throw Error("Could not find renamed property on target object.")}({provide:String,useValue:Vt},Vt),Bt=[];function Wt(t,e){if(!e){var n=(l=new at).parameters(t);return function(){return new(t.bind.apply(t,Object(r.__spread)([void 0],jt(n))))}}if(zt in e){var i=e;return function(){return i.useValue}}if(e.useExisting){var o=e;return function(){return Ft(o.useExisting)}}if(e.useFactory){var a=e;return function(){return a.useFactory.apply(a,Object(r.__spread)(jt(a.deps||Bt)))}}if(e.useClass){var s=e,u=e.deps;if(!u){var l=new at;u=l.parameters(t)}return function(){return new((t=s.useClass).bind.apply(t,Object(r.__spread)([void 0],jt(u))));var t}}var c=e.deps;return c||(l=new at,c=l.parameters(t)),function(){return new(t.bind.apply(t,Object(r.__spread)([void 0],jt(c))))}}var Ht=S("Injectable",void 0,void 0,void 0,function(t,e){e&&void 0!==e.providedIn&&void 0===t.ngInjectableDef&&(t.ngInjectableDef=y({providedIn:e.providedIn,factory:Wt(t,e)}))}),Xt={name:"custom-elements"},qt={name:"no-errors-schema"},Ut=S("NgModule",function(t){return t},void 0,void 0,function(t,e){var n=e&&e.imports||[];e&&e.exports&&(n=Object(r.__spread)(n,[e.exports])),t.ngInjectorDef=b({factory:Wt(t,{useClass:t}),providers:e&&e.providers,imports:n})}),Gt=function(t){return t[t.Emulated=0]="Emulated",t[t.Native=1]="Native",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({}),Yt=function(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")},Kt=new Yt("6.0.9"),Zt="ngDebugContext",Jt="ngOriginalError",Qt="ngErrorLogger";function $t(t){return t[Zt]}function te(t){return t[Jt]}function ee(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];t.error.apply(t,Object(r.__spread)(e))}var ne=function(){function t(){this._console=console}return t.prototype.handleError=function(t){var e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t[Qt]||ee}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)},t.prototype._findContext=function(t){return t?$t(t)?$t(t):this._findContext(te(t)):null},t.prototype._findOriginalError=function(t){for(var e=te(t);e&&te(e);)e=te(e);return e},t}();function re(t){return t.length>1?" ("+function(t){for(var e=[],n=0;n<t.length;++n){if(e.indexOf(t[n])>-1)return e.push(t[n]),e;e.push(t[n])}return e}(t.slice().reverse()).map(function(t){return nt(t.token)}).join(" -> ")+")":""}function ie(t,e,n,r){var i=[e],o=n(i),a=r?function(t,e){var n=o+" caused by: "+(e instanceof Error?e.message:e),r=Error(n);return r[Jt]=e,r}(0,r):Error(o);return a.addKey=oe,a.keys=i,a.injectors=[t],a.constructResolvingMessage=n,a[Jt]=r,a}function oe(t,e){this.injectors.push(t),this.keys.push(e),this.message=this.constructResolvingMessage(this.keys)}function ae(t,e){for(var n=[],r=0,i=e.length;r<i;r++){var o=e[r];n.push(o&&0!=o.length?o.map(nt).join(" "):"?")}return Error("Cannot resolve all parameters for '"+nt(t)+"'("+n.join(", ")+"). Make sure that all the parameters are decorated with Inject or have valid type annotations and that '"+nt(t)+"' is decorated with Injectable.")}var se=function(){function t(t,e){if(this.token=t,this.id=e,!t)throw new Error("Token must be defined!");this.displayName=nt(this.token)}return t.get=function(t){return ue.get(ct(t))},Object.defineProperty(t,"numberOfKeys",{get:function(){return ue.numberOfKeys},enumerable:!0,configurable:!0}),t}(),ue=new(function(){function t(){this._allKeys=new Map}return t.prototype.get=function(t){if(t instanceof se)return t;if(this._allKeys.has(t))return this._allKeys.get(t);var e=new se(t,se.numberOfKeys);return this._allKeys.set(t,e),e},Object.defineProperty(t.prototype,"numberOfKeys",{get:function(){return this._allKeys.size},enumerable:!0,configurable:!0}),t}()),le=new(function(){function t(t){this.reflectionCapabilities=t}return t.prototype.updateCapabilities=function(t){this.reflectionCapabilities=t},t.prototype.factory=function(t){return this.reflectionCapabilities.factory(t)},t.prototype.parameters=function(t){return this.reflectionCapabilities.parameters(t)},t.prototype.annotations=function(t){return this.reflectionCapabilities.annotations(t)},t.prototype.propMetadata=function(t){return this.reflectionCapabilities.propMetadata(t)},t.prototype.hasLifecycleHook=function(t,e){return this.reflectionCapabilities.hasLifecycleHook(t,e)},t.prototype.getter=function(t){return this.reflectionCapabilities.getter(t)},t.prototype.setter=function(t){return this.reflectionCapabilities.setter(t)},t.prototype.method=function(t){return this.reflectionCapabilities.method(t)},t.prototype.importUri=function(t){return this.reflectionCapabilities.importUri(t)},t.prototype.resourceUri=function(t){return this.reflectionCapabilities.resourceUri(t)},t.prototype.resolveIdentifier=function(t,e,n,r){return this.reflectionCapabilities.resolveIdentifier(t,e,n,r)},t.prototype.resolveEnum=function(t,e){return this.reflectionCapabilities.resolveEnum(t,e)},t}())(new at),ce=function(){function t(t,e,n){this.key=t,this.optional=e,this.visibility=n}return t.fromKey=function(e){return new t(e,!1,null)},t}(),fe=[],he=function(t,e,n){this.key=t,this.resolvedFactories=e,this.multiProvider=n,this.resolvedFactory=this.resolvedFactories[0]},de=function(t,e){this.factory=t,this.dependencies=e};function pe(t){return new he(se.get(t.provide),[function(t){var e,n;if(t.useClass){var r=ct(t.useClass);e=le.factory(r),n=ge(r)}else t.useExisting?(e=function(t){return t},n=[ce.fromKey(se.get(t.useExisting))]):t.useFactory?(e=t.useFactory,n=function(t,e){if(e){var n=e.map(function(t){return[t]});return e.map(function(e){return me(t,e,n)})}return ge(t)}(t.useFactory,t.deps)):(e=function(){return t.useValue},n=fe);return new de(e,n)}(t)],t.multi||!1)}function ve(t){var e=function(t,e){for(var n=0;n<t.length;n++){var r=t[n],i=e.get(r.key.id);if(i){if(r.multiProvider!==i.multiProvider)throw Error("Cannot mix multi providers and regular providers, got: "+i+" "+r);if(r.multiProvider)for(var o=0;o<r.resolvedFactories.length;o++)i.resolvedFactories.push(r.resolvedFactories[o]);else e.set(r.key.id,r)}else{var a;a=r.multiProvider?new he(r.key,r.resolvedFactories.slice(),r.multiProvider):r,e.set(r.key.id,a)}}return e}(function t(e,n){return e.forEach(function(e){if(e instanceof q)n.push({provide:e,useClass:e});else if(e&&"object"==typeof e&&void 0!==e.provide)n.push(e);else{if(!(e instanceof Array))throw Error("Invalid provider - only instances of Provider and Type are allowed, got: "+e);t(e,n)}}),n}(t,[]).map(pe),new Map);return Array.from(e.values())}function ge(t){var e=le.parameters(t);if(!e)return[];if(e.some(function(t){return null==t}))throw ae(t,e);return e.map(function(n){return me(t,n,e)})}function me(t,e,n){var r=null,i=!1;if(!Array.isArray(e))return ye(e instanceof ft?e.token:e,i,null);for(var o=null,a=0;a<e.length;++a){var s=e[a];s instanceof q?r=s:s instanceof ft?r=s.token:s instanceof ht?i=!0:s instanceof dt||s instanceof pt?o=s:s instanceof w&&(r=s)}if(null!=(r=ct(r)))return ye(r,i,o);throw ae(t,n)}function ye(t,e,n){return new ce(se.get(t),e,n)}var be=new Object,we=function(){function t(){}return t.resolve=function(t){return ve(t)},t.resolveAndCreate=function(e,n){var r=t.resolve(e);return t.fromResolvedProviders(r,n)},t.fromResolvedProviders=function(t,e){return new xe(t,e)},t}(),xe=function(){function t(t,e){this._constructionCounter=0,this._providers=t,this.parent=e||null;var n=t.length;this.keyIds=new Array(n),this.objs=new Array(n);for(var r=0;r<n;r++)this.keyIds[r]=t[r].key.id,this.objs[r]=be}return t.prototype.get=function(t,e){return void 0===e&&(e=yt),this._getByKey(se.get(t),null,e)},t.prototype.resolveAndCreateChild=function(t){var e=we.resolve(t);return this.createChildFromResolved(e)},t.prototype.createChildFromResolved=function(e){var n=new t(e);return n.parent=this,n},t.prototype.resolveAndInstantiate=function(t){return this.instantiateResolved(we.resolve([t])[0])},t.prototype.instantiateResolved=function(t){return this._instantiateProvider(t)},t.prototype.getProviderAtIndex=function(t){if(t<0||t>=this._providers.length)throw function(t){return Error("Index "+t+" is out-of-bounds.")}(t);return this._providers[t]},t.prototype._new=function(t){if(this._constructionCounter++>this._getMaxNumberOfObjects())throw ie(this,t.key,function(t){return"Cannot instantiate cyclic dependency!"+re(t)});return this._instantiateProvider(t)},t.prototype._getMaxNumberOfObjects=function(){return this.objs.length},t.prototype._instantiateProvider=function(t){if(t.multiProvider){for(var e=new Array(t.resolvedFactories.length),n=0;n<t.resolvedFactories.length;++n)e[n]=this._instantiate(t,t.resolvedFactories[n]);return e}return this._instantiate(t,t.resolvedFactories[0])},t.prototype._instantiate=function(t,e){var n,i,o,a=this,s=e.factory;try{n=e.dependencies.map(function(t){return a._getByReflectiveDependency(t)})}catch(e){throw e.addKey&&e.addKey(this,t.key),e}try{i=s.apply(void 0,Object(r.__spread)(n))}catch(e){throw ie(this,t.key,function(t){var e=nt(t[0].token);return o.message+": Error during instantiation of "+e+"!"+re(t)+"."},o=e)}return i},t.prototype._getByReflectiveDependency=function(t){return this._getByKey(t.key,t.visibility,t.optional?null:yt)},t.prototype._getByKey=function(e,n,r){return e===t.INJECTOR_KEY?this:n instanceof dt?this._getByKeySelf(e,r):this._getByKeyDefault(e,r,n)},t.prototype._getObjByKeyId=function(t){for(var e=0;e<this.keyIds.length;e++)if(this.keyIds[e]===t)return this.objs[e]===be&&(this.objs[e]=this._new(this._providers[e])),this.objs[e];return be},t.prototype._throwOrNull=function(t,e){if(e!==yt)return e;throw function(t,e){return ie(t,e,function(t){return"No provider for "+nt(t[0].token)+"!"+re(t)})}(this,t)},t.prototype._getByKeySelf=function(t,e){var n=this._getObjByKeyId(t.id);return n!==be?n:this._throwOrNull(t,e)},t.prototype._getByKeyDefault=function(e,n,r){var i;for(i=r instanceof pt?this.parent:this;i instanceof t;){var o=i,a=o._getObjByKeyId(e.id);if(a!==be)return a;i=o.parent}return null!==i?i.get(e.token,n):this._throwOrNull(e,n)},Object.defineProperty(t.prototype,"displayName",{get:function(){return"ReflectiveInjector(providers: ["+function(t,e){for(var n=new Array(t._providers.length),r=0;r<t._providers.length;++r)n[r]=' "'+t.getProviderAtIndex(r).key.displayName+'" ';return n}(this).join(", ")+"])"},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return this.displayName},t.INJECTOR_KEY=se.get(xt),t}(),_e=new w("The presence of this token marks an injector as being the root injector."),Ce={},Se={},De=[],Pe=void 0;function Ae(){return void 0===Pe&&(Pe=new wt),Pe}function Te(t,e){return void 0===e&&(e=null),e=e||Ae(),new Ee(t,e)}var Ee=function(){function t(t,e){var n=this;this.parent=e,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this.destroyed=!1,Re([t],function(t){return n.processInjectorType(t,new Set)}),this.records.set(bt,ke(void 0,this)),this.isRootInjector=this.records.has(_e),this.injectorDefTypes.forEach(function(t){return n.get(t)})}return t.prototype.destroy=function(){this.assertNotDestroyed(),this.destroyed=!0;try{this.onDestroy.forEach(function(t){return t.ngOnDestroy()})}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}},t.prototype.get=function(t,e,n){void 0===e&&(e=yt),void 0===n&&(n=0),this.assertNotDestroyed();var r,i=Lt(this);try{if(!(4&n)){var o=this.records.get(t);if(void 0===o){var a=("function"==typeof(r=t)||"object"==typeof r&&r instanceof w)&&t.ngInjectableDef||void 0;void 0!==a&&this.injectableDefInScope(a)&&(o=Oe(t),this.records.set(t,o))}if(void 0!==o)return this.hydrate(t,o)}return 2&n&&Ae(),this.parent.get(t,e)}finally{Lt(i)}},t.prototype.assertNotDestroyed=function(){if(this.destroyed)throw new Error("Injector has already been destroyed.")},t.prototype.processInjectorType=function(t,e){var n=this,r=(t=ct(t)).ngInjectorDef,i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,a=void 0!==i&&t.providers||De;if(void 0!==i&&(r=i.ngInjectorDef),null==r)throw new Error("Type "+nt(o)+" is missing an ngInjectorDef definition.");if(e.has(o))throw new Error("Circular dependency: type "+nt(o)+" ends up importing itself.");if(this.injectorDefTypes.add(o),this.records.set(o,ke(r.factory)),null!=r.imports){e.add(o);try{Re(r.imports,function(t){return n.processInjectorType(t,e)})}finally{e.delete(o)}}null!=r.providers&&Re(r.providers,function(t){return n.processProvider(t)}),Re(a,function(t){return n.processProvider(t)})},t.prototype.processProvider=function(t){var e=Ie(t=ct(t))?t:ct(t.provide),n=function(t){var e=ct(t),n=Ce,i=void 0;if(Ie(t))return Oe(t);if(e=ct(t.provide),At in t)n=t.useValue;else if(t.useExisting)i=function(){return Ft(t.useExisting)};else if(t.useFactory)i=function(){return t.useFactory.apply(t,Object(r.__spread)(jt(t.deps||[])))};else{var o=t.useClass||e;if(!t.deps)return Oe(o);i=function(){return new(o.bind.apply(o,Object(r.__spread)([void 0],jt(t.deps))))}}return ke(i,n)}(t);if(!Ie(t)&&!0===t.multi){var i=this.records.get(e);if(i){if(void 0===i.multi)throw new Error("Mixed multi-provider for "+e+".")}else e=t,(i=ke(void 0,Ce,!0)).factory=function(){return jt(i.multi)},this.records.set(e,i);e=t,i.multi.push(t)}var o=this.records.get(e);if(o&&void 0!==o.multi)throw new Error("Mixed multi-provider for "+e);this.records.set(e,n)},t.prototype.hydrate=function(t,e){if(e.value===Se)throw new Error("Circular dep for "+nt(t));var n;return e.value===Ce&&(e.value=Se,e.value=e.factory()),"object"==typeof e.value&&e.value&&"object"==typeof(n=e.value)&&null!=n&&n.ngOnDestroy&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value},t.prototype.injectableDefInScope=function(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||"root"===t.providedIn&&this.isRootInjector:this.injectorDefTypes.has(t.providedIn))},t}();function Oe(t){var e=t.ngInjectableDef;if(void 0===e)throw new Error("Type "+nt(t)+" is missing an ngInjectableDef definition.");return ke(e.factory)}function ke(t,e,n){return void 0===e&&(e=Ce),void 0===n&&(n=!1),{factory:t,value:e,multi:n?[]:void 0}}function Re(t,e){t.forEach(function(t){return Array.isArray(t)?Re(t,e):e(t)})}function Ie(t){return"function"==typeof t}function Me(t){return!!t&&"function"==typeof t.then}function Ne(t){return!!t&&"function"==typeof t.subscribe}var Le=new w("Application Initializer"),Fe=function(){function t(t){var e=this;this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise(function(t,n){e.resolve=t,e.reject=n})}return t.prototype.runInitializers=function(){var t=this;if(!this.initialized){var e=[],n=function(){t.done=!0,t.resolve()};if(this.appInits)for(var r=0;r<this.appInits.length;r++){var i=this.appInits[r]();Me(i)&&e.push(i)}Promise.all(e).then(function(){n()}).catch(function(e){t.reject(e)}),0===e.length&&n(),this.initialized=!0}},t}(),je=new w("AppId");function Ve(){return""+Be()+Be()+Be()}var ze={provide:je,useFactory:Ve,deps:[]};function Be(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var We=new w("Platform Initializer"),He=new w("Platform ID"),Xe=new w("appBootstrapListener"),qe=new w("Application Packages Root URL"),Ue=function(){function t(){}return t.prototype.log=function(t){console.log(t)},t.prototype.warn=function(t){console.warn(t)},t}(),Ge=function(t,e){this.ngModuleFactory=t,this.componentFactories=e};function Ye(){throw new Error("Runtime compiler is not loaded")}var Ke=function(){function t(){}return t.prototype.compileModuleSync=function(t){throw Ye()},t.prototype.compileModuleAsync=function(t){throw Ye()},t.prototype.compileModuleAndAllComponentsSync=function(t){throw Ye()},t.prototype.compileModuleAndAllComponentsAsync=function(t){throw Ye()},t.prototype.clearCache=function(){},t.prototype.clearCacheFor=function(t){},t}(),Ze=new w("compilerOptions"),Je=function(){},Qe=function(){},$e=function(){};function tn(t){var e=Error("No component factory found for "+nt(t)+". Did you add it to @NgModule.entryComponents?");return e[rn]=t,e}var en,nn,rn="ngComponent",on=function(){function t(){}return t.prototype.resolveComponentFactory=function(t){throw tn(t)},t}(),an=function(){function t(){}return t.NULL=new on,t}(),sn=function(){function t(t,e,n){this._parent=e,this._ngModule=n,this._factories=new Map;for(var r=0;r<t.length;r++){var i=t[r];this._factories.set(i.componentType,i)}}return t.prototype.resolveComponentFactory=function(t){var e=this._factories.get(t);if(!e&&this._parent&&(e=this._parent.resolveComponentFactory(t)),!e)throw tn(t);return new un(e,this._ngModule)},t}(),un=function(t){function e(e,n){var r=t.call(this)||this;return r.factory=e,r.ngModule=n,r.selector=e.selector,r.componentType=e.componentType,r.ngContentSelectors=e.ngContentSelectors,r.inputs=e.inputs,r.outputs=e.outputs,r}return Object(r.__extends)(e,t),e.prototype.create=function(t,e,n,r){return this.factory.create(t,e,n,r||this.ngModule)},e}($e),ln=function(){},cn=function(){};function fn(){var t=Z.wtf;return!(!t||!(en=t.trace)||(nn=en.events,0))}function hn(t,e){return void 0===e&&(e=null),nn.createScope(t,e)}function dn(t,e){return en.leaveScope(t,e),e}function pn(t,e){return en.beginTimeRange(t,e)}function vn(t){en.endTimeRange(t)}var gn=fn();function mn(t,e){return null}var yn=gn?hn:function(t,e){return mn},bn=gn?dn:function(t,e){return e},wn=gn?pn:function(t,e){return null},xn=gn?vn:function(t){return null},_n=function(t){function e(e){void 0===e&&(e=!1);var n=t.call(this)||this;return n.__isAsync=e,n}return Object(r.__extends)(e,t),e.prototype.emit=function(e){t.prototype.next.call(this,e)},e.prototype.subscribe=function(e,n,r){var i,o=function(t){return null},a=function(){return null};e&&"object"==typeof e?(i=this.__isAsync?function(t){setTimeout(function(){return e.next(t)})}:function(t){e.next(t)},e.error&&(o=this.__isAsync?function(t){setTimeout(function(){return e.error(t)})}:function(t){e.error(t)}),e.complete&&(a=this.__isAsync?function(){setTimeout(function(){return e.complete()})}:function(){e.complete()})):(i=this.__isAsync?function(t){setTimeout(function(){return e(t)})}:function(t){e(t)},n&&(o=this.__isAsync?function(t){setTimeout(function(){return n(t)})}:function(t){n(t)}),r&&(a=this.__isAsync?function(){setTimeout(function(){return r()})}:function(){r()}));var s=t.prototype.subscribe.call(this,i,o,a);return e instanceof l.a&&e.add(s),s},e}(u.a),Cn=function(){function t(t){var e,n=t.enableLongStackTrace,r=void 0!==n&&n;if(this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new _n(!1),this.onMicrotaskEmpty=new _n(!1),this.onStable=new _n(!1),this.onError=new _n(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),(e=this)._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(t,n,r,i,o,a){try{return An(e),t.invokeTask(r,i,o,a)}finally{Tn(e)}},onInvoke:function(t,n,r,i,o,a,s){try{return An(e),t.invoke(r,i,o,a,s)}finally{Tn(e)}},onHasTask:function(t,n,r,i){t.hasTask(r,i),n===r&&("microTask"==i.change?(e.hasPendingMicrotasks=i.microTask,Pn(e)):"macroTask"==i.change&&(e.hasPendingMacrotasks=i.macroTask))},onHandleError:function(t,n,r,i){return t.handleError(r,i),e.runOutsideAngular(function(){return e.onError.emit(i)}),!1}})}return t.isInAngularZone=function(){return!0===Zone.current.get("isAngularZone")},t.assertInAngularZone=function(){if(!t.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")},t.assertNotInAngularZone=function(){if(t.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")},t.prototype.run=function(t,e,n){return this._inner.run(t,e,n)},t.prototype.runTask=function(t,e,n,r){var i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,Dn,Sn,Sn);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}},t.prototype.runGuarded=function(t,e,n){return this._inner.runGuarded(t,e,n)},t.prototype.runOutsideAngular=function(t){return this._outer.run(t)},t}();function Sn(){}var Dn={};function Pn(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(function(){return t.onStable.emit(null)})}finally{t.isStable=!0}}}function An(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Tn(t){t._nesting--,Pn(t)}var En=function(){function t(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new _n,this.onMicrotaskEmpty=new _n,this.onStable=new _n,this.onError=new _n}return t.prototype.run=function(t){return t()},t.prototype.runGuarded=function(t){return t()},t.prototype.runOutsideAngular=function(t){return t()},t.prototype.runTask=function(t){return t()},t}(),On=function(){function t(t){var e=this;this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this._watchAngularEvents(),t.run(function(){e.taskTrackingZone=Zone.current.get("TaskTrackingZone")})}return t.prototype._watchAngularEvents=function(){var t=this;this._ngZone.onUnstable.subscribe({next:function(){t._didWork=!0,t._isZoneStable=!1}}),this._ngZone.runOutsideAngular(function(){t._ngZone.onStable.subscribe({next:function(){Cn.assertNotInAngularZone(),tt(function(){t._isZoneStable=!0,t._runCallbacksIfReady()})}})})},t.prototype.increasePendingRequestCount=function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount},t.prototype.decreasePendingRequestCount=function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount},t.prototype.isStable=function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks},t.prototype._runCallbacksIfReady=function(){var t=this;if(this.isStable())tt(function(){for(;0!==t._callbacks.length;){var e=t._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(t._didWork)}t._didWork=!1});else{var e=this.getPendingTasks();this._callbacks=this._callbacks.filter(function(t){return!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)}),this._didWork=!0}},t.prototype.getPendingTasks=function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(function(t){return{source:t.source,isPeriodic:t.data.isPeriodic,delay:t.data.delay,creationLocation:t.creationLocation,xhr:t.data.target}}):[]},t.prototype.addCallback=function(t,e,n){var r=this,i=-1;e&&e>0&&(i=setTimeout(function(){r._callbacks=r._callbacks.filter(function(t){return t.timeoutId!==i}),t(r._didWork,r.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:i,updateCb:n})},t.prototype.whenStable=function(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()},t.prototype.getPendingRequestCount=function(){return this._pendingCount},t.prototype.findProviders=function(t,e,n){return[]},t}(),kn=function(){function t(){this._applications=new Map,Mn.addToWindow(this)}return t.prototype.registerApplication=function(t,e){this._applications.set(t,e)},t.prototype.unregisterApplication=function(t){this._applications.delete(t)},t.prototype.unregisterAllApplications=function(){this._applications.clear()},t.prototype.getTestability=function(t){return this._applications.get(t)||null},t.prototype.getAllTestabilities=function(){return Array.from(this._applications.values())},t.prototype.getAllRootElements=function(){return Array.from(this._applications.keys())},t.prototype.findTestabilityInTree=function(t,e){return void 0===e&&(e=!0),Mn.findTestabilityInTree(this,t,e)},t.ctorParameters=function(){return[]},t}();function Rn(t){Mn=t}var In,Mn=new(function(){function t(){}return t.prototype.addToWindow=function(t){},t.prototype.findTestabilityInTree=function(t,e,n){return null},t}()),Nn=!0,Ln=!1,Fn=new w("AllowMultipleToken");function jn(){if(Ln)throw new Error("Cannot enable prod mode after platform setup.");Nn=!1}function Vn(){return Ln=!0,Nn}var zn=function(t,e){this.name=t,this.token=e};function Bn(t){if(In&&!In.destroyed&&!In.injector.get(Fn,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");In=t.get(Un);var e=t.get(We,null);return e&&e.forEach(function(t){return t()}),In}function Wn(t,e,n){void 0===n&&(n=[]);var r="Platform: "+e,i=new w(r);return function(e){void 0===e&&(e=[]);var o=qn();if(!o||o.injector.get(Fn,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{var a=n.concat(e).concat({provide:i,useValue:!0});Bn(xt.create({providers:a,name:r}))}return Hn(i)}}function Hn(t){var e=qn();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}function Xn(){In&&!In.destroyed&&In.destroy()}function qn(){return In&&!In.destroyed?In:null}var Un=function(){function t(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return t.prototype.bootstrapModuleFactory=function(t,e){var n,r=this,i="noop"===(n=e?e.ngZone:void 0)?new En:("zone.js"===n?void 0:n)||new Cn({enableLongStackTrace:Vn()}),o=[{provide:Cn,useValue:i}];return i.run(function(){var e=xt.create({providers:o,parent:r.injector,name:t.moduleType.name}),n=t.create(e),a=n.injector.get(ne,null);if(!a)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.onDestroy(function(){return Kn(r._modules,n)}),i.runOutsideAngular(function(){return i.onError.subscribe({next:function(t){a.handleError(t)}})}),function(t,e,i){try{var o=((a=n.injector.get(Fe)).runInitializers(),a.donePromise.then(function(){return r._moduleDoBootstrap(n),n}));return Me(o)?o.catch(function(n){throw e.runOutsideAngular(function(){return t.handleError(n)}),n}):o}catch(n){throw e.runOutsideAngular(function(){return t.handleError(n)}),n}var a}(a,i)})},t.prototype.bootstrapModule=function(t,e){var n=this;void 0===e&&(e=[]);var r=this.injector.get(Je),i=Gn({},e);return r.createCompiler([i]).compileModuleAsync(t).then(function(t){return n.bootstrapModuleFactory(t,i)})},t.prototype._moduleDoBootstrap=function(t){var e=t.injector.get(Yn);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(function(t){return e.bootstrap(t)});else{if(!t.instance.ngDoBootstrap)throw new Error("The module "+nt(t.instance.constructor)+' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.');t.instance.ngDoBootstrap(e)}this._modules.push(t)},t.prototype.onDestroy=function(t){this._destroyListeners.push(t)},Object.defineProperty(t.prototype,"injector",{get:function(){return this._injector},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(function(t){return t.destroy()}),this._destroyListeners.forEach(function(t){return t()}),this._destroyed=!0},Object.defineProperty(t.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!0,configurable:!0}),t}();function Gn(t,e){return Array.isArray(e)?e.reduce(Gn,t):Object(r.__assign)({},t,e)}var Yn=function(){function t(t,e,n,r,u,l){var c=this;this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=u,this._initStatus=l,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Vn(),this._zone.onMicrotaskEmpty.subscribe({next:function(){c._zone.run(function(){c.tick()})}});var h=new i.a(function(t){c._stable=c._zone.isStable&&!c._zone.hasPendingMacrotasks&&!c._zone.hasPendingMicrotasks,c._zone.runOutsideAngular(function(){t.next(c._stable),t.complete()})}),d=new i.a(function(t){var e;c._zone.runOutsideAngular(function(){e=c._zone.onStable.subscribe(function(){Cn.assertNotInAngularZone(),tt(function(){c._stable||c._zone.hasPendingMacrotasks||c._zone.hasPendingMicrotasks||(c._stable=!0,t.next(!0))})})});var n=c._zone.onUnstable.subscribe(function(){Cn.assertInAngularZone(),c._stable&&(c._stable=!1,c._zone.runOutsideAngular(function(){t.next(!1)}))});return function(){e.unsubscribe(),n.unsubscribe()}});this.isStable=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Number.POSITIVE_INFINITY,r=null,u=t[t.length-1];return Object(o.a)(u)?(r=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(n=t.pop())):"number"==typeof u&&(n=t.pop()),null===r&&1===t.length&&t[0]instanceof i.a?t[0]:Object(a.a)(n)(Object(s.a)(t,r))}(h,d.pipe(function(t){return f()((e=m,function(t){var n;n="function"==typeof e?e:function(){return e};var r=Object.create(t,v);return r.source=t,r.subjectFactory=n,r})(t));var e}))}return t.prototype.bootstrap=function(t,e){var n,r=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=t instanceof $e?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);var i=n instanceof un?null:this._injector.get(ln),o=n.create(xt.NULL,[],e||n.selector,i);o.onDestroy(function(){r._unloadComponent(o)});var a=o.injector.get(On,null);return a&&o.injector.get(kn).registerApplication(o.location.nativeElement,a),this._loadComponent(o),Vn()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),o},t.prototype.tick=function(){var e=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");var n=t._tickScope();try{this._runningTick=!0,this._views.forEach(function(t){return t.detectChanges()}),this._enforceNoNewChanges&&this._views.forEach(function(t){return t.checkNoChanges()})}catch(t){this._zone.runOutsideAngular(function(){return e._exceptionHandler.handleError(t)})}finally{this._runningTick=!1,bn(n)}},t.prototype.attachView=function(t){var e=t;this._views.push(e),e.attachToAppRef(this)},t.prototype.detachView=function(t){var e=t;Kn(this._views,e),e.detachFromAppRef()},t.prototype._loadComponent=function(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Xe,[]).concat(this._bootstrapListeners).forEach(function(e){return e(t)})},t.prototype._unloadComponent=function(t){this.detachView(t.hostView),Kn(this.components,t)},t.prototype.ngOnDestroy=function(){this._views.slice().forEach(function(t){return t.destroy()})},Object.defineProperty(t.prototype,"viewCount",{get:function(){return this._views.length},enumerable:!0,configurable:!0}),t._tickScope=yn("ApplicationRef#tick()"),t}();function Kn(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}var Zn=function(t,e,n,r,i,o){this.id=t,this.templateUrl=e,this.slotCount=n,this.encapsulation=r,this.styles=i,this.animations=o},Jn=function(){},Qn=function(){},$n=function(){},tr=function(){},er=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({}),nr=function(){},rr=function(t){this.nativeElement=t},ir=function(){},or=new Map;function ar(t,e){var n=or.get(t);if(n)throw new Error("Duplicate module registered for "+t+" - "+n.moduleType.name+" vs "+e.moduleType.name);or.set(t,e)}function sr(t){var e=or.get(t);if(!e)throw new Error("No module with ID "+t+" loaded");return e}var ur=function(){function t(){this.dirty=!0,this._results=[],this.changes=new _n,this.length=0}return t.prototype.map=function(t){return this._results.map(t)},t.prototype.filter=function(t){return this._results.filter(t)},t.prototype.find=function(t){return this._results.find(t)},t.prototype.reduce=function(t,e){return this._results.reduce(t,e)},t.prototype.forEach=function(t){this._results.forEach(t)},t.prototype.some=function(t){return this._results.some(t)},t.prototype.toArray=function(){return this._results.slice()},t.prototype[$()]=function(){return this._results[$()]()},t.prototype.toString=function(){return this._results.toString()},t.prototype.reset=function(t){this._results=function t(e){return e.reduce(function(e,n){var r=Array.isArray(n)?t(n):n;return e.concat(r)},[])}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]},t.prototype.notifyOnChanges=function(){this.changes.emit(this)},t.prototype.setDirty=function(){this.dirty=!0},t.prototype.destroy=function(){this.changes.complete(),this.changes.unsubscribe()},t}(),lr=function(){},cr={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},fr=function(){function t(t,e){this._compiler=t,this._config=e||cr}return t.prototype.load=function(t){return this._compiler instanceof Ke?this.loadFactory(t):this.loadAndCompile(t)},t.prototype.loadAndCompile=function(t){var e=this,i=Object(r.__read)(t.split("#"),2),o=i[0],a=i[1];return void 0===a&&(a="default"),n("VXzU")(o).then(function(t){return t[a]}).then(function(t){return hr(t,o,a)}).then(function(t){return e._compiler.compileModuleAsync(t)})},t.prototype.loadFactory=function(t){var e=Object(r.__read)(t.split("#"),2),i=e[0],o=e[1],a="NgFactory";return void 0===o&&(o="default",a=""),n("VXzU")(this._config.factoryPathPrefix+i+this._config.factoryPathSuffix).then(function(t){return t[o+a]}).then(function(t){return hr(t,i,o)})},t}();function hr(t,e,n){if(!t)throw new Error("Cannot find '"+n+"' in '"+e+"'");return t}var dr=function(){},pr=function(){},vr=function(){},gr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.__extends)(e,t),e}(vr),mr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.__extends)(e,t),e}(gr),yr=function(){function t(t,e,n){this._debugContext=n,this.nativeNode=t,e&&e instanceof br?e.addChild(this):this.parent=null,this.listeners=[]}return Object.defineProperty(t.prototype,"injector",{get:function(){return this._debugContext.injector},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentInstance",{get:function(){return this._debugContext.component},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this._debugContext.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"references",{get:function(){return this._debugContext.references},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"providerTokens",{get:function(){return this._debugContext.providerTokens},enumerable:!0,configurable:!0}),t}(),br=function(t){function e(e,n,r){var i=t.call(this,e,n,r)||this;return i.properties={},i.attributes={},i.classes={},i.styles={},i.childNodes=[],i.nativeElement=e,i}return Object(r.__extends)(e,t),e.prototype.addChild=function(t){t&&(this.childNodes.push(t),t.parent=this)},e.prototype.removeChild=function(t){var e=this.childNodes.indexOf(t);-1!==e&&(t.parent=null,this.childNodes.splice(e,1))},e.prototype.insertChildrenAfter=function(t,e){var n,i=this,o=this.childNodes.indexOf(t);-1!==o&&((n=this.childNodes).splice.apply(n,Object(r.__spread)([o+1,0],e)),e.forEach(function(t){t.parent&&t.parent.removeChild(t),t.parent=i}))},e.prototype.insertBefore=function(t,e){var n=this.childNodes.indexOf(t);-1===n?this.addChild(e):(e.parent&&e.parent.removeChild(e),e.parent=this,this.childNodes.splice(n,0,e))},e.prototype.query=function(t){return this.queryAll(t)[0]||null},e.prototype.queryAll=function(t){var e=[];return function t(e,n,r){e.childNodes.forEach(function(e){e instanceof br&&(n(e)&&r.push(e),t(e,n,r))})}(this,t,e),e},e.prototype.queryAllNodes=function(t){var e=[];return function t(e,n,r){e instanceof br&&e.childNodes.forEach(function(e){n(e)&&r.push(e),e instanceof br&&t(e,n,r)})}(this,t,e),e},Object.defineProperty(e.prototype,"children",{get:function(){return this.childNodes.filter(function(t){return t instanceof e})},enumerable:!0,configurable:!0}),e.prototype.triggerEventHandler=function(t,e){this.listeners.forEach(function(n){n.name==t&&n.callback(e)})},e}(yr);function wr(t){return t.map(function(t){return t.nativeElement})}var xr=new Map;function _r(t){return xr.get(t)||null}function Cr(t){xr.set(t.nativeNode,t)}function Sr(t,e){var n=Ar(t),r=Ar(e);return n&&r?function(t,e,n){for(var r=t[$()](),i=e[$()]();;){var o=r.next(),a=i.next();if(o.done&&a.done)return!0;if(o.done||a.done)return!1;if(!n(o.value,a.value))return!1}}(t,e,Sr):!(n||!t||"object"!=typeof t&&"function"!=typeof t||r||!e||"object"!=typeof e&&"function"!=typeof e)||et(t,e)}var Dr=function(){function t(t){this.wrapped=t}return t.wrap=function(e){return new t(e)},t.unwrap=function(e){return t.isWrapped(e)?e.wrapped:e},t.isWrapped=function(e){return e instanceof t},t}(),Pr=function(){function t(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}return t.prototype.isFirstChange=function(){return this.firstChange},t}();function Ar(t){return!!Tr(t)&&(Array.isArray(t)||!(t instanceof Map)&&$()in t)}function Tr(t){return null!==t&&("function"==typeof t||"object"==typeof t)}var Er=function(){function t(){}return t.prototype.supports=function(t){return Ar(t)},t.prototype.create=function(t){return new kr(t)},t}(),Or=function(t,e){return e},kr=function(){function t(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Or}return t.prototype.forEachItem=function(t){var e;for(e=this._itHead;null!==e;e=e._next)t(e)},t.prototype.forEachOperation=function(t){for(var e=this._itHead,n=this._removalsHead,r=0,i=null;e||n;){var o=!n||e&&e.currentIndex<Nr(n,r,i)?e:n,a=Nr(o,r,i),s=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);var u=a-r,l=s-r;if(u!=l){for(var c=0;c<u;c++){var f=c<i.length?i[c]:i[c]=0,h=f+c;l<=h&&h<u&&(i[c]=f+1)}i[o.previousIndex]=l-u}}a!==s&&t(o,a,s)}},t.prototype.forEachPreviousItem=function(t){var e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)},t.prototype.forEachAddedItem=function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)},t.prototype.forEachMovedItem=function(t){var e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)},t.prototype.forEachRemovedItem=function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)},t.prototype.forEachIdentityChange=function(t){var e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)},t.prototype.diff=function(t){if(null==t&&(t=[]),!Ar(t))throw new Error("Error trying to diff '"+nt(t)+"'. Only arrays and iterables are allowed");return this.check(t)?this:null},t.prototype.onDestroy=function(){},t.prototype.check=function(t){var e=this;this._reset();var n,r,i,o=this._itHead,a=!1;if(Array.isArray(t)){this.length=t.length;for(var s=0;s<this.length;s++)i=this._trackByFn(s,r=t[s]),null!==o&&et(o.trackById,i)?(a&&(o=this._verifyReinsertion(o,r,i,s)),et(o.item,r)||this._addIdentityChange(o,r)):(o=this._mismatch(o,r,i,s),a=!0),o=o._next}else n=0,function(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++)e(t[n]);else for(var r=t[$()](),i=void 0;!(i=r.next()).done;)e(i.value)}(t,function(t){i=e._trackByFn(n,t),null!==o&&et(o.trackById,i)?(a&&(o=e._verifyReinsertion(o,t,i,n)),et(o.item,t)||e._addIdentityChange(o,t)):(o=e._mismatch(o,t,i,n),a=!0),o=o._next,n++}),this.length=n;return this._truncate(o),this.collection=t,this.isDirty},Object.defineProperty(t.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead},enumerable:!0,configurable:!0}),t.prototype._reset=function(){if(this.isDirty){var t=void 0,e=void 0;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}},t.prototype._mismatch=function(t,e,n,r){var i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(et(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(et(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new Rr(e,n),i,r),t},t.prototype._verifyReinsertion=function(t,e,n,r){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t},t.prototype._truncate=function(t){for(;null!==t;){var e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)},t.prototype._reinsertAfter=function(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);var r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t},t.prototype._moveAfter=function(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t},t.prototype._addAfter=function(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t},t.prototype._insertAfter=function(t,e,n){var r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Mr),this._linkedRecords.put(t),t.currentIndex=n,t},t.prototype._remove=function(t){return this._addToRemovals(this._unlink(t))},t.prototype._unlink=function(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);var e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t},t.prototype._addToMoves=function(t,e){return t.previousIndex===e?t:(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t,t)},t.prototype._addToRemovals=function(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Mr),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t},t.prototype._addIdentityChange=function(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t},t}(),Rr=function(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},Ir=function(){function t(){this._head=null,this._tail=null}return t.prototype.add=function(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)},t.prototype.get=function(t,e){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&et(n.trackById,t))return n;return null},t.prototype.remove=function(t){var e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head},t}(),Mr=function(){function t(){this.map=new Map}return t.prototype.put=function(t){var e=t.trackById,n=this.map.get(e);n||(n=new Ir,this.map.set(e,n)),n.add(t)},t.prototype.get=function(t,e){var n=this.map.get(t);return n?n.get(t,e):null},t.prototype.remove=function(t){var e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t},Object.defineProperty(t.prototype,"isEmpty",{get:function(){return 0===this.map.size},enumerable:!0,configurable:!0}),t.prototype.clear=function(){this.map.clear()},t}();function Nr(t,e,n){var r=t.previousIndex;if(null===r)return r;var i=0;return n&&r<n.length&&(i=n[r]),r+e+i}var Lr=function(){function t(){}return t.prototype.supports=function(t){return t instanceof Map||Tr(t)},t.prototype.create=function(){return new Fr},t}(),Fr=function(){function t(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return Object.defineProperty(t.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead},enumerable:!0,configurable:!0}),t.prototype.forEachItem=function(t){var e;for(e=this._mapHead;null!==e;e=e._next)t(e)},t.prototype.forEachPreviousItem=function(t){var e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)},t.prototype.forEachChangedItem=function(t){var e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)},t.prototype.forEachAddedItem=function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)},t.prototype.forEachRemovedItem=function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)},t.prototype.diff=function(t){if(t){if(!(t instanceof Map||Tr(t)))throw new Error("Error trying to diff '"+nt(t)+"'. Only maps and objects are allowed")}else t=new Map;return this.check(t)?this:null},t.prototype.onDestroy=function(){},t.prototype.check=function(t){var e=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(t,function(t,r){if(n&&n.key===r)e._maybeAddToChanges(n,t),e._appendAfter=n,n=n._next;else{var i=e._getOrCreateRecordForKey(r,t);n=e._insertBeforeOrAppend(n,i)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty},t.prototype._insertBeforeOrAppend=function(t,e){if(t){var n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null},t.prototype._getOrCreateRecordForKey=function(t,e){if(this._records.has(t)){var n=this._records.get(t);this._maybeAddToChanges(n,e);var r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}var o=new jr(t);return this._records.set(t,o),o.currentValue=e,this._addToAdditions(o),o},t.prototype._reset=function(){if(this.isDirty){var t=void 0;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}},t.prototype._maybeAddToChanges=function(t,e){et(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))},t.prototype._addToAdditions=function(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)},t.prototype._addToChanges=function(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)},t.prototype._forEach=function(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(function(n){return e(t[n],n)})},t}(),jr=function(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null},Vr=function(){function t(t){this.factories=t}return t.create=function(e,n){if(null!=n){var r=n.factories.slice();e=e.concat(r)}return new t(e)},t.extend=function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new pt,new ht]]}},t.prototype.find=function(t){var e,n=this.factories.find(function(e){return e.supports(t)});if(null!=n)return n;throw new Error("Cannot find a differ supporting object '"+t+"' of type '"+((e=t).name||typeof e)+"'")},t.ngInjectableDef=y({providedIn:"root",factory:function(){return new t([new Er])}}),t}(),zr=function(){function t(t){this.factories=t}return t.create=function(e,n){if(n){var r=n.factories.slice();e=e.concat(r)}return new t(e)},t.extend=function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new pt,new ht]]}},t.prototype.find=function(t){var e=this.factories.find(function(e){return e.supports(t)});if(e)return e;throw new Error("Cannot find a differ supporting object '"+t+"'")},t}(),Br=[new Lr],Wr=new Vr([new Er]),Hr=new zr(Br),Xr=Wn(null,"core",[{provide:He,useValue:"unknown"},{provide:Un,deps:[xt]},{provide:kn,deps:[]},{provide:Ue,deps:[]}]),qr=new w("LocaleId"),Ur=new w("Translations"),Gr=new w("TranslationsFormat"),Yr=function(t){return t[t.Error=0]="Error",t[t.Warning=1]="Warning",t[t.Ignore=2]="Ignore",t}({});function Kr(){return Wr}function Zr(){return Hr}function Jr(t){return t||"en-US"}var Qr=function(t){},$r=function(){function t(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),this.inertBodyElement=this.inertDocument.body,null==this.inertBodyElement){var e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e),this.inertBodyElement=this.inertDocument.createElement("body"),e.appendChild(this.inertBodyElement)}this.inertBodyElement.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!this.inertBodyElement.querySelector||this.inertBodyElement.querySelector("svg")?(this.inertBodyElement.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(t){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}return t.prototype.getInertBodyElement_XHR=function(t){t="<body><remove></remove>"+t+"</body>";try{t=encodeURI(t)}catch(t){return null}var e=new XMLHttpRequest;e.responseType="document",e.open("GET","data:text/html;charset=utf-8,"+t,!1),e.send(null);var n=e.response.body;return n.removeChild(n.firstChild),n},t.prototype.getInertBodyElement_DOMParser=function(t){t="<body><remove></remove>"+t+"</body>";try{var e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(t){return null}},t.prototype.getInertBodyElement_InertDocument=function(t){var e=this.inertDocument.createElement("template");return"content"in e?(e.innerHTML=t,e):(this.inertBodyElement.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)},t.prototype.stripCustomNsAttrs=function(t){for(var e=t.attributes,n=e.length-1;0<n;n--){var r=e.item(n).name;"xmlns:ns1"!==r&&0!==r.indexOf("ns1:")||t.removeAttribute(r)}for(var i=t.firstChild;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling},t}(),ti=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,ei=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function ni(t){return(t=String(t)).match(ti)||t.match(ei)?t:(Vn()&&console.warn("WARNING: sanitizing unsafe URL value "+t+" (see http://g.co/ng/security#xss)"),"unsafe:"+t)}function ri(t){var e,n,i={};try{for(var o=Object(r.__values)(t.split(",")),a=o.next();!a.done;a=o.next())i[a.value]=!0}catch(t){e={error:t}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return i}function ii(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n,i,o={};try{for(var a=Object(r.__values)(t),s=a.next();!s.done;s=a.next()){var u=s.value;for(var l in u)u.hasOwnProperty(l)&&(o[l]=!0)}}catch(t){n={error:t}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}return o}var oi,ai=ri("area,br,col,hr,img,wbr"),si=ri("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ui=ri("rp,rt"),li=ii(ui,si),ci=ii(ai,ii(si,ri("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ii(ui,ri("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),li),fi=ri("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),hi=ri("srcset"),di=ii(fi,hi,ri("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width")),pi=function(){function t(){this.sanitizedSomething=!1,this.buf=[]}return t.prototype.sanitizeChildren=function(t){for(var e=t.firstChild;e;)if(e.nodeType===Node.ELEMENT_NODE?this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);var n=this.checkClobberedElement(e,e.nextSibling);if(n){e=n;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")},t.prototype.startElement=function(t){var e=t.nodeName.toLowerCase();if(ci.hasOwnProperty(e)){this.buf.push("<"),this.buf.push(e);for(var n,r=t.attributes,i=0;i<r.length;i++){var o=r.item(i),a=o.name,s=a.toLowerCase();if(di.hasOwnProperty(s)){var u=o.value;fi[s]&&(u=ni(u)),hi[s]&&(n=u,u=(n=String(n)).split(",").map(function(t){return ni(t.trim())}).join(", ")),this.buf.push(" ",a,'="',mi(u),'"')}else this.sanitizedSomething=!0}this.buf.push(">")}else this.sanitizedSomething=!0},t.prototype.endElement=function(t){var e=t.nodeName.toLowerCase();ci.hasOwnProperty(e)&&!ai.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))},t.prototype.chars=function(t){this.buf.push(mi(t))},t.prototype.checkClobberedElement=function(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e},t}(),vi=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,gi=/([^\#-~ |!])/g;function mi(t){return t.replace(/&/g,"&amp;").replace(vi,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(gi,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function yi(t,e){var n=null;try{oi=oi||new $r(t);var r=e?String(e):"";n=oi.getInertBodyElement(r);var i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=oi.getInertBodyElement(r)}while(r!==o);var a=new pi,s=a.sanitizeChildren(bi(n)||n);return Vn()&&a.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content (see http://g.co/ng/security#xss)."),s}finally{if(n)for(var u=bi(n)||n;u.firstChild;)u.removeChild(u.firstChild)}}function bi(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var wi=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),xi=/^url\(([^)]+)\)$/;function _i(t){if(!(t=String(t).trim()))return"";var e=t.match(xi);return e&&ni(e[1])===e[1]||t.match(wi)&&function(t){for(var e=!0,n=!0,r=0;r<t.length;r++){var i=t.charAt(r);"'"===i&&n?e=!e:'"'===i&&e&&(n=!n)}return e&&n}(t)?t:(Vn()&&console.warn("WARNING: sanitizing unsafe style value "+t+" (see http://g.co/ng/security#xss)."),"unsafe")}var Ci=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({}),Si=function(){};function Di(t,e,n){var r=t.state,i=1792&r;return i===e?(t.state=-1793&r|n,t.initIndex=-1,!0):i===n}function Pi(t,e,n){return(1792&t.state)===e&&t.initIndex<=n&&(t.initIndex=n+1,!0)}function Ai(t,e){return t.nodes[e]}function Ti(t,e){return t.nodes[e]}function Ei(t,e){return t.nodes[e]}function Oi(t,e){return t.nodes[e]}function ki(t,e){return t.nodes[e]}var Ri=function(){},Ii={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0};function Mi(t,e,n,r){var i="ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '"+e+"'. Current value: '"+n+"'.";return r&&(i+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(t,e){var n=new Error(t);return Ni(n,e),n}(i,t)}function Ni(t,e){t[Zt]=e,t[Qt]=e.logError.bind(e)}function Li(t){return new Error("ViewDestroyedError: Attempt to use a destroyed view: "+t)}var Fi=function(){},ji=new Map;function Vi(t){var e=ji.get(t);return e||(e=nt(t)+"_"+ji.size,ji.set(t,e)),e}function zi(t,e,n,r){if(Dr.isWrapped(r)){r=Dr.unwrap(r);var i=t.def.nodes[e].bindingIndex+n,o=Dr.unwrap(t.oldValues[i]);t.oldValues[i]=new Dr(o)}return r}var Bi="$$undefined",Wi="$$empty";function Hi(t){return{id:Bi,styles:t.styles,encapsulation:t.encapsulation,data:t.data}}var Xi=0;function qi(t){if(t&&t.id===Bi){var e=null!=t.encapsulation&&t.encapsulation!==Gt.None||t.styles.length||Object.keys(t.data).length;t.id=e?"c"+Xi++:Wi}return t&&t.id===Wi&&(t=null),t||null}function Ui(t,e,n,r){return!(!(2&t.state)&&et(t.oldValues[e.bindingIndex+n],r))}function Gi(t,e,n,r){return!!Ui(t,e,n,r)&&(t.oldValues[e.bindingIndex+n]=r,!0)}function Yi(t,e,n,r){var i=t.oldValues[e.bindingIndex+n];if(1&t.state||!Sr(i,r)){var o=e.bindings[n].name;throw Mi(Ii.createDebugContext(t,e.nodeIndex),o+": "+i,o+": "+r,0!=(1&t.state))}}function Ki(t){for(var e=t;e;)2&e.def.flags&&(e.state|=8),e=e.viewContainerParent||e.parent}function Zi(t,e){for(var n=t;n&&n!==e;)n.state|=64,n=n.viewContainerParent||n.parent}function Ji(t,e,n,r){try{return Ki(33554432&t.def.nodes[e].flags?Ti(t,e).componentView:t),Ii.handleEvent(t,e,n,r)}catch(e){t.root.errorHandler.handleError(e)}}function Qi(t){return t.parent?Ti(t.parent,t.parentNodeDef.nodeIndex):null}function $i(t){return t.parent?t.parentNodeDef.parent:null}function to(t,e){switch(201347067&e.flags){case 1:return Ti(t,e.nodeIndex).renderElement;case 2:return Ai(t,e.nodeIndex).renderText}}function eo(t,e){return t?t+":"+e:e}function no(t){return!!t.parent&&!!(32768&t.parentNodeDef.flags)}function ro(t){return!(!t.parent||32768&t.parentNodeDef.flags)}function io(t){return 1<<t%32}function oo(t){var e={},n=0,i={};return t&&t.forEach(function(t){var o=Object(r.__read)(t,2),a=o[0],s=o[1];"number"==typeof a?(e[a]=s,n|=io(a)):i[a]=s}),{matchedQueries:e,references:i,matchedQueryIds:n}}function ao(t,e){return t.map(function(t){var n,i,o;return Array.isArray(t)?(i=(o=Object(r.__read)(t,2))[0],n=o[1]):(i=0,n=t),n&&("function"==typeof n||"object"==typeof n)&&e&&Object.defineProperty(n,gt,{value:e,configurable:!0}),{flags:i,token:n,tokenKey:Vi(n)}})}function so(t,e,n){var r=n.renderParent;return r?0==(1&r.flags)||0==(33554432&r.flags)||r.element.componentRendererType&&r.element.componentRendererType.encapsulation===Gt.Native?Ti(t,n.renderParent.nodeIndex).renderElement:void 0:e}var uo=new WeakMap;function lo(t){var e=uo.get(t);return e||((e=t(function(){return Fi})).factory=t,uo.set(t,e)),e}function co(t,e,n,r,i){3===e&&(n=t.renderer.parentNode(to(t,t.def.lastRenderRootNode))),fo(t,e,0,t.def.nodes.length-1,n,r,i)}function fo(t,e,n,r,i,o,a){for(var s=n;s<=r;s++){var u=t.def.nodes[s];11&u.flags&&po(t,u,e,i,o,a),s+=u.childCount}}function ho(t,e,n,r,i,o){for(var a=t;a&&!no(a);)a=a.parent;for(var s=a.parent,u=$i(a),l=u.nodeIndex+u.childCount,c=u.nodeIndex+1;c<=l;c++){var f=s.def.nodes[c];f.ngContentIndex===e&&po(s,f,n,r,i,o),c+=f.childCount}if(!s.parent){var h=t.root.projectableNodes[e];if(h)for(c=0;c<h.length;c++)vo(t,h[c],n,r,i,o)}}function po(t,e,n,r,i,o){if(8&e.flags)ho(t,e.ngContent.index,n,r,i,o);else{var a=to(t,e);if(3===n&&33554432&e.flags&&48&e.bindingFlags?(16&e.bindingFlags&&vo(t,a,n,r,i,o),32&e.bindingFlags&&vo(Ti(t,e.nodeIndex).componentView,a,n,r,i,o)):vo(t,a,n,r,i,o),16777216&e.flags)for(var s=Ti(t,e.nodeIndex).viewContainer._embeddedViews,u=0;u<s.length;u++)co(s[u],n,r,i,o);1&e.flags&&!e.element.name&&fo(t,n,e.nodeIndex+1,e.nodeIndex+e.childCount,r,i,o)}}function vo(t,e,n,r,i,o){var a=t.renderer;switch(n){case 1:a.appendChild(r,e);break;case 2:a.insertBefore(r,e,i);break;case 3:a.removeChild(r,e);break;case 0:o.push(e)}}var go=/^:([^:]+):(.+)$/;function mo(t){if(":"===t[0]){var e=t.match(go);return[e[1],e[2]]}return["",t]}function yo(t){for(var e=0,n=0;n<t.length;n++)e|=t[n].flags;return e}function bo(t,e){for(var n="",r=0;r<2*t;r+=2)n=n+e[r]+xo(e[r+1]);return n+e[2*t]}function wo(t,e,n,r,i,o,a,s,u,l,c,f,h,d,p,v,g,m,y,b){switch(t){case 1:return e+xo(n)+r;case 2:return e+xo(n)+r+xo(i)+o;case 3:return e+xo(n)+r+xo(i)+o+xo(a)+s;case 4:return e+xo(n)+r+xo(i)+o+xo(a)+s+xo(u)+l;case 5:return e+xo(n)+r+xo(i)+o+xo(a)+s+xo(u)+l+xo(c)+f;case 6:return e+xo(n)+r+xo(i)+o+xo(a)+s+xo(u)+l+xo(c)+f+xo(h)+d;case 7:return e+xo(n)+r+xo(i)+o+xo(a)+s+xo(u)+l+xo(c)+f+xo(h)+d+xo(p)+v;case 8:return e+xo(n)+r+xo(i)+o+xo(a)+s+xo(u)+l+xo(c)+f+xo(h)+d+xo(p)+v+xo(g)+m;case 9:return e+xo(n)+r+xo(i)+o+xo(a)+s+xo(u)+l+xo(c)+f+xo(h)+d+xo(p)+v+xo(g)+m+xo(y)+b;default:throw new Error("Does not support more than 9 expressions")}}function xo(t){return null!=t?t.toString():""}var _o=[],Co={};function So(t,e,n,r,i,o){t|=1;var a=oo(e);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:t,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:a.matchedQueries,matchedQueryIds:a.matchedQueryIds,references:a.references,ngContentIndex:n,childCount:r,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:o?lo(o):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:i||Fi},provider:null,text:null,query:null,ngContent:null}}function Do(t,e,n,i,o,a,s,u,l,c,f,h){void 0===s&&(s=[]),c||(c=Fi);var d=oo(n),p=d.matchedQueries,v=d.references,g=d.matchedQueryIds,m=null,y=null;a&&(m=(R=Object(r.__read)(mo(a),2))[0],y=R[1]),u=u||[];for(var b=new Array(u.length),w=0;w<u.length;w++){var x=Object(r.__read)(u[w],3),_=x[0],C=x[1],S=x[2],D=Object(r.__read)(mo(C),2),P=D[0],A=D[1],T=void 0,E=void 0;switch(15&_){case 4:E=S;break;case 1:case 8:T=S}b[w]={flags:_,ns:P,name:A,nonMinifiedName:A,securityContext:T,suffix:E}}l=l||[];var O=new Array(l.length);for(w=0;w<l.length;w++){var k=Object(r.__read)(l[w],2);O[w]={type:0,target:k[0],eventName:k[1],propName:null}}var R,I=(s=s||[]).map(function(t){var e=Object(r.__read)(t,2),n=e[0],i=e[1],o=Object(r.__read)(mo(n),2);return[o[0],o[1],i]});return h=qi(h),f&&(e|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:p,matchedQueryIds:g,references:v,ngContentIndex:i,childCount:o,bindings:b,bindingFlags:yo(b),outputs:O,element:{ns:m,name:y,attrs:I,template:null,componentProvider:null,componentView:f||null,componentRendererType:h,publicProviders:null,allProviders:null,handleEvent:c||Fi},provider:null,text:null,query:null,ngContent:null}}function Po(t,e,n){var i,o=n.element,a=t.root.selectorOrNode,s=t.renderer;if(t.parent||!a){i=o.name?s.createElement(o.name,o.ns):s.createComment("");var u=so(t,e,n);u&&s.appendChild(u,i)}else i=s.selectRootElement(a);if(o.attrs)for(var l=0;l<o.attrs.length;l++){var c=Object(r.__read)(o.attrs[l],3);s.setAttribute(i,c[1],c[2],c[0])}return i}function Ao(t,e,n,r){for(var i=0;i<n.outputs.length;i++){var o=n.outputs[i],a=To(t,n.nodeIndex,eo(o.target,o.eventName)),s=o.target,u=t;"component"===o.target&&(s=null,u=e);var l=u.renderer.listen(s||r,o.eventName,a);t.disposables[n.outputIndex+i]=l}}function To(t,e,n){return function(r){return Ji(t,e,n,r)}}function Eo(t,e,n,r){if(!Gi(t,e,n,r))return!1;var i=e.bindings[n],o=Ti(t,e.nodeIndex),a=o.renderElement,s=i.name;switch(15&i.flags){case 1:!function(t,e,n,r,i,o){var a=e.securityContext,s=a?t.root.sanitizer.sanitize(a,o):o;s=null!=s?s.toString():null;var u=t.renderer;null!=o?u.setAttribute(n,i,s,r):u.removeAttribute(n,i,r)}(t,i,a,i.ns,s,r);break;case 2:!function(t,e,n,r){var i=t.renderer;r?i.addClass(e,n):i.removeClass(e,n)}(t,a,s,r);break;case 4:!function(t,e,n,r,i){var o=t.root.sanitizer.sanitize(Ci.STYLE,i);if(null!=o){o=o.toString();var a=e.suffix;null!=a&&(o+=a)}else o=null;var s=t.renderer;null!=o?s.setStyle(n,r,o):s.removeStyle(n,r)}(t,i,a,s,r);break;case 8:!function(t,e,n,r,i){var o=e.securityContext,a=o?t.root.sanitizer.sanitize(o,i):i;t.renderer.setProperty(n,r,a)}(33554432&e.flags&&32&i.flags?o.componentView:t,i,a,s,r)}return!0}var Oo=new Object,ko=Vi(xt),Ro=Vi(bt),Io=Vi(ln);function Mo(t,e,n,r){return n=ct(n),{index:-1,deps:ao(r,nt(e)),flags:t,token:e,value:n}}function No(t){for(var e={},n=[],r=!1,i=0;i<t.length;i++){var o=t[i];o.token===_e&&(r=!0),1073741824&o.flags&&n.push(o.token),o.index=i,e[Vi(o.token)]=o}return{factory:null,providersByKey:e,providers:t,modules:n,isRoot:r}}function Lo(t,e,n){void 0===n&&(n=xt.THROW_IF_NOT_FOUND);var r,i,o=Lt(t);try{if(8&e.flags)return e.token;if(2&e.flags&&(n=null),1&e.flags)return t._parent.get(e.token,n);var a=e.tokenKey;switch(a){case ko:case Ro:case Io:return t}var s=t._def.providersByKey[a];if(s){var u=t._providers[s.index];return void 0===u&&(u=t._providers[s.index]=Fo(t,s)),u===Oo?void 0:u}if(e.token.ngInjectableDef&&(r=t,null!=(i=e.token.ngInjectableDef).providedIn&&(function(t,e){return t._def.modules.indexOf(i.providedIn)>-1}(r)||"root"===i.providedIn&&r._def.isRoot))){var l=t._providers.length;return t._def.providersByKey[e.tokenKey]={flags:5120,value:e.token.ngInjectableDef.factory,deps:[],index:l,token:e.token},t._providers[l]=Oo,t._providers[l]=Fo(t,t._def.providersByKey[e.tokenKey])}return 4&e.flags?n:t._parent.get(e.token,n)}finally{Lt(o)}}function Fo(t,e){var n;switch(201347067&e.flags){case 512:n=function(t,e,n){var i=n.length;switch(i){case 0:return new e;case 1:return new e(Lo(t,n[0]));case 2:return new e(Lo(t,n[0]),Lo(t,n[1]));case 3:return new e(Lo(t,n[0]),Lo(t,n[1]),Lo(t,n[2]));default:for(var o=new Array(i),a=0;a<i;a++)o[a]=Lo(t,n[a]);return new(e.bind.apply(e,Object(r.__spread)([void 0],o)))}}(t,e.value,e.deps);break;case 1024:n=function(t,e,n){var i=n.length;switch(i){case 0:return e();case 1:return e(Lo(t,n[0]));case 2:return e(Lo(t,n[0]),Lo(t,n[1]));case 3:return e(Lo(t,n[0]),Lo(t,n[1]),Lo(t,n[2]));default:for(var o=Array(i),a=0;a<i;a++)o[a]=Lo(t,n[a]);return e.apply(void 0,Object(r.__spread)(o))}}(t,e.value,e.deps);break;case 2048:n=Lo(t,e.deps[0]);break;case 256:n=e.value}return n===Oo||null==n||"object"!=typeof n||131072&e.flags||"function"!=typeof n.ngOnDestroy||(e.flags|=131072),void 0===n?Oo:n}function jo(t,e){var n=t.viewContainer._embeddedViews;if((null==e||e>=n.length)&&(e=n.length-1),e<0)return null;var r=n[e];return r.viewContainerParent=null,Wo(n,e),Ii.dirtyParentQueries(r),zo(r),r}function Vo(t,e,n){var r=e?to(e,e.def.lastRenderRootNode):t.renderElement;co(n,2,n.renderer.parentNode(r),n.renderer.nextSibling(r),void 0)}function zo(t){co(t,3,null,null,void 0)}function Bo(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Wo(t,e){e>=t.length-1?t.pop():t.splice(e,1)}var Ho=new Object;function Xo(t,e,n,r,i,o){return new Uo(t,e,n,r,i,o)}function qo(t){return t.viewDefFactory}var Uo=function(t){function e(e,n,r,i,o,a){var s=t.call(this)||this;return s.selector=e,s.componentType=n,s._inputs=i,s._outputs=o,s.ngContentSelectors=a,s.viewDefFactory=r,s}return Object(r.__extends)(e,t),Object.defineProperty(e.prototype,"inputs",{get:function(){var t=[],e=this._inputs;for(var n in e)t.push({propName:n,templateName:e[n]});return t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outputs",{get:function(){var t=[];for(var e in this._outputs)t.push({propName:e,templateName:this._outputs[e]});return t},enumerable:!0,configurable:!0}),e.prototype.create=function(t,e,n,r){if(!r)throw new Error("ngModule should be provided");var i=lo(this.viewDefFactory),o=i.nodes[0].element.componentProvider.nodeIndex,a=Ii.createRootView(t,e||[],n,i,r,Ho),s=Ei(a,o).instance;return n&&a.renderer.setAttribute(Ti(a,0).renderElement,"ng-version",Kt.full),new Go(a,new Jo(a),s)},e}($e),Go=function(t){function e(e,n,r){var i=t.call(this)||this;return i._view=e,i._viewRef=n,i._component=r,i._elDef=i._view.def.nodes[0],i.hostView=n,i.changeDetectorRef=n,i.instance=r,i}return Object(r.__extends)(e,t),Object.defineProperty(e.prototype,"location",{get:function(){return new rr(Ti(this._view,this._elDef.nodeIndex).renderElement)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"injector",{get:function(){return new ea(this._view,this._elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"componentType",{get:function(){return this._component.constructor},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){this._viewRef.destroy()},e.prototype.onDestroy=function(t){this._viewRef.onDestroy(t)},e}(Qe);function Yo(t,e,n){return new Ko(t,e,n)}var Ko=function(){function t(t,e,n){this._view=t,this._elDef=e,this._data=n,this._embeddedViews=[]}return Object.defineProperty(t.prototype,"element",{get:function(){return new rr(this._data.renderElement)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return new ea(this._view,this._elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parentInjector",{get:function(){for(var t=this._view,e=this._elDef.parent;!e&&t;)e=$i(t),t=t.parent;return t?new ea(t,e):new ea(this._view,null)},enumerable:!0,configurable:!0}),t.prototype.clear=function(){for(var t=this._embeddedViews.length-1;t>=0;t--){var e=jo(this._data,t);Ii.destroyView(e)}},t.prototype.get=function(t){var e=this._embeddedViews[t];if(e){var n=new Jo(e);return n.attachToViewContainerRef(this),n}return null},Object.defineProperty(t.prototype,"length",{get:function(){return this._embeddedViews.length},enumerable:!0,configurable:!0}),t.prototype.createEmbeddedView=function(t,e,n){var r=t.createEmbeddedView(e||{});return this.insert(r,n),r},t.prototype.createComponent=function(t,e,n,r,i){var o=n||this.parentInjector;i||t instanceof un||(i=o.get(ln));var a=t.create(o,r,void 0,i);return this.insert(a.hostView,e),a},t.prototype.insert=function(t,e){if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");var n,r,i,o,a=t;return i=a._view,o=(n=this._data).viewContainer._embeddedViews,null!==(r=e)&&void 0!==r||(r=o.length),i.viewContainerParent=this._view,Bo(o,r,i),function(t,e){var n=Qi(e);if(n&&n!==t&&!(16&e.state)){e.state|=16;var r=n.template._projectedViews;r||(r=n.template._projectedViews=[]),r.push(e),function(t,n){if(!(4&n.flags)){e.parent.def.nodeFlags|=4,n.flags|=4;for(var r=n.parent;r;)r.childFlags|=4,r=r.parent}}(0,e.parentNodeDef)}}(n,i),Ii.dirtyParentQueries(i),Vo(n,r>0?o[r-1]:null,i),a.attachToViewContainerRef(this),t},t.prototype.move=function(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");var n,r,i,o,a,s=this._embeddedViews.indexOf(t._view);return i=e,a=(o=(n=this._data).viewContainer._embeddedViews)[r=s],Wo(o,r),null==i&&(i=o.length),Bo(o,i,a),Ii.dirtyParentQueries(a),zo(a),Vo(n,i>0?o[i-1]:null,a),t},t.prototype.indexOf=function(t){return this._embeddedViews.indexOf(t._view)},t.prototype.remove=function(t){var e=jo(this._data,t);e&&Ii.destroyView(e)},t.prototype.detach=function(t){var e=jo(this._data,t);return e?new Jo(e):null},t}();function Zo(t){return new Jo(t)}var Jo=function(){function t(t){this._view=t,this._viewContainerRef=null,this._appRef=null}return Object.defineProperty(t.prototype,"rootNodes",{get:function(){return co(this._view,0,void 0,void 0,t=[]),t;var t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this._view.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"destroyed",{get:function(){return 0!=(128&this._view.state)},enumerable:!0,configurable:!0}),t.prototype.markForCheck=function(){Ki(this._view)},t.prototype.detach=function(){this._view.state&=-5},t.prototype.detectChanges=function(){var t=this._view.root.rendererFactory;t.begin&&t.begin();try{Ii.checkAndUpdateView(this._view)}finally{t.end&&t.end()}},t.prototype.checkNoChanges=function(){Ii.checkNoChangesView(this._view)},t.prototype.reattach=function(){this._view.state|=4},t.prototype.onDestroy=function(t){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(t)},t.prototype.destroy=function(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),Ii.destroyView(this._view)},t.prototype.detachFromAppRef=function(){this._appRef=null,zo(this._view),Ii.dirtyParentQueries(this._view)},t.prototype.attachToAppRef=function(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t},t.prototype.attachToViewContainerRef=function(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t},t}();function Qo(t,e){return new $o(t,e)}var $o=function(t){function e(e,n){var r=t.call(this)||this;return r._parentView=e,r._def=n,r}return Object(r.__extends)(e,t),e.prototype.createEmbeddedView=function(t){return new Jo(Ii.createEmbeddedView(this._parentView,this._def,this._def.element.template,t))},Object.defineProperty(e.prototype,"elementRef",{get:function(){return new rr(Ti(this._parentView,this._def.nodeIndex).renderElement)},enumerable:!0,configurable:!0}),e}(dr);function ta(t,e){return new ea(t,e)}var ea=function(){function t(t,e){this.view=t,this.elDef=e}return t.prototype.get=function(t,e){return void 0===e&&(e=xt.THROW_IF_NOT_FOUND),Ii.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:t,tokenKey:Vi(t)},e)},t}();function na(t,e){var n=t.def.nodes[e];if(1&n.flags){var r=Ti(t,n.nodeIndex);return n.element.template?r.template:r.renderElement}if(2&n.flags)return Ai(t,n.nodeIndex).renderText;if(20240&n.flags)return Ei(t,n.nodeIndex).instance;throw new Error("Illegal state: read nodeValue for node index "+e)}function ra(t){return new ia(t.renderer)}var ia=function(){function t(t){this.delegate=t}return t.prototype.selectRootElement=function(t){return this.delegate.selectRootElement(t)},t.prototype.createElement=function(t,e){var n=Object(r.__read)(mo(e),2),i=this.delegate.createElement(n[1],n[0]);return t&&this.delegate.appendChild(t,i),i},t.prototype.createViewRoot=function(t){return t},t.prototype.createTemplateAnchor=function(t){var e=this.delegate.createComment("");return t&&this.delegate.appendChild(t,e),e},t.prototype.createText=function(t,e){var n=this.delegate.createText(e);return t&&this.delegate.appendChild(t,n),n},t.prototype.projectNodes=function(t,e){for(var n=0;n<e.length;n++)this.delegate.appendChild(t,e[n])},t.prototype.attachViewAfter=function(t,e){for(var n=this.delegate.parentNode(t),r=this.delegate.nextSibling(t),i=0;i<e.length;i++)this.delegate.insertBefore(n,e[i],r)},t.prototype.detachView=function(t){for(var e=0;e<t.length;e++){var n=t[e],r=this.delegate.parentNode(n);this.delegate.removeChild(r,n)}},t.prototype.destroyView=function(t,e){for(var n=0;n<e.length;n++)this.delegate.destroyNode(e[n])},t.prototype.listen=function(t,e,n){return this.delegate.listen(t,e,n)},t.prototype.listenGlobal=function(t,e,n){return this.delegate.listen(t,e,n)},t.prototype.setElementProperty=function(t,e,n){this.delegate.setProperty(t,e,n)},t.prototype.setElementAttribute=function(t,e,n){var i=Object(r.__read)(mo(e),2),o=i[0],a=i[1];null!=n?this.delegate.setAttribute(t,a,n,o):this.delegate.removeAttribute(t,a,o)},t.prototype.setBindingDebugInfo=function(t,e,n){},t.prototype.setElementClass=function(t,e,n){n?this.delegate.addClass(t,e):this.delegate.removeClass(t,e)},t.prototype.setElementStyle=function(t,e,n){null!=n?this.delegate.setStyle(t,e,n):this.delegate.removeStyle(t,e)},t.prototype.invokeElementMethod=function(t,e,n){t[e].apply(t,n)},t.prototype.setText=function(t,e){this.delegate.setValue(t,e)},t.prototype.animate=function(){throw new Error("Renderer.animate is no longer supported!")},t}();function oa(t,e,n,r){return new aa(t,e,n,r)}var aa=function(){function t(t,e,n,r){this._moduleType=t,this._parent=e,this._bootstrapComponents=n,this._def=r,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(t){for(var e=t._def,n=t._providers=new Array(e.providers.length),r=0;r<e.providers.length;r++){var i=e.providers[r];4096&i.flags||void 0===n[r]&&(n[r]=Fo(t,i))}}(this)}return t.prototype.get=function(t,e,n){void 0===e&&(e=xt.THROW_IF_NOT_FOUND),void 0===n&&(n=0);var r=0;return 4&n?r|=1:2&n&&(r|=4),Lo(this,{token:t,tokenKey:Vi(t),flags:r},e)},Object.defineProperty(t.prototype,"instance",{get:function(){return this.get(this._moduleType)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentFactoryResolver",{get:function(){return this.get(an)},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){if(this._destroyed)throw new Error("The ng module "+nt(this.instance.constructor)+" has already been destroyed.");this._destroyed=!0,function(t,e){for(var n=t._def,r=new Set,i=0;i<n.providers.length;i++)if(131072&n.providers[i].flags){var o=t._providers[i];if(o&&o!==Oo){var a=o.ngOnDestroy;"function"!=typeof a||r.has(o)||(a.apply(o),r.add(o))}}}(this),this._destroyListeners.forEach(function(t){return t()})},t.prototype.onDestroy=function(t){this._destroyListeners.push(t)},t}(),sa=Vi(Qn),ua=Vi(nr),la=Vi(rr),ca=Vi(pr),fa=Vi(dr),ha=Vi(vr),da=Vi(xt),pa=Vi(bt);function va(t,e,n,i,o,a,s,u){var l=[];if(s)for(var c in s){var f=Object(r.__read)(s[c],2);l[f[0]]={flags:8,name:c,nonMinifiedName:f[1],ns:null,securityContext:null,suffix:null}}var h=[];if(u)for(var d in u)h.push({type:1,propName:d,target:null,eventName:u[d]});return ya(t,e|=16384,n,i,o,o,a,l,h)}function ga(t,e,n){return ya(-1,t|=16,null,0,e,e,n)}function ma(t,e,n,r,i){return ya(-1,t,e,0,n,r,i)}function ya(t,e,n,r,i,o,a,s,u){var l=oo(n),c=l.matchedQueries,f=l.references,h=l.matchedQueryIds;u||(u=[]),s||(s=[]),o=ct(o);var d=ao(a,nt(i));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:c,matchedQueryIds:h,references:f,ngContentIndex:-1,childCount:r,bindings:s,bindingFlags:yo(s),outputs:u,element:null,provider:{token:i,value:o,deps:d},text:null,query:null,ngContent:null}}function ba(t,e){return Ca(t,e)}function wa(t,e){for(var n=t;n.parent&&!no(n);)n=n.parent;return Sa(n.parent,$i(n),!0,e.provider.value,e.provider.deps)}function xa(t,e){var n=Sa(t,e.parent,(32768&e.flags)>0,e.provider.value,e.provider.deps);if(e.outputs.length)for(var r=0;r<e.outputs.length;r++){var i=e.outputs[r],o=n[i.propName].subscribe(_a(t,e.parent.nodeIndex,i.eventName));t.disposables[e.outputIndex+r]=o.unsubscribe.bind(o)}return n}function _a(t,e,n){return function(r){return Ji(t,e,n,r)}}function Ca(t,e){var n=(8192&e.flags)>0,i=e.provider;switch(201347067&e.flags){case 512:return Sa(t,e.parent,n,i.value,i.deps);case 1024:return function(t,e,n,i,o){var a=o.length;switch(a){case 0:return i();case 1:return i(Pa(t,e,n,o[0]));case 2:return i(Pa(t,e,n,o[0]),Pa(t,e,n,o[1]));case 3:return i(Pa(t,e,n,o[0]),Pa(t,e,n,o[1]),Pa(t,e,n,o[2]));default:for(var s=Array(a),u=0;u<a;u++)s[u]=Pa(t,e,n,o[u]);return i.apply(void 0,Object(r.__spread)(s))}}(t,e.parent,n,i.value,i.deps);case 2048:return Pa(t,e.parent,n,i.deps[0]);case 256:return i.value}}function Sa(t,e,n,i,o){var a=o.length;switch(a){case 0:return new i;case 1:return new i(Pa(t,e,n,o[0]));case 2:return new i(Pa(t,e,n,o[0]),Pa(t,e,n,o[1]));case 3:return new i(Pa(t,e,n,o[0]),Pa(t,e,n,o[1]),Pa(t,e,n,o[2]));default:for(var s=new Array(a),u=0;u<a;u++)s[u]=Pa(t,e,n,o[u]);return new(i.bind.apply(i,Object(r.__spread)([void 0],s)))}}var Da={};function Pa(t,e,n,r,i){if(void 0===i&&(i=xt.THROW_IF_NOT_FOUND),8&r.flags)return r.token;var o=t;2&r.flags&&(i=null);var a=r.tokenKey;a===ha&&(n=!(!e||!e.element.componentView)),e&&1&r.flags&&(n=!1,e=e.parent);for(var s=t;s;){if(e)switch(a){case sa:return ra(Aa(s,e,n));case ua:return Aa(s,e,n).renderer;case la:return new rr(Ti(s,e.nodeIndex).renderElement);case ca:return Ti(s,e.nodeIndex).viewContainer;case fa:if(e.element.template)return Ti(s,e.nodeIndex).template;break;case ha:return Zo(Aa(s,e,n));case da:case pa:return ta(s,e);default:var u=(n?e.element.allProviders:e.element.publicProviders)[a];if(u){var l=Ei(s,u.nodeIndex);return l||(l={instance:Ca(s,u)},s.nodes[u.nodeIndex]=l),l.instance}}n=no(s),e=$i(s),s=s.parent,4&r.flags&&(s=null)}var c=o.root.injector.get(r.token,Da);return c!==Da||i===Da?c:o.root.ngModule.injector.get(r.token,i)}function Aa(t,e,n){var r;if(n)r=Ti(t,e.nodeIndex).componentView;else for(r=t;r.parent&&!no(r);)r=r.parent;return r}function Ta(t,e,n,r,i,o){if(32768&n.flags){var a=Ti(t,n.parent.nodeIndex).componentView;2&a.def.flags&&(a.state|=8)}if(e.instance[n.bindings[r].name]=i,524288&n.flags){o=o||{};var s=Dr.unwrap(t.oldValues[n.bindingIndex+r]);o[n.bindings[r].nonMinifiedName]=new Pr(s,i,0!=(2&t.state))}return t.oldValues[n.bindingIndex+r]=i,o}function Ea(t,e){if(t.def.nodeFlags&e)for(var n=t.def.nodes,r=0,i=0;i<n.length;i++){var o=n[i],a=o.parent;for(!a&&o.flags&e&&ka(t,i,o.flags&e,r++),0==(o.childFlags&e)&&(i+=o.childCount);a&&1&a.flags&&i===a.nodeIndex+a.childCount;)a.directChildFlags&e&&(r=Oa(t,a,e,r)),a=a.parent}}function Oa(t,e,n,r){for(var i=e.nodeIndex+1;i<=e.nodeIndex+e.childCount;i++){var o=t.def.nodes[i];o.flags&n&&ka(t,i,o.flags&n,r++),i+=o.childCount}return r}function ka(t,e,n,r){var i=Ei(t,e);if(i){var o=i.instance;o&&(Ii.setCurrentNode(t,e),1048576&n&&Pi(t,512,r)&&o.ngAfterContentInit(),2097152&n&&o.ngAfterContentChecked(),4194304&n&&Pi(t,768,r)&&o.ngAfterViewInit(),8388608&n&&o.ngAfterViewChecked(),131072&n&&o.ngOnDestroy())}}function Ra(t,e,n){var r=[];for(var i in n)r.push({propName:i,bindingType:n[i]});return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:e,filterId:io(e),bindings:r},ngContent:null}}function Ia(t){for(var e=t.def.nodeMatchedQueries;t.parent&&ro(t);){var n=t.parentNodeDef;t=t.parent;for(var r=n.nodeIndex+n.childCount,i=0;i<=r;i++)67108864&(o=t.def.nodes[i]).flags&&536870912&o.flags&&(o.query.filterId&e)===o.query.filterId&&ki(t,i).setDirty(),!(1&o.flags&&i+o.childCount<n.nodeIndex)&&67108864&o.childFlags&&536870912&o.childFlags||(i+=o.childCount)}if(134217728&t.def.nodeFlags)for(i=0;i<t.def.nodes.length;i++){var o;134217728&(o=t.def.nodes[i]).flags&&536870912&o.flags&&ki(t,i).setDirty(),i+=o.childCount}}function Ma(t,e){var n=ki(t,e.nodeIndex);if(n.dirty){var r,i=void 0;if(67108864&e.flags){var o=e.parent.parent;i=Na(t,o.nodeIndex,o.nodeIndex+o.childCount,e.query,[]),r=Ei(t,e.parent.nodeIndex).instance}else 134217728&e.flags&&(i=Na(t,0,t.def.nodes.length-1,e.query,[]),r=t.component);n.reset(i);for(var a=e.query.bindings,s=!1,u=0;u<a.length;u++){var l=a[u],c=void 0;switch(l.bindingType){case 0:c=n.first;break;case 1:c=n,s=!0}r[l.propName]=c}s&&n.notifyOnChanges()}}function Na(t,e,n,r,i){for(var o=e;o<=n;o++){var a=t.def.nodes[o],s=a.matchedQueries[r.id];if(null!=s&&i.push(La(t,a,s)),1&a.flags&&a.element.template&&(a.element.template.nodeMatchedQueries&r.filterId)===r.filterId){var u=Ti(t,o);if((a.childMatchedQueries&r.filterId)===r.filterId&&(Na(t,o+1,o+a.childCount,r,i),o+=a.childCount),16777216&a.flags)for(var l=u.viewContainer._embeddedViews,c=0;c<l.length;c++){var f=l[c],h=Qi(f);h&&h===u&&Na(f,0,f.def.nodes.length-1,r,i)}var d=u.template._projectedViews;if(d)for(c=0;c<d.length;c++){var p=d[c];Na(p,0,p.def.nodes.length-1,r,i)}}(a.childMatchedQueries&r.filterId)!==r.filterId&&(o+=a.childCount)}return i}function La(t,e,n){if(null!=n)switch(n){case 1:return Ti(t,e.nodeIndex).renderElement;case 0:return new rr(Ti(t,e.nodeIndex).renderElement);case 2:return Ti(t,e.nodeIndex).template;case 3:return Ti(t,e.nodeIndex).viewContainer;case 4:return Ei(t,e.nodeIndex).instance}}function Fa(t,e){return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:8,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:null,ngContent:{index:e}}}function ja(t,e,n){var r=so(t,e,n);r&&ho(t,n.ngContent.index,1,r,null,void 0)}function Va(t,e){return Wa(128,t,new Array(e+1))}function za(t,e){return Wa(32,t,new Array(e))}function Ba(t,e){for(var n=Object.keys(e),r=n.length,i=new Array(r),o=0;o<r;o++){var a=n[o];i[e[a]]=a}return Wa(64,t,i)}function Wa(t,e,n){for(var r=new Array(n.length),i=0;i<n.length;i++){var o=n[i];r[i]={flags:8,name:o,ns:null,nonMinifiedName:o,securityContext:null,suffix:null}}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:r,bindingFlags:yo(r),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}function Ha(t,e,n){for(var r=new Array(n.length-1),i=1;i<n.length;i++)r[i-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[i]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:e,childCount:0,bindings:r,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function Xa(t,e,n){var r,i=t.renderer;r=i.createText(n.text.prefix);var o=so(t,e,n);return o&&i.appendChild(o,r),{renderText:r}}function qa(t,e){return(null!=t?t.toString():"")+e.suffix}function Ua(t,e,n,r){for(var i=0,o=0,a=0,s=0,u=0,l=null,c=null,f=!1,h=!1,d=null,p=0;p<e.length;p++){var v=e[p];if(v.nodeIndex=p,v.parent=l,v.bindingIndex=i,v.outputIndex=o,v.renderParent=c,a|=v.flags,u|=v.matchedQueryIds,v.element){var g=v.element;g.publicProviders=l?l.element.publicProviders:Object.create(null),g.allProviders=g.publicProviders,f=!1,h=!1,v.element.template&&(u|=v.element.template.nodeMatchedQueries)}if(Ya(l,v,e.length),i+=v.bindings.length,o+=v.outputs.length,!c&&3&v.flags&&(d=v),20224&v.flags){f||(f=!0,l.element.publicProviders=Object.create(l.element.publicProviders),l.element.allProviders=l.element.publicProviders);var m=0!=(32768&v.flags);0==(8192&v.flags)||m?l.element.publicProviders[Vi(v.provider.token)]=v:(h||(h=!0,l.element.allProviders=Object.create(l.element.publicProviders)),l.element.allProviders[Vi(v.provider.token)]=v),m&&(l.element.componentProvider=v)}if(l?(l.childFlags|=v.flags,l.directChildFlags|=v.flags,l.childMatchedQueries|=v.matchedQueryIds,v.element&&v.element.template&&(l.childMatchedQueries|=v.element.template.nodeMatchedQueries)):s|=v.flags,v.childCount>0)l=v,Ga(v)||(c=v);else for(;l&&p===l.nodeIndex+l.childCount;){var y=l.parent;y&&(y.childFlags|=l.childFlags,y.childMatchedQueries|=l.childMatchedQueries),c=(l=y)&&Ga(l)?l.renderParent:l}}return{factory:null,nodeFlags:a,rootNodeFlags:s,nodeMatchedQueries:u,flags:t,nodes:e,updateDirectives:n||Fi,updateRenderer:r||Fi,handleEvent:function(t,n,r,i){return e[n].element.handleEvent(t,r,i)},bindingCount:i,outputCount:o,lastRenderRootNode:d}}function Ga(t){return 0!=(1&t.flags)&&null===t.element.name}function Ya(t,e,n){var r=e.element&&e.element.template;if(r){if(!r.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(r.lastRenderRootNode&&16777216&r.lastRenderRootNode.flags)throw new Error("Illegal State: Last root node of a template can't have embedded views, at index "+e.nodeIndex+"!")}if(20224&e.flags&&0==(1&(t?t.flags:0)))throw new Error("Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index "+e.nodeIndex+"!");if(e.query){if(67108864&e.flags&&(!t||0==(16384&t.flags)))throw new Error("Illegal State: Content Query nodes need to be children of directives, at index "+e.nodeIndex+"!");if(134217728&e.flags&&t)throw new Error("Illegal State: View Query nodes have to be top level nodes, at index "+e.nodeIndex+"!")}if(e.childCount){var i=t?t.nodeIndex+t.childCount:n-1;if(e.nodeIndex<=i&&e.nodeIndex+e.childCount>i)throw new Error("Illegal State: childCount of node leads outside of parent, at index "+e.nodeIndex+"!")}}function Ka(t,e,n,r){var i=Qa(t.root,t.renderer,t,e,n);return $a(i,t.component,r),ts(i),i}function Za(t,e,n){var r=Qa(t,t.renderer,null,null,e);return $a(r,n,n),ts(r),r}function Ja(t,e,n,r){var i,o=e.element.componentRendererType;return i=o?t.root.rendererFactory.createRenderer(r,o):t.root.renderer,Qa(t.root,i,t,e.element.componentProvider,n)}function Qa(t,e,n,r,i){var o=new Array(i.nodes.length),a=i.outputCount?new Array(i.outputCount):null;return{def:i,parent:n,viewContainerParent:null,parentNodeDef:r,context:null,component:null,nodes:o,state:13,root:t,renderer:e,oldValues:new Array(i.bindingCount),disposables:a,initIndex:-1}}function $a(t,e,n){t.component=e,t.context=n}function ts(t){var e;no(t)&&(e=Ti(t.parent,t.parentNodeDef.parent.nodeIndex).renderElement);for(var n=t.def,r=t.nodes,i=0;i<n.nodes.length;i++){var o=n.nodes[i];Ii.setCurrentNode(t,i);var a=void 0;switch(201347067&o.flags){case 1:var s=Po(t,e,o),u=void 0;if(33554432&o.flags){var l=lo(o.element.componentView);u=Ii.createComponentView(t,o,l,s)}Ao(t,u,o,s),a={renderElement:s,componentView:u,viewContainer:null,template:o.element.template?Qo(t,o):void 0},16777216&o.flags&&(a.viewContainer=Yo(t,o,a));break;case 2:a=Xa(t,e,o);break;case 512:case 1024:case 2048:case 256:(a=r[i])||4096&o.flags||(a={instance:ba(t,o)});break;case 16:a={instance:wa(t,o)};break;case 16384:(a=r[i])||(a={instance:xa(t,o)}),32768&o.flags&&$a(Ti(t,o.parent.nodeIndex).componentView,a.instance,a.instance);break;case 32:case 64:case 128:a={value:void 0};break;case 67108864:case 134217728:a=new ur;break;case 8:ja(t,e,o),a=void 0}r[i]=a}ls(t,us.CreateViewNodes),ds(t,201326592,268435456,0)}function es(t){is(t),Ii.updateDirectives(t,1),cs(t,us.CheckNoChanges),Ii.updateRenderer(t,1),ls(t,us.CheckNoChanges),t.state&=-97}function ns(t){1&t.state?(t.state&=-2,t.state|=2):t.state&=-3,Di(t,0,256),is(t),Ii.updateDirectives(t,0),cs(t,us.CheckAndUpdate),ds(t,67108864,536870912,0);var e=Di(t,256,512);Ea(t,2097152|(e?1048576:0)),Ii.updateRenderer(t,0),ls(t,us.CheckAndUpdate),ds(t,134217728,536870912,0),Ea(t,8388608|((e=Di(t,512,768))?4194304:0)),2&t.def.flags&&(t.state&=-9),t.state&=-97,Di(t,768,1024)}function rs(t,e,n,i,o,a,s,u,l,c,f,h,d){return 0===n?function(t,e,n,r,i,o,a,s,u,l,c,f){switch(201347067&e.flags){case 1:return function(t,e,n,r,i,o,a,s,u,l,c,f){var h=e.bindings.length,d=!1;return h>0&&Eo(t,e,0,n)&&(d=!0),h>1&&Eo(t,e,1,r)&&(d=!0),h>2&&Eo(t,e,2,i)&&(d=!0),h>3&&Eo(t,e,3,o)&&(d=!0),h>4&&Eo(t,e,4,a)&&(d=!0),h>5&&Eo(t,e,5,s)&&(d=!0),h>6&&Eo(t,e,6,u)&&(d=!0),h>7&&Eo(t,e,7,l)&&(d=!0),h>8&&Eo(t,e,8,c)&&(d=!0),h>9&&Eo(t,e,9,f)&&(d=!0),d}(t,e,n,r,i,o,a,s,u,l,c,f);case 2:return function(t,e,n,r,i,o,a,s,u,l,c,f){var h=!1,d=e.bindings,p=d.length;if(p>0&&Gi(t,e,0,n)&&(h=!0),p>1&&Gi(t,e,1,r)&&(h=!0),p>2&&Gi(t,e,2,i)&&(h=!0),p>3&&Gi(t,e,3,o)&&(h=!0),p>4&&Gi(t,e,4,a)&&(h=!0),p>5&&Gi(t,e,5,s)&&(h=!0),p>6&&Gi(t,e,6,u)&&(h=!0),p>7&&Gi(t,e,7,l)&&(h=!0),p>8&&Gi(t,e,8,c)&&(h=!0),p>9&&Gi(t,e,9,f)&&(h=!0),h){var v=e.text.prefix;p>0&&(v+=qa(n,d[0])),p>1&&(v+=qa(r,d[1])),p>2&&(v+=qa(i,d[2])),p>3&&(v+=qa(o,d[3])),p>4&&(v+=qa(a,d[4])),p>5&&(v+=qa(s,d[5])),p>6&&(v+=qa(u,d[6])),p>7&&(v+=qa(l,d[7])),p>8&&(v+=qa(c,d[8])),p>9&&(v+=qa(f,d[9]));var g=Ai(t,e.nodeIndex).renderText;t.renderer.setValue(g,v)}return h}(t,e,n,r,i,o,a,s,u,l,c,f);case 16384:return function(t,e,n,r,i,o,a,s,u,l,c,f){var h=Ei(t,e.nodeIndex),d=h.instance,p=!1,v=void 0,g=e.bindings.length;return g>0&&Ui(t,e,0,n)&&(p=!0,v=Ta(t,h,e,0,n,v)),g>1&&Ui(t,e,1,r)&&(p=!0,v=Ta(t,h,e,1,r,v)),g>2&&Ui(t,e,2,i)&&(p=!0,v=Ta(t,h,e,2,i,v)),g>3&&Ui(t,e,3,o)&&(p=!0,v=Ta(t,h,e,3,o,v)),g>4&&Ui(t,e,4,a)&&(p=!0,v=Ta(t,h,e,4,a,v)),g>5&&Ui(t,e,5,s)&&(p=!0,v=Ta(t,h,e,5,s,v)),g>6&&Ui(t,e,6,u)&&(p=!0,v=Ta(t,h,e,6,u,v)),g>7&&Ui(t,e,7,l)&&(p=!0,v=Ta(t,h,e,7,l,v)),g>8&&Ui(t,e,8,c)&&(p=!0,v=Ta(t,h,e,8,c,v)),g>9&&Ui(t,e,9,f)&&(p=!0,v=Ta(t,h,e,9,f,v)),v&&d.ngOnChanges(v),65536&e.flags&&Pi(t,256,e.nodeIndex)&&d.ngOnInit(),262144&e.flags&&d.ngDoCheck(),p}(t,e,n,r,i,o,a,s,u,l,c,f);case 32:case 64:case 128:return function(t,e,n,r,i,o,a,s,u,l,c,f){var h=e.bindings,d=!1,p=h.length;if(p>0&&Gi(t,e,0,n)&&(d=!0),p>1&&Gi(t,e,1,r)&&(d=!0),p>2&&Gi(t,e,2,i)&&(d=!0),p>3&&Gi(t,e,3,o)&&(d=!0),p>4&&Gi(t,e,4,a)&&(d=!0),p>5&&Gi(t,e,5,s)&&(d=!0),p>6&&Gi(t,e,6,u)&&(d=!0),p>7&&Gi(t,e,7,l)&&(d=!0),p>8&&Gi(t,e,8,c)&&(d=!0),p>9&&Gi(t,e,9,f)&&(d=!0),d){var v=Oi(t,e.nodeIndex),g=void 0;switch(201347067&e.flags){case 32:g=new Array(h.length),p>0&&(g[0]=n),p>1&&(g[1]=r),p>2&&(g[2]=i),p>3&&(g[3]=o),p>4&&(g[4]=a),p>5&&(g[5]=s),p>6&&(g[6]=u),p>7&&(g[7]=l),p>8&&(g[8]=c),p>9&&(g[9]=f);break;case 64:g={},p>0&&(g[h[0].name]=n),p>1&&(g[h[1].name]=r),p>2&&(g[h[2].name]=i),p>3&&(g[h[3].name]=o),p>4&&(g[h[4].name]=a),p>5&&(g[h[5].name]=s),p>6&&(g[h[6].name]=u),p>7&&(g[h[7].name]=l),p>8&&(g[h[8].name]=c),p>9&&(g[h[9].name]=f);break;case 128:var m=n;switch(p){case 1:g=m.transform(n);break;case 2:g=m.transform(r);break;case 3:g=m.transform(r,i);break;case 4:g=m.transform(r,i,o);break;case 5:g=m.transform(r,i,o,a);break;case 6:g=m.transform(r,i,o,a,s);break;case 7:g=m.transform(r,i,o,a,s,u);break;case 8:g=m.transform(r,i,o,a,s,u,l);break;case 9:g=m.transform(r,i,o,a,s,u,l,c);break;case 10:g=m.transform(r,i,o,a,s,u,l,c,f)}}v.value=g}return d}(t,e,n,r,i,o,a,s,u,l,c,f);default:throw"unreachable"}}(t,e,i,o,a,s,u,l,c,f,h,d):function(t,e,n){switch(201347067&e.flags){case 1:return function(t,e,n){for(var r=!1,i=0;i<n.length;i++)Eo(t,e,i,n[i])&&(r=!0);return r}(t,e,n);case 2:return function(t,e,n){for(var r=e.bindings,i=!1,o=0;o<n.length;o++)Gi(t,e,o,n[o])&&(i=!0);if(i){var a="";for(o=0;o<n.length;o++)a+=qa(n[o],r[o]);a=e.text.prefix+a;var s=Ai(t,e.nodeIndex).renderText;t.renderer.setValue(s,a)}return i}(t,e,n);case 16384:return function(t,e,n){for(var r=Ei(t,e.nodeIndex),i=r.instance,o=!1,a=void 0,s=0;s<n.length;s++)Ui(t,e,s,n[s])&&(o=!0,a=Ta(t,r,e,s,n[s],a));return a&&i.ngOnChanges(a),65536&e.flags&&Pi(t,256,e.nodeIndex)&&i.ngOnInit(),262144&e.flags&&i.ngDoCheck(),o}(t,e,n);case 32:case 64:case 128:return function(t,e,n){for(var i=e.bindings,o=!1,a=0;a<n.length;a++)Gi(t,e,a,n[a])&&(o=!0);if(o){var s=Oi(t,e.nodeIndex),u=void 0;switch(201347067&e.flags){case 32:u=n;break;case 64:for(u={},a=0;a<n.length;a++)u[i[a].name]=n[a];break;case 128:var l=n[0],c=n.slice(1);u=l.transform.apply(l,Object(r.__spread)(c))}s.value=u}return o}(t,e,n);default:throw"unreachable"}}(t,e,i)}function is(t){var e=t.def;if(4&e.nodeFlags)for(var n=0;n<e.nodes.length;n++){var r=e.nodes[n];if(4&r.flags){var i=Ti(t,n).template._projectedViews;if(i)for(var o=0;o<i.length;o++){var a=i[o];a.state|=32,Zi(a,t)}}else 0==(4&r.childFlags)&&(n+=r.childCount)}}function os(t,e,n,r,i,o,a,s,u,l,c,f,h){return 0===n?function(t,e,n,r,i,o,a,s,u,l,c,f){var h=e.bindings.length;h>0&&Yi(t,e,0,n),h>1&&Yi(t,e,1,r),h>2&&Yi(t,e,2,i),h>3&&Yi(t,e,3,o),h>4&&Yi(t,e,4,a),h>5&&Yi(t,e,5,s),h>6&&Yi(t,e,6,u),h>7&&Yi(t,e,7,l),h>8&&Yi(t,e,8,c),h>9&&Yi(t,e,9,f)}(t,e,r,i,o,a,s,u,l,c,f,h):function(t,e,n){for(var r=0;r<n.length;r++)Yi(t,e,r,n[r])}(t,e,r),!1}function as(t,e){if(ki(t,e.nodeIndex).dirty)throw Mi(Ii.createDebugContext(t,e.nodeIndex),"Query "+e.query.id+" not dirty","Query "+e.query.id+" dirty",0!=(1&t.state))}function ss(t){if(!(128&t.state)){if(cs(t,us.Destroy),ls(t,us.Destroy),Ea(t,131072),t.disposables)for(var e=0;e<t.disposables.length;e++)t.disposables[e]();!function(t){if(16&t.state){var e=Qi(t);if(e){var n=e.template._projectedViews;n&&(Wo(n,n.indexOf(t)),Ii.dirtyParentQueries(t))}}}(t),t.renderer.destroyNode&&function(t){for(var e=t.def.nodes.length,n=0;n<e;n++){var r=t.def.nodes[n];1&r.flags?t.renderer.destroyNode(Ti(t,n).renderElement):2&r.flags?t.renderer.destroyNode(Ai(t,n).renderText):(67108864&r.flags||134217728&r.flags)&&ki(t,n).destroy()}}(t),no(t)&&t.renderer.destroy(),t.state|=128}}var us=function(t){return t[t.CreateViewNodes=0]="CreateViewNodes",t[t.CheckNoChanges=1]="CheckNoChanges",t[t.CheckNoChangesProjectedViews=2]="CheckNoChangesProjectedViews",t[t.CheckAndUpdate=3]="CheckAndUpdate",t[t.CheckAndUpdateProjectedViews=4]="CheckAndUpdateProjectedViews",t[t.Destroy=5]="Destroy",t}({});function ls(t,e){var n=t.def;if(33554432&n.nodeFlags)for(var r=0;r<n.nodes.length;r++){var i=n.nodes[r];33554432&i.flags?fs(Ti(t,r).componentView,e):0==(33554432&i.childFlags)&&(r+=i.childCount)}}function cs(t,e){var n=t.def;if(16777216&n.nodeFlags)for(var r=0;r<n.nodes.length;r++){var i=n.nodes[r];if(16777216&i.flags)for(var o=Ti(t,r).viewContainer._embeddedViews,a=0;a<o.length;a++)fs(o[a],e);else 0==(16777216&i.childFlags)&&(r+=i.childCount)}}function fs(t,e){var n=t.state;switch(e){case us.CheckNoChanges:0==(128&n)&&(12==(12&n)?es(t):64&n&&hs(t,us.CheckNoChangesProjectedViews));break;case us.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?es(t):64&n&&hs(t,e));break;case us.CheckAndUpdate:0==(128&n)&&(12==(12&n)?ns(t):64&n&&hs(t,us.CheckAndUpdateProjectedViews));break;case us.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?ns(t):64&n&&hs(t,e));break;case us.Destroy:ss(t);break;case us.CreateViewNodes:ts(t)}}function hs(t,e){cs(t,e),ls(t,e)}function ds(t,e,n,r){if(t.def.nodeFlags&e&&t.def.nodeFlags&n)for(var i=t.def.nodes.length,o=0;o<i;o++){var a=t.def.nodes[o];if(a.flags&e&&a.flags&n)switch(Ii.setCurrentNode(t,a.nodeIndex),r){case 0:Ma(t,a);break;case 1:as(t,a)}a.childFlags&e&&a.childFlags&n||(o+=a.childCount)}}var ps=!1;function vs(){if(!ps){ps=!0;var t=Vn()?{setCurrentNode:js,createRootView:ms,createEmbeddedView:bs,createComponentView:ws,createNgModuleRef:xs,overrideProvider:Ds,overrideComponentView:Ps,clearOverrides:As,checkAndUpdateView:ks,checkNoChangesView:Rs,destroyView:Is,createDebugContext:function(t,e){return new Ys(t,e)},handleEvent:Vs,updateDirectives:zs,updateRenderer:Bs}:{setCurrentNode:function(){},createRootView:gs,createEmbeddedView:Ka,createComponentView:Ja,createNgModuleRef:oa,overrideProvider:Fi,overrideComponentView:Fi,clearOverrides:Fi,checkAndUpdateView:ns,checkNoChangesView:es,destroyView:ss,createDebugContext:function(t,e){return new Ys(t,e)},handleEvent:function(t,e,n,r){return t.def.handleEvent(t,e,n,r)},updateDirectives:function(t,e){return t.def.updateDirectives(0===e?Es:Os,t)},updateRenderer:function(t,e){return t.def.updateRenderer(0===e?Es:Os,t)}};Ii.setCurrentNode=t.setCurrentNode,Ii.createRootView=t.createRootView,Ii.createEmbeddedView=t.createEmbeddedView,Ii.createComponentView=t.createComponentView,Ii.createNgModuleRef=t.createNgModuleRef,Ii.overrideProvider=t.overrideProvider,Ii.overrideComponentView=t.overrideComponentView,Ii.clearOverrides=t.clearOverrides,Ii.checkAndUpdateView=t.checkAndUpdateView,Ii.checkNoChangesView=t.checkNoChangesView,Ii.destroyView=t.destroyView,Ii.resolveDep=Pa,Ii.createDebugContext=t.createDebugContext,Ii.handleEvent=t.handleEvent,Ii.updateDirectives=t.updateDirectives,Ii.updateRenderer=t.updateRenderer,Ii.dirtyParentQueries=Ia}}function gs(t,e,n,r,i,o){return Za(ys(t,i,i.injector.get(tr),e,n),r,o)}function ms(t,e,n,r,i,o){var a=i.injector.get(tr),s=ys(t,i,new Qs(a),e,n),u=Ts(r);return Zs(Fs.create,Za,null,[s,u,o])}function ys(t,e,n,r,i){var o=e.injector.get(Si),a=e.injector.get(ne);return{ngModule:e,injector:t,projectableNodes:r,selectorOrNode:i,sanitizer:o,rendererFactory:n,renderer:n.createRenderer(null,null),errorHandler:a}}function bs(t,e,n,r){var i=Ts(n);return Zs(Fs.create,Ka,null,[t,e,i,r])}function ws(t,e,n,r){return n=Ss.get(e.element.componentProvider.provider.token)||Ts(n),Zs(Fs.create,Ja,null,[t,e,n,r])}function xs(t,e,n,r){return oa(t,e,n,function(t){var e=function(t){var e=!1,n=!1;return 0===_s.size?{hasOverrides:e,hasDeprecatedOverrides:n}:(t.providers.forEach(function(t){var r=_s.get(t.token);3840&t.flags&&r&&(e=!0,n=n||r.deprecatedBehavior)}),t.modules.forEach(function(t){Cs.forEach(function(r,i){i.ngInjectableDef.providedIn===t&&(e=!0,n=n||r.deprecatedBehavior)})}),{hasOverrides:e,hasDeprecatedOverrides:n})}(t),n=e.hasDeprecatedOverrides;return e.hasOverrides?(function(t){for(var e=0;e<t.providers.length;e++){var r=t.providers[e];n&&(r.flags|=4096);var i=_s.get(r.token);i&&(r.flags=-3841&r.flags|i.flags,r.deps=ao(i.deps),r.value=i.value)}if(Cs.size>0){var o=new Set(t.modules);Cs.forEach(function(e,r){if(o.has(r.ngInjectableDef.providedIn)){var i={token:r,flags:e.flags|(n?4096:0),deps:ao(e.deps),value:e.value,index:t.providers.length};t.providers.push(i),t.providersByKey[Vi(r)]=i}})}}(t=t.factory(function(){return Fi})),t):t}(r))}var _s=new Map,Cs=new Map,Ss=new Map;function Ds(t){_s.set(t.token,t),"function"==typeof t.token&&t.token.ngInjectableDef&&"function"==typeof t.token.ngInjectableDef.providedIn&&Cs.set(t.token,t)}function Ps(t,e){var n=lo(lo(qo(e)).nodes[0].element.componentView);Ss.set(t,n)}function As(){_s.clear(),Cs.clear(),Ss.clear()}function Ts(t){if(0===_s.size)return t;var e=function(t){for(var e=[],n=null,r=0;r<t.nodes.length;r++){var i=t.nodes[r];1&i.flags&&(n=i),n&&3840&i.flags&&_s.has(i.provider.token)&&(e.push(n.nodeIndex),n=null)}return e}(t);if(0===e.length)return t;t=t.factory(function(){return Fi});for(var n=0;n<e.length;n++)r(t,e[n]);return t;function r(t,e){for(var n=e+1;n<t.nodes.length;n++){var r=t.nodes[n];if(1&r.flags)return;if(3840&r.flags){var i=r.provider,o=_s.get(i.token);o&&(r.flags=-3841&r.flags|o.flags,i.deps=ao(o.deps),i.value=o.value)}}}}function Es(t,e,n,r,i,o,a,s,u,l,c,f,h){var d=t.def.nodes[e];return rs(t,d,n,r,i,o,a,s,u,l,c,f,h),224&d.flags?Oi(t,e).value:void 0}function Os(t,e,n,r,i,o,a,s,u,l,c,f,h){var d=t.def.nodes[e];return os(t,d,n,r,i,o,a,s,u,l,c,f,h),224&d.flags?Oi(t,e).value:void 0}function ks(t){return Zs(Fs.detectChanges,ns,null,[t])}function Rs(t){return Zs(Fs.checkNoChanges,es,null,[t])}function Is(t){return Zs(Fs.destroy,ss,null,[t])}var Ms,Ns,Ls,Fs=function(t){return t[t.create=0]="create",t[t.detectChanges=1]="detectChanges",t[t.checkNoChanges=2]="checkNoChanges",t[t.destroy=3]="destroy",t[t.handleEvent=4]="handleEvent",t}({});function js(t,e){Ns=t,Ls=e}function Vs(t,e,n,r){return js(t,e),Zs(Fs.handleEvent,t.def.handleEvent,null,[t,e,n,r])}function zs(t,e){if(128&t.state)throw Li(Fs[Ms]);return js(t,Us(t,0)),t.def.updateDirectives(function(t,n,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=t.def.nodes[n];return 0===e?Ws(t,a,r,i):Hs(t,a,r,i),16384&a.flags&&js(t,Us(t,n)),224&a.flags?Oi(t,a.nodeIndex).value:void 0},t)}function Bs(t,e){if(128&t.state)throw Li(Fs[Ms]);return js(t,Gs(t,0)),t.def.updateRenderer(function(t,n,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=t.def.nodes[n];return 0===e?Ws(t,a,r,i):Hs(t,a,r,i),3&a.flags&&js(t,Gs(t,n)),224&a.flags?Oi(t,a.nodeIndex).value:void 0},t)}function Ws(t,e,n,i){if(rs.apply(void 0,Object(r.__spread)([t,e,n],i))){var o=1===n?i[0]:i;if(16384&e.flags){for(var a={},s=0;s<e.bindings.length;s++){var u=e.bindings[s],l=o[s];8&u.flags&&(a[(d=u.nonMinifiedName,"ng-reflect-"+(d=d.replace(/[$@]/g,"_").replace(Xs,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"-"+t[1].toLowerCase()})))]=qs(l))}var c=e.parent,f=Ti(t,c.nodeIndex).renderElement;if(c.element.name)for(var h in a)null!=(l=a[h])?t.renderer.setAttribute(f,h,l):t.renderer.removeAttribute(f,h);else t.renderer.setValue(f,"bindings="+JSON.stringify(a,null,2))}}var d}function Hs(t,e,n,i){os.apply(void 0,Object(r.__spread)([t,e,n],i))}var Xs=/([A-Z])/g;function qs(t){try{return null!=t?t.toString().slice(0,30):t}catch(t){return"[ERROR] Exception while trying to serialize the value"}}function Us(t,e){for(var n=e;n<t.def.nodes.length;n++){var r=t.def.nodes[n];if(16384&r.flags&&r.bindings&&r.bindings.length)return n}return null}function Gs(t,e){for(var n=e;n<t.def.nodes.length;n++){var r=t.def.nodes[n];if(3&r.flags&&r.bindings&&r.bindings.length)return n}return null}var Ys=function(){function t(t,e){this.view=t,this.nodeIndex=e,null==e&&(this.nodeIndex=e=0),this.nodeDef=t.def.nodes[e];for(var n=this.nodeDef,r=t;n&&0==(1&n.flags);)n=n.parent;if(!n)for(;!n&&r;)n=$i(r),r=r.parent;this.elDef=n,this.elView=r}return Object.defineProperty(t.prototype,"elOrCompView",{get:function(){return Ti(this.elView,this.elDef.nodeIndex).componentView||this.view},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return ta(this.elView,this.elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"component",{get:function(){return this.elOrCompView.component},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this.elOrCompView.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"providerTokens",{get:function(){var t=[];if(this.elDef)for(var e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){var n=this.elView.def.nodes[e];20224&n.flags&&t.push(n.provider.token),e+=n.childCount}return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"references",{get:function(){var t={};if(this.elDef){Ks(this.elView,this.elDef,t);for(var e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){var n=this.elView.def.nodes[e];20224&n.flags&&Ks(this.elView,n,t),e+=n.childCount}}return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentRenderElement",{get:function(){var t=function(t){for(;t&&!no(t);)t=t.parent;return t.parent?Ti(t.parent,$i(t).nodeIndex):null}(this.elOrCompView);return t?t.renderElement:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"renderNode",{get:function(){return 2&this.nodeDef.flags?to(this.view,this.nodeDef):to(this.elView,this.elDef)},enumerable:!0,configurable:!0}),t.prototype.logError=function(t){for(var e,n,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];2&this.nodeDef.flags?(e=this.view.def,n=this.nodeDef.nodeIndex):(e=this.elView.def,n=this.elDef.nodeIndex);var a=function(t,e){for(var n=-1,r=0;r<=e;r++)3&t.nodes[r].flags&&n++;return n}(e,n),s=-1;e.factory(function(){return++s===a?(e=t.error).bind.apply(e,Object(r.__spread)([t],i)):Fi;var e}),s<a&&(t.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),t.error.apply(t,Object(r.__spread)(i)))},t}();function Ks(t,e,n){for(var r in e.references)n[r]=La(t,e,e.references[r])}function Zs(t,e,n,r){var i=Ms,o=Ns,a=Ls;try{Ms=t;var s=e.apply(n,r);return Ns=o,Ls=a,Ms=i,s}catch(t){if($t(t)||!Ns)throw t;throw function(t,e){return t instanceof Error||(t=new Error(t.toString())),Ni(t,e),t}(t,Js())}}function Js(){return Ns?new Ys(Ns,Ls):null}var Qs=function(){function t(t){this.delegate=t}return t.prototype.createRenderer=function(t,e){return new $s(this.delegate.createRenderer(t,e))},t.prototype.begin=function(){this.delegate.begin&&this.delegate.begin()},t.prototype.end=function(){this.delegate.end&&this.delegate.end()},t.prototype.whenRenderingDone=function(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)},t}(),$s=function(){function t(t){this.delegate=t,this.data=this.delegate.data}return t.prototype.destroyNode=function(t){!function(t){xr.delete(t.nativeNode)}(_r(t)),this.delegate.destroyNode&&this.delegate.destroyNode(t)},t.prototype.destroy=function(){this.delegate.destroy()},t.prototype.createElement=function(t,e){var n=this.delegate.createElement(t,e),r=Js();if(r){var i=new br(n,null,r);i.name=t,Cr(i)}return n},t.prototype.createComment=function(t){var e=this.delegate.createComment(t),n=Js();return n&&Cr(new yr(e,null,n)),e},t.prototype.createText=function(t){var e=this.delegate.createText(t),n=Js();return n&&Cr(new yr(e,null,n)),e},t.prototype.appendChild=function(t,e){var n=_r(t),r=_r(e);n&&r&&n instanceof br&&n.addChild(r),this.delegate.appendChild(t,e)},t.prototype.insertBefore=function(t,e,n){var r=_r(t),i=_r(e),o=_r(n);r&&i&&r instanceof br&&r.insertBefore(o,i),this.delegate.insertBefore(t,e,n)},t.prototype.removeChild=function(t,e){var n=_r(t),r=_r(e);n&&r&&n instanceof br&&n.removeChild(r),this.delegate.removeChild(t,e)},t.prototype.selectRootElement=function(t){var e=this.delegate.selectRootElement(t),n=Js();return n&&Cr(new br(e,null,n)),e},t.prototype.setAttribute=function(t,e,n,r){var i=_r(t);i&&i instanceof br&&(i.attributes[r?r+":"+e:e]=n),this.delegate.setAttribute(t,e,n,r)},t.prototype.removeAttribute=function(t,e,n){var r=_r(t);r&&r instanceof br&&(r.attributes[n?n+":"+e:e]=null),this.delegate.removeAttribute(t,e,n)},t.prototype.addClass=function(t,e){var n=_r(t);n&&n instanceof br&&(n.classes[e]=!0),this.delegate.addClass(t,e)},t.prototype.removeClass=function(t,e){var n=_r(t);n&&n instanceof br&&(n.classes[e]=!1),this.delegate.removeClass(t,e)},t.prototype.setStyle=function(t,e,n,r){var i=_r(t);i&&i instanceof br&&(i.styles[e]=n),this.delegate.setStyle(t,e,n,r)},t.prototype.removeStyle=function(t,e,n){var r=_r(t);r&&r instanceof br&&(r.styles[e]=null),this.delegate.removeStyle(t,e,n)},t.prototype.setProperty=function(t,e,n){var r=_r(t);r&&r instanceof br&&(r.properties[e]=n),this.delegate.setProperty(t,e,n)},t.prototype.listen=function(t,e,n){if("string"!=typeof t){var r=_r(t);r&&r.listeners.push(new function(t,e){this.name=t,this.callback=e}(e,n))}return this.delegate.listen(t,e,n)},t.prototype.parentNode=function(t){return this.delegate.parentNode(t)},t.prototype.nextSibling=function(t){return this.delegate.nextSibling(t)},t.prototype.setValue=function(t,e){return this.delegate.setValue(t,e)},t}();function tu(t){return vs(),Ii.overrideProvider(t)}function eu(t,e){return vs(),Ii.overrideComponentView(t,e)}function nu(){return vs(),Ii.clearOverrides()}function ru(t,e,n){return new iu(t,e,n)}var iu=function(t){function e(e,n,r){var i=t.call(this)||this;return i.moduleType=e,i._bootstrapComponents=n,i._ngModuleDefFactory=r,i}return Object(r.__extends)(e,t),e.prototype.create=function(t){vs();var e=lo(this._ngModuleDefFactory);return Ii.createNgModuleRef(this.moduleType,t||xt.NULL,this._bootstrapComponents,e)},e}(cn);function ou(t,e,n){t!=e&&cu(n)}function au(t,e,n){t==e&&cu(n)}function su(t,e,n){t>=e&&cu(n)}function uu(t,e){null!=t&&cu(e)}function lu(t,e){null==t&&cu(e)}function cu(t){throw new Error("ASSERTION ERROR: "+t)}function fu(t,e,n){t.afterContentInit&&(e.contentHooks||(e.contentHooks=[])).push(n,t.afterContentInit),t.afterContentChecked&&((e.contentHooks||(e.contentHooks=[])).push(n,t.afterContentChecked),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,t.afterContentChecked))}function hu(t,e,n){t.afterViewInit&&(e.viewHooks||(e.viewHooks=[])).push(n,t.afterViewInit),t.afterViewChecked&&((e.viewHooks||(e.viewHooks=[])).push(n,t.afterViewChecked),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,t.afterViewChecked))}function du(t,e,n){null!=t.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(n,t.onDestroy)}function pu(t,e,n){1===t.lifecycleStage&&(vu(t.directives,e.initHooks,e.checkHooks,n),t.lifecycleStage=2)}function vu(t,e,n,r){var i=r?e:n;i&&gu(t,i)}function gu(t,e){for(var n=0;n<e.length;n+=2)e[n+1].call(t[e[n]])}"undefined"==typeof ngDevMode&&("undefined"!=typeof window&&(window.ngDevMode=!0),"undefined"!=typeof self&&(self.ngDevMode=!0),"undefined"!=typeof global&&(global.ngDevMode=!0));var mu="ngProjectAs";function yu(t,e){lu(t,"should be called with a node"),ou(t.type,e,"should be a "+wu(e))}function bu(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];lu(t,"should be called with a node"),ou(e.some(function(e){return t.type===e}),!0,"Should be one of "+e.map(wu).join(", "))}function wu(t){return 1==t?"Projection":0==t?"Container":2==t?"View":3==t?"Element":"<unknown>"}var xu=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function _u(t){return!!t.listen}var Cu={createRenderer:function(t,e){return document}};function Su(t,e){return!(t!=t&&e!=e)&&t!==e}function Du(t){return"function"==typeof t?t.name||t:"string"==typeof t?t:null==t?"":""+t}function Pu(t,e){for(var n=t;n&&n!==e;){var r=n.pNextOrParent;if(r){for(;1!==r.type;){if(o=Eu(r))return o;r=r.pNextOrParent}n=r}else{for(var i=n.next;i;){var o;if(o=Eu(i))return o;i=i.next}var a=n.parent;if(n=null,a){var s=a.type;0!==s&&2!==s||(n=a)}}}return null}function Au(t){var e=t.pNextOrParent;return e?1===e.type?null:e:t.next}function Tu(t,e){for(var n=t,r=Au(n);n&&!r;){if((n=n.pNextOrParent||n.parent)===e)return null;r=n&&Au(n)}return r}function Eu(t){for(var e=t;e;){var n=null;if(3===e.type)return e.native;if(0===e.type){var r=e.dynamicLContainerNode?e.dynamicLContainerNode.data:e.data;n=r.views.length?r.views[0].child:null}else n=1===e.type?e.data.head:e.child;e=null===n?Tu(e,t):n}return null}function Ou(t,e){return _u(e)?e.createText(Du(t)):e.createTextNode(Du(t))}function ku(t,e,n,r){ngDevMode&&yu(t,0),ngDevMode&&yu(e,2);var i=t.data.renderParent,o=i?i.native:null,a=e.child;if(o)for(;a;){var s=null,u=t.view.renderer;if(3===a.type)n?(a.native||(a.native=Ou("",u)),_u(u)?u.insertBefore(o,a.native,r):o.insertBefore(a.native,r,!0)):_u(u)?u.removeChild(o,a.native):o.removeChild(a.native),s=a.next;else if(0===a.type){var l=a.data;l.renderParent=i,s=l.views.length?l.views[0].child:null}else s=1===a.type?a.data.head:a.child;a=null===s?Tu(a,e):s}}function Ru(t,e,n){var r=t.data.views;if(n>0&&Mu(r[n-1],e),n<r.length?(Mu(e,r[n]),r.splice(n,0,e)):r.push(e),null!==t.data.renderParent){var i=Pu(e,t);if(!i){var o=t.native;void 0===o&&(o=t.native=Pu(t,null)),i=o}ku(t,e,!0,i)}return e}function Iu(t,e){var n=t.data.views,r=n[e];return e>0&&Mu(n[e-1],r.next),n.splice(e,1),r.next=null,function(t){for(var e=t;e;){var n=null;if(e.views&&e.views.length?n=e.views[0].data:e.child?n=e.child:e.next&&(Lu(e),n=e.next),null==n){for(;e&&!e.next&&e!==t;)Lu(e),e=Nu(e,t);Lu(e||t),n=e&&e.next}e=n}}(r.data),ku(t,r,!1),t.data.queries&&t.data.queries.removeView(e),r}function Mu(t,e){t.next=e,t.data.next=e?e.data:null}function Nu(t,e){var n;return(n=t.node)&&2===n.type?n.parent.data:t.parent===e?null:t.parent}function Lu(t){!function(t){var e=t.cleanup;if(null!=e){for(var n=0;n<e.length-1;n+=2)"string"==typeof e[n]?(e[n+1].removeEventListener(e[n],e[n+2],e[n+3]),n+=2):e[n].call(e[n+1]);t.cleanup=null}}(t),function(t){var e,n=t.tView;null!=n&&null!=(e=n.destroyHooks)&&gu(t.directives,e)}(t),function(t){var e=t.tView&&t.tView.pipeDestroyHooks;e&&gu(t.data,e)}(t)}function Fu(t,e){return 3===t.type&&(t.view!==e||null===t.data)}function ju(t,e,n){if(null!==e&&Fu(t,n)){var r=n.renderer;return _u(r)?r.appendChild(t.native,e):t.native.appendChild(e),!0}return!1}function Vu(t,e,n){if(0!==t.type)ju(e,t.native,n);else{var r=t.data;r.renderParent=e;for(var i=r.views,o=0;o<i.length;o++)ku(t,i[o],!0,null)}t.dynamicLContainerNode&&(t.dynamicLContainerNode.data.renderParent=e)}function zu(t,e){ngDevMode&&lu(e[0],"Selector should have a tag name");for(var n,r,i,o,a,s=4,u=t.attrs,l=!1,c=0;c<e.length;c++){var f=e[c];if("number"!=typeof f){if(!l)if(4&s){if(s=2|1&s,""!==f&&f!==t.tagName){if(Bu(s))return!1;l=!0}}else{var h=Wu(8&s?"class":f,u);if(-1===h){if(Bu(s))return!1;l=!0;continue}var d=8&s?f:e[++c];if(""!==d){var p=u[h+1];if(8&s&&(i=(n=p).length,a=(o=n.indexOf(r=d))+r.length,-1===o||o>0&&" "!==n[o-1]||a<i&&" "!==n[a])||2&s&&d!==p){if(Bu(s))return!1;l=!0}}}}else{if(!l&&!Bu(s)&&!Bu(f))return!1;if(l&&Bu(f))continue;l=!1,s=f|1&s}}return Bu(s)||l}function Bu(t){return 0==(1&t)}function Wu(t,e){if(null===e)return-1;for(var n=0;n<e.length;n+=2)if(e[n]===t)return n;return-1}function Hu(t,e){for(var n=0;n<e.length;n++)if(zu(t,e[n]))return!0;return!1}function Xu(t,e,n){for(var r=function(t){var e=t.attrs;if(null!=e){var n=e.indexOf(mu);if(0==(1&n))return e[n+1]}return null}(t),i=0;i<e.length;i++)if(r===n[i]||null===r&&Hu(t,e[i]))return i+1;return 0}function qu(t){throw new Error("Multiple components match node with tagname "+t.tagName)}function Uu(t,e,n,r){if(e){var i="ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '"+n+"'. Current value: '"+r+"'.";throw t&&(i+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),new Error(i)}}var Gu,Yu,Ku,Zu,Ju,Qu="__ngHostLNode__",$u=Promise.resolve(null),tl=[0,0],el="__CIRCULAR__";function nl(){return Ku}var rl,il,ol,al,sl,ul=null;function ll(){return il}var cl=!1,fl=!0;function hl(t,e){var n=ul;return ol=t&&t.data,al=t&&t.directives,Ju=t&&t.tView.data,il=t&&1==(1&t.flags),fl=t&&t.tView.firstTemplatePass,sl=t&&t.cleanup,Gu=t&&t.renderer,t&&t.bindingIndex<0&&(t.bindingIndex=t.bindingStartIndex),null!=e&&(Ku=e,Zu=!0),ul=t,rl=t&&t.queries,n}function dl(t){cl||vu(al,ul.tView.viewHooks,ul.tView.viewCheckHooks,il),ul.flags&=-6,ul.lifecycleStage=1,ul.bindingIndex=-1,hl(t,null)}function pl(){gl();var t=ul.tView;t.firstTemplatePass=fl=!1,vl(t.hostBindings),function(t){if(null!=t)for(var e=0;e<t.length;e+=2)Ql(t[e],t[e+1])}(t.components)}function vl(t){if(null!=t)for(var e=ul.tView.directives,n=0;n<t.length;n+=2){var r=t[n],i=e[r];i.hostBindings&&i.hostBindings(r,t[n+1])}}function gl(){if(!cl){var t=ul.tView;pu(ul,t,il),vu(al,t.contentHooks,t.contentCheckHooks,il)}}function ml(t,e,n,r,i,o){return{parent:ul,id:t,flags:9|o,node:null,data:[],directives:null,tView:n,cleanup:null,renderer:e,child:null,tail:null,next:null,bindingStartIndex:-1,bindingIndex:-1,template:r,context:i,dynamicViewCount:0,lifecycleStage:1,queries:null,injector:ul&&ul.injector}}function yl(t,e,n,r,i,o){return{type:t,native:r,view:e,parent:n,child:null,next:null,nodeInjector:n?n.nodeInjector:null,data:i,queries:o,tNode:null,pNextOrParent:null,dynamicLContainerNode:null}}function bl(t,e,n,r){var i=Zu?Ku:Ku&&Ku.parent,o=(Zu?rl:Ku&&Ku.queries)||i&&i.queries&&i.queries.child(),a=null!=r,s=yl(e,ul,i,n,a?r:null,o);return 2==(2&e)&&a&&(ngDevMode&&uu(r.node,"LView.node should not have been initialized"),r.node=s),null!=t&&(ngDevMode&&Mc(t),ol[t]=s,t>=Ju.length?Ju[t]=null:s.tNode=Ju[t],Zu?(rl=null,Ku.view!==ul&&2!==Ku.type||(ngDevMode&&uu(Ku.child,"previousOrParentNode's child should not have been set."),Ku.child=s)):Ku&&(ngDevMode&&uu(Ku.next,"previousOrParentNode's next property should not have been set "+t+"."),Ku.next=s,Ku.dynamicLContainerNode&&(Ku.dynamicLContainerNode.next=s))),Ku=s,Zu=!0,s}function wl(t,e,n,r,i,o){var a,s=Zu,u=Ku;try{Zu=!0,Ku=null;var l=2;null==t&&(t=bl(null,2,null,ml(-1,r,Al(e,i||null,o||null),e,n,2)),l=1),a=hl(t.data,t),e(l,n),pl(),Kl()}finally{dl(a),Zu=s,Ku=u}return t}function xl(t){return 1&t.flags?3:2}function _l(t,e,n,r){ngDevMode&&ou(ul.bindingStartIndex,-1,"elements should be created before any bindings");var i=Gu.createElement(e),o=bl(t,3,i,null);return n&&El(i,n),ju(o.parent,i,ul),Cl(t,e,n,r,null),i}function Cl(t,e,n,r,i){var o=Ku;fl?(ngDevMode&&Ic(t-1),o.tNode=Ju[t]=Nl(e,n||null,i),function(t,e,n){var r=n?{"":-1}:null,i=e.currentMatches=function(t){var e=ul.tView.directiveRegistry,n=null;if(e)for(var r=0;r<e.length;r++){var i=e[r];Hu(t,i.selectors)&&(i.template&&(4096&t.flags&&qu(t),t.flags=4096),i.diPublic&&i.diPublic(i),(n||(n=[])).push(i,null))}return n}(t);if(i)for(var o=0;o<i.length;o+=2){var a=i[o],s=o+1;Sl(a,s,i,e),Pl(i[s],a,r)}r&&function(t,e,n){if(e)for(var r=t.localNames=[],i=0;i<e.length;i+=2){var o=n[e[i+1]];if(null==o)throw new Error("Export of name '"+e[i+1]+"' not found!");r.push(e[i],o)}}(t,n,r)}(o.tNode,ul.tView,r||null)):function(){var t=Ku.tNode,e=4095&t.flags;if(e>0)for(var n=t.flags>>13,r=n+e,i=ul.tView.directives,o=n;o<r;o++){var a=i[o];Hl(o,a.factory(),a)}}(),function(){var t=Ku.tNode.localNames;if(t)for(var e=0;e<t.length;e+=2){var n=t[e+1];ol.push(-1===n?Ku.native:al[n])}}()}function Sl(t,e,n,r){if(null===n[e]){n[e]=el;var i=t.factory();return(r.directives||(r.directives=[])).push(t),Hl(n[e]=r.directives.length-1,i,t)}return n[e]===el&&function(e){throw new Error("Cannot instantiate cyclic dependency! "+t.type)}(),null}function Dl(t,e,n){t&&null!=t.changeDetectorRef&&t.changeDetectorRef._setComponentContext(n,e)}function Pl(t,e,n){n&&(e.exportAs&&(n[e.exportAs]=t),e.template&&(n[""]=t))}function Al(t,e,n){return t.ngPrivateData||(t.ngPrivateData=Tl(e,n))}function Tl(t,e){return{data:[],directives:null,firstTemplatePass:!0,initHooks:null,checkHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,pipeDestroyHooks:null,hostBindings:null,components:null,directiveRegistry:"function"==typeof t?t():t,pipeRegistry:"function"==typeof e?e():e,currentMatches:null}}function El(t,e){ngDevMode&&ou(e.length%2,0,"each attribute should have a key and a value");for(var n=_u(Gu),r=0;r<e.length;r+=2){var i=e[r];if(i!==mu){var o=e[r+1];n?Gu.setAttribute(t,i,o):t.setAttribute(i,o)}}}function Ol(t,e){ngDevMode&&Ic(-1),Yu=t;var n=t.createRenderer(null,null),r="string"==typeof e?_u(n)?n.selectRootElement(e):n.querySelector(e):e;if(ngDevMode&&!r)throw new Error("Renderer: "+("string"==typeof e?"Host node with selector not found:":"Host node is required:")+" ["+Du(e)+"]");return r}function kl(t,e,n){void 0===n&&(n=!1),ngDevMode&&kc();var r=Ku,i=r.native,o=sl||(sl=ul.cleanup=[]);if(_u(Gu)){var a=function(t,e){return function(n){return ic(t),e(n)}}(ul,e),s=Gu.listen(i,t,a);o.push(s,null)}else a=function(t,e){return function(n){ic(t),!1===e(n)&&(n.preventDefault(),n.returnValue=!1)}}(ul,e),i.addEventListener(t,a,n),o.push(t,i,a,n);var u=r.tNode;void 0===u.outputs&&(u.outputs=Ll(r.tNode.flags,1));var l,c=u.outputs;c&&(l=c[t])&&function(t,e){for(var n=0;n<t.length;n+=2){ngDevMode&&Ic(t[n],al);var r=al[t[n]][t[n+1]].subscribe(e);sl.push(r.unsubscribe,r)}}(l,e)}function Rl(){Zu?Zu=!1:(ngDevMode&&Rc(),Ku=Ku.parent),ngDevMode&&yu(Ku,3);var t=Ku.queries;t&&t.addNode(Ku),function(t,e){var n=e.tView;if(!0===n.firstTemplatePass)for(var r=t>>13,i=r+(4095&t),o=r;o<i;o++){var a=n.directives[o];fu(a,n,o),hu(a,n,o),du(a,n,o)}}(Ku.tNode.flags,ul)}function Il(t,e,n,r){if(n!==lc){var i=ol[t];if(null==n)_u(Gu)?Gu.removeAttribute(i.native,e):i.native.removeAttribute(e);else{var o=null==r?Du(n):r(n);_u(Gu)?Gu.setAttribute(i.native,e,o):i.native.setAttribute(e,o)}}}function Ml(t,e,n,r){if(n!==lc){var i=ol[t],o=i.tNode;o&&void 0===o.inputs&&(o.inputs=Ll(i.tNode.flags,0));var a,s=o&&o.inputs;if(s&&(a=s[e]))!function(t,e){for(var n=0;n<t.length;n+=2)ngDevMode&&Ic(t[n],al),al[t[n]][t[n+1]]=e}(a,n),function(t){!t.data||2&t.data.flags||(t.data.flags|=4)}(i);else{n=null!=r?r(n):n;var u=i.native;_u(Gu)?Gu.setProperty(u,e,n):u.setProperty?u.setProperty(e,n):u[e]=n}}}function Nl(t,e,n){return{flags:0,tagName:t,attrs:e,localNames:null,initialInputs:void 0,inputs:void 0,outputs:void 0,data:n}}function Ll(t,e){var n=4095&t,r=null;if(n>0)for(var i=t>>13,o=i+n,a=0===e,s=ul.tView.directives,u=i;u<o;u++){var l=s[u],c=a?l.inputs:l.outputs;for(var f in c)if(c.hasOwnProperty(f)){var h=c[f];(r=r||{}).hasOwnProperty(f)?r[f].push(u,h):r[f]=[u,h]}}return r}function Fl(t,e,n){if(n!==lc){var r=ol[t];n?_u(Gu)?Gu.addClass(r.native,e):r.native.classList.add(e):_u(Gu)?Gu.removeClass(r.native,e):r.native.classList.remove(e)}}function jl(t,e){if(e!==lc){var n=ol[t];_u(Gu)?Gu.setProperty(n.native,"className",e):n.native.className=Du(e)}}function Vl(t,e,n,r){if(n!==lc){var i=ol[t];if(null==n)_u(Gu)?Gu.removeStyle(i.native,e,xu.DashCase):i.native.style.removeProperty(e);else{var o="function"==typeof r?r(n):Du(n);"string"==typeof r&&(o+=r),_u(Gu)?Gu.setStyle(i.native,e,o,xu.DashCase):i.native.style.setProperty(e,o)}}}function zl(t,e){if(e!==lc){var n=ol[t];if(_u(Gu))Gu.setProperty(n.native,"style",e);else for(var r=n.native.style,i=0,o=Object.keys(e);i<o.length;i++){var a=o[i],s=e[a];null==s?r.removeProperty(a):r.setProperty(a,s)}}}function Bl(t,e){ngDevMode&&ou(ul.bindingStartIndex,-1,"text nodes should be created before bindings");var n=null!=e?Ou(e,Gu):null,r=bl(t,3,n);Zu=!1,ju(r.parent,n,ul)}function Wl(t,e){ngDevMode&&Ic(t);var n=ol[t];ngDevMode&&lu(n,"existing node"),n.native?e!==lc&&(_u(Gu)?Gu.setValue(n.native,Du(e)):n.native.textContent=Du(e)):(n.native=Ou(e,Gu),function(t,e){var n=t.parent;if(Fu(n,e)){var r=Pu(t,null),i=e.renderer;_u(i)?i.insertBefore(n.native,t.native,r):n.native.insertBefore(t.native,r,!1)}}(n,ul))}function Hl(t,e,n){var r=Xl(t,e,n);ngDevMode&&lu(Ku.tNode,"previousOrParentNode.tNode");var i,o=Ku.tNode;return n.template&&function(t,e,n){var r,i=Al(n.template,n.directiveDefs,n.pipeDefs),o=rc(ul,ml(-1,Yu.createRenderer(Ku.native,n.rendererType),i,null,null,n.onPush?4:2));Ku.data=o,o.node=Ku,Dl(Ku.nodeInjector,e,o),fl&&(r=t,fl&&(ul.tView.components||(ul.tView.components=[])).push(r,ol.length-1))}(t,e,n),fl&&(function(t,e,n,r){ngDevMode&&ou(r.firstTemplatePass,!0,"Should only be called on first template pass"),e&&(r.initHooks||(r.initHooks=[])).push(t,e),n&&((r.initHooks||(r.initHooks=[])).push(t,n),(r.checkHooks||(r.checkHooks=[])).push(t,n))}(t,n.onInit,n.doCheck,ul.tView),n.hostBindings&&(i=t,ngDevMode&&ou(fl,!0,"Should only be called in first template pass."),(ul.tView.hostBindings||(ul.tView.hostBindings=[])).push(i,ol.length-1))),o&&o.attrs&&function(t,e,r,i){var o=i.initialInputs;(void 0===o||t>=o.length)&&(o=function(t,e,n){var r=n.initialInputs||(n.initialInputs=[]);r[t]=null;for(var i=n.attrs,o=0;o<i.length;o+=2){var a=e[i[o]];void 0!==a&&(r[t]||(r[t]=[])).push(a,i[o+1])}return r}(t,n.inputs,i));var a=o[t];if(a)for(var s=0;s<a.length;s+=2)e[a[s]]=a[s+1]}(t,r,0,o),r}function Xl(t,e,n){if(ngDevMode&&ou(ul.bindingStartIndex,-1,"directives should be created before any bindings"),ngDevMode&&kc(),Object.defineProperty(e,Qu,{enumerable:!1,value:Ku}),null==al&&(ul.directives=al=[]),ngDevMode&&Mc(t,al),al[t]=e,fl){var r=Ku.tNode.flags;0==(4095&r)?Ku.tNode.flags=t<<13|4096&r|1:(ngDevMode&&au(4095&r,4095,"Reached the max number of directives"),Ku.tNode.flags++)}else{var i=n.diPublic;i&&i(n)}return null!=n.attributes&&3==Ku.type&&El(Ku.native,n.attributes),e}function ql(t,e,n){return ngDevMode&&lu(t,"containers should have a parent"),{views:[],nextIndex:0,renderParent:Fu(t,e)?t:null,template:null==n?null:n,next:null,parent:e,dynamicViewCount:0,queries:null}}function Ul(t,e,n,r,i){ngDevMode&&ou(ul.bindingStartIndex,-1,"container nodes should be created before any bindings");var o=ql(Zu?Ku:Ku.parent,ul,e),a=bl(t,0,void 0,o);rc(ul,a.data),Cl(t,n||null,r,i,[]),Zu=!1,ngDevMode&&yu(Ku,0);var s=a.queries;s&&(s.addNode(a),o.queries=s.container())}function Gl(t){ngDevMode&&Ic(t),Ku=ol[t],ngDevMode&&yu(Ku,0),Zu=!0,Ku.data.nextIndex=0,ngDevMode&&void 0!==Ku.native&&cu("the container's native element should not have been set yet."),cl||pu(ul,ul.tView,il)}function Yl(){Zu?Zu=!1:(ngDevMode&&yu(Ku,2),ngDevMode&&Rc(),Ku=Ku.parent),ngDevMode&&yu(Ku,0);var t=Ku;t.native=void 0,ngDevMode&&yu(t,0);for(var e=t.data.nextIndex;e<t.data.views.length;)Iu(t,e)}function Kl(){for(var t=ul.child;null!==t;t=t.next)if(0!==t.dynamicViewCount&&t.views)for(var e=t,n=0;n<e.views.length;n++){var r=e.views[n];wl(r,r.data.template,r.data.context,Gu)}}function Zl(t){var e=Zu?Ku:Ku.parent;ngDevMode&&yu(e,0);var n=e.data,r=function(t,e,r){for(var i=t.data.views,o=n.nextIndex;o<i.length;o++){var a=i[o].data.id;if(a===r)return i[o];if(!(a<r))break;Iu(t,o)}return null}(e,0,t);if(r)Ku=r,ngDevMode&&yu(Ku,2),Zu=!0,hl(r.data,r);else{var i=ml(t,Gu,function(t,e){ngDevMode&&yu(e,0);var n=e.tNode.data;if(t>=n.length||null==n[t]){var r=ul.tView;n[t]=Tl(r.directiveRegistry,r.pipeRegistry)}return n[t]}(t,e),null,null,2);n.queries&&(i.queries=n.queries.enterView(n.nextIndex)),hl(i,r=bl(null,2,null,i))}return xl(r.data)}function Jl(){pl(),Zu=!1;var t=Ku=ul.node,e=Ku.parent;if(e){ngDevMode&&yu(t,2),ngDevMode&&yu(e,0);var n=e.data;il&&(function(t,e){if(null!=t)for(var n=e.child;n;){if(1===n.type)for(var r=n.data.head,i=n.data.tail;r;)r.dynamicLContainerNode&&(r.dynamicLContainerNode.data.renderParent=t),r=r===i?null:r.pNextOrParent;n=n.next}}(n.renderParent,t),Ru(e,t,n.nextIndex)),n.nextIndex++}dl(ul.parent),ngDevMode&&ou(Zu,!1,"isParent"),ngDevMode&&yu(Ku,2)}function Ql(t,e){ngDevMode&&Ic(e);var n=ol[e];ngDevMode&&yu(n,3),ngDevMode&&lu(n.data,"Component's host node should have an LView attached.");var r=n.data;8==(8&r.flags)&&6&r.flags&&(ngDevMode&&Ic(t,al),sc(r,n,ul.tView.directives[t],Oc(al[t])))}function $l(t,e,n){for(var r=e?e.length+1:1,i=new Array(r),o=0;o<r;o++)i[o]=[];for(var a=nc(ul).child;null!==a;)e&&a.tNode?i[Xu(a.tNode,e,n)].push(a):i[0].push(a),a=a.next;ngDevMode&&Mc(t),ol[t]=i}function tc(t,e,n){if(ngDevMode&&ou(!!e,!!n,"appendedFirst can be null if and only if appendedLast is also null"),n){var r=t.data;r.tail?r.tail.pNextOrParent=e:r.head=e,r.tail=n,n.pNextOrParent=t}}function ec(t,e,n,r){void 0===n&&(n=0);var i=bl(t,1,null,{head:null,tail:null});null==i.tNode&&(i.tNode=Nl(null,r||null,null)),Zu=!1;for(var o=i.parent,a=nc(ul).data.data[e][n],s=0;s<a.length;s++)if(1===(l=a[s]).type){var u=l.data;tc(i,u.head,u.tail)}else tc(i,l,l);if(Fu(o,ul)){ngDevMode&&yu(o,3);for(var l=i.data.head,c=i.data.tail;l;)Vu(l,o,ul),l=l===c?null:l.pNextOrParent}}function nc(t){for(var e=t.node;2===e.type;)ngDevMode&&lu(t.parent,"lView.parent"),e=(t=t.parent).node;return ngDevMode&&yu(e,3),ngDevMode&&lu(e.data,"node.data"),e}function rc(t,e){return t.tail?t.tail.next=e:t.child=e,t.tail=e,e}function ic(t){for(var e=t;null!=e.parent;)e.flags|=4,e=e.parent;var n,r;e.flags|=4,ngDevMode&&lu(e.context,"rootContext"),(n=e.context).clean==$u&&(n.clean=new Promise(function(t){return r=t}),n.scheduler(function(){var t,e;e=Nc((t=oc(n.component)).context.component),ngDevMode&&lu(e.data,"Component host node should be attached to an LView"),function(n,r,i,o){var a=hl(t,e);try{Yu.begin&&Yu.begin(),gl(),vl(tl),Ql(0,0)}finally{Yu.end&&Yu.end(),dl(a)}}(),r(null),n.clean=$u}))}function oc(t){ngDevMode&&lu(t,"component");for(var e=Nc(t).view;e.parent;)e=e.parent;return e}function ac(t){var e=Nc(t);ngDevMode&&lu(e.data,"Component host node should be attached to an LView"),sc(e.data,e,e.view.tView.directives[e.tNode.flags>>13],t)}function sc(t,e,n,r){var i=hl(t,e),o=n.template;try{o(xl(t),r),pl(),Kl()}finally{dl(i)}}function uc(t){ngDevMode&&lu(t,"component"),ic(Nc(t).view)}var lc={};function cc(){ngDevMode&&ou(ul.bindingStartIndex,-1,"Binding start index should only be set once, when null"),ngDevMode&&ou(ul.bindingIndex,-1,"Binding index should not yet be set "+ul.bindingIndex),ul.bindingIndex=ul.bindingStartIndex=ol.length}function fc(t){if(ul.bindingStartIndex<0)return cc(),ol[ul.bindingIndex++]=t;var e=t!==lc&&Su(ol[ul.bindingIndex],t);return e&&(Uu(il,cl,ol[ul.bindingIndex],t),ol[ul.bindingIndex]=t),ul.bindingIndex++,e?t:lc}function hc(t){ngDevMode&&su(2,t.length,"should have at least 3 values"),ngDevMode&&ou(t.length%2,1,"should have an odd number of values");for(var e=!1,n=1;n<t.length;n+=2)Dc(t[n])&&(e=!0);if(!e)return lc;var r=t[0];for(n=1;n<t.length;n+=2)r+=Du(t[n])+t[n+1];return r}function dc(t,e,n){return Dc(e)?t+Du(e)+n:lc}function pc(t,e,n,r,i){return Ac(e,r)?t+Du(e)+n+Du(r)+i:lc}function vc(t,e,n,r,i,o,a){var s=Ac(e,r);return(s=Dc(o)||s)?t+Du(e)+n+Du(r)+i+Du(o)+a:lc}function gc(t,e,n,r,i,o,a,s,u){return Tc(e,r,o,s)?t+Du(e)+n+Du(r)+i+Du(o)+a+Du(s)+u:lc}function mc(t,e,n,r,i,o,a,s,u,l,c){var f=Tc(e,r,o,s);return(f=Dc(l)||f)?t+Du(e)+n+Du(r)+i+Du(o)+a+Du(s)+u+Du(l)+c:lc}function yc(t,e,n,r,i,o,a,s,u,l,c,f,h){var d=Tc(e,r,o,s);return(d=Ac(l,f)||d)?t+Du(e)+n+Du(r)+i+Du(o)+a+Du(s)+u+Du(l)+c+Du(f)+h:lc}function bc(t,e,n,r,i,o,a,s,u,l,c,f,h,d,p){var v=Tc(e,r,o,s);return v=Ac(l,f)||v,(v=Dc(d)||v)?t+Du(e)+n+Du(r)+i+Du(o)+a+Du(s)+u+Du(l)+c+Du(f)+h+Du(d)+p:lc}function wc(t,e,n,r,i,o,a,s,u,l,c,f,h,d,p,v,g){var m=Tc(e,r,o,s);return(m=Tc(l,f,d,v)||m)?t+Du(e)+n+Du(r)+i+Du(o)+a+Du(s)+u+Du(l)+c+Du(f)+h+Du(d)+p+Du(v)+g:lc}function xc(t,e){t>=Ju.length&&(Ju[t]=null),ol[t]=e}function _c(t){return ngDevMode&&Ic(t),ol[t]}function Cc(t){return ngDevMode&&lu(al,"Directives array should be defined if reading a dir."),ngDevMode&&Ic(t,al),al[t]}function Sc(){return ngDevMode&&Ic(ul.bindingIndex),ngDevMode&&au(ol[ul.bindingIndex],lc,"Stored value should never be NO_CHANGE."),ol[ul.bindingIndex++]}function Dc(t){if(ngDevMode&&au(t,lc,"Incoming value should never be NO_CHANGE."),ul.bindingStartIndex<0)cc();else{if(!Su(ol[ul.bindingIndex],t))return ul.bindingIndex++,!1;Uu(il,cl,ol[ul.bindingIndex],t)}return ol[ul.bindingIndex++]=t,!0}function Pc(t){return Dc(t),t}function Ac(t,e){var n=Dc(t);return Dc(e)||n}function Tc(t,e,n,r){var i=Ac(t,e);return Ac(n,r)||i}function Ec(){return ul.tView}function Oc(t){return Array.isArray(t)?t[0]:t}function kc(){ou(Zu,!0,"previousOrParentNode should be a parent")}function Rc(){lu(Ku.parent,"previousOrParentNode should have a parent")}function Ic(t,e){null==e&&(e=ol),su(t,e?e.length:0,"index expected to be a valid data index")}function Mc(t,e){null==e&&(e=ol),ou(e.length,t,"index "+t+" expected to be at the end of arr (length "+e.length+")")}function Nc(t){ngDevMode&&lu(t,"expecting component got null");var e=t[Qu];return ngDevMode&&lu(t,"object is not a component"),e}var Lc=$u,Fc=tl,jc=function(){function t(t,e){this._view=t,this.context=e}return t.prototype._setComponentContext=function(t,e){this._view=t,this.context=e},t.prototype.destroy=function(){},t.prototype.onDestroy=function(t){},t.prototype.markForCheck=function(){ic(this._view)},t.prototype.detach=function(){this._view.flags&=-9},t.prototype.reattach=function(){this._view.flags|=8},t.prototype.detectChanges=function(){ac(this.context)},t.prototype.checkNoChanges=function(){!function(t){cl=!0;try{ac(t)}finally{cl=!1}}(this.context)},t}(),Vc=function(t){function e(e,n,r){var i=t.call(this,e.data,r)||this;return i._lViewNode=e,i}return Object(r.__extends)(e,t),e}(jc);function zc(t,e){return Bc(new jc(t,e))}function Bc(t){var e=null;return t.destroyed=!1,t.destroy=function(){e&&e.forEach(function(t){return t()}),this.destroyed=!0},t.onDestroy=function(t){return(e||(e=[])).push(t)},t}function Wc(t,e){var n;void 0===e&&(e={}),ngDevMode&&(void 0===n&&(n="Type passed in is not ComponentType, it does not have 'ngComponentDef' property."),t.ngComponentDef||cu(n));var r,i=e.rendererFactory||Cu,o=t.ngComponentDef;o.type!=t&&(o.type=t);var a=o.selectors[0][0],s=Ol(i,e.host||a),u={component:null,scheduler:e.scheduler||requestAnimationFrame.bind(window),clean:Lc},l=ml(-1,i.createRenderer(s,o.rendererType),Tl(null,null),null,u,o.onPush?4:2);l.injector=e.injector||null;var c,f=hl(l,null);try{i.begin&&i.begin(),c=function(t,e,n){Zu=!1,Ku=null;var r=bl(0,3,s,ml(-1,Gu,Al(n.template,n.directiveDefs,n.pipeDefs),null,null,n.onPush?4:2));return fl&&(r.tNode=Nl(t,null,null),r.tNode.flags=4096,n.diPublic&&n.diPublic(n),ul.tView.directives=[n]),r}(a,0,o),r=u.component=Xl(0,o.factory(),o),Dl(c.nodeInjector,r,c.data),e.hostFeatures&&e.hostFeatures.forEach(function(t){return t(r,o)}),gl(),vl(Fc),sc(c.data,c,o,r)}finally{dl(f),i.end&&i.end()}return r}function Hc(t){return function(t){var e=oc(t).context;return ngDevMode&&lu(e,"rootContext"),e}(t).clean}var Xc="__NG_ELEMENT_ID__",qc=256,Uc=0;function Gc(){return ngDevMode&&kc(),Yc(nl())}function Yc(t){var e=t.nodeInjector,n=t.parent&&t.parent.nodeInjector;return e!=n?e:t.nodeInjector={parent:n,node:t,bf0:0,bf1:0,bf2:0,bf3:0,bf4:0,bf5:0,bf6:0,bf7:0,cbf0:null==n?0:n.cbf0|n.bf0,cbf1:null==n?0:n.cbf1|n.bf1,cbf2:null==n?0:n.cbf2|n.bf2,cbf3:null==n?0:n.cbf3|n.bf3,cbf4:null==n?0:n.cbf4|n.bf4,cbf5:null==n?0:n.cbf5|n.bf5,cbf6:null==n?0:n.cbf6|n.bf6,cbf7:null==n?0:n.cbf7|n.bf7,templateRef:null,viewContainerRef:null,elementRef:null,changeDetectorRef:null}}function Kc(t){!function(t,e){!function(t,e){var n=e[Xc];null==n&&(n=e[Xc]=Uc++);var r=n%qc,i=1<<r;r<128?r<64?r<32?t.bf0|=i:t.bf1|=i:r<96?t.bf2|=i:t.bf3|=i:r<192?r<160?t.bf4|=i:t.bf5|=i:r<224?t.bf6|=i:t.bf7|=i}(t,e.type)}(Gc(),t)}function Zc(t,e){return void 0===e&&(e=0),nf(Gc(),t,e)}function Jc(){return cf(Gc())}function Qc(){return uf(Gc())}function $c(){return ef(Gc(),null)}function tf(t){ngDevMode&&kc();var e=nl();ngDevMode&&yu(e,3);var n=e.tNode;ngDevMode&&lu(n,"expecting tNode");var r=n.attrs;if(r)for(var i=0;i<r.length;i+=2)if(r[i]==t)return r[i+1]}function ef(t,e){if(t.changeDetectorRef)return t.changeDetectorRef;var n=t.node;return 4096==(4096&n.tNode.flags)?t.changeDetectorRef=zc(n.data,e):3===n.type?t.changeDetectorRef=function(t){var e=function(t){for(;2===t.type;)t=t.view.node;return t}(t),n=e.nodeInjector;return n&&n.changeDetectorRef||zc(e.data,e.view.directives[e.tNode.flags>>13])}(n.view.node):null}function nf(t,e,n){var r,i="number"==typeof(r=e[Xc])?r%qc:null;if(null===i){var o=Lt(nl().view.injector);try{return Ft(e,n)}finally{Lt(o)}}else for(var a=t;a&&(a=of(a,i));){var s=a.node,u=s.tNode.flags,l=4095&u;if(0!==l)for(var c=u>>13,f=c+l,h=s.view.tView.directives,d=c;d<f;d++){var p=h[d];if(p.type===e&&p.diPublic)return Oc(s.view.directives[d])}var v=void 0;if(a===t&&(v=rf(s,e)))return v;a=a.parent}throw new Error("Implement")}function rf(t,e){var n=t.view.tView.currentMatches;if(n)for(var r=0;r<n.length;r+=2){var i=n[r];if(i.type===e)return Sl(i,r+1,n,t.view.tView)}return null}function of(t,e){for(var n=1<<e,r=t;r;){if(((e<128?e<64?e<32?r.bf0:r.bf1:e<96?r.bf2:r.bf3:e<192?e<160?r.bf4:r.bf5:e<224?r.bf6:r.bf7)&n)===n)return r;r=(e<128?e<64?e<32?r.cbf0:r.cbf1:e<96?r.cbf2:r.cbf3:e<192?e<160?r.cbf4:r.cbf5:e<224?r.cbf6:r.cbf7)&n?r.parent:null}return null}var af=function(t){this.read=t},sf=function(t){this.nativeElement=t};function uf(t){if(!t.viewContainerRef){var e=t.node;ngDevMode&&bu(e,0,3);var n=ql(e.parent,e.view),r=yl(0,e.view,e.parent,void 0,n,null);e.dynamicLContainerNode=r,rc(e.view,n),t.viewContainerRef=new lf(r)}return t.viewContainerRef}var lf=function(){function t(t){this._lContainerNode=t,this._viewRefs=[]}return t.prototype.clear=function(){for(var t=this._lContainerNode.data;t.views.length;)this.remove(0)},t.prototype.get=function(t){return this._viewRefs[t]||null},Object.defineProperty(t.prototype,"length",{get:function(){return this._lContainerNode.data.views.length},enumerable:!0,configurable:!0}),t.prototype.createEmbeddedView=function(t,e,n){var r=t.createEmbeddedView(e||{});return this.insert(r,n),r},t.prototype.createComponent=function(t,e,n,r,i){throw new Error("NotImplemented")},t.prototype.insert=function(t,e){var n=t._lViewNode,r=this._adjustIndex(e);return Ru(this._lContainerNode,n,r),this._lContainerNode.native=void 0,this._viewRefs.splice(r,0,t),n.parent=this._lContainerNode,null!==n.data.template&&(this._lContainerNode.data.dynamicViewCount++,null!==this._lContainerNode.parent&&null!==this._lContainerNode.parent.data&&(ngDevMode&&bu(this._lContainerNode.parent,2,3),this._lContainerNode.parent.data.dynamicViewCount++)),t},t.prototype.move=function(t,e){var n=this.indexOf(t);return this.detach(n),this.insert(t,this._adjustIndex(e)),t},t.prototype.indexOf=function(t){return this._viewRefs.indexOf(t)},t.prototype.remove=function(t){this.detach(t)},t.prototype.detach=function(t){var e=this._adjustIndex(t,-1);return Iu(this._lContainerNode,e),this._viewRefs.splice(e,1)[0]||null},t.prototype._adjustIndex=function(t,e){return void 0===e&&(e=0),null==t?this._lContainerNode.data.views.length+e:(ngDevMode&&(t<=-1&&cu("index must be positive"),su(t,this._lContainerNode.data.views.length+1+e,"index")),t)},t}();function cf(t){ngDevMode&&yu(t.node,0);var e=t.node.data,n=t.node.view.tView;return t.templateRef||(t.templateRef=new ff(function(t){return t.elementRef||(t.elementRef=new sf(0===t.node.type?null:t.node.native))}(t),e.template,Gu,n.directiveRegistry,n.pipeRegistry))}var ff=function(){function t(t,e,n,r,i){this._renderer=n,this._directives=r,this._pipes=i,this.elementRef=t,this._template=e}return t.prototype.createEmbeddedView=function(t){var e=wl(null,this._template,t,this._renderer,this._directives,this._pipes);return Bc(new Vc(e,this._template,t))},t}();function hf(t){var e=t.type,n=t.pipes,r=t.directives,i={type:e,diPublic:null,factory:t.factory,template:t.template||null,hostBindings:t.hostBindings||null,attributes:t.attributes||null,inputs:bf(t.inputs),outputs:bf(t.outputs),rendererType:qi(t.rendererType)||null,exportAs:t.exportAs,onInit:e.prototype.ngOnInit||null,doCheck:e.prototype.ngDoCheck||null,afterContentInit:e.prototype.ngAfterContentInit||null,afterContentChecked:e.prototype.ngAfterContentChecked||null,afterViewInit:e.prototype.ngAfterViewInit||null,afterViewChecked:e.prototype.ngAfterViewChecked||null,onDestroy:e.prototype.ngOnDestroy||null,onPush:t.changeDetection===N.OnPush,directiveDefs:r?function(){return("function"==typeof r?r():r).map(df)}:null,pipeDefs:n?function(){return("function"==typeof n?n():n).map(pf)}:null,selectors:t.selectors},o=t.features;return o&&o.forEach(function(t){return t(i)}),i}function df(t){var e=t.ngComponentDef||t.ngDirectiveDef;if(ngDevMode&&!e)throw new Error("'"+t.name+"' is neither 'ComponentType' or 'DirectiveType'.");return e}function pf(t){var e=t.ngPipeDef;if(ngDevMode&&!e)throw new Error("'"+t.name+"' is not a 'PipeType'.");return e}var vf="__ngOnChanges_";function gf(t){return function(n){var r=n.inputs,i=n.type.prototype;Object.defineProperty(i,vf,{value:void 0,writable:!0});var o=function(e){var n=r[e],o=t&&t[n]||e,a=vf+n;Object.defineProperty(i,a,{value:void 0,writable:!0});var s=Object.getOwnPropertyDescriptor(i,n);Object.defineProperty(i,n,{get:function(){return s&&s.get?s.get.call(this):this[a]},set:function(t){var e=this[vf],n=void 0===e;null==e&&(e=this[vf]={}),e[o]=new Pr(this[a],t,n),s&&s.set?s.set.call(this,t):this[a]=t}})};for(var a in r)o(a);null!=n.onInit&&(n.onInit=e(n.onInit)),n.doCheck=e(n.doCheck)};function e(t){return function(){var e=this[vf];null!=e&&(this.ngOnChanges(e),this[vf]=null),t&&t.apply(this)}}}function mf(t){t.diPublic=Kc}var yf={};function bf(t){if(null==t)return yf;var e={};for(var n in t)e[t[n]]=n;return e}var wf=hf;function xf(t){return{name:t.name,n:t.factory,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function _f(t,e){return ll()?Pc(e?t.call(e):t()):Sc()}function Cf(t,e,n){return Dc(e)?Pc(n?t.call(n,e):t(e)):Sc()}function Sf(t,e,n,r){return Ac(e,n)?Pc(r?t.call(r,e,n):t(e,n)):Sc()}function Df(t,e,n,r,i){var o=Ac(e,n);return Dc(r)||o?Pc(i?t.call(i,e,n,r):t(e,n,r)):Sc()}function Pf(t,e,n,r,i,o){return Tc(e,n,r,i)?Pc(o?t.call(o,e,n,r,i):t(e,n,r,i)):Sc()}function Af(t,e,n,r,i,o,a){var s=Tc(e,n,r,i);return Dc(o)||s?Pc(a?t.call(a,e,n,r,i,o):t(e,n,r,i,o)):Sc()}function Tf(t,e,n,r,i,o,a,s){var u=Tc(e,n,r,i);return Ac(o,a)||u?Pc(s?t.call(s,e,n,r,i,o,a):t(e,n,r,i,o,a)):Sc()}function Ef(t,e,n,r,i,o,a,s,u){var l=Tc(e,n,r,i);return l=Ac(o,a)||l,Dc(s)||l?Pc(u?t.call(u,e,n,r,i,o,a,s):t(e,n,r,i,o,a,s)):Sc()}function Of(t,e,n,r,i,o,a,s,u,l){var c=Tc(e,n,r,i);return Tc(o,a,s,u)||c?Pc(l?t.call(l,e,n,r,i,o,a,s,u):t(e,n,r,i,o,a,s,u)):Sc()}function kf(t,e,n){for(var r=!1,i=0;i<e.length;i++)Dc(e[i])&&(r=!0);return r?Pc(t.apply(n,e)):Sc()}function Rf(t,e){var n,r=Ec();r.firstTemplatePass?(n=function(t,e){if(e)for(var n=0;n<e.length;n++){var r=e[n];if(t===r.name)return r}throw new Error("Pipe with name '"+t+"' not found!")}(e,r.pipeRegistry),r.data[t]=n,n.onDestroy&&(r.pipeDestroyHooks||(r.pipeDestroyHooks=[])).push(t,n.onDestroy)):n=r.data[t];var i=n.n();return xc(t,i),i}function If(t,e){var n=_c(t);return jf(t)?Cf(n.transform,e,n):n.transform(e)}function Mf(t,e,n){var r=_c(t);return jf(t)?Sf(r.transform,e,n,r):r.transform(e,n)}function Nf(t,e,n,r){var i=_c(t);return jf(t)?Df(i.transform.bind(i),e,n,r):i.transform(e,n,r)}function Lf(t,e,n,r,i){var o=_c(t);return jf(t)?Pf(o.transform,e,n,r,i,o):o.transform(e,n,r,i)}function Ff(t,e){var n=_c(t);return jf(t)?kf(n.transform,e,n):n.transform.apply(n,e)}function jf(t){return Ec().data[t].pure}var Vf=function(){function t(t){this.shallow=null,this.deep=null,this.deep=null==t?null:t}return t.prototype.track=function(t,e,n,r){n?this.deep=qf(this.deep,t,e,null!=r?r:null):this.shallow=qf(this.shallow,t,e,null!=r?r:null)},t.prototype.child=function(){return null===this.deep?null:null===this.shallow?this:new t(this.deep)},t.prototype.container=function(){for(var e=null,n=this.deep;n;){var r=[];n.values.push(r);var i={next:null,list:n.list,predicate:n.predicate,values:r};i.next=e,e=i,n=n.next}return e?new t(e):null},t.prototype.enterView=function(e){for(var n=null,r=this.deep;r;){var i=[];r.values.splice(e,0,i);var o={next:null,list:r.list,predicate:r.predicate,values:i};o.next=n,n=o,r=r.next}return n?new t(n):null},t.prototype.addNode=function(t){Hf(this.shallow,t),Hf(this.deep,t)},t.prototype.removeView=function(t){for(var e=this.deep;e;){var n=e.values.splice(t,1);ngDevMode&&ou(n.length,1,"removed.length"),n[0].length&&e.list.setDirty(),e=e.next}},t}();function zf(t,e){var n=t.localNames;if(n)for(var r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Bf(t,e){for(var n=t.view.tView.directives,r=t.tNode.flags,i=r>>13,o=i+(4095&r),a=i;a<o;a++){var s=n[a];if(s.type===e&&s.diPublic)return a}return null}function Wf(t,e,n,r){if(n instanceof af)return n.read(t,e,r);var i=Bf(e,n);return null!==i?e.view.directives[i]:null}function Hf(t,e){for(var n=Yc(e);t;){var r=t.predicate,i=r.type;if(i)null!==(s=Bf(e,i))&&null!==(u=Wf(n,e,r.read||i,s))&&Xf(t,u);else for(var o=r.selector,a=0;a<o.length;a++){var s,u;ngDevMode&&lu(e.tNode,"node.tNode"),null!==(s=zf(e.tNode,o[a]))&&(ngDevMode&&lu(r.read,"the node should have a predicate"),null!==(u=Wf(n,e,r.read,s))&&Xf(t,u))}t=t.next}}function Xf(t,e){t.values.push(e),t.list.setDirty()}function qf(t,e,n,r){return{next:t,list:e,predicate:function(t,e){var n=Array.isArray(t);return{type:n?null:t,selector:n?t:null,read:e}}(n,r),values:e._valuesTree}}var Uf=function(){function t(){this.dirty=!0,this.changes=new _n,this._values=[],this._valuesTree=[]}return Object.defineProperty(t.prototype,"length",{get:function(){return this._values.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"first",{get:function(){var t=this._values;return t.length?t[0]:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"last",{get:function(){var t=this._values;return t.length?t[t.length-1]:null},enumerable:!0,configurable:!0}),t.prototype.map=function(t){return this._values.map(t)},t.prototype.filter=function(t){return this._values.filter(t)},t.prototype.find=function(t){return this._values.find(t)},t.prototype.reduce=function(t,e){return this._values.reduce(t,e)},t.prototype.forEach=function(t){this._values.forEach(t)},t.prototype.some=function(t){return this._values.some(t)},t.prototype.toArray=function(){return this._values.slice(0)},t.prototype[$()]=function(){return this._values[$()]()},t.prototype.toString=function(){return this._values.toString()},t.prototype.reset=function(t){this._values=function(t){for(var e=[],n=0;n<t.length;){var r=t[n];Array.isArray(r)?r.length>0?(t=r.concat(t.slice(n+1)),n=0):n++:(e.push(r),n++)}return e}(t),this.dirty=!1},t.prototype.notifyOnChanges=function(){this.changes.emit(this)},t.prototype.setDirty=function(){this.dirty=!0},t.prototype.destroy=function(){this.changes.complete(),this.changes.unsubscribe()},t}();function Gf(t,e,n,r){ngDevMode&&kc();var i=new Uf;return(rl||(rl=new Vf)).track(i,e,n,r),null!=t&&xc(t,i),i}function Yf(t){return!!t.dirty&&(t.reset(t._valuesTree),t.notifyOnChanges(),!0)}var Kf="__SANITIZER_TRUSTED_BRAND__";function Zf(t){return t instanceof String&&"Html"===t[Kf]?t.toString():yi(document,Du(t))}function Jf(t){return t instanceof String&&"Style"===t[Kf]?t.toString():_i(Du(t))}function Qf(t){return t instanceof String&&"Url"===t[Kf]?t.toString():ni(Du(t))}function $f(t){if(t instanceof String&&"ResourceUrl"===t[Kf])return t.toString();throw new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)")}function th(t){return oh(t,"Html")}function eh(t){return oh(t,"Style")}function nh(t){return oh(t,"Script")}function rh(t){return oh(t,"Url")}function ih(t){return oh(t,"ResourceUrl")}function oh(t,e){var n=new String(t);return n[Kf]=e,n}},CuG4:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("lT9W"),i=n("lZTZ"),o=n("kiUJ");e.extractParams=function(t){var e=i.extractWeightsFactory(t),n=e.extractWeights,a=e.getRemainingWeights,s=[],u=function(t,e){function n(n,i,a,s){return{conv:function(n,i,a,s){var u=function(e,n,i){var a=t(e),s=a.length/(n*i*i);if(o.isFloat(s))throw new Error("depth has to be an integer: "+s+", weights.length: "+a.length+", numFilters: "+n+", filterSize: "+i);return r.tidy(function(){return r.transpose(r.tensor4d(a,[n,s,i,i]),[2,3,1,0])})}(n,i,a),l=r.tensor1d(t(i));return e.push({paramPath:s+"/filters"},{paramPath:s+"/bias"}),{filters:u,bias:l}}(n,i,a,s+"/conv"),scale:function(n,i){var o=r.tensor1d(t(n)),a=r.tensor1d(t(n));return e.push({paramPath:i+"/weights"},{paramPath:i+"/biases"}),{weights:o,biases:a}}(i,s+"/scale")}}return{extractConvLayerParams:n,extractResidualLayerParams:function(t,e,r,i,o){return void 0===o&&(o=!1),{conv1:n((o?.5:1)*t,e,r,i+"/conv1"),conv2:n(t,e,r,i+"/conv2")}}}}(n,s),l=u.extractResidualLayerParams,c=(0,u.extractConvLayerParams)(4704,32,7,"conv32_down"),f=l(9216,32,3,"conv32_1"),h=l(9216,32,3,"conv32_2"),d=l(9216,32,3,"conv32_3"),p=l(36864,64,3,"conv64_down",!0),v=l(36864,64,3,"conv64_1"),g=l(36864,64,3,"conv64_2"),m=l(36864,64,3,"conv64_3"),y=l(147456,128,3,"conv128_down",!0),b=l(147456,128,3,"conv128_1"),w=l(147456,128,3,"conv128_2"),x=l(589824,256,3,"conv256_down",!0),_=l(589824,256,3,"conv256_1"),C=l(589824,256,3,"conv256_2"),S=l(589824,256,3,"conv256_down_out"),D=r.tidy(function(){return r.transpose(r.tensor2d(n(32768),[128,256]),[1,0])});if(s.push({paramPath:"fc"}),0!==a().length)throw new Error("weights remaing after extract: "+a().length);return{params:{conv32_down:c,conv32_1:f,conv32_2:h,conv32_3:d,conv64_down:p,conv64_1:v,conv64_2:g,conv64_3:m,conv128_down:y,conv128_1:b,conv128_2:w,conv256_down:x,conv256_1:_,conv256_2:C,conv256_down_out:S,fc:D},paramMappings:s}}},DKTb:function(t,e,n){"use strict";function r(t){setTimeout(function(){throw t})}n.d(e,"a",function(){return r})},DmoT:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Rect=function(){function t(t,e,n,r){this.x=t,this.y=e,this.width=n,this.height=r}return t.prototype.toSquare=function(){var e=this.x,n=this.y,r=this.width,i=this.height,o=Math.abs(r-i);return r<i&&(e-=o/2,r+=o),i<r&&(n-=o/2,i+=o),new t(e,n,r,i)},t.prototype.pad=function(e,n){return new t(this.x-e/2,this.y-n/2,this.width+e,this.height+n)},t.prototype.floor=function(){return new t(Math.floor(this.x),Math.floor(this.y),Math.floor(this.width),Math.floor(this.height))},t}()},EVdn:function(t,e,n){var r;!function(e,n){"use strict";"object"==typeof t&&"object"==typeof t.exports?t.exports=e.document?n(e,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return n(t)}:n(e)}("undefined"!=typeof window?window:this,function(n,i){"use strict";var o=[],a=n.document,s=Object.getPrototypeOf,u=o.slice,l=o.concat,c=o.push,f=o.indexOf,h={},d=h.toString,p=h.hasOwnProperty,v=p.toString,g=v.call(Object),m={},y=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType},b=function(t){return null!=t&&t===t.window},w={type:!0,src:!0,noModule:!0};function x(t,e,n){var r,i=(e=e||a).createElement("script");if(i.text=t,n)for(r in w)n[r]&&(i[r]=n[r]);e.head.appendChild(i).parentNode.removeChild(i)}function _(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?h[d.call(t)]||"object":typeof t}var C=function(t,e){return new C.fn.init(t,e)},S=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function D(t){var e=!!t&&"length"in t&&t.length,n=_(t);return!y(t)&&!b(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}C.fn=C.prototype={jquery:"3.3.1",constructor:C,length:0,toArray:function(){return u.call(this)},get:function(t){return null==t?u.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=C.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return C.each(this,t)},map:function(t){return this.pushStack(C.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(u.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:c,sort:o.sort,splice:o.splice},C.extend=C.fn.extend=function(){var t,e,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||y(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(t=arguments[s]))for(e in t)n=a[e],a!==(r=t[e])&&(l&&r&&(C.isPlainObject(r)||(i=Array.isArray(r)))?(i?(i=!1,o=n&&Array.isArray(n)?n:[]):o=n&&C.isPlainObject(n)?n:{},a[e]=C.extend(l,o,r)):void 0!==r&&(a[e]=r));return a},C.extend({expando:"jQuery"+("3.3.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,n;return!(!t||"[object Object]"!==d.call(t)||(e=s(t))&&("function"!=typeof(n=p.call(e,"constructor")&&e.constructor)||v.call(n)!==g))},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t){x(t)},each:function(t,e){var n,r=0;if(D(t))for(n=t.length;r<n&&!1!==e.call(t[r],r,t[r]);r++);else for(r in t)if(!1===e.call(t[r],r,t[r]))break;return t},trim:function(t){return null==t?"":(t+"").replace(S,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(D(Object(t))?C.merge(n,"string"==typeof t?[t]:t):c.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:f.call(e,t,n)},merge:function(t,e){for(var n=+e.length,r=0,i=t.length;r<n;r++)t[i++]=e[r];return t.length=i,t},grep:function(t,e,n){for(var r=[],i=0,o=t.length,a=!n;i<o;i++)!e(t[i],i)!==a&&r.push(t[i]);return r},map:function(t,e,n){var r,i,o=0,a=[];if(D(t))for(r=t.length;o<r;o++)null!=(i=e(t[o],o,n))&&a.push(i);else for(o in t)null!=(i=e(t[o],o,n))&&a.push(i);return l.apply([],a)},guid:1,support:m}),"function"==typeof Symbol&&(C.fn[Symbol.iterator]=o[Symbol.iterator]),C.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){h["[object "+e+"]"]=e.toLowerCase()});var P=function(t){var e,n,r,i,o,a,s,u,l,c,f,h,d,p,v,g,m,y,b,w="sizzle"+1*new Date,x=t.document,_=0,C=0,S=at(),D=at(),P=at(),A=function(t,e){return t===e&&(f=!0),0},T={}.hasOwnProperty,E=[],O=E.pop,k=E.push,R=E.push,I=E.slice,M=function(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1},N="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",L="[\\x20\\t\\r\\n\\f]",F="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",j="\\["+L+"*("+F+")(?:"+L+"*([*^$|!~]?=)"+L+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+F+"))|)"+L+"*\\]",V=":("+F+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+j+")*)|.*)\\)|)",z=new RegExp(L+"+","g"),B=new RegExp("^"+L+"+|((?:^|[^\\\\])(?:\\\\.)*)"+L+"+$","g"),W=new RegExp("^"+L+"*,"+L+"*"),H=new RegExp("^"+L+"*([>+~]|"+L+")"+L+"*"),X=new RegExp("="+L+"*([^\\]'\"]*?)"+L+"*\\]","g"),q=new RegExp(V),U=new RegExp("^"+F+"$"),G={ID:new RegExp("^#("+F+")"),CLASS:new RegExp("^\\.("+F+")"),TAG:new RegExp("^("+F+"|[*])"),ATTR:new RegExp("^"+j),PSEUDO:new RegExp("^"+V),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+L+"*(even|odd|(([+-]|)(\\d*)n|)"+L+"*(?:([+-]|)"+L+"*(\\d+)|))"+L+"*\\)|)","i"),bool:new RegExp("^(?:"+N+")$","i"),needsContext:new RegExp("^"+L+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+L+"*((?:-\\d)?\\d*)"+L+"*\\)|)(?=[^-]|$)","i")},Y=/^(?:input|select|textarea|button)$/i,K=/^h\d$/i,Z=/^[^{]+\{\s*\[native \w/,J=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Q=/[+~]/,$=new RegExp("\\\\([\\da-f]{1,6}"+L+"?|("+L+")|.)","ig"),tt=function(t,e,n){var r="0x"+e-65536;return r!=r||n?e:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},et=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,nt=function(t,e){return e?"\0"===t?"\ufffd":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},rt=function(){h()},it=yt(function(t){return!0===t.disabled&&("form"in t||"label"in t)},{dir:"parentNode",next:"legend"});try{R.apply(E=I.call(x.childNodes),x.childNodes)}catch(t){R={apply:E.length?function(t,e){k.apply(t,I.call(e))}:function(t,e){for(var n=t.length,r=0;t[n++]=e[r++];);t.length=n-1}}}function ot(t,e,r,i){var o,s,l,c,f,p,m,y=e&&e.ownerDocument,_=e?e.nodeType:9;if(r=r||[],"string"!=typeof t||!t||1!==_&&9!==_&&11!==_)return r;if(!i&&((e?e.ownerDocument||e:x)!==d&&h(e),e=e||d,v)){if(11!==_&&(f=J.exec(t)))if(o=f[1]){if(9===_){if(!(l=e.getElementById(o)))return r;if(l.id===o)return r.push(l),r}else if(y&&(l=y.getElementById(o))&&b(e,l)&&l.id===o)return r.push(l),r}else{if(f[2])return R.apply(r,e.getElementsByTagName(t)),r;if((o=f[3])&&n.getElementsByClassName&&e.getElementsByClassName)return R.apply(r,e.getElementsByClassName(o)),r}if(n.qsa&&!P[t+" "]&&(!g||!g.test(t))){if(1!==_)y=e,m=t;else if("object"!==e.nodeName.toLowerCase()){for((c=e.getAttribute("id"))?c=c.replace(et,nt):e.setAttribute("id",c=w),s=(p=a(t)).length;s--;)p[s]="#"+c+" "+mt(p[s]);m=p.join(","),y=Q.test(t)&&vt(e.parentNode)||e}if(m)try{return R.apply(r,y.querySelectorAll(m)),r}catch(t){}finally{c===w&&e.removeAttribute("id")}}}return u(t.replace(B,"$1"),e,r,i)}function at(){var t=[];return function e(n,i){return t.push(n+" ")>r.cacheLength&&delete e[t.shift()],e[n+" "]=i}}function st(t){return t[w]=!0,t}function ut(t){var e=d.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function lt(t,e){for(var n=t.split("|"),i=n.length;i--;)r.attrHandle[n[i]]=e}function ct(t,e){var n=e&&t,r=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function ft(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function ht(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function dt(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&it(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function pt(t){return st(function(e){return e=+e,st(function(n,r){for(var i,o=t([],n.length,e),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function vt(t){return t&&void 0!==t.getElementsByTagName&&t}for(e in n=ot.support={},o=ot.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},h=ot.setDocument=function(t){var e,i,a=t?t.ownerDocument||t:x;return a!==d&&9===a.nodeType&&a.documentElement?(p=(d=a).documentElement,v=!o(d),x!==d&&(i=d.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",rt,!1):i.attachEvent&&i.attachEvent("onunload",rt)),n.attributes=ut(function(t){return t.className="i",!t.getAttribute("className")}),n.getElementsByTagName=ut(function(t){return t.appendChild(d.createComment("")),!t.getElementsByTagName("*").length}),n.getElementsByClassName=Z.test(d.getElementsByClassName),n.getById=ut(function(t){return p.appendChild(t).id=w,!d.getElementsByName||!d.getElementsByName(w).length}),n.getById?(r.filter.ID=function(t){var e=t.replace($,tt);return function(t){return t.getAttribute("id")===e}},r.find.ID=function(t,e){if(void 0!==e.getElementById&&v){var n=e.getElementById(t);return n?[n]:[]}}):(r.filter.ID=function(t){var e=t.replace($,tt);return function(t){var n=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}},r.find.ID=function(t,e){if(void 0!==e.getElementById&&v){var n,r,i,o=e.getElementById(t);if(o){if((n=o.getAttributeNode("id"))&&n.value===t)return[o];for(i=e.getElementsByName(t),r=0;o=i[r++];)if((n=o.getAttributeNode("id"))&&n.value===t)return[o]}return[]}}),r.find.TAG=n.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):n.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,r=[],i=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},r.find.CLASS=n.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&v)return e.getElementsByClassName(t)},m=[],g=[],(n.qsa=Z.test(d.querySelectorAll))&&(ut(function(t){p.appendChild(t).innerHTML="<a id='"+w+"'></a><select id='"+w+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&g.push("[*^$]="+L+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||g.push("\\["+L+"*(?:value|"+N+")"),t.querySelectorAll("[id~="+w+"-]").length||g.push("~="),t.querySelectorAll(":checked").length||g.push(":checked"),t.querySelectorAll("a#"+w+"+*").length||g.push(".#.+[+~]")}),ut(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=d.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&g.push("name"+L+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&g.push(":enabled",":disabled"),p.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&g.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),g.push(",.*:")})),(n.matchesSelector=Z.test(y=p.matches||p.webkitMatchesSelector||p.mozMatchesSelector||p.oMatchesSelector||p.msMatchesSelector))&&ut(function(t){n.disconnectedMatch=y.call(t,"*"),y.call(t,"[s!='']:x"),m.push("!=",V)}),g=g.length&&new RegExp(g.join("|")),m=m.length&&new RegExp(m.join("|")),e=Z.test(p.compareDocumentPosition),b=e||Z.test(p.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,r=e&&e.parentNode;return t===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):t.compareDocumentPosition&&16&t.compareDocumentPosition(r)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},A=e?function(t,e){if(t===e)return f=!0,0;var r=!t.compareDocumentPosition-!e.compareDocumentPosition;return r||(1&(r=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!n.sortDetached&&e.compareDocumentPosition(t)===r?t===d||t.ownerDocument===x&&b(x,t)?-1:e===d||e.ownerDocument===x&&b(x,e)?1:c?M(c,t)-M(c,e):0:4&r?-1:1)}:function(t,e){if(t===e)return f=!0,0;var n,r=0,i=t.parentNode,o=e.parentNode,a=[t],s=[e];if(!i||!o)return t===d?-1:e===d?1:i?-1:o?1:c?M(c,t)-M(c,e):0;if(i===o)return ct(t,e);for(n=t;n=n.parentNode;)a.unshift(n);for(n=e;n=n.parentNode;)s.unshift(n);for(;a[r]===s[r];)r++;return r?ct(a[r],s[r]):a[r]===x?-1:s[r]===x?1:0},d):d},ot.matches=function(t,e){return ot(t,null,null,e)},ot.matchesSelector=function(t,e){if((t.ownerDocument||t)!==d&&h(t),e=e.replace(X,"='$1']"),n.matchesSelector&&v&&!P[e+" "]&&(!m||!m.test(e))&&(!g||!g.test(e)))try{var r=y.call(t,e);if(r||n.disconnectedMatch||t.document&&11!==t.document.nodeType)return r}catch(t){}return ot(e,d,null,[t]).length>0},ot.contains=function(t,e){return(t.ownerDocument||t)!==d&&h(t),b(t,e)},ot.attr=function(t,e){(t.ownerDocument||t)!==d&&h(t);var i=r.attrHandle[e.toLowerCase()],o=i&&T.call(r.attrHandle,e.toLowerCase())?i(t,e,!v):void 0;return void 0!==o?o:n.attributes||!v?t.getAttribute(e):(o=t.getAttributeNode(e))&&o.specified?o.value:null},ot.escape=function(t){return(t+"").replace(et,nt)},ot.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},ot.uniqueSort=function(t){var e,r=[],i=0,o=0;if(f=!n.detectDuplicates,c=!n.sortStable&&t.slice(0),t.sort(A),f){for(;e=t[o++];)e===t[o]&&(i=r.push(o));for(;i--;)t.splice(r[i],1)}return c=null,t},i=ot.getText=function(t){var e,n="",r=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=i(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[r++];)n+=i(e);return n},(r=ot.selectors={cacheLength:50,createPseudo:st,match:G,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace($,tt),t[3]=(t[3]||t[4]||t[5]||"").replace($,tt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||ot.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&ot.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return G.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&q.test(n)&&(e=a(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace($,tt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=S[t+" "];return e||(e=new RegExp("(^|"+L+")"+t+"("+L+"|$)"))&&S(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,e,n){return function(r){var i=ot.attr(r,t);return null==i?"!="===e:!e||(i+="","="===e?i===n:"!="===e?i!==n:"^="===e?n&&0===i.indexOf(n):"*="===e?n&&i.indexOf(n)>-1:"$="===e?n&&i.slice(-n.length)===n:"~="===e?(" "+i.replace(z," ")+" ").indexOf(n)>-1:"|="===e&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,n,r,i){var o="nth"!==t.slice(0,3),a="last"!==t.slice(-4),s="of-type"===e;return 1===r&&0===i?function(t){return!!t.parentNode}:function(e,n,u){var l,c,f,h,d,p,v=o!==a?"nextSibling":"previousSibling",g=e.parentNode,m=s&&e.nodeName.toLowerCase(),y=!u&&!s,b=!1;if(g){if(o){for(;v;){for(h=e;h=h[v];)if(s?h.nodeName.toLowerCase()===m:1===h.nodeType)return!1;p=v="only"===t&&!p&&"nextSibling"}return!0}if(p=[a?g.firstChild:g.lastChild],a&&y){for(b=(d=(l=(c=(f=(h=g)[w]||(h[w]={}))[h.uniqueID]||(f[h.uniqueID]={}))[t]||[])[0]===_&&l[1])&&l[2],h=d&&g.childNodes[d];h=++d&&h&&h[v]||(b=d=0)||p.pop();)if(1===h.nodeType&&++b&&h===e){c[t]=[_,d,b];break}}else if(y&&(b=d=(l=(c=(f=(h=e)[w]||(h[w]={}))[h.uniqueID]||(f[h.uniqueID]={}))[t]||[])[0]===_&&l[1]),!1===b)for(;(h=++d&&h&&h[v]||(b=d=0)||p.pop())&&((s?h.nodeName.toLowerCase()!==m:1!==h.nodeType)||!++b||(y&&((c=(f=h[w]||(h[w]={}))[h.uniqueID]||(f[h.uniqueID]={}))[t]=[_,b]),h!==e)););return(b-=i)===r||b%r==0&&b/r>=0}}},PSEUDO:function(t,e){var n,i=r.pseudos[t]||r.setFilters[t.toLowerCase()]||ot.error("unsupported pseudo: "+t);return i[w]?i(e):i.length>1?(n=[t,t,"",e],r.setFilters.hasOwnProperty(t.toLowerCase())?st(function(t,n){for(var r,o=i(t,e),a=o.length;a--;)t[r=M(t,o[a])]=!(n[r]=o[a])}):function(t){return i(t,0,n)}):i}},pseudos:{not:st(function(t){var e=[],n=[],r=s(t.replace(B,"$1"));return r[w]?st(function(t,e,n,i){for(var o,a=r(t,null,i,[]),s=t.length;s--;)(o=a[s])&&(t[s]=!(e[s]=o))}):function(t,i,o){return e[0]=t,r(e,null,o,n),e[0]=null,!n.pop()}}),has:st(function(t){return function(e){return ot(t,e).length>0}}),contains:st(function(t){return t=t.replace($,tt),function(e){return(e.textContent||e.innerText||i(e)).indexOf(t)>-1}}),lang:st(function(t){return U.test(t||"")||ot.error("unsupported lang: "+t),t=t.replace($,tt).toLowerCase(),function(e){var n;do{if(n=v?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===p},focus:function(t){return t===d.activeElement&&(!d.hasFocus||d.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:dt(!1),disabled:dt(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!r.pseudos.empty(t)},header:function(t){return K.test(t.nodeName)},input:function(t){return Y.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:pt(function(){return[0]}),last:pt(function(t,e){return[e-1]}),eq:pt(function(t,e,n){return[n<0?n+e:n]}),even:pt(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:pt(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:pt(function(t,e,n){for(var r=n<0?n+e:n;--r>=0;)t.push(r);return t}),gt:pt(function(t,e,n){for(var r=n<0?n+e:n;++r<e;)t.push(r);return t})}}).pseudos.nth=r.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[e]=ft(e);for(e in{submit:!0,reset:!0})r.pseudos[e]=ht(e);function gt(){}function mt(t){for(var e=0,n=t.length,r="";e<n;e++)r+=t[e].value;return r}function yt(t,e,n){var r=e.dir,i=e.next,o=i||r,a=n&&"parentNode"===o,s=C++;return e.first?function(e,n,i){for(;e=e[r];)if(1===e.nodeType||a)return t(e,n,i);return!1}:function(e,n,u){var l,c,f,h=[_,s];if(u){for(;e=e[r];)if((1===e.nodeType||a)&&t(e,n,u))return!0}else for(;e=e[r];)if(1===e.nodeType||a)if(c=(f=e[w]||(e[w]={}))[e.uniqueID]||(f[e.uniqueID]={}),i&&i===e.nodeName.toLowerCase())e=e[r]||e;else{if((l=c[o])&&l[0]===_&&l[1]===s)return h[2]=l[2];if(c[o]=h,h[2]=t(e,n,u))return!0}return!1}}function bt(t){return t.length>1?function(e,n,r){for(var i=t.length;i--;)if(!t[i](e,n,r))return!1;return!0}:t[0]}function wt(t,e,n,r,i){for(var o,a=[],s=0,u=t.length,l=null!=e;s<u;s++)(o=t[s])&&(n&&!n(o,r,i)||(a.push(o),l&&e.push(s)));return a}function xt(t,e,n,r,i,o){return r&&!r[w]&&(r=xt(r)),i&&!i[w]&&(i=xt(i,o)),st(function(o,a,s,u){var l,c,f,h=[],d=[],p=a.length,v=o||function(t,e,n){for(var r=0,i=e.length;r<i;r++)ot(t,e[r],n);return n}(e||"*",s.nodeType?[s]:s,[]),g=!t||!o&&e?v:wt(v,h,t,s,u),m=n?i||(o?t:p||r)?[]:a:g;if(n&&n(g,m,s,u),r)for(l=wt(m,d),r(l,[],s,u),c=l.length;c--;)(f=l[c])&&(m[d[c]]=!(g[d[c]]=f));if(o){if(i||t){if(i){for(l=[],c=m.length;c--;)(f=m[c])&&l.push(g[c]=f);i(null,m=[],l,u)}for(c=m.length;c--;)(f=m[c])&&(l=i?M(o,f):h[c])>-1&&(o[l]=!(a[l]=f))}}else m=wt(m===a?m.splice(p,m.length):m),i?i(null,a,m,u):R.apply(a,m)})}function _t(t){for(var e,n,i,o=t.length,a=r.relative[t[0].type],s=a||r.relative[" "],u=a?1:0,c=yt(function(t){return t===e},s,!0),f=yt(function(t){return M(e,t)>-1},s,!0),h=[function(t,n,r){var i=!a&&(r||n!==l)||((e=n).nodeType?c(t,n,r):f(t,n,r));return e=null,i}];u<o;u++)if(n=r.relative[t[u].type])h=[yt(bt(h),n)];else{if((n=r.filter[t[u].type].apply(null,t[u].matches))[w]){for(i=++u;i<o&&!r.relative[t[i].type];i++);return xt(u>1&&bt(h),u>1&&mt(t.slice(0,u-1).concat({value:" "===t[u-2].type?"*":""})).replace(B,"$1"),n,u<i&&_t(t.slice(u,i)),i<o&&_t(t=t.slice(i)),i<o&&mt(t))}h.push(n)}return bt(h)}return gt.prototype=r.filters=r.pseudos,r.setFilters=new gt,a=ot.tokenize=function(t,e){var n,i,o,a,s,u,l,c=D[t+" "];if(c)return e?0:c.slice(0);for(s=t,u=[],l=r.preFilter;s;){for(a in n&&!(i=W.exec(s))||(i&&(s=s.slice(i[0].length)||s),u.push(o=[])),n=!1,(i=H.exec(s))&&(n=i.shift(),o.push({value:n,type:i[0].replace(B," ")}),s=s.slice(n.length)),r.filter)!(i=G[a].exec(s))||l[a]&&!(i=l[a](i))||(n=i.shift(),o.push({value:n,type:a,matches:i}),s=s.slice(n.length));if(!n)break}return e?s.length:s?ot.error(t):D(t,u).slice(0)},s=ot.compile=function(t,e){var n,i=[],o=[],s=P[t+" "];if(!s){for(e||(e=a(t)),n=e.length;n--;)(s=_t(e[n]))[w]?i.push(s):o.push(s);(s=P(t,function(t,e){var n=e.length>0,i=t.length>0,o=function(o,a,s,u,c){var f,p,g,m=0,y="0",b=o&&[],w=[],x=l,C=o||i&&r.find.TAG("*",c),S=_+=null==x?1:Math.random()||.1,D=C.length;for(c&&(l=a===d||a||c);y!==D&&null!=(f=C[y]);y++){if(i&&f){for(p=0,a||f.ownerDocument===d||(h(f),s=!v);g=t[p++];)if(g(f,a||d,s)){u.push(f);break}c&&(_=S)}n&&((f=!g&&f)&&m--,o&&b.push(f))}if(m+=y,n&&y!==m){for(p=0;g=e[p++];)g(b,w,a,s);if(o){if(m>0)for(;y--;)b[y]||w[y]||(w[y]=O.call(u));w=wt(w)}R.apply(u,w),c&&!o&&w.length>0&&m+e.length>1&&ot.uniqueSort(u)}return c&&(_=S,l=x),b};return n?st(o):o}(o,i))).selector=t}return s},u=ot.select=function(t,e,n,i){var o,u,l,c,f,h="function"==typeof t&&t,d=!i&&a(t=h.selector||t);if(n=n||[],1===d.length){if((u=d[0]=d[0].slice(0)).length>2&&"ID"===(l=u[0]).type&&9===e.nodeType&&v&&r.relative[u[1].type]){if(!(e=(r.find.ID(l.matches[0].replace($,tt),e)||[])[0]))return n;h&&(e=e.parentNode),t=t.slice(u.shift().value.length)}for(o=G.needsContext.test(t)?0:u.length;o--&&!r.relative[c=(l=u[o]).type];)if((f=r.find[c])&&(i=f(l.matches[0].replace($,tt),Q.test(u[0].type)&&vt(e.parentNode)||e))){if(u.splice(o,1),!(t=i.length&&mt(u)))return R.apply(n,i),n;break}}return(h||s(t,d))(i,e,!v,n,!e||Q.test(t)&&vt(e.parentNode)||e),n},n.sortStable=w.split("").sort(A).join("")===w,n.detectDuplicates=!!f,h(),n.sortDetached=ut(function(t){return 1&t.compareDocumentPosition(d.createElement("fieldset"))}),ut(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||lt("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),n.attributes&&ut(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||lt("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),ut(function(t){return null==t.getAttribute("disabled")})||lt(N,function(t,e,n){var r;if(!n)return!0===t[e]?e.toLowerCase():(r=t.getAttributeNode(e))&&r.specified?r.value:null}),ot}(n);C.find=P,C.expr=P.selectors,C.expr[":"]=C.expr.pseudos,C.uniqueSort=C.unique=P.uniqueSort,C.text=P.getText,C.isXMLDoc=P.isXML,C.contains=P.contains,C.escapeSelector=P.escape;var A=function(t,e,n){for(var r=[],i=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(i&&C(t).is(n))break;r.push(t)}return r},T=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},E=C.expr.match.needsContext;function O(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var k=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function R(t,e,n){return y(e)?C.grep(t,function(t,r){return!!e.call(t,r,t)!==n}):e.nodeType?C.grep(t,function(t){return t===e!==n}):"string"!=typeof e?C.grep(t,function(t){return f.call(e,t)>-1!==n}):C.filter(e,t,n)}C.filter=function(t,e,n){var r=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===r.nodeType?C.find.matchesSelector(r,t)?[r]:[]:C.find.matches(t,C.grep(e,function(t){return 1===t.nodeType}))},C.fn.extend({find:function(t){var e,n,r=this.length,i=this;if("string"!=typeof t)return this.pushStack(C(t).filter(function(){for(e=0;e<r;e++)if(C.contains(i[e],this))return!0}));for(n=this.pushStack([]),e=0;e<r;e++)C.find(t,i[e],n);return r>1?C.uniqueSort(n):n},filter:function(t){return this.pushStack(R(this,t||[],!1))},not:function(t){return this.pushStack(R(this,t||[],!0))},is:function(t){return!!R(this,"string"==typeof t&&E.test(t)?C(t):t||[],!1).length}});var I,M=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(C.fn.init=function(t,e,n){var r,i;if(!t)return this;if(n=n||I,"string"==typeof t){if(!(r="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:M.exec(t))||!r[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(r[1]){if(C.merge(this,C.parseHTML(r[1],(e=e instanceof C?e[0]:e)&&e.nodeType?e.ownerDocument||e:a,!0)),k.test(r[1])&&C.isPlainObject(e))for(r in e)y(this[r])?this[r](e[r]):this.attr(r,e[r]);return this}return(i=a.getElementById(r[2]))&&(this[0]=i,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):y(t)?void 0!==n.ready?n.ready(t):t(C):C.makeArray(t,this)}).prototype=C.fn,I=C(a);var N=/^(?:parents|prev(?:Until|All))/,L={children:!0,contents:!0,next:!0,prev:!0};function F(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}C.fn.extend({has:function(t){var e=C(t,this),n=e.length;return this.filter(function(){for(var t=0;t<n;t++)if(C.contains(this,e[t]))return!0})},closest:function(t,e){var n,r=0,i=this.length,o=[],a="string"!=typeof t&&C(t);if(!E.test(t))for(;r<i;r++)for(n=this[r];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&C.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?C.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?f.call(C(t),this[0]):f.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(C.uniqueSort(C.merge(this.get(),C(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),C.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return A(t,"parentNode")},parentsUntil:function(t,e,n){return A(t,"parentNode",n)},next:function(t){return F(t,"nextSibling")},prev:function(t){return F(t,"previousSibling")},nextAll:function(t){return A(t,"nextSibling")},prevAll:function(t){return A(t,"previousSibling")},nextUntil:function(t,e,n){return A(t,"nextSibling",n)},prevUntil:function(t,e,n){return A(t,"previousSibling",n)},siblings:function(t){return T((t.parentNode||{}).firstChild,t)},children:function(t){return T(t.firstChild)},contents:function(t){return O(t,"iframe")?t.contentDocument:(O(t,"template")&&(t=t.content||t),C.merge([],t.childNodes))}},function(t,e){C.fn[t]=function(n,r){var i=C.map(this,e,n);return"Until"!==t.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=C.filter(r,i)),this.length>1&&(L[t]||C.uniqueSort(i),N.test(t)&&i.reverse()),this.pushStack(i)}});var j=/[^\x20\t\r\n\f]+/g;function V(t){return t}function z(t){throw t}function B(t,e,n,r){var i;try{t&&y(i=t.promise)?i.call(t).done(e).fail(n):t&&y(i=t.then)?i.call(t,e,n):e.apply(void 0,[t].slice(r))}catch(t){n.apply(void 0,[t])}}C.Callbacks=function(t){t="string"==typeof t?function(t){var e={};return C.each(t.match(j)||[],function(t,n){e[n]=!0}),e}(t):C.extend({},t);var e,n,r,i,o=[],a=[],s=-1,u=function(){for(i=i||t.once,r=e=!0;a.length;s=-1)for(n=a.shift();++s<o.length;)!1===o[s].apply(n[0],n[1])&&t.stopOnFalse&&(s=o.length,n=!1);t.memory||(n=!1),e=!1,i&&(o=n?[]:"")},l={add:function(){return o&&(n&&!e&&(s=o.length-1,a.push(n)),function e(n){C.each(n,function(n,r){y(r)?t.unique&&l.has(r)||o.push(r):r&&r.length&&"string"!==_(r)&&e(r)})}(arguments),n&&!e&&u()),this},remove:function(){return C.each(arguments,function(t,e){for(var n;(n=C.inArray(e,o,n))>-1;)o.splice(n,1),n<=s&&s--}),this},has:function(t){return t?C.inArray(t,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return i=a=[],o=n="",this},disabled:function(){return!o},lock:function(){return i=a=[],n||e||(o=n=""),this},locked:function(){return!!i},fireWith:function(t,n){return i||(n=[t,(n=n||[]).slice?n.slice():n],a.push(n),e||u()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!r}};return l},C.extend({Deferred:function(t){var e=[["notify","progress",C.Callbacks("memory"),C.Callbacks("memory"),2],["resolve","done",C.Callbacks("once memory"),C.Callbacks("once memory"),0,"resolved"],["reject","fail",C.Callbacks("once memory"),C.Callbacks("once memory"),1,"rejected"]],r="pending",i={state:function(){return r},always:function(){return o.done(arguments).fail(arguments),this},catch:function(t){return i.then(null,t)},pipe:function(){var t=arguments;return C.Deferred(function(n){C.each(e,function(e,r){var i=y(t[r[4]])&&t[r[4]];o[r[1]](function(){var t=i&&i.apply(this,arguments);t&&y(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[r[0]+"With"](this,i?[t]:arguments)})}),t=null}).promise()},then:function(t,r,i){var o=0;function a(t,e,r,i){return function(){var s=this,u=arguments,l=function(){var n,l;if(!(t<o)){if((n=r.apply(s,u))===e.promise())throw new TypeError("Thenable self-resolution");y(l=n&&("object"==typeof n||"function"==typeof n)&&n.then)?i?l.call(n,a(o,e,V,i),a(o,e,z,i)):l.call(n,a(++o,e,V,i),a(o,e,z,i),a(o,e,V,e.notifyWith)):(r!==V&&(s=void 0,u=[n]),(i||e.resolveWith)(s,u))}},c=i?l:function(){try{l()}catch(n){C.Deferred.exceptionHook&&C.Deferred.exceptionHook(n,c.stackTrace),t+1>=o&&(r!==z&&(s=void 0,u=[n]),e.rejectWith(s,u))}};t?c():(C.Deferred.getStackHook&&(c.stackTrace=C.Deferred.getStackHook()),n.setTimeout(c))}}return C.Deferred(function(n){e[0][3].add(a(0,n,y(i)?i:V,n.notifyWith)),e[1][3].add(a(0,n,y(t)?t:V)),e[2][3].add(a(0,n,y(r)?r:z))}).promise()},promise:function(t){return null!=t?C.extend(t,i):i}},o={};return C.each(e,function(t,n){var a=n[2],s=n[5];i[n[1]]=a.add,s&&a.add(function(){r=s},e[3-t][2].disable,e[3-t][3].disable,e[0][2].lock,e[0][3].lock),a.add(n[3].fire),o[n[0]]=function(){return o[n[0]+"With"](this===o?void 0:this,arguments),this},o[n[0]+"With"]=a.fireWith}),i.promise(o),t&&t.call(o,o),o},when:function(t){var e=arguments.length,n=e,r=Array(n),i=u.call(arguments),o=C.Deferred(),a=function(t){return function(n){r[t]=this,i[t]=arguments.length>1?u.call(arguments):n,--e||o.resolveWith(r,i)}};if(e<=1&&(B(t,o.done(a(n)).resolve,o.reject,!e),"pending"===o.state()||y(i[n]&&i[n].then)))return o.then();for(;n--;)B(i[n],a(n),o.reject);return o.promise()}});var W=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;C.Deferred.exceptionHook=function(t,e){n.console&&n.console.warn&&t&&W.test(t.name)&&n.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},C.readyException=function(t){n.setTimeout(function(){throw t})};var H=C.Deferred();function X(){a.removeEventListener("DOMContentLoaded",X),n.removeEventListener("load",X),C.ready()}C.fn.ready=function(t){return H.then(t).catch(function(t){C.readyException(t)}),this},C.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--C.readyWait:C.isReady)||(C.isReady=!0,!0!==t&&--C.readyWait>0||H.resolveWith(a,[C]))}}),C.ready.then=H.then,"complete"===a.readyState||"loading"!==a.readyState&&!a.documentElement.doScroll?n.setTimeout(C.ready):(a.addEventListener("DOMContentLoaded",X),n.addEventListener("load",X));var q=function(t,e,n,r,i,o,a){var s=0,u=t.length,l=null==n;if("object"===_(n))for(s in i=!0,n)q(t,e,s,n[s],!0,o,a);else if(void 0!==r&&(i=!0,y(r)||(a=!0),l&&(a?(e.call(t,r),e=null):(l=e,e=function(t,e,n){return l.call(C(t),n)})),e))for(;s<u;s++)e(t[s],n,a?r:r.call(t[s],s,e(t[s],n)));return i?t:l?e.call(t):u?e(t[0],n):o},U=/^-ms-/,G=/-([a-z])/g;function Y(t,e){return e.toUpperCase()}function K(t){return t.replace(U,"ms-").replace(G,Y)}var Z=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function J(){this.expando=C.expando+J.uid++}J.uid=1,J.prototype={cache:function(t){var e=t[this.expando];return e||(e={},Z(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var r,i=this.cache(t);if("string"==typeof e)i[K(e)]=n;else for(r in e)i[K(r)]=e[r];return i},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][K(e)]},access:function(t,e,n){return void 0===e||e&&"string"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,r=t[this.expando];if(void 0!==r){if(void 0!==e){n=(e=Array.isArray(e)?e.map(K):(e=K(e))in r?[e]:e.match(j)||[]).length;for(;n--;)delete r[e[n]]}(void 0===e||C.isEmptyObject(r))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!C.isEmptyObject(e)}};var Q=new J,$=new J,tt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,et=/[A-Z]/g;function nt(t,e,n){var r;if(void 0===n&&1===t.nodeType)if(r="data-"+e.replace(et,"-$&").toLowerCase(),"string"==typeof(n=t.getAttribute(r))){try{n=function(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:tt.test(t)?JSON.parse(t):t)}(n)}catch(t){}$.set(t,e,n)}else n=void 0;return n}C.extend({hasData:function(t){return $.hasData(t)||Q.hasData(t)},data:function(t,e,n){return $.access(t,e,n)},removeData:function(t,e){$.remove(t,e)},_data:function(t,e,n){return Q.access(t,e,n)},_removeData:function(t,e){Q.remove(t,e)}}),C.fn.extend({data:function(t,e){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===t){if(this.length&&(i=$.get(o),1===o.nodeType&&!Q.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&0===(r=a[n].name).indexOf("data-")&&(r=K(r.slice(5)),nt(o,r,i[r]));Q.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof t?this.each(function(){$.set(this,t)}):q(this,function(e){var n;if(o&&void 0===e)return void 0!==(n=$.get(o,t))?n:void 0!==(n=nt(o,t))?n:void 0;this.each(function(){$.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){$.remove(this,t)})}}),C.extend({queue:function(t,e,n){var r;if(t)return r=Q.get(t,e=(e||"fx")+"queue"),n&&(!r||Array.isArray(n)?r=Q.access(t,e,C.makeArray(n)):r.push(n)),r||[]},dequeue:function(t,e){var n=C.queue(t,e=e||"fx"),r=n.length,i=n.shift(),o=C._queueHooks(t,e);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===e&&n.unshift("inprogress"),delete o.stop,i.call(t,function(){C.dequeue(t,e)},o)),!r&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return Q.get(t,n)||Q.access(t,n,{empty:C.Callbacks("once memory").add(function(){Q.remove(t,[e+"queue",n])})})}}),C.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?C.queue(this[0],t):void 0===e?this:this.each(function(){var n=C.queue(this,t,e);C._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&C.dequeue(this,t)})},dequeue:function(t){return this.each(function(){C.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,r=1,i=C.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";a--;)(n=Q.get(o[a],t+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(e)}});var rt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,it=new RegExp("^(?:([+-])=|)("+rt+")([a-z%]*)$","i"),ot=["Top","Right","Bottom","Left"],at=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&C.contains(t.ownerDocument,t)&&"none"===C.css(t,"display")},st=function(t,e,n,r){var i,o,a={};for(o in e)a[o]=t.style[o],t.style[o]=e[o];for(o in i=n.apply(t,r||[]),e)t.style[o]=a[o];return i};function ut(t,e,n,r){var i,o,a=20,s=r?function(){return r.cur()}:function(){return C.css(t,e,"")},u=s(),l=n&&n[3]||(C.cssNumber[e]?"":"px"),c=(C.cssNumber[e]||"px"!==l&&+u)&&it.exec(C.css(t,e));if(c&&c[3]!==l){for(u/=2,l=l||c[3],c=+u||1;a--;)C.style(t,e,c+l),(1-o)*(1-(o=s()/u||.5))<=0&&(a=0),c/=o;C.style(t,e,(c*=2)+l),n=n||[]}return n&&(c=+c||+u||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=c,r.end=i)),i}var lt={};function ct(t){var e,n=t.ownerDocument,r=t.nodeName,i=lt[r];return i||(e=n.body.appendChild(n.createElement(r)),i=C.css(e,"display"),e.parentNode.removeChild(e),"none"===i&&(i="block"),lt[r]=i,i)}function ft(t,e){for(var n,r,i=[],o=0,a=t.length;o<a;o++)(r=t[o]).style&&(n=r.style.display,e?("none"===n&&(i[o]=Q.get(r,"display")||null,i[o]||(r.style.display="")),""===r.style.display&&at(r)&&(i[o]=ct(r))):"none"!==n&&(i[o]="none",Q.set(r,"display",n)));for(o=0;o<a;o++)null!=i[o]&&(t[o].style.display=i[o]);return t}C.fn.extend({show:function(){return ft(this,!0)},hide:function(){return ft(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){at(this)?C(this).show():C(this).hide()})}});var ht=/^(?:checkbox|radio)$/i,dt=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,pt=/^$|^module$|\/(?:java|ecma)script/i,vt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function gt(t,e){var n;return n=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&O(t,e)?C.merge([t],n):n}function mt(t,e){for(var n=0,r=t.length;n<r;n++)Q.set(t[n],"globalEval",!e||Q.get(e[n],"globalEval"))}vt.optgroup=vt.option,vt.tbody=vt.tfoot=vt.colgroup=vt.caption=vt.thead,vt.th=vt.td;var yt,bt,wt=/<|&#?\w+;/;function xt(t,e,n,r,i){for(var o,a,s,u,l,c,f=e.createDocumentFragment(),h=[],d=0,p=t.length;d<p;d++)if((o=t[d])||0===o)if("object"===_(o))C.merge(h,o.nodeType?[o]:o);else if(wt.test(o)){for(a=a||f.appendChild(e.createElement("div")),s=(dt.exec(o)||["",""])[1].toLowerCase(),a.innerHTML=(u=vt[s]||vt._default)[1]+C.htmlPrefilter(o)+u[2],c=u[0];c--;)a=a.lastChild;C.merge(h,a.childNodes),(a=f.firstChild).textContent=""}else h.push(e.createTextNode(o));for(f.textContent="",d=0;o=h[d++];)if(r&&C.inArray(o,r)>-1)i&&i.push(o);else if(l=C.contains(o.ownerDocument,o),a=gt(f.appendChild(o),"script"),l&&mt(a),n)for(c=0;o=a[c++];)pt.test(o.type||"")&&n.push(o);return f}yt=a.createDocumentFragment().appendChild(a.createElement("div")),(bt=a.createElement("input")).setAttribute("type","radio"),bt.setAttribute("checked","checked"),bt.setAttribute("name","t"),yt.appendChild(bt),m.checkClone=yt.cloneNode(!0).cloneNode(!0).lastChild.checked,yt.innerHTML="<textarea>x</textarea>",m.noCloneChecked=!!yt.cloneNode(!0).lastChild.defaultValue;var _t=a.documentElement,Ct=/^key/,St=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Dt=/^([^.]*)(?:\.(.+)|)/;function Pt(){return!0}function At(){return!1}function Tt(){try{return a.activeElement}catch(t){}}function Et(t,e,n,r,i,o){var a,s;if("object"==typeof e){for(s in"string"!=typeof n&&(r=r||n,n=void 0),e)Et(t,s,n,r,e[s],o);return t}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=At;else if(!i)return t;return 1===o&&(a=i,(i=function(t){return C().off(t),a.apply(this,arguments)}).guid=a.guid||(a.guid=C.guid++)),t.each(function(){C.event.add(this,e,i,r,n)})}C.event={global:{},add:function(t,e,n,r,i){var o,a,s,u,l,c,f,h,d,p,v,g=Q.get(t);if(g)for(n.handler&&(n=(o=n).handler,i=o.selector),i&&C.find.matchesSelector(_t,i),n.guid||(n.guid=C.guid++),(u=g.events)||(u=g.events={}),(a=g.handle)||(a=g.handle=function(e){return void 0!==C&&C.event.triggered!==e.type?C.event.dispatch.apply(t,arguments):void 0}),l=(e=(e||"").match(j)||[""]).length;l--;)d=v=(s=Dt.exec(e[l])||[])[1],p=(s[2]||"").split(".").sort(),d&&(f=C.event.special[d]||{},f=C.event.special[d=(i?f.delegateType:f.bindType)||d]||{},c=C.extend({type:d,origType:v,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&C.expr.match.needsContext.test(i),namespace:p.join(".")},o),(h=u[d])||((h=u[d]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(t,r,p,a)||t.addEventListener&&t.addEventListener(d,a)),f.add&&(f.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),i?h.splice(h.delegateCount++,0,c):h.push(c),C.event.global[d]=!0)},remove:function(t,e,n,r,i){var o,a,s,u,l,c,f,h,d,p,v,g=Q.hasData(t)&&Q.get(t);if(g&&(u=g.events)){for(l=(e=(e||"").match(j)||[""]).length;l--;)if(d=v=(s=Dt.exec(e[l])||[])[1],p=(s[2]||"").split(".").sort(),d){for(f=C.event.special[d]||{},h=u[d=(r?f.delegateType:f.bindType)||d]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=h.length;o--;)c=h[o],!i&&v!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(h.splice(o,1),c.selector&&h.delegateCount--,f.remove&&f.remove.call(t,c));a&&!h.length&&(f.teardown&&!1!==f.teardown.call(t,p,g.handle)||C.removeEvent(t,d,g.handle),delete u[d])}else for(d in u)C.event.remove(t,d+e[l],n,r,!0);C.isEmptyObject(u)&&Q.remove(t,"handle events")}},dispatch:function(t){var e,n,r,i,o,a,s=C.event.fix(t),u=new Array(arguments.length),l=(Q.get(this,"events")||{})[s.type]||[],c=C.event.special[s.type]||{};for(u[0]=s,e=1;e<arguments.length;e++)u[e]=arguments[e];if(s.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,s)){for(a=C.event.handlers.call(this,s,l),e=0;(i=a[e++])&&!s.isPropagationStopped();)for(s.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!s.rnamespace.test(o.namespace)||(s.handleObj=o,s.data=o.data,void 0!==(r=((C.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,u))&&!1===(s.result=r)&&(s.preventDefault(),s.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,s),s.result}},handlers:function(t,e){var n,r,i,o,a,s=[],u=e.delegateCount,l=t.target;if(u&&l.nodeType&&!("click"===t.type&&t.button>=1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==t.type||!0!==l.disabled)){for(o=[],a={},n=0;n<u;n++)void 0===a[i=(r=e[n]).selector+" "]&&(a[i]=r.needsContext?C(i,this).index(l)>-1:C.find(i,this,null,[l]).length),a[i]&&o.push(r);o.length&&s.push({elem:l,handlers:o})}return l=this,u<e.length&&s.push({elem:l,handlers:e.slice(u)}),s},addProp:function(t,e){Object.defineProperty(C.Event.prototype,t,{enumerable:!0,configurable:!0,get:y(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[C.expando]?t:new C.Event(t)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==Tt()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===Tt()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&O(this,"input"))return this.click(),!1},_default:function(t){return O(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},C.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},C.Event=function(t,e){if(!(this instanceof C.Event))return new C.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?Pt:At,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&C.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[C.expando]=!0},C.Event.prototype={constructor:C.Event,isDefaultPrevented:At,isPropagationStopped:At,isImmediatePropagationStopped:At,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=Pt,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=Pt,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=Pt,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},C.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&Ct.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&St.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},C.event.addProp),C.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){C.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,r=t.relatedTarget,i=t.handleObj;return r&&(r===this||C.contains(this,r))||(t.type=i.origType,n=i.handler.apply(this,arguments),t.type=e),n}}}),C.fn.extend({on:function(t,e,n,r){return Et(this,t,e,n,r)},one:function(t,e,n,r){return Et(this,t,e,n,r,1)},off:function(t,e,n){var r,i;if(t&&t.preventDefault&&t.handleObj)return r=t.handleObj,C(t.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof t){for(i in t)this.off(i,e,t[i]);return this}return!1!==e&&"function"!=typeof e||(n=e,e=void 0),!1===n&&(n=At),this.each(function(){C.event.remove(this,t,n,e)})}});var Ot=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,kt=/<script|<style|<link/i,Rt=/checked\s*(?:[^=]|=\s*.checked.)/i,It=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Mt(t,e){return O(t,"table")&&O(11!==e.nodeType?e:e.firstChild,"tr")&&C(t).children("tbody")[0]||t}function Nt(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function Lt(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function Ft(t,e){var n,r,i,o,a,s,u,l;if(1===e.nodeType){if(Q.hasData(t)&&(o=Q.access(t),a=Q.set(e,o),l=o.events))for(i in delete a.handle,a.events={},l)for(n=0,r=l[i].length;n<r;n++)C.event.add(e,i,l[i][n]);$.hasData(t)&&(s=$.access(t),u=C.extend({},s),$.set(e,u))}}function jt(t,e,n,r){e=l.apply([],e);var i,o,a,s,u,c,f=0,h=t.length,d=h-1,p=e[0],v=y(p);if(v||h>1&&"string"==typeof p&&!m.checkClone&&Rt.test(p))return t.each(function(i){var o=t.eq(i);v&&(e[0]=p.call(this,i,o.html())),jt(o,e,n,r)});if(h&&(o=(i=xt(e,t[0].ownerDocument,!1,t,r)).firstChild,1===i.childNodes.length&&(i=o),o||r)){for(s=(a=C.map(gt(i,"script"),Nt)).length;f<h;f++)u=i,f!==d&&(u=C.clone(u,!0,!0),s&&C.merge(a,gt(u,"script"))),n.call(t[f],u,f);if(s)for(c=a[a.length-1].ownerDocument,C.map(a,Lt),f=0;f<s;f++)pt.test((u=a[f]).type||"")&&!Q.access(u,"globalEval")&&C.contains(c,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?C._evalUrl&&C._evalUrl(u.src):x(u.textContent.replace(It,""),c,u))}return t}function Vt(t,e,n){for(var r,i=e?C.filter(e,t):t,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||C.cleanData(gt(r)),r.parentNode&&(n&&C.contains(r.ownerDocument,r)&&mt(gt(r,"script")),r.parentNode.removeChild(r));return t}C.extend({htmlPrefilter:function(t){return t.replace(Ot,"<$1></$2>")},clone:function(t,e,n){var r,i,o,a,s,u,l,c=t.cloneNode(!0),f=C.contains(t.ownerDocument,t);if(!(m.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||C.isXMLDoc(t)))for(a=gt(c),r=0,i=(o=gt(t)).length;r<i;r++)s=o[r],"input"===(l=(u=a[r]).nodeName.toLowerCase())&&ht.test(s.type)?u.checked=s.checked:"input"!==l&&"textarea"!==l||(u.defaultValue=s.defaultValue);if(e)if(n)for(o=o||gt(t),a=a||gt(c),r=0,i=o.length;r<i;r++)Ft(o[r],a[r]);else Ft(t,c);return(a=gt(c,"script")).length>0&&mt(a,!f&&gt(t,"script")),c},cleanData:function(t){for(var e,n,r,i=C.event.special,o=0;void 0!==(n=t[o]);o++)if(Z(n)){if(e=n[Q.expando]){if(e.events)for(r in e.events)i[r]?C.event.remove(n,r):C.removeEvent(n,r,e.handle);n[Q.expando]=void 0}n[$.expando]&&(n[$.expando]=void 0)}}}),C.fn.extend({detach:function(t){return Vt(this,t,!0)},remove:function(t){return Vt(this,t)},text:function(t){return q(this,function(t){return void 0===t?C.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return jt(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Mt(this,t).appendChild(t)})},prepend:function(){return jt(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=Mt(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return jt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return jt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(C.cleanData(gt(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return C.clone(this,t,e)})},html:function(t){return q(this,function(t){var e=this[0]||{},n=0,r=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!kt.test(t)&&!vt[(dt.exec(t)||["",""])[1].toLowerCase()]){t=C.htmlPrefilter(t);try{for(;n<r;n++)1===(e=this[n]||{}).nodeType&&(C.cleanData(gt(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return jt(this,arguments,function(e){var n=this.parentNode;C.inArray(this,t)<0&&(C.cleanData(gt(this)),n&&n.replaceChild(e,this))},t)}}),C.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){C.fn[t]=function(t){for(var n,r=[],i=C(t),o=i.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),C(i[a])[e](n),c.apply(r,n.get());return this.pushStack(r)}});var zt=new RegExp("^("+rt+")(?!px)[a-z%]+$","i"),Bt=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=n),e.getComputedStyle(t)},Wt=new RegExp(ot.join("|"),"i");function Ht(t,e,n){var r,i,o,a,s=t.style;return(n=n||Bt(t))&&(""!==(a=n.getPropertyValue(e)||n[e])||C.contains(t.ownerDocument,t)||(a=C.style(t,e)),!m.pixelBoxStyles()&&zt.test(a)&&Wt.test(e)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function Xt(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){function t(){if(c){l.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",c.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",_t.appendChild(l).appendChild(c);var t=n.getComputedStyle(c);r="1%"!==t.top,u=12===e(t.marginLeft),c.style.right="60%",s=36===e(t.right),i=36===e(t.width),c.style.position="absolute",o=36===c.offsetWidth||"absolute",_t.removeChild(l),c=null}}function e(t){return Math.round(parseFloat(t))}var r,i,o,s,u,l=a.createElement("div"),c=a.createElement("div");c.style&&(c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",m.clearCloneStyle="content-box"===c.style.backgroundClip,C.extend(m,{boxSizingReliable:function(){return t(),i},pixelBoxStyles:function(){return t(),s},pixelPosition:function(){return t(),r},reliableMarginLeft:function(){return t(),u},scrollboxSize:function(){return t(),o}}))}();var qt=/^(none|table(?!-c[ea]).+)/,Ut=/^--/,Gt={position:"absolute",visibility:"hidden",display:"block"},Yt={letterSpacing:"0",fontWeight:"400"},Kt=["Webkit","Moz","ms"],Zt=a.createElement("div").style;function Jt(t){var e=C.cssProps[t];return e||(e=C.cssProps[t]=function(t){if(t in Zt)return t;for(var e=t[0].toUpperCase()+t.slice(1),n=Kt.length;n--;)if((t=Kt[n]+e)in Zt)return t}(t)||t),e}function Qt(t,e,n){var r=it.exec(e);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):e}function $t(t,e,n,r,i,o){var a="width"===e?1:0,s=0,u=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(u+=C.css(t,n+ot[a],!0,i)),r?("content"===n&&(u-=C.css(t,"padding"+ot[a],!0,i)),"margin"!==n&&(u-=C.css(t,"border"+ot[a]+"Width",!0,i))):(u+=C.css(t,"padding"+ot[a],!0,i),"padding"!==n?u+=C.css(t,"border"+ot[a]+"Width",!0,i):s+=C.css(t,"border"+ot[a]+"Width",!0,i));return!r&&o>=0&&(u+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-o-u-s-.5))),u}function te(t,e,n){var r=Bt(t),i=Ht(t,e,r),o="border-box"===C.css(t,"boxSizing",!1,r),a=o;if(zt.test(i)){if(!n)return i;i="auto"}return a=a&&(m.boxSizingReliable()||i===t.style[e]),("auto"===i||!parseFloat(i)&&"inline"===C.css(t,"display",!1,r))&&(i=t["offset"+e[0].toUpperCase()+e.slice(1)],a=!0),(i=parseFloat(i)||0)+$t(t,e,n||(o?"border":"content"),a,r,i)+"px"}function ee(t,e,n,r,i){return new ee.prototype.init(t,e,n,r,i)}C.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=Ht(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,n,r){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var i,o,a,s=K(e),u=Ut.test(e),l=t.style;if(u||(e=Jt(s)),a=C.cssHooks[e]||C.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(t,!1,r))?i:l[e];"string"==(o=typeof n)&&(i=it.exec(n))&&i[1]&&(n=ut(t,e,i),o="number"),null!=n&&n==n&&("number"===o&&(n+=i&&i[3]||(C.cssNumber[s]?"":"px")),m.clearCloneStyle||""!==n||0!==e.indexOf("background")||(l[e]="inherit"),a&&"set"in a&&void 0===(n=a.set(t,n,r))||(u?l.setProperty(e,n):l[e]=n))}},css:function(t,e,n,r){var i,o,a,s=K(e);return Ut.test(e)||(e=Jt(s)),(a=C.cssHooks[e]||C.cssHooks[s])&&"get"in a&&(i=a.get(t,!0,n)),void 0===i&&(i=Ht(t,e,r)),"normal"===i&&e in Yt&&(i=Yt[e]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),C.each(["height","width"],function(t,e){C.cssHooks[e]={get:function(t,n,r){if(n)return!qt.test(C.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?te(t,e,r):st(t,Gt,function(){return te(t,e,r)})},set:function(t,n,r){var i,o=Bt(t),a="border-box"===C.css(t,"boxSizing",!1,o),s=r&&$t(t,e,r,a,o);return a&&m.scrollboxSize()===o.position&&(s-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(o[e])-$t(t,e,"border",!1,o)-.5)),s&&(i=it.exec(n))&&"px"!==(i[3]||"px")&&(t.style[e]=n,n=C.css(t,e)),Qt(0,n,s)}}}),C.cssHooks.marginLeft=Xt(m.reliableMarginLeft,function(t,e){if(e)return(parseFloat(Ht(t,"marginLeft"))||t.getBoundingClientRect().left-st(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),C.each({margin:"",padding:"",border:"Width"},function(t,e){C.cssHooks[t+e]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[t+ot[r]+e]=o[r]||o[r-2]||o[0];return i}},"margin"!==t&&(C.cssHooks[t+e].set=Qt)}),C.fn.extend({css:function(t,e){return q(this,function(t,e,n){var r,i,o={},a=0;if(Array.isArray(e)){for(r=Bt(t),i=e.length;a<i;a++)o[e[a]]=C.css(t,e[a],!1,r);return o}return void 0!==n?C.style(t,e,n):C.css(t,e)},t,e,arguments.length>1)}}),C.Tween=ee,(ee.prototype={constructor:ee,init:function(t,e,n,r,i,o){this.elem=t,this.prop=n,this.easing=i||C.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=r,this.unit=o||(C.cssNumber[n]?"":"px")},cur:function(){var t=ee.propHooks[this.prop];return t&&t.get?t.get(this):ee.propHooks._default.get(this)},run:function(t){var e,n=ee.propHooks[this.prop];return this.pos=e=this.options.duration?C.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):ee.propHooks._default.set(this),this}}).init.prototype=ee.prototype,(ee.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=C.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){C.fx.step[t.prop]?C.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[C.cssProps[t.prop]]&&!C.cssHooks[t.prop]?t.elem[t.prop]=t.now:C.style(t.elem,t.prop,t.now+t.unit)}}}).scrollTop=ee.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},C.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},C.fx=ee.prototype.init,C.fx.step={};var ne,re,ie=/^(?:toggle|show|hide)$/,oe=/queueHooks$/;function ae(){re&&(!1===a.hidden&&n.requestAnimationFrame?n.requestAnimationFrame(ae):n.setTimeout(ae,C.fx.interval),C.fx.tick())}function se(){return n.setTimeout(function(){ne=void 0}),ne=Date.now()}function ue(t,e){var n,r=0,i={height:t};for(e=e?1:0;r<4;r+=2-e)i["margin"+(n=ot[r])]=i["padding"+n]=t;return e&&(i.opacity=i.width=t),i}function le(t,e,n){for(var r,i=(ce.tweeners[e]||[]).concat(ce.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,e,t))return r}function ce(t,e,n){var r,i,o=0,a=ce.prefilters.length,s=C.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var e=ne||se(),n=Math.max(0,l.startTime+l.duration-e),r=1-(n/l.duration||0),o=0,a=l.tweens.length;o<a;o++)l.tweens[o].run(r);return s.notifyWith(t,[l,r,n]),r<1&&a?n:(a||s.notifyWith(t,[l,1,0]),s.resolveWith(t,[l]),!1)},l=s.promise({elem:t,props:C.extend({},e),opts:C.extend(!0,{specialEasing:{},easing:C.easing._default},n),originalProperties:e,originalOptions:n,startTime:ne||se(),duration:n.duration,tweens:[],createTween:function(e,n){var r=C.Tween(t,l.opts,e,n,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(r),r},stop:function(e){var n=0,r=e?l.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)l.tweens[n].run(1);return e?(s.notifyWith(t,[l,1,0]),s.resolveWith(t,[l,e])):s.rejectWith(t,[l,e]),this}}),c=l.props;for(function(t,e){var n,r,i,o,a;for(n in t)if(i=e[r=K(n)],o=t[n],Array.isArray(o)&&(i=o[1],o=t[n]=o[0]),n!==r&&(t[r]=o,delete t[n]),(a=C.cssHooks[r])&&"expand"in a)for(n in o=a.expand(o),delete t[r],o)n in t||(t[n]=o[n],e[n]=i);else e[r]=i}(c,l.opts.specialEasing);o<a;o++)if(r=ce.prefilters[o].call(l,t,c,l.opts))return y(r.stop)&&(C._queueHooks(l.elem,l.opts.queue).stop=r.stop.bind(r)),r;return C.map(c,le,l),y(l.opts.start)&&l.opts.start.call(t,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),C.fx.timer(C.extend(u,{elem:t,anim:l,queue:l.opts.queue})),l}C.Animation=C.extend(ce,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return ut(n.elem,t,it.exec(e),n),n}]},tweener:function(t,e){y(t)?(e=t,t=["*"]):t=t.match(j);for(var n,r=0,i=t.length;r<i;r++)(ce.tweeners[n=t[r]]=ce.tweeners[n]||[]).unshift(e)},prefilters:[function(t,e,n){var r,i,o,a,s,u,l,c,f="width"in e||"height"in e,h=this,d={},p=t.style,v=t.nodeType&&at(t),g=Q.get(t,"fxshow");for(r in n.queue||(null==(a=C._queueHooks(t,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,h.always(function(){h.always(function(){a.unqueued--,C.queue(t,"fx").length||a.empty.fire()})})),e)if(ie.test(i=e[r])){if(delete e[r],o=o||"toggle"===i,i===(v?"hide":"show")){if("show"!==i||!g||void 0===g[r])continue;v=!0}d[r]=g&&g[r]||C.style(t,r)}if((u=!C.isEmptyObject(e))||!C.isEmptyObject(d))for(r in f&&1===t.nodeType&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],null==(l=g&&g.display)&&(l=Q.get(t,"display")),"none"===(c=C.css(t,"display"))&&(l?c=l:(ft([t],!0),l=t.style.display||l,c=C.css(t,"display"),ft([t]))),("inline"===c||"inline-block"===c&&null!=l)&&"none"===C.css(t,"float")&&(u||(h.done(function(){p.display=l}),null==l&&(l="none"===(c=p.display)?"":c)),p.display="inline-block")),n.overflow&&(p.overflow="hidden",h.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]})),u=!1,d)u||(g?"hidden"in g&&(v=g.hidden):g=Q.access(t,"fxshow",{display:l}),o&&(g.hidden=!v),v&&ft([t],!0),h.done(function(){for(r in v||ft([t]),Q.remove(t,"fxshow"),d)C.style(t,r,d[r])})),u=le(v?g[r]:0,r,h),r in g||(g[r]=u.start,v&&(u.end=u.start,u.start=0))}],prefilter:function(t,e){e?ce.prefilters.unshift(t):ce.prefilters.push(t)}}),C.speed=function(t,e,n){var r=t&&"object"==typeof t?C.extend({},t):{complete:n||!n&&e||y(t)&&t,duration:t,easing:n&&e||e&&!y(e)&&e};return C.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration=r.duration in C.fx.speeds?C.fx.speeds[r.duration]:C.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){y(r.old)&&r.old.call(this),r.queue&&C.dequeue(this,r.queue)},r},C.fn.extend({fadeTo:function(t,e,n,r){return this.filter(at).css("opacity",0).show().end().animate({opacity:e},t,n,r)},animate:function(t,e,n,r){var i=C.isEmptyObject(t),o=C.speed(e,n,r),a=function(){var e=ce(this,C.extend({},t),o);(i||Q.get(this,"finish"))&&e.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(t,e,n){var r=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&!1!==t&&this.queue(t||"fx",[]),this.each(function(){var e=!0,i=null!=t&&t+"queueHooks",o=C.timers,a=Q.get(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&oe.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=t&&o[i].queue!==t||(o[i].anim.stop(n),e=!1,o.splice(i,1));!e&&n||C.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var e,n=Q.get(this),r=n[t+"queue"],i=n[t+"queueHooks"],o=C.timers,a=r?r.length:0;for(n.finish=!0,C.queue(this,t,[]),i&&i.stop&&i.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<a;e++)r[e]&&r[e].finish&&r[e].finish.call(this);delete n.finish})}}),C.each(["toggle","show","hide"],function(t,e){var n=C.fn[e];C.fn[e]=function(t,r,i){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(ue(e,!0),t,r,i)}}),C.each({slideDown:ue("show"),slideUp:ue("hide"),slideToggle:ue("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){C.fn[t]=function(t,n,r){return this.animate(e,t,n,r)}}),C.timers=[],C.fx.tick=function(){var t,e=0,n=C.timers;for(ne=Date.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||C.fx.stop(),ne=void 0},C.fx.timer=function(t){C.timers.push(t),C.fx.start()},C.fx.interval=13,C.fx.start=function(){re||(re=!0,ae())},C.fx.stop=function(){re=null},C.fx.speeds={slow:600,fast:200,_default:400},C.fn.delay=function(t,e){return t=C.fx&&C.fx.speeds[t]||t,this.queue(e=e||"fx",function(e,r){var i=n.setTimeout(e,t);r.stop=function(){n.clearTimeout(i)}})},function(){var t=a.createElement("input"),e=a.createElement("select").appendChild(a.createElement("option"));t.type="checkbox",m.checkOn=""!==t.value,m.optSelected=e.selected,(t=a.createElement("input")).value="t",t.type="radio",m.radioValue="t"===t.value}();var fe,he=C.expr.attrHandle;C.fn.extend({attr:function(t,e){return q(this,C.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){C.removeAttr(this,t)})}}),C.extend({attr:function(t,e,n){var r,i,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===t.getAttribute?C.prop(t,e,n):(1===o&&C.isXMLDoc(t)||(i=C.attrHooks[e.toLowerCase()]||(C.expr.match.bool.test(e)?fe:void 0)),void 0!==n?null===n?void C.removeAttr(t,e):i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:(t.setAttribute(e,n+""),n):i&&"get"in i&&null!==(r=i.get(t,e))?r:null==(r=C.find.attr(t,e))?void 0:r)},attrHooks:{type:{set:function(t,e){if(!m.radioValue&&"radio"===e&&O(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,r=0,i=e&&e.match(j);if(i&&1===t.nodeType)for(;n=i[r++];)t.removeAttribute(n)}}),fe={set:function(t,e,n){return!1===e?C.removeAttr(t,n):t.setAttribute(n,n),n}},C.each(C.expr.match.bool.source.match(/\w+/g),function(t,e){var n=he[e]||C.find.attr;he[e]=function(t,e,r){var i,o,a=e.toLowerCase();return r||(o=he[a],he[a]=i,i=null!=n(t,e,r)?a:null,he[a]=o),i}});var de=/^(?:input|select|textarea|button)$/i,pe=/^(?:a|area)$/i;function ve(t){return(t.match(j)||[]).join(" ")}function ge(t){return t.getAttribute&&t.getAttribute("class")||""}function me(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(j)||[]}C.fn.extend({prop:function(t,e){return q(this,C.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[C.propFix[t]||t]})}}),C.extend({prop:function(t,e,n){var r,i,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&C.isXMLDoc(t)||(i=C.propHooks[e=C.propFix[e]||e]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:t[e]=n:i&&"get"in i&&null!==(r=i.get(t,e))?r:t[e]},propHooks:{tabIndex:{get:function(t){var e=C.find.attr(t,"tabindex");return e?parseInt(e,10):de.test(t.nodeName)||pe.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),m.optSelected||(C.propHooks.selected={get:function(t){return null},set:function(t){}}),C.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){C.propFix[this.toLowerCase()]=this}),C.fn.extend({addClass:function(t){var e,n,r,i,o,a,s,u=0;if(y(t))return this.each(function(e){C(this).addClass(t.call(this,e,ge(this)))});if((e=me(t)).length)for(;n=this[u++];)if(i=ge(n),r=1===n.nodeType&&" "+ve(i)+" "){for(a=0;o=e[a++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");i!==(s=ve(r))&&n.setAttribute("class",s)}return this},removeClass:function(t){var e,n,r,i,o,a,s,u=0;if(y(t))return this.each(function(e){C(this).removeClass(t.call(this,e,ge(this)))});if(!arguments.length)return this.attr("class","");if((e=me(t)).length)for(;n=this[u++];)if(i=ge(n),r=1===n.nodeType&&" "+ve(i)+" "){for(a=0;o=e[a++];)for(;r.indexOf(" "+o+" ")>-1;)r=r.replace(" "+o+" "," ");i!==(s=ve(r))&&n.setAttribute("class",s)}return this},toggleClass:function(t,e){var n=typeof t,r="string"===n||Array.isArray(t);return"boolean"==typeof e&&r?e?this.addClass(t):this.removeClass(t):y(t)?this.each(function(n){C(this).toggleClass(t.call(this,n,ge(this),e),e)}):this.each(function(){var e,i,o,a;if(r)for(i=0,o=C(this),a=me(t);e=a[i++];)o.hasClass(e)?o.removeClass(e):o.addClass(e);else void 0!==t&&"boolean"!==n||((e=ge(this))&&Q.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":Q.get(this,"__className__")||""))})},hasClass:function(t){var e,n,r=0;for(e=" "+t+" ";n=this[r++];)if(1===n.nodeType&&(" "+ve(ge(n))+" ").indexOf(e)>-1)return!0;return!1}});var ye=/\r/g;C.fn.extend({val:function(t){var e,n,r,i=this[0];return arguments.length?(r=y(t),this.each(function(n){var i;1===this.nodeType&&(null==(i=r?t.call(this,n,C(this).val()):t)?i="":"number"==typeof i?i+="":Array.isArray(i)&&(i=C.map(i,function(t){return null==t?"":t+""})),(e=C.valHooks[this.type]||C.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,i,"value")||(this.value=i))})):i?(e=C.valHooks[i.type]||C.valHooks[i.nodeName.toLowerCase()])&&"get"in e&&void 0!==(n=e.get(i,"value"))?n:"string"==typeof(n=i.value)?n.replace(ye,""):null==n?"":n:void 0}}),C.extend({valHooks:{option:{get:function(t){var e=C.find.attr(t,"value");return null!=e?e:ve(C.text(t))}},select:{get:function(t){var e,n,r,i=t.options,o=t.selectedIndex,a="select-one"===t.type,s=a?null:[],u=a?o+1:i.length;for(r=o<0?u:a?o:0;r<u;r++)if(((n=i[r]).selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!O(n.parentNode,"optgroup"))){if(e=C(n).val(),a)return e;s.push(e)}return s},set:function(t,e){for(var n,r,i=t.options,o=C.makeArray(e),a=i.length;a--;)((r=i[a]).selected=C.inArray(C.valHooks.option.get(r),o)>-1)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),C.each(["radio","checkbox"],function(){C.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=C.inArray(C(t).val(),e)>-1}},m.checkOn||(C.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),m.focusin="onfocusin"in n;var be=/^(?:focusinfocus|focusoutblur)$/,we=function(t){t.stopPropagation()};C.extend(C.event,{trigger:function(t,e,r,i){var o,s,u,l,c,f,h,d,v=[r||a],g=p.call(t,"type")?t.type:t,m=p.call(t,"namespace")?t.namespace.split("."):[];if(s=d=u=r=r||a,3!==r.nodeType&&8!==r.nodeType&&!be.test(g+C.event.triggered)&&(g.indexOf(".")>-1&&(g=(m=g.split(".")).shift(),m.sort()),c=g.indexOf(":")<0&&"on"+g,(t=t[C.expando]?t:new C.Event(g,"object"==typeof t&&t)).isTrigger=i?2:3,t.namespace=m.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),e=null==e?[t]:C.makeArray(e,[t]),h=C.event.special[g]||{},i||!h.trigger||!1!==h.trigger.apply(r,e))){if(!i&&!h.noBubble&&!b(r)){for(be.test((l=h.delegateType||g)+g)||(s=s.parentNode);s;s=s.parentNode)v.push(s),u=s;u===(r.ownerDocument||a)&&v.push(u.defaultView||u.parentWindow||n)}for(o=0;(s=v[o++])&&!t.isPropagationStopped();)d=s,t.type=o>1?l:h.bindType||g,(f=(Q.get(s,"events")||{})[t.type]&&Q.get(s,"handle"))&&f.apply(s,e),(f=c&&s[c])&&f.apply&&Z(s)&&(t.result=f.apply(s,e),!1===t.result&&t.preventDefault());return t.type=g,i||t.isDefaultPrevented()||h._default&&!1!==h._default.apply(v.pop(),e)||!Z(r)||c&&y(r[g])&&!b(r)&&((u=r[c])&&(r[c]=null),C.event.triggered=g,t.isPropagationStopped()&&d.addEventListener(g,we),r[g](),t.isPropagationStopped()&&d.removeEventListener(g,we),C.event.triggered=void 0,u&&(r[c]=u)),t.result}},simulate:function(t,e,n){var r=C.extend(new C.Event,n,{type:t,isSimulated:!0});C.event.trigger(r,null,e)}}),C.fn.extend({trigger:function(t,e){return this.each(function(){C.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return C.event.trigger(t,e,n,!0)}}),m.focusin||C.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){C.event.simulate(e,t.target,C.event.fix(t))};C.event.special[e]={setup:function(){var r=this.ownerDocument||this,i=Q.access(r,e);i||r.addEventListener(t,n,!0),Q.access(r,e,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=Q.access(r,e)-1;i?Q.access(r,e,i):(r.removeEventListener(t,n,!0),Q.remove(r,e))}}});var xe=n.location,_e=Date.now(),Ce=/\?/;C.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{e=(new n.DOMParser).parseFromString(t,"text/xml")}catch(t){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||C.error("Invalid XML: "+t),e};var Se=/\[\]$/,De=/\r?\n/g,Pe=/^(?:submit|button|image|reset|file)$/i,Ae=/^(?:input|select|textarea|keygen)/i;function Te(t,e,n,r){var i;if(Array.isArray(e))C.each(e,function(e,i){n||Se.test(t)?r(t,i):Te(t+"["+("object"==typeof i&&null!=i?e:"")+"]",i,n,r)});else if(n||"object"!==_(e))r(t,e);else for(i in e)Te(t+"["+i+"]",e[i],n,r)}C.param=function(t,e){var n,r=[],i=function(t,e){var n=y(e)?e():e;r[r.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==n?"":n)};if(Array.isArray(t)||t.jquery&&!C.isPlainObject(t))C.each(t,function(){i(this.name,this.value)});else for(n in t)Te(n,t[n],e,i);return r.join("&")},C.fn.extend({serialize:function(){return C.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=C.prop(this,"elements");return t?C.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!C(this).is(":disabled")&&Ae.test(this.nodeName)&&!Pe.test(t)&&(this.checked||!ht.test(t))}).map(function(t,e){var n=C(this).val();return null==n?null:Array.isArray(n)?C.map(n,function(t){return{name:e.name,value:t.replace(De,"\r\n")}}):{name:e.name,value:n.replace(De,"\r\n")}}).get()}});var Ee=/%20/g,Oe=/#.*$/,ke=/([?&])_=[^&]*/,Re=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ie=/^(?:GET|HEAD)$/,Me=/^\/\//,Ne={},Le={},Fe="*/".concat("*"),je=a.createElement("a");function Ve(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var r,i=0,o=e.toLowerCase().match(j)||[];if(y(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(t[r]=t[r]||[]).unshift(n)):(t[r]=t[r]||[]).push(n)}}function ze(t,e,n,r){var i={},o=t===Le;function a(s){var u;return i[s]=!0,C.each(t[s]||[],function(t,s){var l=s(e,n,r);return"string"!=typeof l||o||i[l]?o?!(u=l):void 0:(e.dataTypes.unshift(l),a(l),!1)}),u}return a(e.dataTypes[0])||!i["*"]&&a("*")}function Be(t,e){var n,r,i=C.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((i[n]?t:r||(r={}))[n]=e[n]);return r&&C.extend(!0,t,r),t}je.href=xe.href,C.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:xe.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(xe.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Fe,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":C.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?Be(Be(t,C.ajaxSettings),e):Be(C.ajaxSettings,t)},ajaxPrefilter:Ve(Ne),ajaxTransport:Ve(Le),ajax:function(t,e){"object"==typeof t&&(e=t,t=void 0);var r,i,o,s,u,l,c,f,h,d,p=C.ajaxSetup({},e=e||{}),v=p.context||p,g=p.context&&(v.nodeType||v.jquery)?C(v):C.event,m=C.Deferred(),y=C.Callbacks("once memory"),b=p.statusCode||{},w={},x={},_="canceled",S={readyState:0,getResponseHeader:function(t){var e;if(c){if(!s)for(s={};e=Re.exec(o);)s[e[1].toLowerCase()]=e[2];e=s[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return c?o:null},setRequestHeader:function(t,e){return null==c&&(t=x[t.toLowerCase()]=x[t.toLowerCase()]||t,w[t]=e),this},overrideMimeType:function(t){return null==c&&(p.mimeType=t),this},statusCode:function(t){var e;if(t)if(c)S.always(t[S.status]);else for(e in t)b[e]=[b[e],t[e]];return this},abort:function(t){var e=t||_;return r&&r.abort(e),D(0,e),this}};if(m.promise(S),p.url=((t||p.url||xe.href)+"").replace(Me,xe.protocol+"//"),p.type=e.method||e.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(j)||[""],null==p.crossDomain){l=a.createElement("a");try{l.href=p.url,l.href=l.href,p.crossDomain=je.protocol+"//"+je.host!=l.protocol+"//"+l.host}catch(t){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=C.param(p.data,p.traditional)),ze(Ne,p,e,S),c)return S;for(h in(f=C.event&&p.global)&&0==C.active++&&C.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Ie.test(p.type),i=p.url.replace(Oe,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(Ee,"+")):(d=p.url.slice(i.length),p.data&&(p.processData||"string"==typeof p.data)&&(i+=(Ce.test(i)?"&":"?")+p.data,delete p.data),!1===p.cache&&(i=i.replace(ke,"$1"),d=(Ce.test(i)?"&":"?")+"_="+_e+++d),p.url=i+d),p.ifModified&&(C.lastModified[i]&&S.setRequestHeader("If-Modified-Since",C.lastModified[i]),C.etag[i]&&S.setRequestHeader("If-None-Match",C.etag[i])),(p.data&&p.hasContent&&!1!==p.contentType||e.contentType)&&S.setRequestHeader("Content-Type",p.contentType),S.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Fe+"; q=0.01":""):p.accepts["*"]),p.headers)S.setRequestHeader(h,p.headers[h]);if(p.beforeSend&&(!1===p.beforeSend.call(v,S,p)||c))return S.abort();if(_="abort",y.add(p.complete),S.done(p.success),S.fail(p.error),r=ze(Le,p,e,S)){if(S.readyState=1,f&&g.trigger("ajaxSend",[S,p]),c)return S;p.async&&p.timeout>0&&(u=n.setTimeout(function(){S.abort("timeout")},p.timeout));try{c=!1,r.send(w,D)}catch(t){if(c)throw t;D(-1,t)}}else D(-1,"No Transport");function D(t,e,a,s){var l,h,d,w,x,_=e;c||(c=!0,u&&n.clearTimeout(u),r=void 0,o=s||"",S.readyState=t>0?4:0,l=t>=200&&t<300||304===t,a&&(w=function(t,e,n){for(var r,i,o,a,s=t.contents,u=t.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=t.mimeType||e.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||t.converters[i+" "+u[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}(p,S,a)),w=function(t,e,n,r){var i,o,a,s,u,l={},c=t.dataTypes.slice();if(c[1])for(a in t.converters)l[a.toLowerCase()]=t.converters[a];for(o=c.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!u&&r&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(a=l[u+" "+o]||l["* "+o]))for(i in l)if((s=i.split(" "))[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){!0===a?a=l[i]:!0!==l[i]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&t.throws)e=a(e);else try{e=a(e)}catch(t){return{state:"parsererror",error:a?t:"No conversion from "+u+" to "+o}}}return{state:"success",data:e}}(p,w,S,l),l?(p.ifModified&&((x=S.getResponseHeader("Last-Modified"))&&(C.lastModified[i]=x),(x=S.getResponseHeader("etag"))&&(C.etag[i]=x)),204===t||"HEAD"===p.type?_="nocontent":304===t?_="notmodified":(_=w.state,h=w.data,l=!(d=w.error))):(d=_,!t&&_||(_="error",t<0&&(t=0))),S.status=t,S.statusText=(e||_)+"",l?m.resolveWith(v,[h,_,S]):m.rejectWith(v,[S,_,d]),S.statusCode(b),b=void 0,f&&g.trigger(l?"ajaxSuccess":"ajaxError",[S,p,l?h:d]),y.fireWith(v,[S,_]),f&&(g.trigger("ajaxComplete",[S,p]),--C.active||C.event.trigger("ajaxStop")))}return S},getJSON:function(t,e,n){return C.get(t,e,n,"json")},getScript:function(t,e){return C.get(t,void 0,e,"script")}}),C.each(["get","post"],function(t,e){C[e]=function(t,n,r,i){return y(n)&&(i=i||r,r=n,n=void 0),C.ajax(C.extend({url:t,type:e,dataType:i,data:n,success:r},C.isPlainObject(t)&&t))}}),C._evalUrl=function(t){return C.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},C.fn.extend({wrapAll:function(t){var e;return this[0]&&(y(t)&&(t=t.call(this[0])),e=C(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(t){return y(t)?this.each(function(e){C(this).wrapInner(t.call(this,e))}):this.each(function(){var e=C(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=y(t);return this.each(function(n){C(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(t){return this.parent(t).not("body").each(function(){C(this).replaceWith(this.childNodes)}),this}}),C.expr.pseudos.hidden=function(t){return!C.expr.pseudos.visible(t)},C.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},C.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(t){}};var We={0:200,1223:204},He=C.ajaxSettings.xhr();m.cors=!!He&&"withCredentials"in He,m.ajax=He=!!He,C.ajaxTransport(function(t){var e,r;if(m.cors||He&&!t.crossDomain)return{send:function(i,o){var a,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)s[a]=t.xhrFields[a];for(a in t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest"),i)s.setRequestHeader(a,i[a]);e=function(t){return function(){e&&(e=r=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===t?s.abort():"error"===t?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(We[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=e(),r=s.onerror=s.ontimeout=e("error"),void 0!==s.onabort?s.onabort=r:s.onreadystatechange=function(){4===s.readyState&&n.setTimeout(function(){e&&r()})},e=e("abort");try{s.send(t.hasContent&&t.data||null)}catch(t){if(e)throw t}},abort:function(){e&&e()}}}),C.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),C.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return C.globalEval(t),t}}}),C.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),C.ajaxTransport("script",function(t){var e,n;if(t.crossDomain)return{send:function(r,i){e=C("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&i("error"===t.type?404:200,t.type)}),a.head.appendChild(e[0])},abort:function(){n&&n()}}});var Xe,qe=[],Ue=/(=)\?(?=&|$)|\?\?/;C.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=qe.pop()||C.expando+"_"+_e++;return this[t]=!0,t}}),C.ajaxPrefilter("json jsonp",function(t,e,r){var i,o,a,s=!1!==t.jsonp&&(Ue.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ue.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=y(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Ue,"$1"+i):!1!==t.jsonp&&(t.url+=(Ce.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return a||C.error(i+" was not called"),a[0]},t.dataTypes[0]="json",o=n[i],n[i]=function(){a=arguments},r.always(function(){void 0===o?C(n).removeProp(i):n[i]=o,t[i]&&(t.jsonpCallback=e.jsonpCallback,qe.push(i)),a&&y(o)&&o(a[0]),a=o=void 0}),"script"}),m.createHTMLDocument=((Xe=a.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Xe.childNodes.length),C.parseHTML=function(t,e,n){return"string"!=typeof t?[]:("boolean"==typeof e&&(n=e,e=!1),e||(m.createHTMLDocument?((r=(e=a.implementation.createHTMLDocument("")).createElement("base")).href=a.location.href,e.head.appendChild(r)):e=a),i=k.exec(t),o=!n&&[],i?[e.createElement(i[1])]:(i=xt([t],e,o),o&&o.length&&C(o).remove(),C.merge([],i.childNodes)));var r,i,o},C.fn.load=function(t,e,n){var r,i,o,a=this,s=t.indexOf(" ");return s>-1&&(r=ve(t.slice(s)),t=t.slice(0,s)),y(e)?(n=e,e=void 0):e&&"object"==typeof e&&(i="POST"),a.length>0&&C.ajax({url:t,type:i||"GET",dataType:"html",data:e}).done(function(t){o=arguments,a.html(r?C("<div>").append(C.parseHTML(t)).find(r):t)}).always(n&&function(t,e){a.each(function(){n.apply(this,o||[t.responseText,e,t])})}),this},C.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){C.fn[e]=function(t){return this.on(e,t)}}),C.expr.pseudos.animated=function(t){return C.grep(C.timers,function(e){return t===e.elem}).length},C.offset={setOffset:function(t,e,n){var r,i,o,a,s,u,l=C.css(t,"position"),c=C(t),f={};"static"===l&&(t.style.position="relative"),s=c.offset(),o=C.css(t,"top"),u=C.css(t,"left"),("absolute"===l||"fixed"===l)&&(o+u).indexOf("auto")>-1?(a=(r=c.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),y(e)&&(e=e.call(t,n,C.extend({},s))),null!=e.top&&(f.top=e.top-s.top+a),null!=e.left&&(f.left=e.left-s.left+i),"using"in e?e.using.call(t,f):c.css(f)}},C.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){C.offset.setOffset(this,t,e)});var e,n,r=this[0];return r?r.getClientRects().length?{top:(e=r.getBoundingClientRect()).top+(n=r.ownerDocument.defaultView).pageYOffset,left:e.left+n.pageXOffset}:{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,n,r=this[0],i={top:0,left:0};if("fixed"===C.css(r,"position"))e=r.getBoundingClientRect();else{for(e=this.offset(),n=r.ownerDocument,t=r.offsetParent||n.documentElement;t&&(t===n.body||t===n.documentElement)&&"static"===C.css(t,"position");)t=t.parentNode;t&&t!==r&&1===t.nodeType&&((i=C(t).offset()).top+=C.css(t,"borderTopWidth",!0),i.left+=C.css(t,"borderLeftWidth",!0))}return{top:e.top-i.top-C.css(r,"marginTop",!0),left:e.left-i.left-C.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===C.css(t,"position");)t=t.offsetParent;return t||_t})}}),C.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n="pageYOffset"===e;C.fn[t]=function(r){return q(this,function(t,r,i){var o;if(b(t)?o=t:9===t.nodeType&&(o=t.defaultView),void 0===i)return o?o[e]:t[r];o?o.scrollTo(n?o.pageXOffset:i,n?i:o.pageYOffset):t[r]=i},t,r,arguments.length)}}),C.each(["top","left"],function(t,e){C.cssHooks[e]=Xt(m.pixelPosition,function(t,n){if(n)return n=Ht(t,e),zt.test(n)?C(t).position()[e]+"px":n})}),C.each({Height:"height",Width:"width"},function(t,e){C.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,r){C.fn[r]=function(i,o){var a=arguments.length&&(n||"boolean"!=typeof i),s=n||(!0===i||!0===o?"margin":"border");return q(this,function(e,n,i){var o;return b(e)?0===r.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===i?C.css(e,n,s):C.style(e,n,i,s)},e,a?i:void 0,a)}})}),C.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,e){C.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),C.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),C.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,r){return this.on(e,t,n,r)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}}),C.proxy=function(t,e){var n,r,i;if("string"==typeof e&&(n=t[e],e=t,t=n),y(t))return r=u.call(arguments,2),(i=function(){return t.apply(e||this,r.concat(u.call(arguments)))}).guid=t.guid=t.guid||C.guid++,i},C.holdReady=function(t){t?C.readyWait++:C.ready(!0)},C.isArray=Array.isArray,C.parseJSON=JSON.parse,C.nodeName=O,C.isFunction=y,C.isWindow=b,C.camelCase=K,C.type=_,C.now=Date.now,C.isNumeric=function(t){var e=C.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},void 0===(r=(function(){return C}).apply(e,[]))||(t.exports=r);var Ge=n.jQuery,Ye=n.$;return C.noConflict=function(t){return n.$===C&&(n.$=Ye),t&&n.jQuery===C&&(n.jQuery=Ge),C},i||(n.jQuery=n.$=C),C})},"En8+":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},FFOo:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("mrSG"),i=n("2Bdj"),o=n("6ahw"),a=n("pugT"),s=n("L/V9"),u=n("iLxQ"),l=n("DKTb"),c=function(t){function e(e,n,r){var i=t.call(this)||this;switch(i.syncErrorValue=null,i.syncErrorThrown=!1,i.syncErrorThrowable=!1,i.isStopped=!1,arguments.length){case 0:i.destination=o.a;break;case 1:if(!e){i.destination=o.a;break}if("object"==typeof e){if(h(e)){var a=e[s.a]();i.syncErrorThrowable=a.syncErrorThrowable,i.destination=a,a.add(i)}else i.syncErrorThrowable=!0,i.destination=new f(i,e);break}default:i.syncErrorThrowable=!0,i.destination=new f(i,e,n,r)}return i}return r.__extends(e,t),e.prototype[s.a]=function(){return this},e.create=function(t,n,r){var i=new e(t,n,r);return i.syncErrorThrowable=!1,i},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parent,e=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=t,this._parents=e,this},e}(a.a),f=function(t){function e(e,n,r,a){var s,u=t.call(this)||this;u._parentSubscriber=e;var l=u;return Object(i.a)(n)?s=n:n&&(s=n.next,r=n.error,a=n.complete,n!==o.a&&(l=Object.create(n),Object(i.a)(l.unsubscribe)&&u.add(l.unsubscribe.bind(l)),l.unsubscribe=u.unsubscribe.bind(u))),u._context=l,u._next=s,u._error=r,u._complete=a,u}return r.__extends(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;u.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,n=u.a.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(l.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(l.a)(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};u.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){if(this.unsubscribe(),u.a.useDeprecatedSynchronousErrorHandling)throw t;Object(l.a)(t)}},e.prototype.__tryOrSetError=function(t,e,n){if(!u.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(e){return u.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=e,t.syncErrorThrown=!0,!0):(Object(l.a)(e),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(c);function h(t){return t instanceof c||"syncErrorThrowable"in t&&t[s.a]}},FLgm:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("lT9W"),i=n("nFNn"),o=n("2IeD"),a=n("zGsf"),s=n("kiUJ");e.NetInput=function(){function t(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=!1);var o=this;this._inputs=[],this._canvases=[],this._isManaged=!1,this._isBatchInput=!1,this._inputDimensions=[],this._paddings=[],i.isTensor4D(t)&&(this._inputs=r.unstack(t)),Array.isArray(t)&&(this._inputs=t.map(function(t,e){if(i.isTensor3D(t))return r.clone(t);if(i.isTensor4D(t)){var a=t.shape,u=a[0];if(1!==u)throw new Error("NetInput - tf.Tensor4D with batchSize "+u+" passed, but not supported in input array");return t.reshape(a.slice(1))}var l=t instanceof HTMLCanvasElement?t:s.createCanvasFromMedia(t);return n&&(o._canvases[e]=l),r.fromPixels(l)})),this._isBatchInput=this.batchSize>1||e,this._inputDimensions=this._inputs.map(function(t){return t.shape})}return Object.defineProperty(t.prototype,"inputs",{get:function(){return this._inputs},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"canvases",{get:function(){return this._canvases},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isManaged",{get:function(){return this._isManaged},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isBatchInput",{get:function(){return this._isBatchInput},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"batchSize",{get:function(){return this._inputs.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputDimensions",{get:function(){return this._inputDimensions},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paddings",{get:function(){return this._paddings},enumerable:!0,configurable:!0}),t.prototype.getInputDimensions=function(t){return this._inputDimensions[t]},t.prototype.getInputHeight=function(t){return this._inputDimensions[t][0]},t.prototype.getInputWidth=function(t){return this._inputDimensions[t][1]},t.prototype.getPaddings=function(t){return this._paddings[t]},t.prototype.toBatchTensor=function(t,e){var n=this;return void 0===e&&(e=!0),r.tidy(function(){var i=n._inputs.map(function(i){var s=i.shape,u=s[0],l=s[1],c=i.expandDims().toFloat(),f=(c=o.padToSquare(c,e)).shape.slice(1),h=f[0],d=f[1];return h===t&&d===t||(c=r.image.resizeBilinear(c,[t,t])),n._paddings.push(new a.Point(d-l,h-u)),c}),s=r.stack(i).as4D(n.batchSize,t,t,3);return n.isManaged&&n.dispose(),s})},t.prototype.managed=function(){return this._isManaged=!0,this},t.prototype.dispose=function(){this._inputs.forEach(function(t){return t.dispose()})},t}()},Fxb1:function(t,e,n){"use strict";n.d(e,"a",function(){return d});var r=n("6blF"),i=n("+tJ4"),o=n("S5XQ"),a=n("u67D"),s=n("JcRv"),u=n("2ePl"),l=n("/WYv"),c=n("McSo"),f=n("En8+"),h=n("xTla"),d=function(t){if(t instanceof r.a)return function(e){return t._isScalar?(e.next(t.value),void e.complete()):t.subscribe(e)};if(t&&"function"==typeof t[h.a])return Object(s.a)(t);if(Object(u.a)(t))return Object(i.a)(t);if(Object(l.a)(t))return Object(o.a)(t);if(t&&"function"==typeof t[f.a])return Object(a.a)(t);var e=Object(c.a)(t)?"an invalid object":"'"+t+"'";throw new TypeError("You provided "+e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")}},G5J1:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o});var r=n("6blF"),i=new r.a(function(t){return t.complete()});function o(t){return t?function(t){return new r.a(function(e){return t.schedule(function(){return e.complete()})})}(t):i}},"IEM/":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("VVl2"),i=n("fhWt"),o=n("lZTZ");e.extractParams=function(t){var e=[],n=o.extractWeightsFactory(t),a=n.extractWeights,s=n.getRemainingWeights,u=r.extractConvParamsFactory(a,e),l=i.extractFCParamsFactory(a,e),c=u(3,32,3,"conv0"),f=u(32,64,3,"conv1"),h=u(64,64,3,"conv2"),d=u(64,64,3,"conv3"),p=u(64,64,3,"conv4"),v=u(64,128,3,"conv5"),g=u(128,128,3,"conv6"),m=u(128,256,3,"conv7"),y=l(6400,1024,"fc0"),b=l(1024,136,"fc1");if(0!==s().length)throw new Error("weights remaing after extract: "+s().length);return{paramMappings:e,params:{conv0:c,conv1:f,conv2:h,conv3:d,conv4:p,conv5:v,conv6:g,conv7:m,fc0:y,fc1:b}}}},IUTb:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("6blF"),i=n("pugT"),o=n("+tJ4");function a(t,e){return new r.a(e?function(n){var r=new i.a,o=0;return r.add(e.schedule(function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()})),r}:Object(o.a)(t))}},Ip0R:function(t,e,n){"use strict";n.r(e),n.d(e,"\u0275angular_packages_common_common_e",function(){return Jt}),n.d(e,"\u0275angular_packages_common_common_d",function(){return q}),n.d(e,"\u0275angular_packages_common_common_a",function(){return Et}),n.d(e,"\u0275angular_packages_common_common_b",function(){return It}),n.d(e,"\u0275angular_packages_common_common_g",function(){return we}),n.d(e,"\u0275angular_packages_common_common_f",function(){return ze}),n.d(e,"\u0275registerLocaleData",function(){return g}),n.d(e,"formatDate",function(){return et}),n.d(e,"formatCurrency",function(){return St}),n.d(e,"formatNumber",function(){return Pt}),n.d(e,"formatPercent",function(){return Dt}),n.d(e,"NgLocaleLocalization",function(){return Rt}),n.d(e,"NgLocalization",function(){return Ot}),n.d(e,"registerLocaleData",function(){return g}),n.d(e,"Plural",function(){return b}),n.d(e,"NumberFormatStyle",function(){return y}),n.d(e,"FormStyle",function(){return w}),n.d(e,"TranslationWidth",function(){return x}),n.d(e,"FormatWidth",function(){return _}),n.d(e,"NumberSymbol",function(){return C}),n.d(e,"WeekDay",function(){return S}),n.d(e,"getNumberOfCurrencyDigits",function(){return Y}),n.d(e,"getCurrencySymbol",function(){return U}),n.d(e,"getLocaleDayPeriods",function(){return P}),n.d(e,"getLocaleDayNames",function(){return A}),n.d(e,"getLocaleMonthNames",function(){return T}),n.d(e,"getLocaleId",function(){return D}),n.d(e,"getLocaleEraNames",function(){return E}),n.d(e,"getLocaleWeekEndRange",function(){return k}),n.d(e,"getLocaleFirstDayOfWeek",function(){return O}),n.d(e,"getLocaleDateFormat",function(){return R}),n.d(e,"getLocaleDateTimeFormat",function(){return M}),n.d(e,"getLocaleExtraDayPeriodRules",function(){return B}),n.d(e,"getLocaleExtraDayPeriods",function(){return W}),n.d(e,"getLocalePluralCase",function(){return V}),n.d(e,"getLocaleTimeFormat",function(){return I}),n.d(e,"getLocaleNumberSymbol",function(){return N}),n.d(e,"getLocaleNumberFormat",function(){return L}),n.d(e,"getLocaleCurrencyName",function(){return j}),n.d(e,"getLocaleCurrencySymbol",function(){return F}),n.d(e,"\u0275parseCookieValue",function(){return Mt}),n.d(e,"CommonModule",function(){return Be}),n.d(e,"DeprecatedI18NPipesModule",function(){return We}),n.d(e,"NgClass",function(){return Nt}),n.d(e,"NgForOf",function(){return jt}),n.d(e,"NgForOfContext",function(){return Ft}),n.d(e,"NgIf",function(){return zt}),n.d(e,"NgIfContext",function(){return Bt}),n.d(e,"NgPlural",function(){return Gt}),n.d(e,"NgPluralCase",function(){return Yt}),n.d(e,"NgStyle",function(){return Kt}),n.d(e,"NgSwitch",function(){return Xt}),n.d(e,"NgSwitchCase",function(){return qt}),n.d(e,"NgSwitchDefault",function(){return Ut}),n.d(e,"NgTemplateOutlet",function(){return Zt}),n.d(e,"NgComponentOutlet",function(){return Lt}),n.d(e,"DOCUMENT",function(){return He}),n.d(e,"AsyncPipe",function(){return Se}),n.d(e,"DatePipe",function(){return Ee}),n.d(e,"I18nPluralPipe",function(){return ke}),n.d(e,"I18nSelectPipe",function(){return Re}),n.d(e,"JsonPipe",function(){return Ie}),n.d(e,"LowerCasePipe",function(){return De}),n.d(e,"CurrencyPipe",function(){return Le}),n.d(e,"DecimalPipe",function(){return Me}),n.d(e,"PercentPipe",function(){return Ne}),n.d(e,"SlicePipe",function(){return Ve}),n.d(e,"UpperCasePipe",function(){return Te}),n.d(e,"TitleCasePipe",function(){return Ae}),n.d(e,"DeprecatedDatePipe",function(){return pe}),n.d(e,"DeprecatedCurrencyPipe",function(){return be}),n.d(e,"DeprecatedDecimalPipe",function(){return me}),n.d(e,"DeprecatedPercentPipe",function(){return ye}),n.d(e,"\u0275PLATFORM_BROWSER_ID",function(){return Xe}),n.d(e,"\u0275PLATFORM_SERVER_ID",function(){return qe}),n.d(e,"\u0275PLATFORM_WORKER_APP_ID",function(){return Ue}),n.d(e,"\u0275PLATFORM_WORKER_UI_ID",function(){return Ge}),n.d(e,"isPlatformBrowser",function(){return Ye}),n.d(e,"isPlatformServer",function(){return Ke}),n.d(e,"isPlatformWorkerApp",function(){return Ze}),n.d(e,"isPlatformWorkerUi",function(){return Je}),n.d(e,"VERSION",function(){return Qe}),n.d(e,"PlatformLocation",function(){return o}),n.d(e,"LOCATION_INITIALIZED",function(){return a}),n.d(e,"LocationStrategy",function(){return s}),n.d(e,"APP_BASE_HREF",function(){return u}),n.d(e,"HashLocationStrategy",function(){return f}),n.d(e,"PathLocationStrategy",function(){return h}),n.d(e,"Location",function(){return l});var r=n("CcnG"),i=n("mrSG"),o=function(){},a=new r.InjectionToken("Location Initialized"),s=function(){},u=new r.InjectionToken("appBaseHref"),l=function(){function t(e){var n=this;this._subject=new r.EventEmitter,this._platformStrategy=e;var i=this._platformStrategy.getBaseHref();this._baseHref=t.stripTrailingSlash(c(i)),this._platformStrategy.onPopState(function(t){n._subject.emit({url:n.path(!0),pop:!0,state:t.state,type:t.type})})}return t.prototype.path=function(t){return void 0===t&&(t=!1),this.normalize(this._platformStrategy.path(t))},t.prototype.isCurrentPathEqualTo=function(e,n){return void 0===n&&(n=""),this.path()==this.normalize(e+t.normalizeQueryParams(n))},t.prototype.normalize=function(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,c(e)))},t.prototype.prepareExternalUrl=function(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)},t.prototype.go=function(t,e,n){void 0===e&&(e=""),void 0===n&&(n=null),this._platformStrategy.pushState(n,"",t,e)},t.prototype.replaceState=function(t,e,n){void 0===e&&(e=""),void 0===n&&(n=null),this._platformStrategy.replaceState(n,"",t,e)},t.prototype.forward=function(){this._platformStrategy.forward()},t.prototype.back=function(){this._platformStrategy.back()},t.prototype.subscribe=function(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})},t.normalizeQueryParams=function(t){return t&&"?"!==t[0]?"?"+t:t},t.joinWithSlash=function(t,e){if(0==t.length)return e;if(0==e.length)return t;var n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e},t.stripTrailingSlash=function(t){var e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)},t}();function c(t){return t.replace(/\/index.html$/,"")}var f=function(t){function e(e,n){var r=t.call(this)||this;return r._platformLocation=e,r._baseHref="",null!=n&&(r._baseHref=n),r}return Object(i.__extends)(e,t),e.prototype.onPopState=function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)},e.prototype.getBaseHref=function(){return this._baseHref},e.prototype.path=function(t){void 0===t&&(t=!1);var e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e},e.prototype.prepareExternalUrl=function(t){var e=l.joinWithSlash(this._baseHref,t);return e.length>0?"#"+e:e},e.prototype.pushState=function(t,e,n,r){var i=this.prepareExternalUrl(n+l.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)},e.prototype.replaceState=function(t,e,n,r){var i=this.prepareExternalUrl(n+l.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)},e.prototype.forward=function(){this._platformLocation.forward()},e.prototype.back=function(){this._platformLocation.back()},e}(s),h=function(t){function e(e,n){var r=t.call(this)||this;if(r._platformLocation=e,null==n&&(n=r._platformLocation.getBaseHrefFromDOM()),null==n)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return r._baseHref=n,r}return Object(i.__extends)(e,t),e.prototype.onPopState=function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)},e.prototype.getBaseHref=function(){return this._baseHref},e.prototype.prepareExternalUrl=function(t){return l.joinWithSlash(this._baseHref,t)},e.prototype.path=function(t){void 0===t&&(t=!1);var e=this._platformLocation.pathname+l.normalizeQueryParams(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?""+e+n:e},e.prototype.pushState=function(t,e,n,r){var i=this.prepareExternalUrl(n+l.normalizeQueryParams(r));this._platformLocation.pushState(t,e,i)},e.prototype.replaceState=function(t,e,n,r){var i=this.prepareExternalUrl(n+l.normalizeQueryParams(r));this._platformLocation.replaceState(t,e,i)},e.prototype.forward=function(){this._platformLocation.forward()},e.prototype.back=function(){this._platformLocation.back()},e}(s),d=void 0,p=["en",[["a","p"],["AM","PM"],d],[["AM","PM"],d,d],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],d,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],d,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",d,"{1} 'at' {0}",d],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"$","US Dollar",{},function(t){var e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}],v={};function g(t,e,n){"string"!=typeof e&&(n=e,e=t[0]),e=e.toLowerCase().replace(/_/g,"-"),v[e]=t,n&&(v[e][19]=n)}var m={ADP:[void 0,void 0,0],AFN:[void 0,void 0,0],ALL:[void 0,void 0,0],AMD:[void 0,void 0,0],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",0],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",0],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",0],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",0],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",0],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:[void 0,"\u20b1"],PKR:[void 0,"Rs",0],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,0],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UZS:[void 0,void 0,0],VEF:[void 0,"Bs"],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["CFA",void 0,0],XPF:["CFPF",void 0,0],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},y=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}({}),b=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),w=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}({}),x=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}({}),_=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}({}),C=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t[1/0]=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}({}),S=function(t){return t[t.Sunday=0]="Sunday",t[t.Monday=1]="Monday",t[t.Tuesday=2]="Tuesday",t[t.Wednesday=3]="Wednesday",t[t.Thursday=4]="Thursday",t[t.Friday=5]="Friday",t[t.Saturday=6]="Saturday",t}({});function D(t){return q(t)[0]}function P(t,e,n){var r=q(t);return H(H([r[1],r[2]],e),n)}function A(t,e,n){var r=q(t);return H(H([r[3],r[4]],e),n)}function T(t,e,n){var r=q(t);return H(H([r[5],r[6]],e),n)}function E(t,e){return H(q(t)[7],e)}function O(t){return q(t)[8]}function k(t){return q(t)[9]}function R(t,e){return H(q(t)[10],e)}function I(t,e){return H(q(t)[11],e)}function M(t,e){return H(q(t)[12],e)}function N(t,e){var n=q(t),r=n[13][e];if(void 0===r){if(e===C.CurrencyDecimal)return n[13][C.Decimal];if(e===C.CurrencyGroup)return n[13][C.Group]}return r}function L(t,e){return q(t)[14][e]}function F(t){return q(t)[15]||null}function j(t){return q(t)[16]||null}function V(t){return q(t)[18]}function z(t){if(!t[19])throw new Error('Missing extra locale data for the locale "'+t[0]+'". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.')}function B(t){var e=q(t);return z(e),(e[19][2]||[]).map(function(t){return"string"==typeof t?X(t):[X(t[0]),X(t[1])]})}function W(t,e,n){var r=q(t);return z(r),H(H([r[19][0],r[19][1]],e)||[],n)||[]}function H(t,e){for(var n=e;n>-1;n--)if(void 0!==t[n])return t[n];throw new Error("Locale data API: locale data undefined")}function X(t){var e=Object(i.__read)(t.split(":"),2);return{hours:+e[0],minutes:+e[1]}}function q(t){var e=t.toLowerCase().replace(/_/g,"-"),n=v[e];if(n)return n;var r=e.split("-")[0];if(n=v[r])return n;if("en"===r)return p;throw new Error('Missing locale data for the locale "'+t+'".')}function U(t,e,n){void 0===n&&(n="en");var r=function(t){return q(t)[17]}(n)[t]||m[t]||[],i=r[1];return"narrow"===e&&"string"==typeof i?i:r[0]||t}var G=2;function Y(t){var e,n=m[t];return n&&(e=n[2]),"number"==typeof e?e:G}var K=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Z={},J=/((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,Q=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}({}),$=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}({}),tt=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}({});function et(t,e,n,r){var o=function(t){if(dt(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){t=t.trim();var e,n=parseFloat(t);if(!isNaN(t-n))return new Date(n);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(t)){var r=Object(i.__read)(t.split("-").map(function(t){return+t}),3);return new Date(r[0],r[1]-1,r[2])}if(e=t.match(K))return ht(e)}var o=new Date(t);if(!dt(o))throw new Error('Unable to convert "'+t+'" into a date');return o}(t);e=function t(e,n){var r=D(e);if(Z[r]=Z[r]||{},Z[r][n])return Z[r][n];var i="";switch(n){case"shortDate":i=R(e,_.Short);break;case"mediumDate":i=R(e,_.Medium);break;case"longDate":i=R(e,_.Long);break;case"fullDate":i=R(e,_.Full);break;case"shortTime":i=I(e,_.Short);break;case"mediumTime":i=I(e,_.Medium);break;case"longTime":i=I(e,_.Long);break;case"fullTime":i=I(e,_.Full);break;case"short":var o=t(e,"shortTime"),a=t(e,"shortDate");i=nt(M(e,_.Short),[o,a]);break;case"medium":var s=t(e,"mediumTime"),u=t(e,"mediumDate");i=nt(M(e,_.Medium),[s,u]);break;case"long":var l=t(e,"longTime"),c=t(e,"longDate");i=nt(M(e,_.Long),[l,c]);break;case"full":var f=t(e,"fullTime"),h=t(e,"fullDate");i=nt(M(e,_.Full),[f,h])}return i&&(Z[r][n]=i),i}(n,e)||e;for(var a,s=[];e;){if(!(a=J.exec(e))){s.push(e);break}var u=(s=s.concat(a.slice(1))).pop();if(!u)break;e=u}var l=o.getTimezoneOffset();r&&(l=ft(r,l),o=function(t,e,n){var r=t.getTimezoneOffset();return function(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,-1*(ft(e,r)-r))}(o,r));var c="";return s.forEach(function(t){var e=function(t){if(ct[t])return ct[t];var e;switch(t){case"G":case"GG":case"GGG":e=ot(tt.Eras,x.Abbreviated);break;case"GGGG":e=ot(tt.Eras,x.Wide);break;case"GGGGG":e=ot(tt.Eras,x.Narrow);break;case"y":e=it($.FullYear,1,0,!1,!0);break;case"yy":e=it($.FullYear,2,0,!0,!0);break;case"yyy":e=it($.FullYear,3,0,!1,!0);break;case"yyyy":e=it($.FullYear,4,0,!1,!0);break;case"M":case"L":e=it($.Month,1,1);break;case"MM":case"LL":e=it($.Month,2,1);break;case"MMM":e=ot(tt.Months,x.Abbreviated);break;case"MMMM":e=ot(tt.Months,x.Wide);break;case"MMMMM":e=ot(tt.Months,x.Narrow);break;case"LLL":e=ot(tt.Months,x.Abbreviated,w.Standalone);break;case"LLLL":e=ot(tt.Months,x.Wide,w.Standalone);break;case"LLLLL":e=ot(tt.Months,x.Narrow,w.Standalone);break;case"w":e=lt(1);break;case"ww":e=lt(2);break;case"W":e=lt(1,!0);break;case"d":e=it($.Date,1);break;case"dd":e=it($.Date,2);break;case"E":case"EE":case"EEE":e=ot(tt.Days,x.Abbreviated);break;case"EEEE":e=ot(tt.Days,x.Wide);break;case"EEEEE":e=ot(tt.Days,x.Narrow);break;case"EEEEEE":e=ot(tt.Days,x.Short);break;case"a":case"aa":case"aaa":e=ot(tt.DayPeriods,x.Abbreviated);break;case"aaaa":e=ot(tt.DayPeriods,x.Wide);break;case"aaaaa":e=ot(tt.DayPeriods,x.Narrow);break;case"b":case"bb":case"bbb":e=ot(tt.DayPeriods,x.Abbreviated,w.Standalone,!0);break;case"bbbb":e=ot(tt.DayPeriods,x.Wide,w.Standalone,!0);break;case"bbbbb":e=ot(tt.DayPeriods,x.Narrow,w.Standalone,!0);break;case"B":case"BB":case"BBB":e=ot(tt.DayPeriods,x.Abbreviated,w.Format,!0);break;case"BBBB":e=ot(tt.DayPeriods,x.Wide,w.Format,!0);break;case"BBBBB":e=ot(tt.DayPeriods,x.Narrow,w.Format,!0);break;case"h":e=it($.Hours,1,-12);break;case"hh":e=it($.Hours,2,-12);break;case"H":e=it($.Hours,1);break;case"HH":e=it($.Hours,2);break;case"m":e=it($.Minutes,1);break;case"mm":e=it($.Minutes,2);break;case"s":e=it($.Seconds,1);break;case"ss":e=it($.Seconds,2);break;case"S":e=it($.FractionalSeconds,1);break;case"SS":e=it($.FractionalSeconds,2);break;case"SSS":e=it($.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=at(Q.Short);break;case"ZZZZZ":e=at(Q.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=at(Q.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=at(Q.Long);break;default:return null}return ct[t]=e,e}(t);c+=e?e(o,n,l):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function nt(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(t,n){return null!=e&&n in e?e[n]:t})),t}function rt(t,e,n,r,i){void 0===n&&(n="-");var o="";(t<0||i&&t<=0)&&(i?t=1-t:(t=-t,o=n));for(var a=String(t);a.length<e;)a="0"+a;return r&&(a=a.substr(a.length-e)),o+a}function it(t,e,n,r,i){return void 0===n&&(n=0),void 0===r&&(r=!1),void 0===i&&(i=!1),function(o,a){var s,u=function(t,e){switch(t){case $.FullYear:return e.getFullYear();case $.Month:return e.getMonth();case $.Date:return e.getDate();case $.Hours:return e.getHours();case $.Minutes:return e.getMinutes();case $.Seconds:return e.getSeconds();case $.FractionalSeconds:return e.getMilliseconds();case $.Day:return e.getDay();default:throw new Error('Unknown DateType value "'+t+'".')}}(t,o);if((n>0||u>-n)&&(u+=n),t===$.Hours)0===u&&-12===n&&(u=12);else if(t===$.FractionalSeconds)return s=e,rt(u,3).substr(0,s);var l=N(a,C.MinusSign);return rt(u,e,l,r,i)}}function ot(t,e,n,r){return void 0===n&&(n=w.Format),void 0===r&&(r=!1),function(i,o){return function(t,e,n,r,i,o){switch(n){case tt.Months:return T(e,i,r)[t.getMonth()];case tt.Days:return A(e,i,r)[t.getDay()];case tt.DayPeriods:var a=t.getHours(),s=t.getMinutes();if(o){var u,l=B(e),c=W(e,i,r);if(l.forEach(function(t,e){if(Array.isArray(t)){var n=t[0],r=t[1],i=r.hours;a>=n.hours&&s>=n.minutes&&(a<i||a===i&&s<r.minutes)&&(u=c[e])}else t.hours===a&&t.minutes===s&&(u=c[e])}),u)return u}return P(e,i,r)[a<12?0:1];case tt.Eras:return E(e,r)[t.getFullYear()<=0?0:1];default:throw new Error("unexpected translation type "+n)}}(i,o,t,e,n,r)}}function at(t){return function(e,n,r){var i=-1*r,o=N(n,C.MinusSign),a=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case Q.Short:return(i>=0?"+":"")+rt(a,2,o)+rt(Math.abs(i%60),2,o);case Q.ShortGMT:return"GMT"+(i>=0?"+":"")+rt(a,1,o);case Q.Long:return"GMT"+(i>=0?"+":"")+rt(a,2,o)+":"+rt(Math.abs(i%60),2,o);case Q.Extended:return 0===r?"Z":(i>=0?"+":"")+rt(a,2,o)+":"+rt(Math.abs(i%60),2,o);default:throw new Error('Unknown zone width "'+t+'"')}}}var st=0,ut=4;function lt(t,e){return void 0===e&&(e=!1),function(n,r){var i,o,a,s;if(e){var u=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,l=n.getDate();i=1+Math.floor((l+u)/7)}else{var c=(a=n.getFullYear(),s=new Date(a,st,1).getDay(),new Date(a,0,1+(s<=ut?ut:ut+7)-s)),f=(o=n,new Date(o.getFullYear(),o.getMonth(),o.getDate()+(ut-o.getDay()))).getTime()-c.getTime();i=1+Math.round(f/6048e5)}return rt(i,t,N(r,C.MinusSign))}}var ct={};function ft(t,e){t=t.replace(/:/g,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function ht(t){var e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));var a=Number(t[4]||0)-n,s=Number(t[5]||0)-r,u=Number(t[6]||0),l=Math.round(1e3*parseFloat("0."+(t[7]||0)));return o.call(e,a,s,u,l),e}function dt(t){return t instanceof Date&&!isNaN(t.valueOf())}var pt=/^(\d+)?\.((\d+)(-(\d+))?)?$/,vt=22,gt=".",mt="0",yt=";",bt=",",wt="#",xt="\xa4",_t="%";function Ct(t,e,n,r,i,o,a){void 0===a&&(a=!1);var s="",u=!1;if(isFinite(t)){var l=function(e){var n,r,i,o,a,s=Math.abs(t)+"",u=0;for((r=s.indexOf(gt))>-1&&(s=s.replace(gt,"")),(i=s.search(/e/i))>0?(r<0&&(r=i),r+=+s.slice(i+1),s=s.substring(0,i)):r<0&&(r=s.length),i=0;s.charAt(i)===mt;i++);if(i===(a=s.length))n=[0],r=1;else{for(a--;s.charAt(a)===mt;)a--;for(r-=i,n=[],o=0;i<=a;i++,o++)n[o]=Number(s.charAt(i))}return r>vt&&(n=n.splice(0,vt-1),u=r-1,r=1),{digits:n,exponent:u,integerLen:r}}();a&&(l=function(t){if(0===t.digits[0])return t;var e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(l));var c=e.minInt,f=e.minFrac,h=e.maxFrac;if(o){var d=o.match(pt);if(null===d)throw new Error(o+" is not a valid digit info");var p=d[1],v=d[3],g=d[5];null!=p&&(c=Tt(p)),null!=v&&(f=Tt(v)),null!=g?h=Tt(g):null!=v&&f>h&&(h=f)}!function(t,e,n){if(e>n)throw new Error("The minimum number of digits after fraction ("+e+") is higher than the maximum ("+n+").");var r=t.digits,i=r.length-t.integerLen,o=Math.min(Math.max(e,i),n),a=o+t.integerLen,s=r[a];if(a>0){r.splice(Math.max(t.integerLen,a));for(var u=a;u<r.length;u++)r[u]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,a=o+1),r[0]=0;for(var l=1;l<a;l++)r[l]=0}if(s>=5)if(a-1<0){for(var c=0;c>a;c--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[a-1]++;for(;i<Math.max(0,o);i++)r.push(0);var f=0!==o,h=e+t.integerLen,d=r.reduceRight(function(t,e,n,r){return r[n]=(e+=t)<10?e:e-10,f&&(0===r[n]&&n>=h?r.pop():f=!1),e>=10?1:0},0);d&&(r.unshift(d),t.integerLen++)}(l,f,h);var m=l.digits,y=l.integerLen,b=l.exponent,w=[];for(u=m.every(function(t){return!t});y<c;y++)m.unshift(0);for(;y<0;y++)m.unshift(0);y>0?w=m.splice(y,m.length):(w=m,m=[0]);var x=[];for(m.length>=e.lgSize&&x.unshift(m.splice(-e.lgSize,m.length).join(""));m.length>e.gSize;)x.unshift(m.splice(-e.gSize,m.length).join(""));m.length&&x.unshift(m.join("")),s=x.join(N(n,r)),w.length&&(s+=N(n,i)+w.join("")),b&&(s+=N(n,C.Exponential)+"+"+b)}else s=N(n,C.Infinity);return t<0&&!u?e.negPre+s+e.negSuf:e.posPre+s+e.posSuf}function St(t,e,n,r,i){var o=At(L(e,y.Currency),N(e,C.MinusSign));return o.minFrac=Y(r),o.maxFrac=o.minFrac,Ct(t,o,e,C.CurrencyGroup,C.CurrencyDecimal,i).replace(xt,n).replace(xt,"")}function Dt(t,e,n){return Ct(t,At(L(e,y.Percent),N(e,C.MinusSign)),e,C.Group,C.Decimal,n,!0).replace(new RegExp(_t,"g"),N(e,C.PercentSign))}function Pt(t,e,n){return Ct(t,At(L(e,y.Decimal),N(e,C.MinusSign)),e,C.Group,C.Decimal,n)}function At(t,e){void 0===e&&(e="-");var n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(yt),i=r[0],o=r[1],a=-1!==i.indexOf(gt)?i.split(gt):[i.substring(0,i.lastIndexOf(mt)+1),i.substring(i.lastIndexOf(mt)+1)],s=a[0],u=a[1]||"";n.posPre=s.substr(0,s.indexOf(wt));for(var l=0;l<u.length;l++){var c=u.charAt(l);c===mt?n.minFrac=n.maxFrac=l+1:c===wt?n.maxFrac=l+1:n.posSuf+=c}var f=s.split(bt);if(n.gSize=f[1]?f[1].length:0,n.lgSize=f[2]||f[1]?(f[2]||f[1]).length:0,o){var h=i.length-n.posPre.length-n.posSuf.length,d=o.indexOf(wt);n.negPre=o.substr(0,d).replace(/'/g,""),n.negSuf=o.substr(d+h).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}function Tt(t){var e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}var Et=new r.InjectionToken("UseV4Plurals"),Ot=function(){};function kt(t,e,n,r){var i="="+t;if(e.indexOf(i)>-1)return i;if(i=n.getPluralCategory(t,r),e.indexOf(i)>-1)return i;if(e.indexOf("other")>-1)return"other";throw new Error('No plural message found for value "'+t+'"')}var Rt=function(t){function e(e,n){var r=t.call(this)||this;return r.locale=e,r.deprecatedPluralFn=n,r}return Object(i.__extends)(e,t),e.prototype.getPluralCategory=function(t,e){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(e||this.locale,t):V(e||this.locale)(t)){case b.Zero:return"zero";case b.One:return"one";case b.Two:return"two";case b.Few:return"few";case b.Many:return"many";default:return"other"}},e}(Ot);function It(t,e){"string"==typeof e&&(e=parseInt(e,10));var n=e,r=n.toString().replace(/^[^.]*\.?/,""),i=Math.floor(Math.abs(n)),o=r.length,a=parseInt(r,10),s=parseInt(n.toString().replace(/^[^.]*\.?|0+$/g,""),10)||0;switch(t.split("-")[0].toLowerCase()){case"af":case"asa":case"az":case"bem":case"bez":case"bg":case"brx":case"ce":case"cgg":case"chr":case"ckb":case"ee":case"el":case"eo":case"es":case"eu":case"fo":case"fur":case"gsw":case"ha":case"haw":case"hu":case"jgo":case"jmc":case"ka":case"kk":case"kkj":case"kl":case"ks":case"ksb":case"ky":case"lb":case"lg":case"mas":case"mgo":case"ml":case"mn":case"nb":case"nd":case"ne":case"nn":case"nnh":case"nyn":case"om":case"or":case"os":case"ps":case"rm":case"rof":case"rwk":case"saq":case"seh":case"sn":case"so":case"sq":case"ta":case"te":case"teo":case"tk":case"tr":case"ug":case"uz":case"vo":case"vun":case"wae":case"xog":return 1===n?b.One:b.Other;case"ak":case"ln":case"mg":case"pa":case"ti":return n===Math.floor(n)&&n>=0&&n<=1?b.One:b.Other;case"am":case"as":case"bn":case"fa":case"gu":case"hi":case"kn":case"mr":case"zu":return 0===i||1===n?b.One:b.Other;case"ar":return 0===n?b.Zero:1===n?b.One:2===n?b.Two:n%100===Math.floor(n%100)&&n%100>=3&&n%100<=10?b.Few:n%100===Math.floor(n%100)&&n%100>=11&&n%100<=99?b.Many:b.Other;case"ast":case"ca":case"de":case"en":case"et":case"fi":case"fy":case"gl":case"it":case"nl":case"sv":case"sw":case"ur":case"yi":return 1===i&&0===o?b.One:b.Other;case"be":return n%10==1&&n%100!=11?b.One:n%10===Math.floor(n%10)&&n%10>=2&&n%10<=4&&!(n%100>=12&&n%100<=14)?b.Few:n%10==0||n%10===Math.floor(n%10)&&n%10>=5&&n%10<=9||n%100===Math.floor(n%100)&&n%100>=11&&n%100<=14?b.Many:b.Other;case"br":return n%10==1&&n%100!=11&&n%100!=71&&n%100!=91?b.One:n%10==2&&n%100!=12&&n%100!=72&&n%100!=92?b.Two:n%10===Math.floor(n%10)&&(n%10>=3&&n%10<=4||n%10==9)&&!(n%100>=10&&n%100<=19||n%100>=70&&n%100<=79||n%100>=90&&n%100<=99)?b.Few:0!==n&&n%1e6==0?b.Many:b.Other;case"bs":case"hr":case"sr":return 0===o&&i%10==1&&i%100!=11||a%10==1&&a%100!=11?b.One:0===o&&i%10===Math.floor(i%10)&&i%10>=2&&i%10<=4&&!(i%100>=12&&i%100<=14)||a%10===Math.floor(a%10)&&a%10>=2&&a%10<=4&&!(a%100>=12&&a%100<=14)?b.Few:b.Other;case"cs":case"sk":return 1===i&&0===o?b.One:i===Math.floor(i)&&i>=2&&i<=4&&0===o?b.Few:0!==o?b.Many:b.Other;case"cy":return 0===n?b.Zero:1===n?b.One:2===n?b.Two:3===n?b.Few:6===n?b.Many:b.Other;case"da":return 1===n||0!==s&&(0===i||1===i)?b.One:b.Other;case"dsb":case"hsb":return 0===o&&i%100==1||a%100==1?b.One:0===o&&i%100==2||a%100==2?b.Two:0===o&&i%100===Math.floor(i%100)&&i%100>=3&&i%100<=4||a%100===Math.floor(a%100)&&a%100>=3&&a%100<=4?b.Few:b.Other;case"ff":case"fr":case"hy":case"kab":return 0===i||1===i?b.One:b.Other;case"fil":return 0===o&&(1===i||2===i||3===i)||0===o&&i%10!=4&&i%10!=6&&i%10!=9||0!==o&&a%10!=4&&a%10!=6&&a%10!=9?b.One:b.Other;case"ga":return 1===n?b.One:2===n?b.Two:n===Math.floor(n)&&n>=3&&n<=6?b.Few:n===Math.floor(n)&&n>=7&&n<=10?b.Many:b.Other;case"gd":return 1===n||11===n?b.One:2===n||12===n?b.Two:n===Math.floor(n)&&(n>=3&&n<=10||n>=13&&n<=19)?b.Few:b.Other;case"gv":return 0===o&&i%10==1?b.One:0===o&&i%10==2?b.Two:0!==o||i%100!=0&&i%100!=20&&i%100!=40&&i%100!=60&&i%100!=80?0!==o?b.Many:b.Other:b.Few;case"he":return 1===i&&0===o?b.One:2===i&&0===o?b.Two:0!==o||n>=0&&n<=10||n%10!=0?b.Other:b.Many;case"is":return 0===s&&i%10==1&&i%100!=11||0!==s?b.One:b.Other;case"ksh":return 0===n?b.Zero:1===n?b.One:b.Other;case"kw":case"naq":case"se":case"smn":return 1===n?b.One:2===n?b.Two:b.Other;case"lag":return 0===n?b.Zero:0!==i&&1!==i||0===n?b.Other:b.One;case"lt":return n%10!=1||n%100>=11&&n%100<=19?n%10===Math.floor(n%10)&&n%10>=2&&n%10<=9&&!(n%100>=11&&n%100<=19)?b.Few:0!==a?b.Many:b.Other:b.One;case"lv":case"prg":return n%10==0||n%100===Math.floor(n%100)&&n%100>=11&&n%100<=19||2===o&&a%100===Math.floor(a%100)&&a%100>=11&&a%100<=19?b.Zero:n%10==1&&n%100!=11||2===o&&a%10==1&&a%100!=11||2!==o&&a%10==1?b.One:b.Other;case"mk":return 0===o&&i%10==1||a%10==1?b.One:b.Other;case"mt":return 1===n?b.One:0===n||n%100===Math.floor(n%100)&&n%100>=2&&n%100<=10?b.Few:n%100===Math.floor(n%100)&&n%100>=11&&n%100<=19?b.Many:b.Other;case"pl":return 1===i&&0===o?b.One:0===o&&i%10===Math.floor(i%10)&&i%10>=2&&i%10<=4&&!(i%100>=12&&i%100<=14)?b.Few:0===o&&1!==i&&i%10===Math.floor(i%10)&&i%10>=0&&i%10<=1||0===o&&i%10===Math.floor(i%10)&&i%10>=5&&i%10<=9||0===o&&i%100===Math.floor(i%100)&&i%100>=12&&i%100<=14?b.Many:b.Other;case"pt":return n===Math.floor(n)&&n>=0&&n<=2&&2!==n?b.One:b.Other;case"ro":return 1===i&&0===o?b.One:0!==o||0===n||1!==n&&n%100===Math.floor(n%100)&&n%100>=1&&n%100<=19?b.Few:b.Other;case"ru":case"uk":return 0===o&&i%10==1&&i%100!=11?b.One:0===o&&i%10===Math.floor(i%10)&&i%10>=2&&i%10<=4&&!(i%100>=12&&i%100<=14)?b.Few:0===o&&i%10==0||0===o&&i%10===Math.floor(i%10)&&i%10>=5&&i%10<=9||0===o&&i%100===Math.floor(i%100)&&i%100>=11&&i%100<=14?b.Many:b.Other;case"shi":return 0===i||1===n?b.One:n===Math.floor(n)&&n>=2&&n<=10?b.Few:b.Other;case"si":return 0===n||1===n||0===i&&1===a?b.One:b.Other;case"sl":return 0===o&&i%100==1?b.One:0===o&&i%100==2?b.Two:0===o&&i%100===Math.floor(i%100)&&i%100>=3&&i%100<=4||0!==o?b.Few:b.Other;case"tzm":return n===Math.floor(n)&&n>=0&&n<=1||n===Math.floor(n)&&n>=11&&n<=99?b.One:b.Other;default:return b.Other}}function Mt(t,e){e=encodeURIComponent(e);try{for(var n=Object(i.__values)(t.split(";")),r=n.next();!r.done;r=n.next()){var o=r.value,a=o.indexOf("="),s=Object(i.__read)(-1==a?[o,""]:[o.slice(0,a),o.slice(a+1)],2),u=s[1];if(s[0].trim()===e)return decodeURIComponent(u)}}catch(t){l={error:t}}finally{try{r&&!r.done&&(c=n.return)&&c.call(n)}finally{if(l)throw l.error}}return null;var l,c}var Nt=function(){function t(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._initialClasses=[]}return Object.defineProperty(t.prototype,"klass",{set:function(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClass",{set:function(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Object(r["\u0275isListLikeIterable"])(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())},enumerable:!0,configurable:!0}),t.prototype.ngDoCheck=function(){if(this._iterableDiffer){var t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){var e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}},t.prototype._applyKeyValueChanges=function(t){var e=this;t.forEachAddedItem(function(t){return e._toggleClass(t.key,t.currentValue)}),t.forEachChangedItem(function(t){return e._toggleClass(t.key,t.currentValue)}),t.forEachRemovedItem(function(t){t.previousValue&&e._toggleClass(t.key,!1)})},t.prototype._applyIterableChanges=function(t){var e=this;t.forEachAddedItem(function(t){if("string"!=typeof t.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+Object(r["\u0275stringify"])(t.item));e._toggleClass(t.item,!0)}),t.forEachRemovedItem(function(t){return e._toggleClass(t.item,!1)})},t.prototype._applyClasses=function(t){var e=this;t&&(Array.isArray(t)||t instanceof Set?t.forEach(function(t){return e._toggleClass(t,!0)}):Object.keys(t).forEach(function(n){return e._toggleClass(n,!!t[n])}))},t.prototype._removeClasses=function(t){var e=this;t&&(Array.isArray(t)||t instanceof Set?t.forEach(function(t){return e._toggleClass(t,!1)}):Object.keys(t).forEach(function(t){return e._toggleClass(t,!1)}))},t.prototype._toggleClass=function(t,e){var n=this;(t=t.trim())&&t.split(/\s+/g).forEach(function(t){e?n._renderer.addClass(n._ngEl.nativeElement,t):n._renderer.removeClass(n._ngEl.nativeElement,t)})},t}(),Lt=function(){function t(t){this._viewContainerRef=t,this._componentRef=null,this._moduleRef=null}return t.prototype.ngOnChanges=function(t){if(this._viewContainerRef.clear(),this._componentRef=null,this.ngComponentOutlet){var e=this.ngComponentOutletInjector||this._viewContainerRef.parentInjector;if(t.ngComponentOutletNgModuleFactory)if(this._moduleRef&&this._moduleRef.destroy(),this.ngComponentOutletNgModuleFactory){var n=e.get(r.NgModuleRef);this._moduleRef=this.ngComponentOutletNgModuleFactory.create(n.injector)}else this._moduleRef=null;var i=(this._moduleRef?this._moduleRef.componentFactoryResolver:e.get(r.ComponentFactoryResolver)).resolveComponentFactory(this.ngComponentOutlet);this._componentRef=this._viewContainerRef.createComponent(i,this._viewContainerRef.length,e,this.ngComponentOutletContent)}},t.prototype.ngOnDestroy=function(){this._moduleRef&&this._moduleRef.destroy()},t}(),Ft=function(){function t(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}return Object.defineProperty(t.prototype,"first",{get:function(){return 0===this.index},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"last",{get:function(){return this.index===this.count-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"even",{get:function(){return this.index%2==0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"odd",{get:function(){return!this.even},enumerable:!0,configurable:!0}),t}(),jt=function(){function t(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._differ=null}return Object.defineProperty(t.prototype,"ngForTrackBy",{get:function(){return this._trackByFn},set:function(t){Object(r.isDevMode)()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn("trackBy must be a function, but received "+JSON.stringify(t)+". See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information."),this._trackByFn=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngForTemplate",{set:function(t){t&&(this._template=t)},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(t){if("ngForOf"in t){var e=t.ngForOf.currentValue;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(t){throw new Error("Cannot find a differ supporting object '"+e+"' of type '"+((n=e).name||typeof n)+"'. NgFor only supports binding to Iterables such as Arrays.")}}var n},t.prototype.ngDoCheck=function(){if(this._differ){var t=this._differ.diff(this.ngForOf);t&&this._applyChanges(t)}},t.prototype._applyChanges=function(t){var e=this,n=[];t.forEachOperation(function(t,r,i){if(null==t.previousIndex){var o=e._viewContainer.createEmbeddedView(e._template,new Ft(null,e.ngForOf,-1,-1),i),a=new Vt(t,o);n.push(a)}else null==i?e._viewContainer.remove(r):(o=e._viewContainer.get(r),e._viewContainer.move(o,i),a=new Vt(t,o),n.push(a))});for(var r=0;r<n.length;r++)this._perViewChange(n[r].view,n[r].record);r=0;for(var i=this._viewContainer.length;r<i;r++){var o=this._viewContainer.get(r);o.context.index=r,o.context.count=i,o.context.ngForOf=this.ngForOf}t.forEachIdentityChange(function(t){e._viewContainer.get(t.currentIndex).context.$implicit=t.item})},t.prototype._perViewChange=function(t,e){t.context.$implicit=e.item},t}(),Vt=function(t,e){this.record=t,this.view=e},zt=function(){function t(t,e){this._viewContainer=t,this._context=new Bt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}return Object.defineProperty(t.prototype,"ngIf",{set:function(t){this._context.$implicit=this._context.ngIf=t,this._updateView()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngIfThen",{set:function(t){Wt("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngIfElse",{set:function(t){Wt("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()},enumerable:!0,configurable:!0}),t.prototype._updateView=function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))},t}(),Bt=function(){this.$implicit=null,this.ngIf=null};function Wt(t,e){if(e&&!e.createEmbeddedView)throw new Error(t+" must be a TemplateRef, but received '"+Object(r["\u0275stringify"])(e)+"'.")}var Ht=function(){function t(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}return t.prototype.create=function(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)},t.prototype.destroy=function(){this._created=!1,this._viewContainerRef.clear()},t.prototype.enforceState=function(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()},t}(),Xt=function(){function t(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}return Object.defineProperty(t.prototype,"ngSwitch",{set:function(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)},enumerable:!0,configurable:!0}),t.prototype._addCase=function(){return this._caseCount++},t.prototype._addDefault=function(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)},t.prototype._matchCase=function(t){var e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e},t.prototype._updateDefaultCases=function(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(var e=0;e<this._defaultViews.length;e++)this._defaultViews[e].enforceState(t)}},t}(),qt=function(){function t(t,e,n){this.ngSwitch=n,n._addCase(),this._view=new Ht(t,e)}return t.prototype.ngDoCheck=function(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))},t}(),Ut=function(){return function(t,e,n){n._addDefault(new Ht(t,e))}}(),Gt=function(){function t(t){this._localization=t,this._caseViews={}}return Object.defineProperty(t.prototype,"ngPlural",{set:function(t){this._switchValue=t,this._updateView()},enumerable:!0,configurable:!0}),t.prototype.addCase=function(t,e){this._caseViews[t]=e},t.prototype._updateView=function(){this._clearViews();var t=Object.keys(this._caseViews),e=kt(this._switchValue,t,this._localization);this._activateView(this._caseViews[e])},t.prototype._clearViews=function(){this._activeView&&this._activeView.destroy()},t.prototype._activateView=function(t){t&&(this._activeView=t,this._activeView.create())},t}(),Yt=function(){return function(t,e,n,r){this.value=t;var i=!isNaN(Number(t));r.addCase(i?"="+t:t,new Ht(n,e))}}(),Kt=function(){function t(t,e,n){this._differs=t,this._ngEl=e,this._renderer=n}return Object.defineProperty(t.prototype,"ngStyle",{set:function(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())},enumerable:!0,configurable:!0}),t.prototype.ngDoCheck=function(){if(this._differ){var t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}},t.prototype._applyChanges=function(t){var e=this;t.forEachRemovedItem(function(t){return e._setStyle(t.key,null)}),t.forEachAddedItem(function(t){return e._setStyle(t.key,t.currentValue)}),t.forEachChangedItem(function(t){return e._setStyle(t.key,t.currentValue)})},t.prototype._setStyle=function(t,e){var n=Object(i.__read)(t.split("."),2),r=n[0],o=n[1];null!=(e=null!=e&&o?""+e+o:e)?this._renderer.setStyle(this._ngEl.nativeElement,r,e):this._renderer.removeStyle(this._ngEl.nativeElement,r)},t}(),Zt=function(){function t(t){this._viewContainerRef=t}return t.prototype.ngOnChanges=function(t){this._shouldRecreateView(t)?(this._viewRef&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._viewRef)),this.ngTemplateOutlet&&(this._viewRef=this._viewContainerRef.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext))):this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)},t.prototype._shouldRecreateView=function(t){var e=t.ngTemplateOutletContext;return!!t.ngTemplateOutlet||e&&this._hasContextShapeChanged(e)},t.prototype._hasContextShapeChanged=function(t){var e,n,r=Object.keys(t.previousValue||{}),o=Object.keys(t.currentValue||{});if(r.length===o.length){try{for(var a=Object(i.__values)(o),s=a.next();!s.done;s=a.next())if(-1===r.indexOf(s.value))return!0}catch(t){e={error:t}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}return!1}return!0},t.prototype._updateExistingContext=function(t){try{for(var e=Object(i.__values)(Object.keys(t)),n=e.next();!n.done;n=e.next()){var r=n.value;this._viewRef.context[r]=this.ngTemplateOutletContext[r]}}catch(t){o={error:t}}finally{try{n&&!n.done&&(a=e.return)&&a.call(e)}finally{if(o)throw o.error}}var o,a},t}(),Jt=[Nt,Lt,jt,zt,Zt,Kt,Xt,qt,Ut,Gt,Yt];function Qt(t,e){return Error("InvalidPipeArgument: '"+e+"' for pipe '"+Object(r["\u0275stringify"])(t)+"'")}var $t=function(){function t(){}return t.format=function(t,e,n,r){void 0===r&&(r={});var i=r.currency,o=r.currencyAsSymbol,a=void 0!==o&&o,s={minimumIntegerDigits:r.minimumIntegerDigits,minimumFractionDigits:r.minimumFractionDigits,maximumFractionDigits:r.maximumFractionDigits,style:y[n].toLowerCase()};return n==y.Currency&&(s.currency="string"==typeof i?i:void 0,s.currencyDisplay=a?"symbol":"code"),new Intl.NumberFormat(e,s).format(t)},t}(),te=/((?:[^yMLdHhmsazZEwGjJ']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|J+|j+|m+|s+|a|z|Z|G+|w+))(.*)/,ee={yMMMdjms:fe(ce([ue("year",1),le("month",3),ue("day",1),ue("hour",1),ue("minute",1),ue("second",1)])),yMdjm:fe(ce([ue("year",1),ue("month",1),ue("day",1),ue("hour",1),ue("minute",1)])),yMMMMEEEEd:fe(ce([ue("year",1),le("month",4),le("weekday",4),ue("day",1)])),yMMMMd:fe(ce([ue("year",1),le("month",4),ue("day",1)])),yMMMd:fe(ce([ue("year",1),le("month",3),ue("day",1)])),yMd:fe(ce([ue("year",1),ue("month",1),ue("day",1)])),jms:fe(ce([ue("hour",1),ue("second",1),ue("minute",1)])),jm:fe(ce([ue("hour",1),ue("minute",1)]))},ne={yyyy:fe(ue("year",4)),yy:fe(ue("year",2)),y:fe(ue("year",1)),MMMM:fe(le("month",4)),MMM:fe(le("month",3)),MM:fe(ue("month",2)),M:fe(ue("month",1)),LLLL:fe(le("month",4)),L:fe(le("month",1)),dd:fe(ue("day",2)),d:fe(ue("day",1)),HH:re(ie(fe(se(ue("hour",2),!1)))),H:ie(fe(se(ue("hour",1),!1))),hh:re(ie(fe(se(ue("hour",2),!0)))),h:ie(fe(se(ue("hour",1),!0))),jj:fe(ue("hour",2)),j:fe(ue("hour",1)),mm:re(fe(ue("minute",2))),m:fe(ue("minute",1)),ss:re(fe(ue("second",2))),s:fe(ue("second",1)),sss:fe(ue("second",3)),EEEE:fe(le("weekday",4)),EEE:fe(le("weekday",3)),EE:fe(le("weekday",2)),E:fe(le("weekday",1)),a:function(t){return function(e,n){return t(e,n).split(" ")[1]}}(fe(se(ue("hour",1),!0))),Z:ae("short"),z:ae("long"),ww:fe({}),w:fe({}),G:fe(le("era",1)),GG:fe(le("era",2)),GGG:fe(le("era",3)),GGGG:fe(le("era",4))};function re(t){return function(e,n){var r=t(e,n);return 1==r.length?"0"+r:r}}function ie(t){return function(e,n){return t(e,n).split(" ")[0]}}function oe(t,e,n){return new Intl.DateTimeFormat(e,n).format(t).replace(/[\u200e\u200f]/g,"")}function ae(t){var e={hour:"2-digit",hour12:!1,timeZoneName:t};return function(t,n){var r=oe(t,n,e);return r?r.substring(3):""}}function se(t,e){return t.hour12=e,t}function ue(t,e){var n={};return n[t]=2===e?"2-digit":"numeric",n}function le(t,e){var n={};return n[t]=e<4?e>1?"short":"narrow":"long",n}function ce(t){return t.reduce(function(t,e){return Object(i.__assign)({},t,e)},{})}function fe(t){return function(e,n){return oe(e,n,t)}}var he=new Map,de=function(){function t(){}return t.format=function(t,e,n){return function(t,e,n){var r=ee[t];if(r)return r(e,n);var i=t,o=he.get(i);if(!o){o=[];var a=void 0;te.exec(t);for(var s=t;s;)(a=te.exec(s))?s=(o=o.concat(a.slice(1))).pop():(o.push(s),s=null);he.set(i,o)}return o.reduce(function(t,r){var i=ne[r];return t+(i?i(e,n):function(t){return"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}(r))},"")}(n,t,e)},t}(),pe=function(){function t(t){this._locale=t}return t.prototype.transform=function(e,n){if(void 0===n&&(n="mediumDate"),null==e||""===e||e!=e)return null;var r;if("string"==typeof e&&(e=e.trim()),ve(e))r=e;else if(isNaN(e-parseFloat(e)))if("string"==typeof e&&/^(\d{4}-\d{1,2}-\d{1,2})$/.test(e)){var o=Object(i.__read)(e.split("-").map(function(t){return parseInt(t,10)}),3);r=new Date(o[0],o[1]-1,o[2])}else r=new Date(e);else r=new Date(parseFloat(e));if(!ve(r)){var a=void 0;if("string"!=typeof e||!(a=e.match(K)))throw Qt(t,e);r=ht(a)}return de.format(r,this._locale,t._ALIASES[n]||n)},t._ALIASES={medium:"yMMMdjms",short:"yMdjm",fullDate:"yMMMMEEEEd",longDate:"yMMMMd",mediumDate:"yMMMd",shortDate:"yMd",mediumTime:"jms",shortTime:"jm"},t}();function ve(t){return t instanceof Date&&!isNaN(t.valueOf())}function ge(t,e,n,r,i,o,a){if(void 0===o&&(o=null),void 0===a&&(a=!1),null==n)return null;if("number"!=typeof(n="string"!=typeof n||isNaN(+n-parseFloat(n))?n:+n))throw Qt(t,n);var s,u,l;if(r!==y.Currency&&(s=1,u=0,l=3),i){var c=i.match(pt);if(null===c)throw new Error(i+" is not a valid digit info for number pipes");null!=c[1]&&(s=Tt(c[1])),null!=c[3]&&(u=Tt(c[3])),null!=c[5]&&(l=Tt(c[5]))}return $t.format(n,e,r,{minimumIntegerDigits:s,minimumFractionDigits:u,maximumFractionDigits:l,currency:o,currencyAsSymbol:a})}var me=function(){function t(t){this._locale=t}return t.prototype.transform=function(e,n){return ge(t,this._locale,e,y.Decimal,n)},t}(),ye=function(){function t(t){this._locale=t}return t.prototype.transform=function(e,n){return ge(t,this._locale,e,y.Percent,n)},t}(),be=function(){function t(t){this._locale=t}return t.prototype.transform=function(e,n,r,i){return void 0===n&&(n="USD"),void 0===r&&(r=!1),ge(t,this._locale,e,y.Currency,i,n,r)},t}(),we=[me,ye,be,pe],xe=function(){function t(){}return t.prototype.createSubscription=function(t,e){return t.subscribe({next:e,error:function(t){throw t}})},t.prototype.dispose=function(t){t.unsubscribe()},t.prototype.onDestroy=function(t){t.unsubscribe()},t}(),_e=new(function(){function t(){}return t.prototype.createSubscription=function(t,e){return t.then(e,function(t){throw t})},t.prototype.dispose=function(t){},t.prototype.onDestroy=function(t){},t}()),Ce=new xe,Se=function(){function t(t){this._ref=t,this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null,this._strategy=null}return t.prototype.ngOnDestroy=function(){this._subscription&&this._dispose()},t.prototype.transform=function(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue===this._latestReturnedValue?this._latestReturnedValue:(this._latestReturnedValue=this._latestValue,r.WrappedValue.wrap(this._latestValue)):(t&&this._subscribe(t),this._latestReturnedValue=this._latestValue,this._latestValue)},t.prototype._subscribe=function(t){var e=this;this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,function(n){return e._updateLatestValue(t,n)})},t.prototype._selectStrategy=function(e){if(Object(r["\u0275isPromise"])(e))return _e;if(Object(r["\u0275isObservable"])(e))return Ce;throw Qt(t,e)},t.prototype._dispose=function(){this._strategy.dispose(this._subscription),this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null},t.prototype._updateLatestValue=function(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())},t}(),De=function(){function t(){}return t.prototype.transform=function(e){if(!e)return e;if("string"!=typeof e)throw Qt(t,e);return e.toLowerCase()},t}(),Pe=/(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D])\S*/g,Ae=function(){function t(){}return t.prototype.transform=function(e){if(!e)return e;if("string"!=typeof e)throw Qt(t,e);return e.replace(Pe,function(t){return t[0].toUpperCase()+t.substr(1).toLowerCase()})},t}(),Te=function(){function t(){}return t.prototype.transform=function(e){if(!e)return e;if("string"!=typeof e)throw Qt(t,e);return e.toUpperCase()},t}(),Ee=function(){function t(t){this.locale=t}return t.prototype.transform=function(e,n,r,i){if(void 0===n&&(n="mediumDate"),null==e||""===e||e!=e)return null;try{return et(e,n,i||this.locale,r)}catch(e){throw Qt(t,e.message)}},t}(),Oe=/#/g,ke=function(){function t(t){this._localization=t}return t.prototype.transform=function(e,n,r){if(null==e)return"";if("object"!=typeof n||null===n)throw Qt(t,n);return n[kt(e,Object.keys(n),this._localization,r)].replace(Oe,e.toString())},t}(),Re=function(){function t(){}return t.prototype.transform=function(e,n){if(null==e)return"";if("object"!=typeof n||"string"!=typeof e)throw Qt(t,n);return n.hasOwnProperty(e)?n[e]:n.hasOwnProperty("other")?n.other:""},t}(),Ie=function(){function t(){}return t.prototype.transform=function(t){return JSON.stringify(t,null,2)},t}(),Me=function(){function t(t){this._locale=t}return t.prototype.transform=function(e,n,r){if(Fe(e))return null;r=r||this._locale;try{return Pt(je(e),r,n)}catch(e){throw Qt(t,e.message)}},t}(),Ne=function(){function t(t){this._locale=t}return t.prototype.transform=function(e,n,r){if(Fe(e))return null;r=r||this._locale;try{return Dt(je(e),r,n)}catch(e){throw Qt(t,e.message)}},t}(),Le=function(){function t(t){this._locale=t}return t.prototype.transform=function(e,n,r,i,o){if(void 0===r&&(r="symbol"),Fe(e))return null;o=o||this._locale,"boolean"==typeof r&&(console&&console.warn&&console.warn('Warning: the currency pipe has been changed in Angular v5. The symbolDisplay option (third parameter) is now a string instead of a boolean. The accepted values are "code", "symbol" or "symbol-narrow".'),r=r?"symbol":"code");var a=n||"USD";"code"!==r&&(a="symbol"===r||"symbol-narrow"===r?U(a,"symbol"===r?"wide":"narrow",o):r);try{return St(je(e),o,a,n,i)}catch(e){throw Qt(t,e.message)}},t}();function Fe(t){return null==t||""===t||t!=t}function je(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(t+" is not a number");return t}var Ve=function(){function t(){}return t.prototype.transform=function(e,n,r){if(null==e)return e;if(!this.supports(e))throw Qt(t,e);return e.slice(n,r)},t.prototype.supports=function(t){return"string"==typeof t||Array.isArray(t)},t}(),ze=[Se,Te,De,Ie,Ve,Me,Ne,Ae,Le,Ee,ke,Re],Be=function(){},We=function(){},He=new r.InjectionToken("DocumentToken"),Xe="browser",qe="server",Ue="browserWorkerApp",Ge="browserWorkerUi";function Ye(t){return t===Xe}function Ke(t){return t===qe}function Ze(t){return t===Ue}function Je(t){return t===Ge}var Qe=new r.Version("6.0.9")},ItLS:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("mrSG"),i=n("C69x");r.__exportStar(n("C69x"),e),r.__exportStar(n("0Dbr"),e),e.createMtcnn=function(t){var e=new i.Mtcnn;return e.extractWeights(t),e}},JcRv:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("xTla"),i=function(t){return function(e){var n=t[r.a]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(e)}}},K9Ia:function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return f});var r=n("mrSG"),i=n("6blF"),o=n("FFOo"),a=n("pugT"),s=n("8g8A"),u=n("uMaO"),l=n("L/V9"),c=function(t){function e(e){var n=t.call(this,e)||this;return n.destination=e,n}return r.__extends(e,t),e}(o.a),f=function(t){function e(){var e=t.call(this)||this;return e.observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return r.__extends(e,t),e.prototype[l.a]=function(){return new c(this)},e.prototype.lift=function(t){var e=new h(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new s.a;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].next(t)},e.prototype.error=function(t){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new s.a;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new s.a;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new s.a;return this.hasError?(t.error(this.thrownError),a.a.EMPTY):this.isStopped?(t.complete(),a.a.EMPTY):(this.observers.push(t),new u.a(this,t))},e.prototype.asObservable=function(){var t=new i.a;return t.source=this,t},e.create=function(t,e){return new h(t,e)},e}(i.a),h=function(t){function e(e,n){var r=t.call(this)||this;return r.destination=e,r.source=n,r}return r.__extends(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):a.a.EMPTY},e}(f)},"L/V9":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("rxSubscriber"):"@@rxSubscriber"},LPMm:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("mrSG"),i=n("lnjT"),o=n("y1S8"),a=n("nFNn"),s=n("M96y");e.loadQuantizedParams=function(t){return r.__awaiter(this,void 0,void 0,function(){var e,n,u,l,c,f,h,d,p,v,g,m,y,b,w,x,_,C,S,D,P;return r.__generator(this,function(r){switch(r.label){case 0:return[4,s.loadWeightMap(t,"face_recognition_model")];case 1:if(e=r.sent(),u=function(t,e){var n=o.extractWeightEntryFactory(t,e);function r(t){return{conv:{filters:n(t+"/conv/filters",4),bias:n(t+"/conv/bias",1)},scale:function(t){return{weights:n(t+"/scale/weights",1),biases:n(t+"/scale/biases",1)}}(t)}}return{extractConvLayerParams:r,extractResidualLayerParams:function(t){return{conv1:r(t+"/conv1"),conv2:r(t+"/conv2")}}}}(e,n=[]),l=u.extractResidualLayerParams,c=(0,u.extractConvLayerParams)("conv32_down"),f=l("conv32_1"),h=l("conv32_2"),d=l("conv32_3"),p=l("conv64_down"),v=l("conv64_1"),g=l("conv64_2"),m=l("conv64_3"),y=l("conv128_down"),b=l("conv128_1"),w=l("conv128_2"),x=l("conv256_down"),_=l("conv256_1"),C=l("conv256_2"),S=l("conv256_down_out"),D=e.fc,n.push({originalPath:"fc",paramPath:"fc"}),!a.isTensor2D(D))throw new Error("expected weightMap[fc] to be a Tensor2D, instead have "+D);return P={conv32_down:c,conv32_1:f,conv32_2:h,conv32_3:d,conv64_down:p,conv64_1:v,conv64_2:g,conv64_3:m,conv128_down:y,conv128_1:b,conv128_2:w,conv256_down:x,conv256_1:_,conv256_2:C,conv256_down_out:S,fc:D},i.disposeUnusedWeightTensors(e,n),[2,{params:P,paramMappings:n}]}})})}},LrrT:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("mrSG"),i=n("lT9W"),o=n("38xv"),a=n("q/np"),s=n("DmoT"),u=n("maNC"),l=n("NvgT"),c=n("xFx2"),f=n("+cAZ"),h=n("eboN"),d=n("U5xb"),p=n("qtoK");e.FaceDetectionNet=function(t){function e(){return t.call(this,"FaceDetectionNet")||this}return r.__extends(e,t),e.prototype.forwardInput=function(t){var e=this.params;if(!e)throw new Error("FaceDetectionNet - load model before inference");return i.tidy(function(){var n=t.toBatchTensor(512,!1),r=i.sub(i.mul(n,i.scalar(.007843137718737125)),i.scalar(1)),o=f.mobileNetV1(r,e.mobilenetv1),a=p.predictionLayer(o.out,o.conv11,e.prediction_layer);return d.outputLayer(a.boxPredictions,a.classPredictions,e.output_layer)})},e.prototype.forward=function(t){return r.__awaiter(this,void 0,void 0,function(){var e;return r.__generator(this,function(n){switch(n.label){case 0:return e=this.forwardInput,[4,u.toNetInput(t,!0)];case 1:return[2,e.apply(this,[n.sent()])]}})})},e.prototype.locateFaces=function(t,e,n){return void 0===e&&(e=.8),void 0===n&&(n=100),r.__awaiter(this,void 0,void 0,function(){var i,o,l,c,f,d,p,v,g,m,y,b,w,x;return r.__generator(this,function(r){switch(r.label){case 0:return[4,u.toNetInput(t,!0)];case 1:for(i=r.sent(),o=this.forwardInput(i),f=(l=o.boxes)[0],d=(c=o.scores)[0],p=1;p<l.length;p++)l[p].dispose(),c[p].dispose();return m=(g=Array).from,[4,d.data()];case 2:return v=m.apply(g,[r.sent()]),y=h.nonMaxSuppression(f,v,n,.5,e),b=(i.getPaddings(0).y+i.getInputHeight(0))/i.getInputHeight(0),w=(i.getPaddings(0).x+i.getInputWidth(0))/i.getInputWidth(0),x=y.map(function(t){var e=[Math.max(0,f.get(t,0)),Math.min(1,f.get(t,2))].map(function(t){return t*b}),n=e[0],r=e[1],o=[Math.max(0,f.get(t,1)),Math.min(1,f.get(t,3))].map(function(t){return t*w}),u=o[0];return new a.FaceDetection(v[t],new s.Rect(u,n,o[1]-u,r-n),{height:i.getInputHeight(0),width:i.getInputWidth(0)})}),f.dispose(),d.dispose(),[2,x]}})})},e.prototype.loadQuantizedParams=function(t){return c.loadQuantizedParams(t)},e.prototype.extractParams=function(t){return l.extractParams(t)},e}(o.NeuralNetwork)},M96y:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("mrSG"),i=n("lT9W");function o(t,e){var n=e+"-weights_manifest.json";if(!t)return{modelBaseUri:"",manifestUri:n};if("/"===t)return{modelBaseUri:"/",manifestUri:"/"+n};var r=t.split("/").filter(function(t){return t}),i=t.endsWith(".json")?r[r.length-1]:n,o=(t.endsWith(".json")?r.slice(0,r.length-1):r).join("/");return{modelBaseUri:o=t.startsWith("/")?"/"+o:o,manifestUri:"/"===o?"/"+i:o+"/"+i}}e.getModelUris=o,e.loadWeightMap=function(t,e){return r.__awaiter(this,void 0,void 0,function(){var n,a,s;return r.__generator(this,function(r){switch(r.label){case 0:return n=o(t,e),a=n.modelBaseUri,[4,fetch(n.manifestUri)];case 1:return[4,r.sent().json()];case 2:return s=r.sent(),[2,i.io.loadWeights(s,a)]}})})}},MGBS:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("mrSG"),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(n("FFOo").a)},McSo:function(t,e,n){"use strict";function r(t){return null!=t&&"object"==typeof t}n.d(e,"a",function(){return r})},NvgT:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("lT9W"),i=n("lZTZ");e.extractParams=function(t){var e=[],n=i.extractWeightsFactory(t),o=n.extractWeights,a=n.getRemainingWeights,s=function(t,e){function n(n,i,o,a,s){var u=r.tensor4d(t(n*i*o*o),[o,o,n,i]),l=r.tensor1d(t(i));return e.push({paramPath:a+"/filters"},{paramPath:a+"/"+(s?"batch_norm_offset":"bias")}),{filters:u,bias:l}}function i(t,e,r,i){var o=n(t,e,r,i,!0);return{filters:o.filters,batch_norm_offset:o.bias}}function o(n,o,a){return{depthwise_conv:function(n,i){var o=r.tensor4d(t(9*n),[3,3,n,1]),a=r.tensor1d(t(n)),s=r.tensor1d(t(n)),u=r.tensor1d(t(n)),l=r.tensor1d(t(n));return e.push({paramPath:i+"/filters"},{paramPath:i+"/batch_norm_scale"},{paramPath:i+"/batch_norm_offset"},{paramPath:i+"/batch_norm_mean"},{paramPath:i+"/batch_norm_variance"}),{filters:o,batch_norm_scale:a,batch_norm_offset:s,batch_norm_mean:u,batch_norm_variance:l}}(n,a+"/depthwise_conv"),pointwise_conv:i(n,o,1,a+"/pointwise_conv")}}return{extractMobilenetV1Params:function(){return{conv_0:i(3,32,3,"mobilenetv1/conv_0"),conv_1:o(32,64,"mobilenetv1/conv_1"),conv_2:o(64,128,"mobilenetv1/conv_2"),conv_3:o(128,128,"mobilenetv1/conv_3"),conv_4:o(128,256,"mobilenetv1/conv_4"),conv_5:o(256,256,"mobilenetv1/conv_5"),conv_6:o(256,512,"mobilenetv1/conv_6"),conv_7:o(512,512,"mobilenetv1/conv_7"),conv_8:o(512,512,"mobilenetv1/conv_8"),conv_9:o(512,512,"mobilenetv1/conv_9"),conv_10:o(512,512,"mobilenetv1/conv_10"),conv_11:o(512,512,"mobilenetv1/conv_11"),conv_12:o(512,1024,"mobilenetv1/conv_12"),conv_13:o(1024,1024,"mobilenetv1/conv_13")}},extractPredictionLayerParams:function(){return{conv_0:i(1024,256,1,"prediction_layer/conv_0"),conv_1:i(256,512,3,"prediction_layer/conv_1"),conv_2:i(512,128,1,"prediction_layer/conv_2"),conv_3:i(128,256,3,"prediction_layer/conv_3"),conv_4:i(256,128,1,"prediction_layer/conv_4"),conv_5:i(128,256,3,"prediction_layer/conv_5"),conv_6:i(256,64,1,"prediction_layer/conv_6"),conv_7:i(64,128,3,"prediction_layer/conv_7"),box_predictor_0:{box_encoding_predictor:n(512,12,1,"prediction_layer/box_predictor_0/box_encoding_predictor"),class_predictor:n(512,9,1,"prediction_layer/box_predictor_0/class_predictor")},box_predictor_1:{box_encoding_predictor:n(1024,24,1,"prediction_layer/box_predictor_1/box_encoding_predictor"),class_predictor:n(1024,18,1,"prediction_layer/box_predictor_1/class_predictor")},box_predictor_2:{box_encoding_predictor:n(512,24,1,"prediction_layer/box_predictor_2/box_encoding_predictor"),class_predictor:n(512,18,1,"prediction_layer/box_predictor_2/class_predictor")},box_predictor_3:{box_encoding_predictor:n(256,24,1,"prediction_layer/box_predictor_3/box_encoding_predictor"),class_predictor:n(256,18,1,"prediction_layer/box_predictor_3/class_predictor")},box_predictor_4:{box_encoding_predictor:n(256,24,1,"prediction_layer/box_predictor_4/box_encoding_predictor"),class_predictor:n(256,18,1,"prediction_layer/box_predictor_4/class_predictor")},box_predictor_5:{box_encoding_predictor:n(128,24,1,"prediction_layer/box_predictor_5/box_encoding_predictor"),class_predictor:n(128,18,1,"prediction_layer/box_predictor_5/class_predictor")}}}}}(o,e),u=s.extractPredictionLayerParams,l=(0,s.extractMobilenetV1Params)(),c=u(),f={extra_dim:r.tensor3d(o(20472),[1,5118,4])};if(e.push({paramPath:"output_layer/extra_dim"}),0!==a().length)throw new Error("weights remaing after extract: "+a().length);return{params:{mobilenetv1:l,prediction_layer:c,output_layer:f},paramMappings:e}}},P3jN:function(t,e,n){"use strict";var r=n("mrSG").__decorate;Object.defineProperty(e,"__esModule",{value:!0});var i=n("CcnG");e.ObjectUtils=function(){function t(){this.isFunction=function(t){return!!(t&&t.constructor&&t.call&&t.apply)}}return t.prototype.equals=function(t,e,n){return n?this.resolveFieldData(t,n)===this.resolveFieldData(e,n):this.equalsByValue(t,e)},t.prototype.equalsByValue=function(t,e,n){if(null==t&&null==e)return!0;if(null==t||null==e)return!1;if(t==e)return!0;if("object"==typeof t&&"object"==typeof e){if(n){if(-1!==n.indexOf(t))return!1}else n=[];for(var r in n.push(t),t){if(t.hasOwnProperty(r)!==e.hasOwnProperty(r))return!1;switch(typeof t[r]){case"object":if(!this.equalsByValue(t[r],e[r],n))return!1;break;case"function":if(void 0===e[r]||"compare"!=r&&t[r].toString()!=e[r].toString())return!1;break;default:if(t[r]!=e[r])return!1}}for(var r in e)if(void 0===t[r])return!1;return delete t._$visited,!0}return!1},t.prototype.resolveFieldData=function(t,e){if(t&&e){if(this.isFunction(e))return e(t);if(-1==e.indexOf("."))return t[e];for(var n=e.split("."),r=t,i=0,o=n.length;i<o;++i){if(null==r)return null;r=r[n[i]]}return r}return null},t.prototype.filter=function(t,e,n){var r=[];if(t)for(var i=0,o=t;i<o.length;i++)for(var a=o[i],s=0,u=e;s<u.length;s++)if(String(this.resolveFieldData(a,u[s])).toLowerCase().indexOf(n.toLowerCase())>-1){r.push(a);break}return r},t.prototype.reorderArray=function(t,e,n){var r;if(t&&e!==n){if(n>=t.length)for(r=n-t.length;1+r--;)t.push(void 0);t.splice(n,0,t.splice(e,1)[0])}},t.prototype.generateSelectItems=function(t,e){var n;if(t&&t.length){n=[];for(var r=0,i=t;r<i.length;r++){var o=i[r];n.push({label:this.resolveFieldData(o,e),value:o})}}return n},t.prototype.insertIntoOrderedArray=function(t,e,n,r){if(n.length>0){for(var i=!1,o=0;o<n.length;o++)if(this.findIndexInList(n[o],r)>e){n.splice(o,0,t),i=!0;break}i||n.push(t)}else n.push(t)},t.prototype.findIndexInList=function(t,e){var n=-1;if(e)for(var r=0;r<e.length;r++)if(e[r]==t){n=r;break}return n},r([i.Injectable()],t)}()},PKsx:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("mrSG"),i=n("lnjT"),o=n("y1S8"),a=n("M96y");e.loadQuantizedParams=function(t){return r.__awaiter(this,void 0,void 0,function(){var e,n,s,u,l,c;return r.__generator(this,function(r){switch(r.label){case 0:return[4,a.loadWeightMap(t,"face_landmark_68_model")];case 1:return e=r.sent(),s=function(t,e){var n=o.extractWeightEntryFactory(t,e);return{extractConvParams:function(t,e){return{filters:n(t+"/kernel",4,e+"/filters"),bias:n(t+"/bias",1,e+"/bias")}},extractFcParams:function(t,e){return{weights:n(t+"/kernel",2,e+"/weights"),bias:n(t+"/bias",1,e+"/bias")}}}}(e,n=[]),l=s.extractFcParams,c={conv0:(u=s.extractConvParams)("conv2d_0","conv0"),conv1:u("conv2d_1","conv1"),conv2:u("conv2d_2","conv2"),conv3:u("conv2d_3","conv3"),conv4:u("conv2d_4","conv4"),conv5:u("conv2d_5","conv5"),conv6:u("conv2d_6","conv6"),conv7:u("conv2d_7","conv7"),fc0:l("dense","fc0"),fc1:l("logits","fc1")},i.disposeUnusedWeightTensors(e,n),[2,{params:c,paramMappings:n}]}})})}},Qfhz:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("mrSG"),i=n("lT9W"),o=n("1Cpu"),a=n("c7zm"),s=n("W4dv"),u=n("/GL2");e.stage2=function(t,e,n,l,c){return r.__awaiter(this,void 0,void 0,function(){var f,h,d,p,v,g,m,y,b,w,x,_,C,S;return r.__generator(this,function(r){switch(r.label){case 0:return f=Date.now(),[4,a.extractImagePatches(t,e,{width:24,height:24})];case 1:return h=r.sent(),c.stage2_extractImagePatches=Date.now()-f,f=Date.now(),d=h.map(function(t){var e=u.RNet(t,l);return t.dispose(),e}),c.stage2_rnet=Date.now()-f,p=d.length>1?i.concat(d.map(function(t){return t.scores})):d[0].scores,m=(g=Array).from,[4,p.data()];case 2:return v=m.apply(g,[r.sent()]),p.dispose(),y=v.map(function(t,e){return{score:t,idx:e}}).filter(function(t){return t.score>n}).map(function(t){return t.idx}),b=y.map(function(t){return e[t]}),w=y.map(function(t){return v[t]}),x=[],_=[],b.length>0&&(f=Date.now(),C=s.nms(b,w,.7),c.stage2_nms=Date.now()-f,S=C.map(function(t){return new o.BoundingBox(d[y[t]].regions.get(0,0),d[y[t]].regions.get(0,1),d[y[t]].regions.get(0,2),d[y[t]].regions.get(0,3))}),_=C.map(function(t){return w[t]}),x=C.map(function(t,e){return b[t].calibrate(S[e])})),d.forEach(function(t){t.regions.dispose(),t.scores.dispose()}),[2,{boxes:x,scores:_}]}})})}},S5XQ:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("DKTb"),i=function(t){return function(e){return t.then(function(t){e.closed||(e.next(t),e.complete())},function(t){return e.error(t)}).then(null,r.a),e}}},SDZX:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("mrSG"),i=n("ppHe"),o=n("WLMy");e.FaceLandmarks68=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.getJawOutline=function(){return this._faceLandmarks.slice(0,17)},e.prototype.getLeftEyeBrow=function(){return this._faceLandmarks.slice(17,22)},e.prototype.getRightEyeBrow=function(){return this._faceLandmarks.slice(22,27)},e.prototype.getNose=function(){return this._faceLandmarks.slice(27,36)},e.prototype.getLeftEye=function(){return this._faceLandmarks.slice(36,42)},e.prototype.getRightEye=function(){return this._faceLandmarks.slice(42,48)},e.prototype.getMouth=function(){return this._faceLandmarks.slice(48,68)},e.prototype.getRefPointsForAlignment=function(){return[this.getLeftEye(),this.getRightEye(),this.getMouth()].map(i.getCenterPoint)},e}(o.FaceLandmarks)},SLrj:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getDefaultMtcnnForwardParams=function(){return{minFaceSize:20,scaleFactor:.709,maxNumScales:10,scoreThresholds:[.6,.7,.7]}}},TrWs:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("luzI"),i=n("LrrT"),o=n("U4QO"),a=n("oZLJ"),s=n("C69x");function u(t){return e.nets.ssdMobilenet.load(t)}function l(t){return e.nets.faceLandmark68Net.load(t)}function c(t){return e.nets.faceRecognitionNet.load(t)}function f(t){return e.nets.mtcnn.load(t)}e.detectionNet=new i.FaceDetectionNet,e.landmarkNet=new o.FaceLandmarkNet,e.recognitionNet=new a.FaceRecognitionNet,e.nets={ssdMobilenet:e.detectionNet,faceLandmark68Net:e.landmarkNet,faceRecognitionNet:e.recognitionNet,mtcnn:new s.Mtcnn},e.loadFaceDetectionModel=u,e.loadFaceLandmarkModel=l,e.loadFaceRecognitionModel=c,e.loadMtcnnModel=f,e.loadModels=function(t){return Promise.all([u(t),l(t),c(t),f(t)])},e.locateFaces=function(t,n,r){return e.nets.ssdMobilenet.locateFaces(t,n,r)},e.detectLandmarks=function(t){return e.nets.faceLandmark68Net.detectLandmarks(t)},e.computeFaceDescriptor=function(t){return e.nets.faceRecognitionNet.computeFaceDescriptor(t)},e.mtcnn=function(t,n){return e.nets.mtcnn.forward(t,n)},e.allFaces=r.allFacesFactory(e.nets.ssdMobilenet,e.nets.faceLandmark68Net,e.nets.faceRecognitionNet),e.allFacesMtcnn=r.allFacesMtcnnFactory(e.nets.mtcnn,e.nets.faceRecognitionNet)},U4QO:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("mrSG"),i=n("lT9W"),o=n("iDJ0"),a=n("38xv"),s=n("zGsf"),u=n("maNC"),l=n("kiUJ"),c=n("IEM/"),f=n("SDZX"),h=n("eihW"),d=n("PKsx");function p(t,e){return o.convLayer(t,e,"valid",!0)}function v(t,e){return void 0===e&&(e=[2,2]),i.maxPool(t,[2,2],e,"valid")}e.FaceLandmarkNet=function(t){function e(){return t.call(this,"FaceLandmarkNet")||this}return r.__extends(e,t),e.prototype.forwardInput=function(t){var e=this.params;if(!e)throw new Error("FaceLandmarkNet - load model before inference");return i.tidy(function(){var n=p(t.toBatchTensor(128,!0),e.conv0);n=p(n=v(n=p(n=p(n=v(n=p(n=p(n=v(n=p(n=p(n=v(n),e.conv1),e.conv2)),e.conv3),e.conv4)),e.conv5),e.conv6),[1,1]),e.conv7);var r=i.relu(h.fullyConnectedLayer(n.as2D(n.shape[0],-1),e.fc0)),o=function(t,e){return i.stack([i.fill([68],t),i.fill([68],e)],1).as2D(1,136).as1D()};return h.fullyConnectedLayer(r,e.fc1).mul(i.stack(Array.from(Array(t.batchSize),function(e,n){return o(t.getPaddings(n).x+t.getInputWidth(n),t.getPaddings(n).y+t.getInputHeight(n))}))).sub(i.stack(Array.from(Array(t.batchSize),function(e,n){return o(Math.floor(t.getPaddings(n).x/2),Math.floor(t.getPaddings(n).y/2))}))).div(i.stack(Array.from(Array(t.batchSize),function(e,n){return o(t.getInputWidth(n),t.getInputHeight(n))})))})},e.prototype.forward=function(t){return r.__awaiter(this,void 0,void 0,function(){var e;return r.__generator(this,function(n){switch(n.label){case 0:return e=this.forwardInput,[4,u.toNetInput(t,!0)];case 1:return[2,e.apply(this,[n.sent()])]}})})},e.prototype.detectLandmarks=function(t){return r.__awaiter(this,void 0,void 0,function(){var e,n,o,a=this;return r.__generator(this,function(c){switch(c.label){case 0:return[4,u.toNetInput(t,!0)];case 1:return e=c.sent(),n=i.tidy(function(){return i.unstack(a.forwardInput(e))}),[4,Promise.all(n.map(function(t,n){return r.__awaiter(a,void 0,void 0,function(){var i,o,a,u,c;return r.__generator(this,function(r){switch(r.label){case 0:return a=(o=Array).from,[4,t.data()];case 1:return i=a.apply(o,[r.sent()]),u=i.filter(function(t,e){return l.isEven(e)}),c=i.filter(function(t,e){return!l.isEven(e)}),[2,new f.FaceLandmarks68(Array(68).fill(0).map(function(t,e){return new s.Point(u[e],c[e])}),{height:e.getInputHeight(n),width:e.getInputWidth(n)})]}})})}))];case 2:return o=c.sent(),n.forEach(function(t){return t.dispose()}),[2,e.isBatchInput?o:o[0]]}})})},e.prototype.loadQuantizedParams=function(t){return d.loadQuantizedParams(t)},e.prototype.extractParams=function(t){return c.extractParams(t)},e}(a.NeuralNetwork)},U5xb:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("lT9W");e.outputLayer=function(t,e,n){return r.tidy(function(){var i,o,a,s,u,l,c,f,h,d,p=t.shape[0],v=(i=r.reshape(r.tile(n.extra_dim,[p,1,1]),[-1,4]),o=r.reshape(t,[-1,4]),s=(a=function(t){var e=r.unstack(r.transpose(i,[1,0])),n=[r.sub(e[2],e[0]),r.sub(e[3],e[1])];return{sizes:n,centers:[r.add(e[0],r.div(n[0],r.scalar(2))),r.add(e[1],r.div(n[1],r.scalar(2)))]}}()).sizes,u=a.centers,l=r.unstack(r.transpose(o,[1,0])),c=r.div(r.mul(r.exp(r.div(l[2],r.scalar(5))),s[0]),r.scalar(2)),f=r.add(r.mul(r.div(l[0],r.scalar(10)),s[0]),u[0]),h=r.div(r.mul(r.exp(r.div(l[3],r.scalar(5))),s[1]),r.scalar(2)),d=r.add(r.mul(r.div(l[1],r.scalar(10)),s[1]),u[1]),r.transpose(r.stack([r.sub(f,c),r.sub(d,h),r.add(f,c),r.add(d,h)]),[1,0]));v=r.reshape(v,[p,v.shape[0]/p,4]);var g=r.sigmoid(r.slice(e,[0,0,1],[-1,-1,-1])),m=r.slice(g,[0,0,0],[-1,-1,1]);return m=r.reshape(m,[p,m.shape[1]]),{boxes:r.unstack(v),scores:r.unstack(m)}})}},"V/0k":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.euclideanDistance=function(t,e){if(t.length!==e.length)throw new Error("euclideanDistance: arr1.length !== arr2.length");var n=Array.from(t),r=Array.from(e);return Math.sqrt(n.map(function(t,e){return t-r[e]}).reduce(function(t,e){return t+Math.pow(e,2)},0))}},VSng:function(t,e,n){"use strict";var r=n("mrSG").__decorate,i=n("mrSG").__metadata;Object.defineProperty(e,"__esModule",{value:!0});var o=n("CcnG"),a=n("sdDj"),s=n("Ip0R"),u=function(){function t(t,e){this.el=t,this.domHandler=e,this.iconPos="left",this.cornerStyleClass="ui-corner-all"}return t.prototype.ngAfterViewInit=function(){if(this.domHandler.addMultipleClasses(this.el.nativeElement,this.getStyleClass()),this.icon){var t=document.createElement("span");t.setAttribute("aria-hidden","true"),t.className=("right"==this.iconPos?"ui-button-icon-right":"ui-button-icon-left")+" ui-clickable "+this.icon,this.el.nativeElement.appendChild(t)}var e=document.createElement("span");e.className="ui-button-text ui-clickable",e.appendChild(document.createTextNode(this.label||"ui-btn")),this.el.nativeElement.appendChild(e),this.initialized=!0},t.prototype.getStyleClass=function(){return"ui-button ui-widget ui-state-default "+this.cornerStyleClass+(this.icon?null!=this.label&&void 0!=this.label?"left"==this.iconPos?" ui-button-text-icon-left":" ui-button-text-icon-right":" ui-button-icon-only":this.label?" ui-button-text-only":" ui-button-text-empty")},Object.defineProperty(t.prototype,"label",{get:function(){return this._label},set:function(t){this._label=t,this.initialized&&(this.domHandler.findSingle(this.el.nativeElement,".ui-button-text").textContent=this._label,this.icon||(this._label?(this.domHandler.removeClass(this.el.nativeElement,"ui-button-text-empty"),this.domHandler.addClass(this.el.nativeElement,"ui-button-text-only")):(this.domHandler.addClass(this.el.nativeElement,"ui-button-text-empty"),this.domHandler.removeClass(this.el.nativeElement,"ui-button-text-only"))))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"icon",{get:function(){return this._icon},set:function(t){if(this._icon=t,this.initialized){var e="right"==this.iconPos?"ui-button-icon-right":"ui-button-icon-left";this.domHandler.findSingle(this.el.nativeElement,".ui-clickable").className=e+" ui-clickable "+this.icon}},enumerable:!0,configurable:!0}),t.prototype.ngOnDestroy=function(){for(;this.el.nativeElement.hasChildNodes();)this.el.nativeElement.removeChild(this.el.nativeElement.lastChild);this.initialized=!1},r([o.Input(),i("design:type",String)],t.prototype,"iconPos",void 0),r([o.Input(),i("design:type",String)],t.prototype,"cornerStyleClass",void 0),r([o.Input(),i("design:type",String),i("design:paramtypes",[String])],t.prototype,"label",null),r([o.Input(),i("design:type",String),i("design:paramtypes",[String])],t.prototype,"icon",null),r([o.Directive({selector:"[pButton]",providers:[a.DomHandler]})],t)}();e.ButtonDirective=u;var l=function(){function t(){this.type="button",this.iconPos="left",this.onClick=new o.EventEmitter,this.onFocus=new o.EventEmitter,this.onBlur=new o.EventEmitter}return r([o.Input(),i("design:type",String)],t.prototype,"type",void 0),r([o.Input(),i("design:type",String)],t.prototype,"iconPos",void 0),r([o.Input(),i("design:type",String)],t.prototype,"icon",void 0),r([o.Input(),i("design:type",String)],t.prototype,"label",void 0),r([o.Input(),i("design:type",Boolean)],t.prototype,"disabled",void 0),r([o.Input(),i("design:type",Object)],t.prototype,"style",void 0),r([o.Input(),i("design:type",String)],t.prototype,"styleClass",void 0),r([o.Output(),i("design:type",o.EventEmitter)],t.prototype,"onClick",void 0),r([o.Output(),i("design:type",o.EventEmitter)],t.prototype,"onFocus",void 0),r([o.Output(),i("design:type",o.EventEmitter)],t.prototype,"onBlur",void 0),r([o.Component({selector:"p-button",template:"\n        <button [attr.type]=\"type\" [class]=\"styleClass\" [style]=\"style\" [disabled]=\"disabled\"\n            [ngClass]=\"{'ui-button ui-widget ui-state-default ui-corner-all':true,\n                        'ui-button-icon-only': (icon && !label),\n                        'ui-button-text-icon-left': (icon && label && iconPos === 'left'),\n                        'ui-button-text-icon-right': (icon && label && iconPos === 'right'),\n                        'ui-button-text-only': (!icon && label),\n                        'ui-button-text-empty': (!icon && !label),\n                        'ui-state-disabled': disabled}\"\n                        (click)=\"onClick.emit($event)\" (focus)=\"onFocus.emit($event)\" (blur)=\"onBlur.emit($event)\">\n            <ng-content></ng-content>\n            <span [ngClass]=\"{'ui-clickable': true,\n                        'ui-button-icon-left': (iconPos === 'left'), \n                        'ui-button-icon-right': (iconPos === 'right')}\"\n                        [class]=\"icon\" *ngIf=\"icon\"></span>\n            <span class=\"ui-button-text ui-clickable\">{{label||'ui-btn'}}</span>\n        </button>\n    "})],t)}();e.Button=l,e.ButtonModule=function(){return r([o.NgModule({imports:[s.CommonModule],exports:[u,l],declarations:[u,l]})],function(){})}()},VVl2:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("lT9W");e.extractConvParamsFactory=function(t,e){return function(n,i,o,a){var s=r.tensor4d(t(n*i*o*o),[o,o,n,i]),u=r.tensor1d(t(i));return e.push({paramPath:a+"/filters"},{paramPath:a+"/bias"}),{filters:s,bias:u}}}},VXzU:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error('Cannot find module "'+t+'".');throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="VXzU"},W4dv:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.nms=function(t,e,n,r){void 0===r&&(r=!0);for(var i=t.map(function(t){return(t.width+1)*(t.height+1)}),o=e.map(function(t,e){return{score:t,boxIndex:e}}).sort(function(t,e){return t.score-e.score}).map(function(t){return t.boxIndex}),a=[],s=function(){var e=o.pop();a.push(e);for(var s=o,u=[],l=0;l<s.length;l++){var c=s[l],f=t[e],h=t[c],d=Math.max(0,Math.min(f.right,h.right)-Math.max(f.left,h.left)+1)*Math.max(0,Math.min(f.bottom,h.bottom)-Math.max(f.top,h.top)+1),p=r?d/(i[e]+i[c]-d):d/Math.min(i[e],i[c]);u.push(p)}o=o.filter(function(t,e){return u[e]<=n})};o.length>0;)s();return a}},WLMy:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("ppHe"),i=n("q/np"),o=n("zGsf"),a=n("DmoT");e.FaceLandmarks=function(){function t(t,e,n){void 0===n&&(n=new o.Point(0,0));var r=e.width,i=e.height;this._imageWidth=r,this._imageHeight=i,this._shift=n,this._faceLandmarks=t.map(function(t){return t.mul(new o.Point(r,i)).add(n)})}return t.prototype.getShift=function(){return new o.Point(this._shift.x,this._shift.y)},t.prototype.getImageWidth=function(){return this._imageWidth},t.prototype.getImageHeight=function(){return this._imageHeight},t.prototype.getPositions=function(){return this._faceLandmarks},t.prototype.getRelativePositions=function(){var t=this;return this._faceLandmarks.map(function(e){return e.sub(t._shift).div(new o.Point(t._imageWidth,t._imageHeight))})},t.prototype.forSize=function(t,e){return new this.constructor(this.getRelativePositions(),{width:t,height:e})},t.prototype.shift=function(t,e){return new this.constructor(this.getRelativePositions(),{width:this._imageWidth,height:this._imageHeight},new o.Point(t,e))},t.prototype.shiftByPoint=function(t){return this.shift(t.x,t.y)},t.prototype.align=function(t){if(t){var e=t instanceof i.FaceDetection?t.getBox().floor():t;return this.shift(e.x,e.y).align()}var n=this.getRefPointsForAlignment(),o=n[1],s=n[2],u=function(t){return s.sub(t).magnitude()},l=(u(n[0])+u(o))/2,c=Math.floor(l/.45),f=r.getCenterPoint(n),h=Math.floor(Math.max(0,f.x-.5*c)),d=Math.floor(Math.max(0,f.y-.43*c));return new a.Rect(h,d,Math.min(c,this._imageWidth+h),Math.min(c,this._imageHeight+d))},t.prototype.getRefPointsForAlignment=function(){throw new Error("getRefPointsForAlignment not implemented by base class")},t}()},Xlw2:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("lT9W"),i=n("iDJ0"),o=n("0/8I");e.PNet=function(t,e){return r.tidy(function(){var n=o.sharedLayer(t,e,!0),a=i.convLayer(n,e.conv4_1,"valid"),s=r.expandDims(r.max(a,3),3);return{prob:r.softmax(r.sub(a,s),3),regions:i.convLayer(n,e.conv4_2,"valid")}})}},Y9TT:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("lT9W");e.pointwiseConvLayer=function(t,e,n){return r.tidy(function(){var i=r.conv2d(t,e.filters,n,"same");return i=r.add(i,e.batch_norm_offset),r.clipByValue(i,0,6)})}},"Z+e8":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("lT9W"),i=n("zGsf"),o=n("1Cpu"),a=n("4fS+"),s=n("W4dv"),u=n("hjTF"),l=n("Xlw2"),c=n("xJL4");e.stage1=function(t,e,n,f,h){h.stage1=[];var d=e.map(function(e){return r.tidy(function(){var n={scale:e},i=function(t,e){return r.tidy(function(){var n=c.getSizesForScale(e,t.shape.slice(1)),i=r.image.resizeBilinear(t,[n.height,n.width]),o=u.normalize(i);return r.transpose(o,[0,2,1,3])})}(t,e),o=Date.now(),a=l.PNet(i,f),s=a.prob,h=a.regions;return n.pnet=Date.now()-o,{scoresTensor:r.unstack(r.unstack(s,3)[1])[0],regionsTensor:r.unstack(h)[0],scale:e,statsForScale:n}})}).map(function(t){var e=t.scoresTensor,r=t.regionsTensor,u=t.statsForScale,l=function(t,e,n,r){for(var s=[],u=0;u<t.shape[0];u++)for(var l=0;l<t.shape[1];l++)t.get(u,l)>=r&&s.push(new i.Point(l,u));return s.map(function(r){return{cell:new o.BoundingBox(Math.round((r.y*a.CELL_STRIDE+1)/n),Math.round((r.x*a.CELL_STRIDE+1)/n),Math.round((r.y*a.CELL_STRIDE+a.CELL_SIZE)/n),Math.round((r.x*a.CELL_STRIDE+a.CELL_SIZE)/n)),score:t.get(r.y,r.x),region:new o.BoundingBox(e.get(r.y,r.x,0),e.get(r.y,r.x,1),e.get(r.y,r.x,2),e.get(r.y,r.x,3))}})}(e,r,t.scale,n);if(e.dispose(),r.dispose(),!l.length)return h.stage1.push(u),[];var c=Date.now(),f=s.nms(l.map(function(t){return t.cell}),l.map(function(t){return t.score}),.5);return u.nms=Date.now()-c,u.numBoxes=f.length,h.stage1.push(u),f.map(function(t){return l[t]})}).reduce(function(t,e){return t.concat(e)},[]),p=[],v=[];if(d.length>0){var g=Date.now(),m=s.nms(d.map(function(t){return t.cell}),d.map(function(t){return t.score}),.7);h.stage1_nms=Date.now()-g,v=m.map(function(t){return d[t].score}),p=m.map(function(t){return d[t]}).map(function(t){var e=t.cell,n=t.region;return new o.BoundingBox(e.left+n.left*e.width,e.top+n.top*e.height,e.right+n.right*e.width,e.bottom+n.bottom*e.height).toSquare().round()})}return{boxes:p,scores:v}}},ZYjt:function(t,e,n){"use strict";n.d(e,"p",function(){return yt}),n.d(e,"r",function(){return T}),n.d(e,"q",function(){return lt}),n.d(e,"a",function(){return bt}),n.d(e,"i",function(){return mt}),n.d(e,"g",function(){return y}),n.d(e,"h",function(){return _}),n.d(e,"c",function(){return E}),n.d(e,"d",function(){return O}),n.d(e,"e",function(){return nt}),n.d(e,"f",function(){return rt}),n.d(e,"b",function(){return ut}),n.d(e,"s",function(){return s}),n.d(e,"k",function(){return z}),n.d(e,"j",function(){return tt}),n.d(e,"m",function(){return it}),n.d(e,"n",function(){return st}),n.d(e,"l",function(){return I}),n.d(e,"o",function(){return R});var r=n("mrSG"),i=n("Ip0R"),o=n("CcnG"),a=null;function s(){return a}var u,l={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},c={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},f={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"};o["\u0275global"].Node&&(u=o["\u0275global"].Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))});var h,d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.__extends)(e,t),e.prototype.parse=function(t){throw new Error("parse not implemented")},e.makeCurrent=function(){var t;t=new e,a||(a=t)},e.prototype.hasProperty=function(t,e){return e in t},e.prototype.setProperty=function(t,e,n){t[e]=n},e.prototype.getProperty=function(t,e){return t[e]},e.prototype.invoke=function(t,e,n){var i;(i=t)[e].apply(i,Object(r.__spread)(n))},e.prototype.logError=function(t){window.console&&(console.error?console.error(t):console.log(t))},e.prototype.log=function(t){window.console&&window.console.log&&window.console.log(t)},e.prototype.logGroup=function(t){window.console&&window.console.group&&window.console.group(t)},e.prototype.logGroupEnd=function(){window.console&&window.console.groupEnd&&window.console.groupEnd()},Object.defineProperty(e.prototype,"attrToPropMap",{get:function(){return l},enumerable:!0,configurable:!0}),e.prototype.contains=function(t,e){return u.call(t,e)},e.prototype.querySelector=function(t,e){return t.querySelector(e)},e.prototype.querySelectorAll=function(t,e){return t.querySelectorAll(e)},e.prototype.on=function(t,e,n){t.addEventListener(e,n,!1)},e.prototype.onAndCancel=function(t,e,n){return t.addEventListener(e,n,!1),function(){t.removeEventListener(e,n,!1)}},e.prototype.dispatchEvent=function(t,e){t.dispatchEvent(e)},e.prototype.createMouseEvent=function(t){var e=this.getDefaultDocument().createEvent("MouseEvent");return e.initEvent(t,!0,!0),e},e.prototype.createEvent=function(t){var e=this.getDefaultDocument().createEvent("Event");return e.initEvent(t,!0,!0),e},e.prototype.preventDefault=function(t){t.preventDefault(),t.returnValue=!1},e.prototype.isPrevented=function(t){return t.defaultPrevented||null!=t.returnValue&&!t.returnValue},e.prototype.getInnerHTML=function(t){return t.innerHTML},e.prototype.getTemplateContent=function(t){return"content"in t&&this.isTemplateElement(t)?t.content:null},e.prototype.getOuterHTML=function(t){return t.outerHTML},e.prototype.nodeName=function(t){return t.nodeName},e.prototype.nodeValue=function(t){return t.nodeValue},e.prototype.type=function(t){return t.type},e.prototype.content=function(t){return this.hasProperty(t,"content")?t.content:t},e.prototype.firstChild=function(t){return t.firstChild},e.prototype.nextSibling=function(t){return t.nextSibling},e.prototype.parentElement=function(t){return t.parentNode},e.prototype.childNodes=function(t){return t.childNodes},e.prototype.childNodesAsList=function(t){for(var e=t.childNodes,n=new Array(e.length),r=0;r<e.length;r++)n[r]=e[r];return n},e.prototype.clearNodes=function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},e.prototype.appendChild=function(t,e){t.appendChild(e)},e.prototype.removeChild=function(t,e){t.removeChild(e)},e.prototype.replaceChild=function(t,e,n){t.replaceChild(e,n)},e.prototype.remove=function(t){return t.parentNode&&t.parentNode.removeChild(t),t},e.prototype.insertBefore=function(t,e,n){t.insertBefore(n,e)},e.prototype.insertAllBefore=function(t,e,n){n.forEach(function(n){return t.insertBefore(n,e)})},e.prototype.insertAfter=function(t,e,n){t.insertBefore(n,e.nextSibling)},e.prototype.setInnerHTML=function(t,e){t.innerHTML=e},e.prototype.getText=function(t){return t.textContent},e.prototype.setText=function(t,e){t.textContent=e},e.prototype.getValue=function(t){return t.value},e.prototype.setValue=function(t,e){t.value=e},e.prototype.getChecked=function(t){return t.checked},e.prototype.setChecked=function(t,e){t.checked=e},e.prototype.createComment=function(t){return this.getDefaultDocument().createComment(t)},e.prototype.createTemplate=function(t){var e=this.getDefaultDocument().createElement("template");return e.innerHTML=t,e},e.prototype.createElement=function(t,e){return(e=e||this.getDefaultDocument()).createElement(t)},e.prototype.createElementNS=function(t,e,n){return(n=n||this.getDefaultDocument()).createElementNS(t,e)},e.prototype.createTextNode=function(t,e){return(e=e||this.getDefaultDocument()).createTextNode(t)},e.prototype.createScriptTag=function(t,e,n){var r=(n=n||this.getDefaultDocument()).createElement("SCRIPT");return r.setAttribute(t,e),r},e.prototype.createStyleElement=function(t,e){var n=(e=e||this.getDefaultDocument()).createElement("style");return this.appendChild(n,this.createTextNode(t,e)),n},e.prototype.createShadowRoot=function(t){return t.createShadowRoot()},e.prototype.getShadowRoot=function(t){return t.shadowRoot},e.prototype.getHost=function(t){return t.host},e.prototype.clone=function(t){return t.cloneNode(!0)},e.prototype.getElementsByClassName=function(t,e){return t.getElementsByClassName(e)},e.prototype.getElementsByTagName=function(t,e){return t.getElementsByTagName(e)},e.prototype.classList=function(t){return Array.prototype.slice.call(t.classList,0)},e.prototype.addClass=function(t,e){t.classList.add(e)},e.prototype.removeClass=function(t,e){t.classList.remove(e)},e.prototype.hasClass=function(t,e){return t.classList.contains(e)},e.prototype.setStyle=function(t,e,n){t.style[e]=n},e.prototype.removeStyle=function(t,e){t.style[e]=""},e.prototype.getStyle=function(t,e){return t.style[e]},e.prototype.hasStyle=function(t,e,n){var r=this.getStyle(t,e)||"";return n?r==n:r.length>0},e.prototype.tagName=function(t){return t.tagName},e.prototype.attributeMap=function(t){for(var e=new Map,n=t.attributes,r=0;r<n.length;r++){var i=n.item(r);e.set(i.name,i.value)}return e},e.prototype.hasAttribute=function(t,e){return t.hasAttribute(e)},e.prototype.hasAttributeNS=function(t,e,n){return t.hasAttributeNS(e,n)},e.prototype.getAttribute=function(t,e){return t.getAttribute(e)},e.prototype.getAttributeNS=function(t,e,n){return t.getAttributeNS(e,n)},e.prototype.setAttribute=function(t,e,n){t.setAttribute(e,n)},e.prototype.setAttributeNS=function(t,e,n,r){t.setAttributeNS(e,n,r)},e.prototype.removeAttribute=function(t,e){t.removeAttribute(e)},e.prototype.removeAttributeNS=function(t,e,n){t.removeAttributeNS(e,n)},e.prototype.templateAwareRoot=function(t){return this.isTemplateElement(t)?this.content(t):t},e.prototype.createHtmlDocument=function(){return document.implementation.createHTMLDocument("fakeTitle")},e.prototype.getDefaultDocument=function(){return document},e.prototype.getBoundingClientRect=function(t){try{return t.getBoundingClientRect()}catch(t){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}},e.prototype.getTitle=function(t){return t.title},e.prototype.setTitle=function(t,e){t.title=e||""},e.prototype.elementMatches=function(t,e){return!!this.isElementNode(t)&&(t.matches&&t.matches(e)||t.msMatchesSelector&&t.msMatchesSelector(e)||t.webkitMatchesSelector&&t.webkitMatchesSelector(e))},e.prototype.isTemplateElement=function(t){return this.isElementNode(t)&&"TEMPLATE"===t.nodeName},e.prototype.isTextNode=function(t){return t.nodeType===Node.TEXT_NODE},e.prototype.isCommentNode=function(t){return t.nodeType===Node.COMMENT_NODE},e.prototype.isElementNode=function(t){return t.nodeType===Node.ELEMENT_NODE},e.prototype.hasShadowRoot=function(t){return null!=t.shadowRoot&&t instanceof HTMLElement},e.prototype.isShadowRoot=function(t){return t instanceof DocumentFragment},e.prototype.importIntoDoc=function(t){return document.importNode(this.templateAwareRoot(t),!0)},e.prototype.adoptNode=function(t){return document.adoptNode(t)},e.prototype.getHref=function(t){return t.getAttribute("href")},e.prototype.getEventKey=function(t){var e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&f.hasOwnProperty(e)&&(e=f[e]))}return c[e]||e},e.prototype.getGlobalEventTarget=function(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null},e.prototype.getHistory=function(){return window.history},e.prototype.getLocation=function(){return window.location},e.prototype.getBaseHref=function(t){var e,n=p||(p=document.querySelector("base"))?p.getAttribute("href"):null;return null==n?null:(e=n,h||(h=document.createElement("a")),h.setAttribute("href",e),"/"===h.pathname.charAt(0)?h.pathname:"/"+h.pathname)},e.prototype.resetBaseElement=function(){p=null},e.prototype.getUserAgent=function(){return window.navigator.userAgent},e.prototype.setData=function(t,e,n){this.setAttribute(t,"data-"+e,n)},e.prototype.getData=function(t,e){return this.getAttribute(t,"data-"+e)},e.prototype.getComputedStyle=function(t){return getComputedStyle(t)},e.prototype.supportsWebAnimation=function(){return"function"==typeof Element.prototype.animate},e.prototype.performanceNow=function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()},e.prototype.supportsCookies=function(){return!0},e.prototype.getCookie=function(t){return Object(i["\u0275parseCookieValue"])(document.cookie,t)},e.prototype.setCookie=function(t,e){document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)},e}(function(t){function e(){var e=t.call(this)||this;e._animationPrefix=null,e._transitionEnd=null;try{var n=e.createElement("div",document);if(null!=e.getStyle(n,"animationName"))e._animationPrefix="";else for(var r=["Webkit","Moz","O","ms"],i=0;i<r.length;i++)if(null!=e.getStyle(n,r[i]+"AnimationName")){e._animationPrefix="-"+r[i].toLowerCase()+"-";break}var o={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(o).forEach(function(t){null!=e.getStyle(n,t)&&(e._transitionEnd=o[t])})}catch(t){e._animationPrefix=null,e._transitionEnd=null}return e}return Object(r.__extends)(e,t),e.prototype.getDistributedNodes=function(t){return t.getDistributedNodes()},e.prototype.resolveAndSetHref=function(t,e,n){t.href=null==n?e:e+"/../"+n},e.prototype.supportsDOMEvents=function(){return!0},e.prototype.supportsNativeShadowDOM=function(){return"function"==typeof document.body.createShadowRoot},e.prototype.getAnimationPrefix=function(){return this._animationPrefix?this._animationPrefix:""},e.prototype.getTransitionEnd=function(){return this._transitionEnd?this._transitionEnd:""},e.prototype.supportsAnimation=function(){return null!=this._animationPrefix&&null!=this._transitionEnd},e}(function(){function t(){this.resourceLoaderType=null}return Object.defineProperty(t.prototype,"attrToPropMap",{get:function(){return this._attrToPropMap},set:function(t){this._attrToPropMap=t},enumerable:!0,configurable:!0}),t}())),p=null,v=i.DOCUMENT;function g(){return!!window.history.pushState}var m=function(t){function e(e){var n=t.call(this)||this;return n._doc=e,n._init(),n}return Object(r.__extends)(e,t),e.prototype._init=function(){this.location=s().getLocation(),this._history=s().getHistory()},e.prototype.getBaseHrefFromDOM=function(){return s().getBaseHref(this._doc)},e.prototype.onPopState=function(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)},e.prototype.onHashChange=function(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)},Object.defineProperty(e.prototype,"pathname",{get:function(){return this.location.pathname},set:function(t){this.location.pathname=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"search",{get:function(){return this.location.search},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hash",{get:function(){return this.location.hash},enumerable:!0,configurable:!0}),e.prototype.pushState=function(t,e,n){g()?this._history.pushState(t,e,n):this.location.hash=n},e.prototype.replaceState=function(t,e,n){g()?this._history.replaceState(t,e,n):this.location.hash=n},e.prototype.forward=function(){this._history.forward()},e.prototype.back=function(){this._history.back()},e.ctorParameters=function(){return[{type:void 0,decorators:[{type:o.Inject,args:[v]}]}]},e}(i.PlatformLocation),y=function(){function t(t){this._doc=t,this._dom=s()}return t.prototype.addTag=function(t,e){return void 0===e&&(e=!1),t?this._getOrCreateElement(t,e):null},t.prototype.addTags=function(t,e){var n=this;return void 0===e&&(e=!1),t?t.reduce(function(t,r){return r&&t.push(n._getOrCreateElement(r,e)),t},[]):[]},t.prototype.getTag=function(t){return t&&this._dom.querySelector(this._doc,"meta["+t+"]")||null},t.prototype.getTags=function(t){if(!t)return[];var e=this._dom.querySelectorAll(this._doc,"meta["+t+"]");return e?[].slice.call(e):[]},t.prototype.updateTag=function(t,e){if(!t)return null;e=e||this._parseSelector(t);var n=this.getTag(e);return n?this._setMetaElementAttributes(t,n):this._getOrCreateElement(t,!0)},t.prototype.removeTag=function(t){this.removeTagElement(this.getTag(t))},t.prototype.removeTagElement=function(t){t&&this._dom.remove(t)},t.prototype._getOrCreateElement=function(t,e){if(void 0===e&&(e=!1),!e){var n=this._parseSelector(t),r=this.getTag(n);if(r&&this._containsAttributes(t,r))return r}var i=this._dom.createElement("meta");this._setMetaElementAttributes(t,i);var o=this._dom.getElementsByTagName(this._doc,"head")[0];return this._dom.appendChild(o,i),i},t.prototype._setMetaElementAttributes=function(t,e){var n=this;return Object.keys(t).forEach(function(r){return n._dom.setAttribute(e,r,t[r])}),e},t.prototype._parseSelector=function(t){var e=t.name?"name":"property";return e+'="'+t[e]+'"'},t.prototype._containsAttributes=function(t,e){var n=this;return Object.keys(t).every(function(r){return n._dom.getAttribute(e,r)===t[r]})},t}(),b=new o.InjectionToken("TRANSITION_ID"),w=[{provide:o.APP_INITIALIZER,useFactory:function(t,e,n){return function(){n.get(o.ApplicationInitStatus).donePromise.then(function(){var n=s();Array.prototype.slice.apply(n.querySelectorAll(e,"style[ng-transition]")).filter(function(e){return n.getAttribute(e,"ng-transition")===t}).forEach(function(t){return n.remove(t)})})}},deps:[b,v,o.Injector],multi:!0}],x=function(){function t(){}return t.init=function(){Object(o.setTestabilityGetter)(new t)},t.prototype.addToWindow=function(t){o["\u0275global"].getAngularTestability=function(e,n){void 0===n&&(n=!0);var r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},o["\u0275global"].getAllAngularTestabilities=function(){return t.getAllTestabilities()},o["\u0275global"].getAllAngularRootElements=function(){return t.getAllRootElements()},o["\u0275global"].frameworkStabilizers||(o["\u0275global"].frameworkStabilizers=[]),o["\u0275global"].frameworkStabilizers.push(function(t){var e=o["\u0275global"].getAllAngularTestabilities(),n=e.length,r=!1,i=function(e){r=r||e,0==--n&&t(r)};e.forEach(function(t){t.whenStable(i)})})},t.prototype.findTestabilityInTree=function(t,e,n){if(null==e)return null;var r=t.getTestability(e);return null!=r?r:n?s().isShadowRoot(e)?this.findTestabilityInTree(t,s().getHost(e),!0):this.findTestabilityInTree(t,s().parentElement(e),!0):null},t}(),_=function(){function t(t){this._doc=t}return t.prototype.getTitle=function(){return s().getTitle(this._doc)},t.prototype.setTitle=function(t){s().setTitle(this._doc,t)},t}();function C(t,e){"undefined"!=typeof COMPILED&&COMPILED||((o["\u0275global"].ng=o["\u0275global"].ng||{})[t]=e)}var S={ApplicationRef:o.ApplicationRef,NgZone:o.NgZone},D="probe",P="coreTokens";function A(t){return Object(o.getDebugNode)(t)}function T(t){return C(D,A),C(P,Object(r.__assign)({},S,(t||[]).reduce(function(t,e){return t[e.name]=e.token,t},{}))),function(){return A}}var E=new o.InjectionToken("EventManagerPlugins"),O=function(){function t(t,e){var n=this;this._zone=e,this._eventNameToPlugin=new Map,t.forEach(function(t){return t.manager=n}),this._plugins=t.slice().reverse()}return t.prototype.addEventListener=function(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)},t.prototype.addGlobalEventListener=function(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)},t.prototype.getZone=function(){return this._zone},t.prototype._findPluginFor=function(t){var e=this._eventNameToPlugin.get(t);if(e)return e;for(var n=this._plugins,r=0;r<n.length;r++){var i=n[r];if(i.supports(t))return this._eventNameToPlugin.set(t,i),i}throw new Error("No event manager plugin found for event "+t)},t}(),k=function(){function t(t){this._doc=t}return t.prototype.addGlobalEventListener=function(t,e,n){var r=s().getGlobalEventTarget(this._doc,t);if(!r)throw new Error("Unsupported event target "+r+" for event "+e);return this.addEventListener(r,e,n)},t}(),R=function(){function t(){this._stylesSet=new Set}return t.prototype.addStyles=function(t){var e=this,n=new Set;t.forEach(function(t){e._stylesSet.has(t)||(e._stylesSet.add(t),n.add(t))}),this.onStylesAdded(n)},t.prototype.onStylesAdded=function(t){},t.prototype.getAllStyles=function(){return Array.from(this._stylesSet)},t}(),I=function(t){function e(e){var n=t.call(this)||this;return n._doc=e,n._hostNodes=new Set,n._styleNodes=new Set,n._hostNodes.add(e.head),n}return Object(r.__extends)(e,t),e.prototype._addStylesToHost=function(t,e){var n=this;t.forEach(function(t){var r=n._doc.createElement("style");r.textContent=t,n._styleNodes.add(e.appendChild(r))})},e.prototype.addHost=function(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)},e.prototype.removeHost=function(t){this._hostNodes.delete(t)},e.prototype.onStylesAdded=function(t){var e=this;this._hostNodes.forEach(function(n){return e._addStylesToHost(t,n)})},e.prototype.ngOnDestroy=function(){this._styleNodes.forEach(function(t){return s().remove(t)})},e}(R),M={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},N=/%COMP%/g,L="_nghost-%COMP%",F="_ngcontent-%COMP%";function j(t,e,n){for(var r=0;r<e.length;r++){var i=e[r];Array.isArray(i)?j(t,i,n):(i=i.replace(N,t),n.push(i))}return n}function V(t){return function(e){!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}var z=function(){function t(t,e){this.eventManager=t,this.sharedStylesHost=e,this.rendererByCompId=new Map,this.defaultRenderer=new B(t)}return t.prototype.createRenderer=function(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case o.ViewEncapsulation.Emulated:var n=this.rendererByCompId.get(e.id);return n||(n=new q(this.eventManager,this.sharedStylesHost,e),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n;case o.ViewEncapsulation.Native:case o.ViewEncapsulation.ShadowDom:return new U(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){var r=j(e.id,e.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}},t.prototype.begin=function(){},t.prototype.end=function(){},t}(),B=function(){function t(t){this.eventManager=t,this.data=Object.create(null)}return t.prototype.destroy=function(){},t.prototype.createElement=function(t,e){return e?document.createElementNS(M[e],t):document.createElement(t)},t.prototype.createComment=function(t){return document.createComment(t)},t.prototype.createText=function(t){return document.createTextNode(t)},t.prototype.appendChild=function(t,e){t.appendChild(e)},t.prototype.insertBefore=function(t,e,n){t&&t.insertBefore(e,n)},t.prototype.removeChild=function(t,e){t&&t.removeChild(e)},t.prototype.selectRootElement=function(t){var e="string"==typeof t?document.querySelector(t):t;if(!e)throw new Error('The selector "'+t+'" did not match any elements');return e.textContent="",e},t.prototype.parentNode=function(t){return t.parentNode},t.prototype.nextSibling=function(t){return t.nextSibling},t.prototype.setAttribute=function(t,e,n,r){if(r){e=r+":"+e;var i=M[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)},t.prototype.removeAttribute=function(t,e,n){if(n){var r=M[n];r?t.removeAttributeNS(r,e):t.removeAttribute(n+":"+e)}else t.removeAttribute(e)},t.prototype.addClass=function(t,e){t.classList.add(e)},t.prototype.removeClass=function(t,e){t.classList.remove(e)},t.prototype.setStyle=function(t,e,n,r){r&o.RendererStyleFlags2.DashCase?t.style.setProperty(e,n,r&o.RendererStyleFlags2.Important?"important":""):t.style[e]=n},t.prototype.removeStyle=function(t,e,n){n&o.RendererStyleFlags2.DashCase?t.style.removeProperty(e):t.style[e]=""},t.prototype.setProperty=function(t,e,n){H(e,"property"),t[e]=n},t.prototype.setValue=function(t,e){t.nodeValue=e},t.prototype.listen=function(t,e,n){return H(e,"listener"),"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,V(n)):this.eventManager.addEventListener(t,e,V(n))},t}(),W="@".charCodeAt(0);function H(t,e){if(t.charCodeAt(0)===W)throw new Error("Found the synthetic "+e+" "+t+'. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.')}var X,q=function(t){function e(e,n,r){var i=t.call(this,e)||this;i.component=r;var o=j(r.id,r.styles,[]);return n.addStyles(o),i.contentAttr=F.replace(N,r.id),i.hostAttr=L.replace(N,r.id),i}return Object(r.__extends)(e,t),e.prototype.applyToHost=function(e){t.prototype.setAttribute.call(this,e,this.hostAttr,"")},e.prototype.createElement=function(e,n){var r=t.prototype.createElement.call(this,e,n);return t.prototype.setAttribute.call(this,r,this.contentAttr,""),r},e}(B),U=function(t){function e(e,n,r,i){var a=t.call(this,e)||this;a.sharedStylesHost=n,a.hostEl=r,a.component=i,a.shadowRoot=i.encapsulation===o.ViewEncapsulation.ShadowDom?r.attachShadow({mode:"open"}):r.createShadowRoot(),a.sharedStylesHost.addHost(a.shadowRoot);for(var s=j(i.id,i.styles,[]),u=0;u<s.length;u++){var l=document.createElement("style");l.textContent=s[u],a.shadowRoot.appendChild(l)}return a}return Object(r.__extends)(e,t),e.prototype.nodeOrShadowRoot=function(t){return t===this.hostEl?this.shadowRoot:t},e.prototype.destroy=function(){this.sharedStylesHost.removeHost(this.shadowRoot)},e.prototype.appendChild=function(e,n){return t.prototype.appendChild.call(this,this.nodeOrShadowRoot(e),n)},e.prototype.insertBefore=function(e,n,r){return t.prototype.insertBefore.call(this,this.nodeOrShadowRoot(e),n,r)},e.prototype.removeChild=function(e,n){return t.prototype.removeChild.call(this,this.nodeOrShadowRoot(e),n)},e.prototype.parentNode=function(e){return this.nodeOrShadowRoot(t.prototype.parentNode.call(this,this.nodeOrShadowRoot(e)))},e}(B),G="undefined"!=typeof Zone&&Zone.__symbol__||function(t){return"__zone_symbol__"+t},Y=G("addEventListener"),K=G("removeEventListener"),Z={},J="__zone_symbol__propagationStopped";"undefined"!=typeof Zone&&Zone[G("BLACK_LISTED_EVENTS")]&&(X={});var Q=function(t){return!!X&&X.hasOwnProperty(t)},$=function(t){var e=Z[t.type];if(e){var n=this[e];if(n){var r=[t];if(1===n.length)return(a=n[0]).zone!==Zone.current?a.zone.run(a.handler,this,r):a.handler.apply(this,r);for(var i=n.slice(),o=0;o<i.length&&!0!==t[J];o++){var a;(a=i[o]).zone!==Zone.current?a.zone.run(a.handler,this,r):a.handler.apply(this,r)}}}},tt=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.ngZone=n,r&&Object(i.isPlatformServer)(r)||o.patchEvent(),o}return Object(r.__extends)(e,t),e.prototype.patchEvent=function(){if("undefined"!=typeof Event&&Event&&Event.prototype&&!Event.prototype.__zone_symbol__stopImmediatePropagation){var t=Event.prototype.__zone_symbol__stopImmediatePropagation=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[J]=!0),t&&t.apply(this,arguments)}}},e.prototype.supports=function(t){return!0},e.prototype.addEventListener=function(t,e,n){var r=this,i=n;if(!t[Y]||o.NgZone.isInAngularZone()&&!Q(e))t.addEventListener(e,i,!1);else{var a=Z[e];a||(a=Z[e]=G("ANGULAR"+e+"FALSE"));var s=t[a],u=s&&s.length>0;s||(s=t[a]=[]);var l=Q(e)?Zone.root:Zone.current;if(0===s.length)s.push({zone:l,handler:i});else{for(var c=!1,f=0;f<s.length;f++)if(s[f].handler===i){c=!0;break}c||s.push({zone:l,handler:i})}u||t[Y](e,$,!1)}return function(){return r.removeEventListener(t,e,i)}},e.prototype.removeEventListener=function(t,e,n){var r=t[K];if(!r)return t.removeEventListener.apply(t,[e,n,!1]);var i=Z[e],o=i&&t[i];if(!o)return t.removeEventListener.apply(t,[e,n,!1]);for(var a=!1,s=0;s<o.length;s++)if(o[s].handler===n){a=!0,o.splice(s,1);break}a?0===o.length&&r.apply(t,[e,$,!1]):t.removeEventListener.apply(t,[e,n,!1])},e}(k),et={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},nt=new o.InjectionToken("HammerGestureConfig"),rt=function(){function t(){this.events=[],this.overrides={}}return t.prototype.buildHammer=function(t){var e=new Hammer(t,this.options);for(var n in e.get("pinch").set({enable:!0}),e.get("rotate").set({enable:!0}),this.overrides)e.get(n).set(this.overrides[n]);return e},t}(),it=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i._config=n,i.console=r,i}return Object(r.__extends)(e,t),e.prototype.supports=function(t){return!(!et.hasOwnProperty(t.toLowerCase())&&!this.isCustomEvent(t)||!window.Hammer&&(this.console.warn("Hammer.js is not loaded, can not bind '"+t+"' event."),1))},e.prototype.addEventListener=function(t,e,n){var r=this,i=this.manager.getZone();return e=e.toLowerCase(),i.runOutsideAngular(function(){var o=r._config.buildHammer(t),a=function(t){i.runGuarded(function(){n(t)})};return o.on(e,a),function(){return o.off(e,a)}})},e.prototype.isCustomEvent=function(t){return this._config.events.indexOf(t)>-1},e}(k),ot=["alt","control","meta","shift"],at={alt:function(t){return t.altKey},control:function(t){return t.ctrlKey},meta:function(t){return t.metaKey},shift:function(t){return t.shiftKey}},st=function(t){function e(e){return t.call(this,e)||this}return Object(r.__extends)(e,t),e.prototype.supports=function(t){return null!=e.parseEventName(t)},e.prototype.addEventListener=function(t,n,r){var i=e.parseEventName(n),o=e.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return s().onAndCancel(t,i.domEventName,o)})},e.parseEventName=function(t){var n=t.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;var i=e._normalizeKey(n.pop()),o="";if(ot.forEach(function(t){var e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;var a={};return a.domEventName=r,a.fullKey=o,a},e.getEventFullKey=function(t){var e="",n=s().getEventKey(t);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),ot.forEach(function(r){r!=n&&(0,at[r])(t)&&(e+=r+".")}),e+=n},e.eventCallback=function(t,n,r){return function(i){e.getEventFullKey(i)===t&&r.runGuarded(function(){return n(i)})}},e._normalizeKey=function(t){switch(t){case"esc":return"escape";default:return t}},e}(k),ut=function(){},lt=function(t){function e(e){var n=t.call(this)||this;return n._doc=e,n}return Object(r.__extends)(e,t),e.prototype.sanitize=function(t,e){if(null==e)return null;switch(t){case o.SecurityContext.NONE:return e;case o.SecurityContext.HTML:return e instanceof ft?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"HTML"),Object(o["\u0275_sanitizeHtml"])(this._doc,String(e)));case o.SecurityContext.STYLE:return e instanceof ht?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"Style"),Object(o["\u0275_sanitizeStyle"])(e));case o.SecurityContext.SCRIPT:if(e instanceof dt)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"Script"),new Error("unsafe value used in a script context");case o.SecurityContext.URL:return e instanceof vt||e instanceof pt?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"URL"),Object(o["\u0275_sanitizeUrl"])(String(e)));case o.SecurityContext.RESOURCE_URL:if(e instanceof vt)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext "+t+" (see http://g.co/ng/security#xss)")}},e.prototype.checkNotSafeValue=function(t,e){if(t instanceof ct)throw new Error("Required a safe "+e+", got a "+t.getTypeName()+" (see http://g.co/ng/security#xss)")},e.prototype.bypassSecurityTrustHtml=function(t){return new ft(t)},e.prototype.bypassSecurityTrustStyle=function(t){return new ht(t)},e.prototype.bypassSecurityTrustScript=function(t){return new dt(t)},e.prototype.bypassSecurityTrustUrl=function(t){return new pt(t)},e.prototype.bypassSecurityTrustResourceUrl=function(t){return new vt(t)},e}(ut),ct=function(){function t(t){this.changingThisBreaksApplicationSecurity=t}return t.prototype.toString=function(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"},t}(),ft=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.__extends)(e,t),e.prototype.getTypeName=function(){return"HTML"},e}(ct),ht=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.__extends)(e,t),e.prototype.getTypeName=function(){return"Style"},e}(ct),dt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.__extends)(e,t),e.prototype.getTypeName=function(){return"Script"},e}(ct),pt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.__extends)(e,t),e.prototype.getTypeName=function(){return"URL"},e}(ct),vt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.__extends)(e,t),e.prototype.getTypeName=function(){return"ResourceURL"},e}(ct),gt=[{provide:o.PLATFORM_ID,useValue:i["\u0275PLATFORM_BROWSER_ID"]},{provide:o.PLATFORM_INITIALIZER,useValue:function(){d.makeCurrent(),x.init()},multi:!0},{provide:i.PlatformLocation,useClass:m,deps:[v]},{provide:v,useFactory:function(){return document},deps:[]}],mt=Object(o.createPlatformFactory)(o.platformCore,"browser",gt);function yt(){return new o.ErrorHandler}var bt=function(){function t(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return t.withServerTransition=function(e){return{ngModule:t,providers:[{provide:o.APP_ID,useValue:e.appId},{provide:b,useExisting:o.APP_ID},w]}},t}();"undefined"!=typeof window&&window},Zn8D:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("psW0"),i=n("mChF");function o(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),Object(r.a)(i.a,t)}},c7zm:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("mrSG"),i=n("lT9W"),o=n("kiUJ"),a=n("hjTF");e.extractImagePatches=function(t,e,n){var s=n.width,u=n.height;return r.__awaiter(this,void 0,void 0,function(){var n,l,c,f=this;return r.__generator(this,function(h){switch(h.label){case 0:return n=o.getContext2dOrThrow(t),[4,Promise.all(e.map(function(e){return r.__awaiter(f,void 0,void 0,function(){var i,o,a,s;return r.__generator(this,function(r){return i=e.padAtBorders(t.height,t.width),s=n.getImageData(o=i.x-1,a=i.y-1,i.ex-o,i.ey-a),[2,createImageBitmap(s)]})})}))];case 1:return l=h.sent(),c=[],l.forEach(function(t){var e=o.createCanvas({width:s,height:u}),n=o.getContext2dOrThrow(e);n.drawImage(t,0,0,s,u);for(var r=n.getImageData(0,0,s,u).data,i=[],a=0;a<r.length;a+=4)i.push(r[a+2]),i.push(r[a+1]),i.push(r[a]);c.push(i)}),[2,c.map(function(t){return i.tidy(function(){var e=i.transpose(i.tensor4d(t,[1,s,u,3]),[0,2,1,3]).toFloat();return a.normalize(e)})})]}})})}},dteb:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("mrSG"),i=n("lT9W"),o=n("zGsf"),a=n("1Cpu"),s=n("c7zm"),u=n("W4dv"),l=n("wfJU");e.stage3=function(t,e,n,c,f){return r.__awaiter(this,void 0,void 0,function(){var h,d,p,v,g,m,y,b,w,x,_,C,S,D,P;return r.__generator(this,function(r){switch(r.label){case 0:return h=Date.now(),[4,s.extractImagePatches(t,e,{width:48,height:48})];case 1:return d=r.sent(),f.stage3_extractImagePatches=Date.now()-h,h=Date.now(),p=d.map(function(t){var e=l.ONet(t,c);return t.dispose(),e}),f.stage3_onet=Date.now()-h,v=p.length>1?i.concat(p.map(function(t){return t.scores})):p[0].scores,y=(m=Array).from,[4,v.data()];case 2:return g=y.apply(m,[r.sent()]),v.dispose(),b=g.map(function(t,e){return{score:t,idx:e}}).filter(function(t){return t.score>n}).map(function(t){return t.idx}),w=b.map(function(t){return new a.BoundingBox(p[t].regions.get(0,0),p[t].regions.get(0,1),p[t].regions.get(0,2),p[t].regions.get(0,3))}),x=b.map(function(t,n){return e[t].calibrate(w[n])}),_=b.map(function(t){return g[t]}),C=[],S=[],D=[],x.length>0&&(h=Date.now(),P=u.nms(x,_,.7,!1),f.stage3_nms=Date.now()-h,C=P.map(function(t){return x[t]}),S=P.map(function(t){return _[t]}),D=P.map(function(t,e){return Array(5).fill(0).map(function(n,r){return new o.Point(p[t].points.get(0,r)*(C[e].width+1)+C[e].left,p[t].points.get(0,r+5)*(C[e].height+1)+C[e].top)})})),p.forEach(function(t){t.regions.dispose(),t.scores.dispose(),t.points.dispose()}),[2,{boxes:C,scores:S,points:D}]}})})}},eboN:function(t,e,n){"use strict";function r(t,e,n){var r=Math.min(t.get(e,0),t.get(e,2)),i=Math.min(t.get(e,1),t.get(e,3)),o=Math.max(t.get(e,0),t.get(e,2)),a=Math.max(t.get(e,1),t.get(e,3)),s=Math.min(t.get(n,0),t.get(n,2)),u=Math.min(t.get(n,1),t.get(n,3)),l=Math.max(t.get(n,0),t.get(n,2)),c=Math.max(t.get(n,1),t.get(n,3)),f=(o-r)*(a-i),h=(l-s)*(c-u);if(f<=0||h<=0)return 0;var d=Math.max(r,s),p=Math.max(i,u),v=Math.min(o,l),g=Math.min(a,c),m=Math.max(v-d,0)*Math.max(g-p,0);return m/(f+h-m)}Object.defineProperty(e,"__esModule",{value:!0}),e.nonMaxSuppression=function(t,e,n,i,o){var a=Math.min(n,t.shape[0]),s=[];return e.map(function(t,e){return{score:t,boxIndex:e}}).filter(function(t){return t.score>o}).sort(function(t,e){return e.score-t.score}).forEach(function(e){if(!(s.length>=a)){for(var n=e.score,u=s.length-1;u>=0;--u){var l=r(t,e.boxIndex,s[u]);if(0!==l&&(e.score*=l<=i?1:0,e.score<=o))break}n===e.score&&s.push(e.boxIndex)}}),s}},eihW:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("lT9W");e.fullyConnectedLayer=function(t,e){return r.tidy(function(){return r.add(r.matMul(t,e.weights),e.bias)})}},epSk:function(t,e,n){var r,i,o,a,s,u,l,c,f,h,d,p,v,g,m,y,b,w,x,_,C=C||{version:"2.3.3"};function S(t,e){var n=t.canvas,r=e.targetCanvas,i=r.getContext("2d");i.translate(0,r.height),i.scale(1,-1),i.drawImage(n,0,n.height-r.height,r.width,r.height,0,0,r.width,r.height)}function D(t,e){var n=e.targetCanvas.getContext("2d"),r=e.destinationWidth,i=e.destinationHeight,o=r*i*4,a=new Uint8Array(this.imageBuffer,0,o),s=new Uint8ClampedArray(this.imageBuffer,0,o);t.readPixels(0,0,r,i,t.RGBA,t.UNSIGNED_BYTE,a);var u=new ImageData(s,r,i);n.putImageData(u,0,0)}e.fabric=C,"undefined"!=typeof document&&"undefined"!=typeof window?(C.document=document,C.window=window):(C.document=n(9).jsdom(decodeURIComponent("%3C!DOCTYPE%20html%3E%3Chtml%3E%3Chead%3E%3C%2Fhead%3E%3Cbody%3E%3C%2Fbody%3E%3C%2Fhtml%3E"),{features:{FetchExternalResources:["img"]}}),C.jsdomImplForWrapper=n(8).implForWrapper,C.nodeCanvas=n(7).Canvas,C.window=C.document.defaultView,DOMParser=n(6).DOMParser),C.isTouchSupported="ontouchstart"in C.window,C.isLikelyNode="undefined"!=typeof Buffer&&"undefined"==typeof window,C.SHARED_ATTRIBUTES=["display","transform","fill","fill-opacity","fill-rule","opacity","stroke","stroke-dasharray","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","instantiated_by_use"],C.DPI=96,C.reNum="(?:[-+]?(?:\\d+|\\d*\\.\\d+)(?:e[-+]?\\d+)?)",C.fontPaths={},C.iMatrix=[1,0,0,1,0,0],C.canvasModule="canvas",C.perfLimitSizeTotal=2097152,C.maxCacheSideLimit=4096,C.minCacheSideLimit=256,C.charWidthsCache={},C.textureSize=2048,C.enableGLFiltering=!0,C.devicePixelRatio=C.window.devicePixelRatio||C.window.webkitDevicePixelRatio||C.window.mozDevicePixelRatio||1,C.browserShadowBlurConstant=1,C.initFilterBackend=function(){return C.enableGLFiltering&&C.isWebglSupported&&C.isWebglSupported(C.textureSize)?(console.log("max texture size: "+C.maxTextureSize),new C.WebglFilterBackend({tileSize:C.textureSize})):C.Canvas2dFilterBackend?new C.Canvas2dFilterBackend:void 0},"undefined"!=typeof document&&"undefined"!=typeof window&&(window.fabric=C),function(){function t(t,e){if(this.__eventListeners[t]){var n=this.__eventListeners[t];e?n[n.indexOf(e)]=!1:C.util.array.fill(n,!1)}}function e(t,e){if(this.__eventListeners||(this.__eventListeners={}),1===arguments.length)for(var n in t)this.on(n,t[n]);else this.__eventListeners[t]||(this.__eventListeners[t]=[]),this.__eventListeners[t].push(e);return this}function n(e,n){if(this.__eventListeners){if(0===arguments.length)for(e in this.__eventListeners)t.call(this,e);else if(1===arguments.length&&"object"==typeof arguments[0])for(var r in e)t.call(this,r,e[r]);else t.call(this,e,n);return this}}function r(t,e){if(this.__eventListeners){var n=this.__eventListeners[t];if(n){for(var r=0,i=n.length;r<i;r++)n[r]&&n[r].call(this,e||{});return this.__eventListeners[t]=n.filter(function(t){return!1!==t}),this}}}C.Observable={observe:e,stopObserving:n,fire:r,on:e,off:n,trigger:r}}(),C.Collection={_objects:[],add:function(){if(this._objects.push.apply(this._objects,arguments),this._onObjectAdded)for(var t=0,e=arguments.length;t<e;t++)this._onObjectAdded(arguments[t]);return this.renderOnAddRemove&&this.requestRenderAll(),this},insertAt:function(t,e,n){var r=this.getObjects();return n?r[e]=t:r.splice(e,0,t),this._onObjectAdded&&this._onObjectAdded(t),this.renderOnAddRemove&&this.requestRenderAll(),this},remove:function(){for(var t,e=this.getObjects(),n=!1,r=0,i=arguments.length;r<i;r++)-1!==(t=e.indexOf(arguments[r]))&&(n=!0,e.splice(t,1),this._onObjectRemoved&&this._onObjectRemoved(arguments[r]));return this.renderOnAddRemove&&n&&this.requestRenderAll(),this},forEachObject:function(t,e){for(var n=this.getObjects(),r=0,i=n.length;r<i;r++)t.call(e,n[r],r,n);return this},getObjects:function(t){return void 0===t?this._objects:this._objects.filter(function(e){return e.type===t})},item:function(t){return this.getObjects()[t]},isEmpty:function(){return 0===this.getObjects().length},size:function(){return this.getObjects().length},contains:function(t){return this.getObjects().indexOf(t)>-1},complexity:function(){return this.getObjects().reduce(function(t,e){return t+(e.complexity?e.complexity():0)},0)}},C.CommonMethods={_setOptions:function(t){for(var e in t)this.set(e,t[e])},_initGradient:function(t,e){!t||!t.colorStops||t instanceof C.Gradient||this.set(e,new C.Gradient(t))},_initPattern:function(t,e,n){!t||!t.source||t instanceof C.Pattern?n&&n():this.set(e,new C.Pattern(t,n))},_initClipping:function(t){if(t.clipTo&&"string"==typeof t.clipTo){var e=C.util.getFunctionBody(t.clipTo);void 0!==e&&(this.clipTo=new Function("ctx",e))}},_setObject:function(t){for(var e in t)this._set(e,t[e])},set:function(t,e){return"object"==typeof t?this._setObject(t):this._set(t,"function"==typeof e&&"clipTo"!==t?e(this.get(t)):e),this},_set:function(t,e){this[t]=e},toggle:function(t){var e=this.get(t);return"boolean"==typeof e&&this.set(t,!e),this},get:function(t){return this[t]}},r=e,i=Math.sqrt,o=Math.atan2,a=Math.pow,s=Math.abs,u=Math.PI/180,l=Math.PI/2,C.util={cos:function(t){if(0===t)return 1;switch(t<0&&(t=-t),t/l){case 1:case 3:return 0;case 2:return-1}return Math.cos(t)},sin:function(t){if(0===t)return 0;var e=1;switch(t<0&&(e=-1),t/l){case 1:return e;case 2:return 0;case 3:return-e}return Math.sin(t)},removeFromArray:function(t,e){var n=t.indexOf(e);return-1!==n&&t.splice(n,1),t},getRandomInt:function(t,e){return Math.floor(Math.random()*(e-t+1))+t},degreesToRadians:function(t){return t*u},radiansToDegrees:function(t){return t/u},rotatePoint:function(t,e,n){t.subtractEquals(e);var r=C.util.rotateVector(t,n);return new C.Point(r.x,r.y).addEquals(e)},rotateVector:function(t,e){var n=C.util.sin(e),r=C.util.cos(e);return{x:t.x*r-t.y*n,y:t.x*n+t.y*r}},transformPoint:function(t,e,n){return n?new C.Point(e[0]*t.x+e[2]*t.y,e[1]*t.x+e[3]*t.y):new C.Point(e[0]*t.x+e[2]*t.y+e[4],e[1]*t.x+e[3]*t.y+e[5])},makeBoundingBoxFromPoints:function(t){var e=[t[0].x,t[1].x,t[2].x,t[3].x],n=C.util.array.min(e),r=C.util.array.max(e)-n,i=[t[0].y,t[1].y,t[2].y,t[3].y],o=C.util.array.min(i);return{left:n,top:o,width:r,height:C.util.array.max(i)-o}},invertTransform:function(t){var e=1/(t[0]*t[3]-t[1]*t[2]),n=[e*t[3],-e*t[1],-e*t[2],e*t[0]],r=C.util.transformPoint({x:t[4],y:t[5]},n,!0);return n[4]=-r.x,n[5]=-r.y,n},toFixed:function(t,e){return parseFloat(Number(t).toFixed(e))},parseUnit:function(t,e){var n=/\D{0,2}$/.exec(t),r=parseFloat(t);switch(e||(e=C.Text.DEFAULT_SVG_FONT_SIZE),n[0]){case"mm":return r*C.DPI/25.4;case"cm":return r*C.DPI/2.54;case"in":return r*C.DPI;case"pt":return r*C.DPI/72;case"pc":return r*C.DPI/72*12;case"em":return r*e;default:return r}},falseFunction:function(){return!1},getKlass:function(t,e){return t=C.util.string.camelize(t.charAt(0).toUpperCase()+t.slice(1)),C.util.resolveNamespace(e)[t]},getSvgAttributes:function(t){var e=["instantiated_by_use","style","id","class"];switch(t){case"linearGradient":e=e.concat(["x1","y1","x2","y2","gradientUnits","gradientTransform"]);break;case"radialGradient":e=e.concat(["gradientUnits","gradientTransform","cx","cy","r","fx","fy","fr"]);break;case"stop":e=e.concat(["offset","stop-color","stop-opacity"])}return e},resolveNamespace:function(t){if(!t)return C;var e,n=t.split("."),i=n.length,o=r||C.window;for(e=0;e<i;++e)o=o[n[e]];return o},loadImage:function(t,e,n,r){if(t){var i=C.util.createImage(),o=function(){e&&e.call(n,i),i=i.onload=i.onerror=null};i.onload=o,i.onerror=function(){C.log("Error loading "+i.src),e&&e.call(n,null,!0),i=i.onload=i.onerror=null},0!==t.indexOf("data")&&r&&(i.crossOrigin=r),"data:image/svg"===t.substring(0,14)&&(i.onload=null,C.util.loadImageInDom(i,o)),i.src=t}else e&&e.call(n,t)},loadImageInDom:function(t,e){var n=C.document.createElement("div");n.style.width=n.style.height="1px",n.style.left=n.style.top="-100%",n.style.position="absolute",n.appendChild(t),C.document.querySelector("body").appendChild(n),t.onload=function(){e(),n.parentNode.removeChild(n),n=null}},enlivenObjects:function(t,e,n,r){function i(){++a===s&&e&&e(o)}var o=[],a=0,s=(t=t||[]).length;s?t.forEach(function(t,e){t&&t.type?C.util.getKlass(t.type,n).fromObject(t,function(n,a){a||(o[e]=n),r&&r(t,n,a),i()}):i()}):e&&e(o)},enlivenPatterns:function(t,e){function n(){++i===o&&e&&e(r)}var r=[],i=0,o=(t=t||[]).length;o?t.forEach(function(t,e){t&&t.source?new C.Pattern(t,function(t){r[e]=t,n()}):(r[e]=t,n())}):e&&e(r)},groupSVGElements:function(t,e,n){var r;return 1===t.length?t[0]:(e&&(e.width&&e.height?e.centerPoint={x:e.width/2,y:e.height/2}:(delete e.width,delete e.height)),r=new C.Group(t,e),void 0!==n&&(r.sourcePath=n),r)},populateWithProperties:function(t,e,n){if(n&&"[object Array]"===Object.prototype.toString.call(n))for(var r=0,i=n.length;r<i;r++)n[r]in t&&(e[n[r]]=t[n[r]])},drawDashedLine:function(t,e,n,r,a,s){var u=r-e,l=a-n,c=i(u*u+l*l),f=o(l,u),h=s.length,d=0,p=!0;for(t.save(),t.translate(e,n),t.moveTo(0,0),t.rotate(f),e=0;c>e;)(e+=s[d++%h])>c&&(e=c),t[p?"lineTo":"moveTo"](e,0),p=!p;t.restore()},createCanvasElement:function(){return C.document.createElement("canvas")},createImage:function(){return C.document.createElement("img")},clipContext:function(t,e){e.save(),e.beginPath(),t.clipTo(e),e.clip()},multiplyTransformMatrices:function(t,e,n){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],n?0:t[0]*e[4]+t[2]*e[5]+t[4],n?0:t[1]*e[4]+t[3]*e[5]+t[5]]},qrDecompose:function(t){var e=o(t[1],t[0]),n=a(t[0],2)+a(t[1],2),r=i(n),s=(t[0]*t[3]-t[2]*t[1])/r,l=o(t[0]*t[2]+t[1]*t[3],n);return{angle:e/u,scaleX:r,scaleY:s,skewX:l/u,skewY:0,translateX:t[4],translateY:t[5]}},customTransformMatrix:function(t,e,n){var r=[1,0,s(Math.tan(n*u)),1],i=[s(t),0,0,s(e)];return C.util.multiplyTransformMatrices(i,r,!0)},resetObjectTransform:function(t){t.scaleX=1,t.scaleY=1,t.skewX=0,t.skewY=0,t.flipX=!1,t.flipY=!1,t.rotate(0)},getFunctionBody:function(t){return(String(t).match(/function[^{]*\{([\s\S]*)\}/)||{})[1]},isTransparent:function(t,e,n,r){r>0&&(e>r?e-=r:e=0,n>r?n-=r:n=0);var i,o=!0,a=t.getImageData(e,n,2*r||1,2*r||1),s=a.data.length;for(i=3;i<s&&0!=(o=a.data[i]<=0);i+=4);return a=null,o},parsePreserveAspectRatioAttribute:function(t){var e,n="meet",r=t.split(" ");return r&&r.length&&("meet"!==(n=r.pop())&&"slice"!==n?(e=n,n="meet"):r.length&&(e=r.pop())),{meetOrSlice:n,alignX:"none"!==e?e.slice(1,4):"none",alignY:"none"!==e?e.slice(5,8):"none"}},clearFabricFontCache:function(t){(t=(t||"").toLowerCase())?C.charWidthsCache[t]&&delete C.charWidthsCache[t]:C.charWidthsCache={}},limitDimsByArea:function(t,e){var n=Math.sqrt(e*t),r=Math.floor(e/n);return{x:Math.floor(n),y:r}},capValue:function(t,e,n){return Math.max(t,Math.min(e,n))},findScaleToFit:function(t,e){return Math.min(e.width/t.width,e.height/t.height)},findScaleToCover:function(t,e){return Math.max(e.width/t.width,e.height/t.height)}},function(){var t={},e={},n={},r=Array.prototype.join;function i(e,n,i,s,u,l,c){var f=r.call(arguments);if(t[f])return t[f];var h=Math.PI,d=c*h/180,p=C.util.sin(d),v=C.util.cos(d),g=0,m=0,y=-v*e*.5-p*n*.5,b=-v*n*.5+p*e*.5,w=(i=Math.abs(i))*i,x=(s=Math.abs(s))*s,_=b*b,S=y*y,D=w*x-w*_-x*S,P=0;if(D<0){var A=Math.sqrt(1-D/(w*x));i*=A,s*=A}else P=(u===l?-1:1)*Math.sqrt(D/(w*_+x*S));var T=P*i*b/s,E=-P*s*y/i,O=v*T-p*E+.5*e,k=p*T+v*E+.5*n,R=a(1,0,(y-T)/i,(b-E)/s),I=a((y-T)/i,(b-E)/s,(-y-T)/i,(-b-E)/s);0===l&&I>0?I-=2*h:1===l&&I<0&&(I+=2*h);for(var M=Math.ceil(Math.abs(I/h*2)),N=[],L=I/M,F=8/3*Math.sin(L/4)*Math.sin(L/4)/Math.sin(L/2),j=R+L,V=0;V<M;V++)N[V]=o(R,j,v,p,i,s,O,k,F,g,m),g=N[V][4],m=N[V][5],R=j,j+=L;return t[f]=N,N}function o(t,n,i,o,a,s,u,l,c,f,h){var d=r.call(arguments);if(e[d])return e[d];var p=C.util.cos(t),v=C.util.sin(t),g=C.util.cos(n),m=C.util.sin(n),y=i*a*g-o*s*m+u,b=o*a*g+i*s*m+l;return e[d]=[f+c*(-i*a*v-o*s*p),h+c*(-o*a*v+i*s*p),y+c*(i*a*m+o*s*g),b+c*(o*a*m-i*s*g),y,b],e[d]}function a(t,e,n,r){var i=Math.atan2(e,t),o=Math.atan2(r,n);return o>=i?o-i:2*Math.PI-(i-o)}function s(t,e,i,o,a,s,u,l){var c=r.call(arguments);if(n[c])return n[c];var f,h,d,p,v,g,m,y,b=Math.sqrt,w=Math.min,x=Math.max,_=Math.abs,C=[],S=[[],[]];h=6*t-12*i+6*a,f=-3*t+9*i-9*a+3*u,d=3*i-3*t;for(var D=0;D<2;++D)if(D>0&&(h=6*e-12*o+6*s,f=-3*e+9*o-9*s+3*l,d=3*o-3*e),_(f)<1e-12){if(_(h)<1e-12)continue;0<(p=-d/h)&&p<1&&C.push(p)}else(m=h*h-4*d*f)<0||(0<(v=(-h+(y=b(m)))/(2*f))&&v<1&&C.push(v),0<(g=(-h-y)/(2*f))&&g<1&&C.push(g));for(var P,A=C.length,T=A;A--;)S[0][A]=(P=1-(p=C[A]))*P*P*t+3*P*P*p*i+3*P*p*p*a+p*p*p*u,S[1][A]=P*P*P*e+3*P*P*p*o+3*P*p*p*s+p*p*p*l;S[0][T]=t,S[1][T]=e,S[0][T+1]=u,S[1][T+1]=l;var E=[{x:w.apply(null,S[0]),y:w.apply(null,S[1])},{x:x.apply(null,S[0]),y:x.apply(null,S[1])}];return n[c]=E,E}C.util.drawArc=function(t,e,n,r){for(var o=[[],[],[],[]],a=i(r[5]-e,r[6]-n,r[0],r[1],r[3],r[4],r[2]),s=0,u=a.length;s<u;s++)o[s][0]=a[s][0]+e,o[s][1]=a[s][1]+n,o[s][2]=a[s][2]+e,o[s][3]=a[s][3]+n,o[s][4]=a[s][4]+e,o[s][5]=a[s][5]+n,t.bezierCurveTo.apply(t,o[s])},C.util.getBoundsOfArc=function(t,e,n,r,o,a,u,l,c){for(var f,h=0,d=0,p=[],v=i(l-t,c-e,n,r,a,u,o),g=0,m=v.length;g<m;g++)f=s(h,d,v[g][0],v[g][1],v[g][2],v[g][3],v[g][4],v[g][5]),p.push({x:f[0].x+t,y:f[0].y+e}),p.push({x:f[1].x+t,y:f[1].y+e}),h=v[g][4],d=v[g][5];return p},C.util.getBoundsOfCurve=s}(),function(){var t=Array.prototype.slice;function e(t,e,n){if(t&&0!==t.length){var r=t.length-1,i=e?t[r][e]:t[r];if(e)for(;r--;)n(t[r][e],i)&&(i=t[r][e]);else for(;r--;)n(t[r],i)&&(i=t[r]);return i}}C.util.array={fill:function(t,e){for(var n=t.length;n--;)t[n]=e;return t},invoke:function(e,n){for(var r=t.call(arguments,2),i=[],o=0,a=e.length;o<a;o++)i[o]=r.length?e[o][n].apply(e[o],r):e[o][n].call(e[o]);return i},min:function(t,n){return e(t,n,function(t,e){return t<e})},max:function(t,n){return e(t,n,function(t,e){return t>=e})}}}(),function(){function t(e,n,r){if(r)if(!C.isLikelyNode&&n instanceof Element)e=n;else if(n instanceof Array){e=[];for(var i=0,o=n.length;i<o;i++)e[i]=t({},n[i],r)}else if(n&&"object"==typeof n)for(var a in n)n.hasOwnProperty(a)&&(e[a]=t({},n[a],r));else e=n;else for(var a in n)e[a]=n[a];return e}C.util.object={extend:t,clone:function(e,n){return t({},e,n)}},C.util.object.extend(C.util,C.Observable)}(),function(){function t(t,e){var n=t.charCodeAt(e);if(isNaN(n))return"";if(n<55296||n>57343)return t.charAt(e);if(55296<=n&&n<=56319){if(t.length<=e+1)throw"High surrogate without following low surrogate";var r=t.charCodeAt(e+1);if(56320>r||r>57343)throw"High surrogate without following low surrogate";return t.charAt(e)+t.charAt(e+1)}if(0===e)throw"Low surrogate without preceding high surrogate";var i=t.charCodeAt(e-1);if(55296>i||i>56319)throw"Low surrogate without preceding high surrogate";return!1}C.util.string={camelize:function(t){return t.replace(/-+(.)?/g,function(t,e){return e?e.toUpperCase():""})},capitalize:function(t,e){return t.charAt(0).toUpperCase()+(e?t.slice(1):t.slice(1).toLowerCase())},escapeXml:function(t){return t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},graphemeSplit:function(e){var n,r=0,i=[];for(r=0;r<e.length;r++)!1!==(n=t(e,r))&&i.push(n);return i}}}(),function(){var t=Array.prototype.slice,e=function(){},n=function(){for(var t in{toString:1})if("toString"===t)return!1;return!0}(),r=function(t,e,r){for(var i in e)t.prototype[i]=i in t.prototype&&"function"==typeof t.prototype[i]&&(e[i]+"").indexOf("callSuper")>-1?function(t){return function(){var n=this.constructor.superclass;this.constructor.superclass=r;var i=e[t].apply(this,arguments);if(this.constructor.superclass=n,"initialize"!==t)return i}}(i):e[i],n&&(e.toString!==Object.prototype.toString&&(t.prototype.toString=e.toString),e.valueOf!==Object.prototype.valueOf&&(t.prototype.valueOf=e.valueOf))};function i(){}function o(e){for(var n=null,r=this;r.constructor.superclass;){var i=r.constructor.superclass.prototype[e];if(r[e]!==i){n=i;break}r=r.constructor.superclass.prototype}return n?arguments.length>1?n.apply(this,t.call(arguments,1)):n.call(this):console.log("tried to callSuper "+e+", method not found in prototype chain",this)}C.util.createClass=function(){var n=null,a=t.call(arguments,0);function s(){this.initialize.apply(this,arguments)}"function"==typeof a[0]&&(n=a.shift()),s.superclass=n,s.subclasses=[],n&&(i.prototype=n.prototype,s.prototype=new i,n.subclasses.push(s));for(var u=0,l=a.length;u<l;u++)r(s,a[u],n);return s.prototype.initialize||(s.prototype.initialize=e),s.prototype.constructor=s,s.prototype.callSuper=o,s}}(),function(){function t(t){var e,n=Array.prototype.slice.call(arguments,1),r=n.length;for(e=0;e<r;e++)if(!/^(?:function|object|unknown)$/.test(typeof t[n[e]]))return!1;return!0}var e,n,r,i,o=(r=0,function(t){return t.__uniqueID||(t.__uniqueID="uniqueID__"+r++)});i={},e=function(t){return i[t]},n=function(t,e){i[t]=e};var a,s,u=t(C.document.documentElement,"addEventListener","removeEventListener")&&t(C.window,"addEventListener","removeEventListener"),l=t(C.document.documentElement,"attachEvent","detachEvent")&&t(C.window,"attachEvent","detachEvent"),c={},f={};u?(a=function(t,e,n,r){t&&t.addEventListener(e,n,!l&&r)},s=function(t,e,n,r){t&&t.removeEventListener(e,n,!l&&r)}):l?(a=function(t,r,i){if(t){var a=o(t);n(a,t),c[a]||(c[a]={}),c[a][r]||(c[a][r]=[]);var s=function(t,n){return{handler:n,wrappedHandler:function(t,n){return function(r){n.call(e(t),r||C.window.event)}}(t,n)}}(a,i);c[a][r].push(s),t.attachEvent("on"+r,s.wrappedHandler)}},s=function(t,e,n){if(t){var r,i=o(t);if(c[i]&&c[i][e])for(var a=0,s=c[i][e].length;a<s;a++)(r=c[i][e][a])&&r.handler===n&&(t.detachEvent("on"+e,r.wrappedHandler),c[i][e][a]=null)}}):(a=function(t,e,n){if(t){var r=o(t);if(f[r]||(f[r]={}),!f[r][e]){f[r][e]=[];var i=t["on"+e];i&&f[r][e].push(i),t["on"+e]=function(t,e){return function(n){if(f[t]&&f[t][e])for(var r=f[t][e],i=0,o=r.length;i<o;i++)r[i].call(this,n||C.window.event)}}(r,e)}f[r][e].push(n)}},s=function(t,e,n){if(t){var r=o(t);if(f[r]&&f[r][e])for(var i=f[r][e],a=0,s=i.length;a<s;a++)i[a]===n&&i.splice(a,1)}}),C.util.addListener=a,C.util.removeListener=s;var h=function(t){return t.clientX},d=function(t){return t.clientY};function p(t,e,n){var r,i=t["touchend"===t.type?"changedTouches":"touches"];return i&&i[0]&&(r=i[0][n]),void 0===r&&(r=t[n]),r}C.isTouchSupported&&(h=function(t){return p(t,0,"clientX")},d=function(t){return p(t,0,"clientY")}),C.util.getPointer=function(t){t||(t=C.window.event);var e=C.util.getScrollLeftTop(t.target||("unknown"!=typeof t.srcElement?t.srcElement:null));return{x:h(t)+e.left,y:d(t)+e.top}}}(),w=C.document.createElement("div"),x=/alpha\s*\(\s*opacity\s*=\s*([^\)]+)\)/,_=function(t){return t},"string"==typeof w.style.opacity?_=function(t,e){return t.style.opacity=e,t}:"string"==typeof w.style.filter&&(_=function(t,e){var n=t.style;return t.currentStyle&&!t.currentStyle.hasLayout&&(n.zoom=1),x.test(n.filter)?n.filter=n.filter.replace(x,e=e>=.9999?"":"alpha(opacity="+100*e+")"):n.filter+=" alpha(opacity="+100*e+")",t}),C.util.setStyle=function(t,e){var n=t.style;if(!n)return t;if("string"==typeof e)return t.style.cssText+=";"+e,e.indexOf("opacity")>-1?_(t,e.match(/opacity:\s*(\d?\.?\d*)/)[1]):t;for(var r in e)"opacity"===r?_(t,e[r]):n["float"===r||"cssFloat"===r?void 0===n.styleFloat?"cssFloat":"styleFloat":r]=e[r];return t},function(){var t,e,n,r,i=Array.prototype.slice,o=function(t){return i.call(t,0)};try{t=o(C.document.childNodes)instanceof Array}catch(t){}function a(t,e){var n=C.document.createElement(t);for(var r in e)"class"===r?n.className=e[r]:"for"===r?n.htmlFor=e[r]:n.setAttribute(r,e[r]);return n}function s(t){for(var e=0,n=0,r=C.document.documentElement,i=C.document.body||{scrollLeft:0,scrollTop:0};t&&(t.parentNode||t.host)&&((t=t.parentNode||t.host)===C.document?(e=i.scrollLeft||r.scrollLeft||0,n=i.scrollTop||r.scrollTop||0):(e+=t.scrollLeft||0,n+=t.scrollTop||0),1!==t.nodeType||"fixed"!==t.style.position););return{left:e,top:n}}t||(o=function(t){for(var e=new Array(t.length),n=t.length;n--;)e[n]=t[n];return e}),e=C.document.defaultView&&C.document.defaultView.getComputedStyle?function(t,e){var n=C.document.defaultView.getComputedStyle(t,null);return n?n[e]:void 0}:function(t,e){var n=t.style[e];return!n&&t.currentStyle&&(n=t.currentStyle[e]),n},r="userSelect"in(n=C.document.documentElement.style)?"userSelect":"MozUserSelect"in n?"MozUserSelect":"WebkitUserSelect"in n?"WebkitUserSelect":"KhtmlUserSelect"in n?"KhtmlUserSelect":"",C.util.makeElementUnselectable=function(t){return void 0!==t.onselectstart&&(t.onselectstart=C.util.falseFunction),r?t.style[r]="none":"string"==typeof t.unselectable&&(t.unselectable="on"),t},C.util.makeElementSelectable=function(t){return void 0!==t.onselectstart&&(t.onselectstart=null),r?t.style[r]="":"string"==typeof t.unselectable&&(t.unselectable=""),t},C.util.getScript=function(t,e){var n=C.document.getElementsByTagName("head")[0],r=C.document.createElement("script"),i=!0;r.onload=r.onreadystatechange=function(t){if(i){if("string"==typeof this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState)return;i=!1,e(t||C.window.event),r=r.onload=r.onreadystatechange=null}},r.src=t,n.appendChild(r)},C.util.getById=function(t){return"string"==typeof t?C.document.getElementById(t):t},C.util.toArray=o,C.util.makeElement=a,C.util.addClass=function(t,e){t&&-1===(" "+t.className+" ").indexOf(" "+e+" ")&&(t.className+=(t.className?" ":"")+e)},C.util.wrapElement=function(t,e,n){return"string"==typeof e&&(e=a(e,n)),t.parentNode&&t.parentNode.replaceChild(e,t),e.appendChild(t),e},C.util.getScrollLeftTop=s,C.util.getElementOffset=function(t){var n,r,i=t&&t.ownerDocument,o={left:0,top:0},a={left:0,top:0},u={borderLeftWidth:"left",borderTopWidth:"top",paddingLeft:"left",paddingTop:"top"};if(!i)return a;for(var l in u)a[u[l]]+=parseInt(e(t,l),10)||0;return n=i.documentElement,void 0!==t.getBoundingClientRect&&(o=t.getBoundingClientRect()),r=s(t),{left:o.left+r.left-(n.clientLeft||0)+a.left,top:o.top+r.top-(n.clientTop||0)+a.top}},C.util.getElementStyle=e,C.util.getNodeCanvas=function(t){var e=C.jsdomImplForWrapper(t);return e._canvas||e._image}}(),function(){var t=function(){for(var t=[function(){return new ActiveXObject("Microsoft.XMLHTTP")},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml2.XMLHTTP.3.0")},function(){return new XMLHttpRequest}],e=t.length;e--;)try{if(t[e]())return t[e]}catch(t){}}();function e(){}C.util.request=function(n,r){r||(r={});var i=r.method?r.method.toUpperCase():"GET",o=r.onComplete||function(){},a=t(),s=r.body||r.parameters;return a.onreadystatechange=function(){4===a.readyState&&(o(a),a.onreadystatechange=e)},"GET"===i&&(s=null,"string"==typeof r.parameters&&(n=function(t,e){return t+(/\?/.test(t)?"&":"?")+e}(n,r.parameters))),a.open(i,n,!0),"POST"!==i&&"PUT"!==i||a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),a.send(s),a}}(),C.log=function(){},C.warn=function(){},"undefined"!=typeof console&&["log","warn"].forEach(function(t){void 0!==console[t]&&"function"==typeof console[t].apply&&(C[t]=function(){return console[t].apply(console,arguments)})}),function(){function t(){return!1}var e=C.window.requestAnimationFrame||C.window.webkitRequestAnimationFrame||C.window.mozRequestAnimationFrame||C.window.oRequestAnimationFrame||C.window.msRequestAnimationFrame||function(t){return C.window.setTimeout(t,1e3/60)},n=C.window.cancelAnimationFrame||C.window.clearTimeout;function r(){return e.apply(C.window,arguments)}C.util.animate=function(e){r(function(n){e||(e={});var i,o=n||+new Date,a=e.duration||500,s=o+a,u=e.onChange||t,l=e.abort||t,c=e.onComplete||t,f=e.easing||function(t,e,n,r){return-n*Math.cos(t/r*(Math.PI/2))+n+e},h="startValue"in e?e.startValue:0,d="endValue"in e?e.endValue:100,p=e.byValue||d-h;e.onStart&&e.onStart(),function t(n){if(l())c(d,1,1);else{var v=(i=n||+new Date)>s?a:i-o,g=v/a,m=f(v,h,p,a),y=Math.abs((m-h)/p);u(m,y,g),i>s?e.onComplete&&e.onComplete():r(t)}}(o)})},C.util.requestAnimFrame=r,C.util.cancelAnimFrame=function(){return n.apply(C.window,arguments)}}(),C.util.animateColor=function(t,e,n,r){var i=new C.Color(t).getSource(),o=new C.Color(e).getSource();C.util.animate(C.util.object.extend(r=r||{},{duration:n||500,startValue:i,endValue:o,byValue:o,easing:function(t,e,n,i){var o,a,s,u;return o=e,a=n,s=r.colorEasing?r.colorEasing(t,i):1-Math.cos(t/i*(Math.PI/2)),u="rgba("+parseInt(o[0]+s*(a[0]-o[0]),10)+","+parseInt(o[1]+s*(a[1]-o[1]),10)+","+parseInt(o[2]+s*(a[2]-o[2]),10),(u+=","+(o&&a?parseFloat(o[3]+s*(a[3]-o[3])):1))+")"}}))},function(){function t(t,e,n,r){return t<Math.abs(e)?(t=e,r=n/4):r=0===e&&0===t?n/(2*Math.PI)*Math.asin(1):n/(2*Math.PI)*Math.asin(e/t),{a:t,c:e,p:n,s:r}}function e(t,e,n){return t.a*Math.pow(2,10*(e-=1))*Math.sin((e*n-t.s)*(2*Math.PI)/t.p)}function n(t,e,n,i){return n-r(i-t,0,n,i)+e}function r(t,e,n,r){return(t/=r)<1/2.75?n*(7.5625*t*t)+e:t<2/2.75?n*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?n*(7.5625*(t-=2.25/2.75)*t+.9375)+e:n*(7.5625*(t-=2.625/2.75)*t+.984375)+e}C.util.ease={easeInQuad:function(t,e,n,r){return n*(t/=r)*t+e},easeOutQuad:function(t,e,n,r){return-n*(t/=r)*(t-2)+e},easeInOutQuad:function(t,e,n,r){return(t/=r/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e},easeInCubic:function(t,e,n,r){return n*(t/=r)*t*t+e},easeOutCubic:function(t,e,n,r){return n*((t=t/r-1)*t*t+1)+e},easeInOutCubic:function(t,e,n,r){return(t/=r/2)<1?n/2*t*t*t+e:n/2*((t-=2)*t*t+2)+e},easeInQuart:function(t,e,n,r){return n*(t/=r)*t*t*t+e},easeOutQuart:function(t,e,n,r){return-n*((t=t/r-1)*t*t*t-1)+e},easeInOutQuart:function(t,e,n,r){return(t/=r/2)<1?n/2*t*t*t*t+e:-n/2*((t-=2)*t*t*t-2)+e},easeInQuint:function(t,e,n,r){return n*(t/=r)*t*t*t*t+e},easeOutQuint:function(t,e,n,r){return n*((t=t/r-1)*t*t*t*t+1)+e},easeInOutQuint:function(t,e,n,r){return(t/=r/2)<1?n/2*t*t*t*t*t+e:n/2*((t-=2)*t*t*t*t+2)+e},easeInSine:function(t,e,n,r){return-n*Math.cos(t/r*(Math.PI/2))+n+e},easeOutSine:function(t,e,n,r){return n*Math.sin(t/r*(Math.PI/2))+e},easeInOutSine:function(t,e,n,r){return-n/2*(Math.cos(Math.PI*t/r)-1)+e},easeInExpo:function(t,e,n,r){return 0===t?e:n*Math.pow(2,10*(t/r-1))+e},easeOutExpo:function(t,e,n,r){return t===r?e+n:n*(1-Math.pow(2,-10*t/r))+e},easeInOutExpo:function(t,e,n,r){return 0===t?e:t===r?e+n:(t/=r/2)<1?n/2*Math.pow(2,10*(t-1))+e:n/2*(2-Math.pow(2,-10*--t))+e},easeInCirc:function(t,e,n,r){return-n*(Math.sqrt(1-(t/=r)*t)-1)+e},easeOutCirc:function(t,e,n,r){return n*Math.sqrt(1-(t=t/r-1)*t)+e},easeInOutCirc:function(t,e,n,r){return(t/=r/2)<1?-n/2*(Math.sqrt(1-t*t)-1)+e:n/2*(Math.sqrt(1-(t-=2)*t)+1)+e},easeInElastic:function(n,r,i,o){var a=0;return 0===n?r:1==(n/=o)?r+i:(a||(a=.3*o),-e(t(i,i,a,1.70158),n,o)+r)},easeOutElastic:function(e,n,r,i){var o=0,a=r;if(0===e)return n;if(1==(e/=i))return n+r;o||(o=.3*i);var s=t(a,r,o,1.70158);return s.a*Math.pow(2,-10*e)*Math.sin((e*i-s.s)*(2*Math.PI)/s.p)+s.c+n},easeInOutElastic:function(n,r,i,o){var a=0,s=i;if(0===n)return r;if(2==(n/=o/2))return r+i;a||(a=o*(.3*1.5));var u=t(s,i,a,1.70158);return n<1?-.5*e(u,n,o)+r:u.a*Math.pow(2,-10*(n-=1))*Math.sin((n*o-u.s)*(2*Math.PI)/u.p)*.5+u.c+r},easeInBack:function(t,e,n,r,i){return void 0===i&&(i=1.70158),n*(t/=r)*t*((i+1)*t-i)+e},easeOutBack:function(t,e,n,r,i){return void 0===i&&(i=1.70158),n*((t=t/r-1)*t*((i+1)*t+i)+1)+e},easeInOutBack:function(t,e,n,r,i){return void 0===i&&(i=1.70158),(t/=r/2)<1?n/2*(t*t*((1+(i*=1.525))*t-i))+e:n/2*((t-=2)*t*((1+(i*=1.525))*t+i)+2)+e},easeInBounce:n,easeOutBounce:r,easeInOutBounce:function(t,e,i,o){return t<o/2?.5*n(2*t,0,i,o)+e:.5*r(2*t-o,0,i,o)+.5*i+e}}}(),function(t){"use strict";var n=e.fabric||(e.fabric={}),r=n.util.object.extend,i=n.util.object.clone,o=n.util.toFixed,a=n.util.parseUnit,s=n.util.multiplyTransformMatrices,u={cx:"left",x:"left",r:"radius",cy:"top",y:"top",display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity"},l={stroke:"strokeOpacity",fill:"fillOpacity"};function c(t){return t in u?u[t]:t}function f(t,e,r,i){var o,u="[object Array]"===Object.prototype.toString.call(e);if("fill"!==t&&"stroke"!==t||"none"!==e)if("strokeDashArray"===t)e="none"===e?null:e.replace(/,/g," ").split(/\s+/).map(function(t){return parseFloat(t)});else if("transformMatrix"===t)e=r&&r.transformMatrix?s(r.transformMatrix,n.parseTransformAttribute(e)):n.parseTransformAttribute(e);else if("visible"===t)e="none"!==e&&"hidden"!==e,r&&!1===r.visible&&(e=!1);else if("opacity"===t)e=parseFloat(e),r&&void 0!==r.opacity&&(e*=r.opacity);else if("textAnchor"===t)e="start"===e?"left":"end"===e?"right":"center";else if("charSpacing"===t)o=a(e,i)/i*1e3;else if("paintFirst"===t){var l=e.indexOf("fill"),c=e.indexOf("stroke");e="fill",l>-1&&c>-1&&c<l?e="stroke":-1===l&&c>-1&&(e="stroke")}else o=u?e.map(a):a(e,i);else e="";return!u&&isNaN(o)?e:o}function h(t){return new RegExp("^("+t.join("|")+")\\b","i")}function d(t,e){var n,r,i,o=[];for(r=0,i=e.length;r<i;r++)n=t.getElementsByTagName(e[r]),o=o.concat(Array.prototype.slice.call(n));return o}function p(t,e){var n,r=!0;return(n=v(t,e.pop()))&&e.length&&(r=function(t,e){for(var n,r=!0;t.parentNode&&1===t.parentNode.nodeType&&e.length;)r&&(n=e.pop()),r=v(t=t.parentNode,n);return 0===e.length}(t,e)),n&&r&&0===e.length}function v(t,e){var n,r,i=t.nodeName,o=t.getAttribute("class"),a=t.getAttribute("id");if(n=new RegExp("^"+i,"i"),e=e.replace(n,""),a&&e.length&&(n=new RegExp("#"+a+"(?![a-zA-Z\\-]+)","i"),e=e.replace(n,"")),o&&e.length)for(r=(o=o.split(" ")).length;r--;)n=new RegExp("\\."+o[r]+"(?![a-zA-Z\\-]+)","i"),e=e.replace(n,"");return 0===e.length}function g(t,e){var n;if(t.getElementById&&(n=t.getElementById(e)),n)return n;var r,i,o,a=t.getElementsByTagName("*");for(i=0,o=a.length;i<o;i++)if(e===(r=a[i]).getAttribute("id"))return r}n.svgValidTagNamesRegEx=h(["path","circle","polygon","polyline","ellipse","rect","line","image","text","linearGradient","radialGradient","stop"]),n.svgViewBoxElementsRegEx=h(["symbol","image","marker","pattern","view","svg"]),n.svgInvalidAncestorsRegEx=h(["pattern","defs","symbol","metadata","clipPath","mask","desc"]),n.svgValidParentsRegEx=h(["symbol","g","a","svg"]),n.cssRules={},n.gradientDefs={},n.parseTransformAttribute=function(){function t(t,e,r){t[r]=Math.tan(n.util.degreesToRadians(e[0]))}var e=[1,0,0,1,0,0],r=n.reNum,i="(?:\\s+,?\\s*|,\\s*)",o="(?:(?:(matrix)\\s*\\(\\s*("+r+")"+i+"("+r+")"+i+"("+r+")"+i+"("+r+")"+i+"("+r+")"+i+"("+r+")\\s*\\))|(?:(translate)\\s*\\(\\s*("+r+")(?:"+i+"("+r+"))?\\s*\\))|(?:(scale)\\s*\\(\\s*("+r+")(?:"+i+"("+r+"))?\\s*\\))|(?:(rotate)\\s*\\(\\s*("+r+")(?:"+i+"("+r+")"+i+"("+r+"))?\\s*\\))|(?:(skewX)\\s*\\(\\s*("+r+")\\s*\\))|(?:(skewY)\\s*\\(\\s*("+r+")\\s*\\)))",a=new RegExp("^\\s*(?:(?:"+o+"(?:"+i+"*"+o+")*)?)\\s*$"),s=new RegExp(o,"g");return function(r){var i=e.concat(),u=[];if(!r||r&&!a.test(r))return i;r.replace(s,function(r){var a=new RegExp(o).exec(r).filter(function(t){return!!t}),s=a[1],l=a.slice(2).map(parseFloat);switch(s){case"translate":!function(t,e){t[4]=e[0],2===e.length&&(t[5]=e[1])}(i,l);break;case"rotate":l[0]=n.util.degreesToRadians(l[0]),function(t,e){var r=n.util.cos(e[0]),i=n.util.sin(e[0]),o=0,a=0;3===e.length&&(o=e[1],a=e[2]),t[0]=r,t[1]=i,t[2]=-i,t[3]=r,t[4]=o-(r*o-i*a),t[5]=a-(i*o+r*a)}(i,l);break;case"scale":!function(t,e){var n=2===e.length?e[1]:e[0];t[0]=e[0],t[3]=n}(i,l);break;case"skewX":t(i,l,2);break;case"skewY":t(i,l,1);break;case"matrix":i=l}u.push(i.concat()),i=e.concat()});for(var l=u[0];u.length>1;)u.shift(),l=n.util.multiplyTransformMatrices(l,u[0]);return l}}();var m=new RegExp("^\\s*("+n.reNum+"+)\\s*,?\\s*("+n.reNum+"+)\\s*,?\\s*("+n.reNum+"+)\\s*,?\\s*("+n.reNum+"+)\\s*$");function y(t){var e,r,i,o,s,u,l=t.getAttribute("viewBox"),c=1,f=1,h=t.getAttribute("width"),d=t.getAttribute("height"),p=t.getAttribute("x")||0,v=t.getAttribute("y")||0,g=t.getAttribute("preserveAspectRatio")||"",y=!l||!n.svgViewBoxElementsRegEx.test(t.nodeName)||!(l=l.match(m)),b=!h||!d||"100%"===h||"100%"===d,w=y&&b,x={},_="",C=0,S=0;if(x.width=0,x.height=0,x.toBeParsed=w,w)return x;if(y)return x.width=a(h),x.height=a(d),x;if(e=-parseFloat(l[1]),r=-parseFloat(l[2]),i=parseFloat(l[3]),o=parseFloat(l[4]),b?(x.width=i,x.height=o):(x.width=a(h),x.height=a(d),c=x.width/i,f=x.height/o),"none"!==(g=n.util.parsePreserveAspectRatioAttribute(g)).alignX&&("meet"===g.meetOrSlice&&(f=c=c>f?f:c),"slice"===g.meetOrSlice&&(f=c=c>f?c:f),C=x.width-i*c,S=x.height-o*c,"Mid"===g.alignX&&(C/=2),"Mid"===g.alignY&&(S/=2),"Min"===g.alignX&&(C=0),"Min"===g.alignY&&(S=0)),1===c&&1===f&&0===e&&0===r&&0===p&&0===v)return x;if((p||v)&&(_=" translate("+a(p)+" "+a(v)+") "),s=_+" matrix("+c+" 0 0 "+f+" "+(e*c+C)+" "+(r*f+S)+") ","svg"===t.nodeName){for(u=t.ownerDocument.createElement("g");t.firstChild;)u.appendChild(t.firstChild);t.appendChild(u)}else s=(u=t).getAttribute("transform")+s;return u.setAttribute("transform",s),x}n.parseSVGDocument=function(t,e,r,o){if(t){!function(t){for(var e=d(t,["use","svg:use"]),n=0;e.length&&n<e.length;){var r,i,o,a,s=e[n],u=s.getAttribute("xlink:href").substr(1),l=s.getAttribute("x")||0,c=s.getAttribute("y")||0,f=g(t,u).cloneNode(!0),h=(f.getAttribute("transform")||"")+" translate("+l+", "+c+")",p=e.length;if(y(f),/^svg$/i.test(f.nodeName)){var v=f.ownerDocument.createElement("g");for(i=0,a=(o=f.attributes).length;i<a;i++)r=o.item(i),v.setAttribute(r.nodeName,r.nodeValue);for(;f.firstChild;)v.appendChild(f.firstChild);f=v}for(i=0,a=(o=s.attributes).length;i<a;i++)"x"!==(r=o.item(i)).nodeName&&"y"!==r.nodeName&&"xlink:href"!==r.nodeName&&("transform"===r.nodeName?h=r.nodeValue+" "+h:f.setAttribute(r.nodeName,r.nodeValue));f.setAttribute("transform",h),f.setAttribute("instantiated_by_use","1"),f.removeAttribute("id"),s.parentNode.replaceChild(f,s),e.length===p&&n++}}(t);var a,s,u=n.Object.__uid++,l=y(t),c=n.util.toArray(t.getElementsByTagName("*"));if(l.crossOrigin=o&&o.crossOrigin,l.svgUid=u,0===c.length&&n.isLikelyNode){var f=[];for(a=0,s=(c=t.selectNodes('//*[name(.)!="svg"]')).length;a<s;a++)f[a]=c[a];c=f}var h=c.filter(function(t){return y(t),n.svgValidTagNamesRegEx.test(t.nodeName.replace("svg:",""))&&!function(t,e){for(;t&&(t=t.parentNode);)if(t.nodeName&&e.test(t.nodeName.replace("svg:",""))&&!t.getAttribute("instantiated_by_use"))return!0;return!1}(t,n.svgInvalidAncestorsRegEx)});!h||h&&!h.length?e&&e([],{}):(n.gradientDefs[u]=n.getGradientDefs(t),n.cssRules[u]=n.getCSSRules(t),n.parseElements(h,function(t,n){e&&e(t,l,n,c)},i(l),r,o))}};var b=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+n.reNum+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+n.reNum+"))?\\s+(.*)");r(n,{parseFontDeclaration:function(t,e){var n=t.match(b);if(n){var r=n[1],i=n[3],o=n[4],s=n[5],u=n[6];r&&(e.fontStyle=r),i&&(e.fontWeight=isNaN(parseFloat(i))?i:parseFloat(i)),o&&(e.fontSize=a(o)),u&&(e.fontFamily=u),s&&(e.lineHeight="normal"===s?1:s)}},getGradientDefs:function(t){var e,n,r,i=d(t,["linearGradient","radialGradient","svg:linearGradient","svg:radialGradient"]),o=0,a={},s={};for(o=i.length;o--;)r=(e=i[o]).getAttribute("xlink:href"),n=e.getAttribute("id"),r&&(s[n]=r.substr(1)),a[n]=e;for(n in s){var u=a[s[n]].cloneNode(!0);for(e=a[n];u.firstChild;)e.appendChild(u.firstChild)}return a},parseAttributes:function(t,e,i){if(t){var a,s,u={};void 0===i&&(i=t.getAttribute("svgUid")),t.parentNode&&n.svgValidParentsRegEx.test(t.parentNode.nodeName)&&(u=n.parseAttributes(t.parentNode,e,i)),s=u&&u.fontSize||t.getAttribute("font-size")||n.Text.DEFAULT_SVG_FONT_SIZE;var h=e.reduce(function(e,n){return(a=t.getAttribute(n))&&(e[n]=a),e},{});h=r(h,r(function(t,e){var r={};for(var i in n.cssRules[e])if(p(t,i.split(" ")))for(var o in n.cssRules[e][i])r[o]=n.cssRules[e][i][o];return r}(t,i),n.parseStyleAttribute(t)));var d,v,g={};for(var m in h)v=f(d=c(m),h[m],u,s),g[d]=v;g&&g.font&&n.parseFontDeclaration(g.font,g);var y=r(u,g);return n.svgValidParentsRegEx.test(t.nodeName)?y:function(t){for(var e in l)if(void 0!==t[l[e]]&&""!==t[e]){if(void 0===t[e]){if(!n.Object.prototype[e])continue;t[e]=n.Object.prototype[e]}if(0!==t[e].indexOf("url(")){var r=new n.Color(t[e]);t[e]=r.setAlpha(o(r.getAlpha()*t[l[e]],2)).toRgba()}}return t}(y)}},parseElements:function(t,e,r,i,o){new n.ElementsParser(t,e,r,i,o).parse()},parseStyleAttribute:function(t){var e={},n=t.getAttribute("style");return n?("string"==typeof n?function(t,e){var n,r;t.replace(/;\s*$/,"").split(";").forEach(function(t){var i=t.split(":");n=i[0].trim().toLowerCase(),r=i[1].trim(),e[n]=r})}(n,e):function(t,e){for(var n in t)void 0!==t[n]&&(e[n.toLowerCase()]=t[n])}(n,e),e):e},parsePointsAttribute:function(t){if(!t)return null;var e,n,r=[];for(e=0,n=(t=(t=t.replace(/,/g," ").trim()).split(/\s+/)).length;e<n;e+=2)r.push({x:parseFloat(t[e]),y:parseFloat(t[e+1])});return r},getCSSRules:function(t){var e,r,i=t.getElementsByTagName("style"),o={};for(e=0,r=i.length;e<r;e++){var a=i[e].textContent||i[e].text;""!==(a=a.replace(/\/\*[\s\S]*?\*\//g,"")).trim()&&a.match(/[^{]*\{[\s\S]*?\}/g).map(function(t){return t.trim()}).forEach(function(t){var i=t.match(/([\s\S]*?)\s*\{([^}]*)\}/),a={},s=i[2].trim().replace(/;$/,"").split(/\s*;\s*/);for(e=0,r=s.length;e<r;e++){var u=s[e].split(/\s*:\s*/);a[u[0]]=u[1]}(t=i[1]).split(",").forEach(function(t){""!==(t=t.replace(/^svg/i,"").trim())&&(o[t]?n.util.object.extend(o[t],a):o[t]=n.util.object.clone(a))})})}return o},loadSVGFromURL:function(t,e,r,i){t=t.replace(/^\n\s*/,"").trim(),new n.util.request(t,{method:"get",onComplete:function(t){var o=t.responseXML;o&&!o.documentElement&&n.window.ActiveXObject&&t.responseText&&((o=new ActiveXObject("Microsoft.XMLDOM")).async="false",o.loadXML(t.responseText.replace(/<!DOCTYPE[\s\S]*?(\[[\s\S]*\])*?>/i,""))),o&&o.documentElement||e&&e(null),n.parseSVGDocument(o.documentElement,function(t,n,r,i){e&&e(t,n,r,i)},r,i)}})},loadSVGFromString:function(t,e,r,i){var o;if(t=t.trim(),"undefined"!=typeof DOMParser){var a=new DOMParser;a&&a.parseFromString&&(o=a.parseFromString(t,"text/xml"))}else n.window.ActiveXObject&&((o=new ActiveXObject("Microsoft.XMLDOM")).async="false",o.loadXML(t.replace(/<!DOCTYPE[\s\S]*?(\[[\s\S]*\])*?>/i,"")));n.parseSVGDocument(o.documentElement,function(t,n,r,i){e(t,n,r,i)},r,i)}})}(),C.ElementsParser=function(t,e,n,r,i){this.elements=t,this.callback=e,this.options=n,this.reviver=r,this.svgUid=n&&n.svgUid||0,this.parsingOptions=i,this.regexUrl=/^url\(['"]?#([^'"]+)['"]?\)/g},C.ElementsParser.prototype.parse=function(){this.instances=new Array(this.elements.length),this.numElements=this.elements.length,this.createObjects()},C.ElementsParser.prototype.createObjects=function(){for(var t=0,e=this.elements.length;t<e;t++)this.elements[t].setAttribute("svgUid",this.svgUid),function(t,e){setTimeout(function(){t.createObject(t.elements[e],e)},0)}(this,t)},C.ElementsParser.prototype.createObject=function(t,e){var n=C[C.util.string.capitalize(t.tagName.replace("svg:",""))];if(n&&n.fromElement)try{this._createObject(n,t,e)}catch(t){C.log(t)}else this.checkIfDone()},C.ElementsParser.prototype._createObject=function(t,e,n){t.fromElement(e,this.createCallback(n,e),this.options)},C.ElementsParser.prototype.createCallback=function(t,e){var n=this;return function(r){var i;n.resolveGradient(r,"fill"),n.resolveGradient(r,"stroke"),r instanceof C.Image&&(i=r.parsePreserveAspectRatioAttribute(e)),r._removeTransformMatrix(i),n.reviver&&n.reviver(e,r),n.instances[t]=r,n.checkIfDone()}},C.ElementsParser.prototype.resolveGradient=function(t,e){var n=t[e];if(/^url\(/.test(n)){var r=this.regexUrl.exec(n)[1];this.regexUrl.lastIndex=0,C.gradientDefs[this.svgUid][r]&&t.set(e,C.Gradient.fromElement(C.gradientDefs[this.svgUid][r],t))}},C.ElementsParser.prototype.checkIfDone=function(){0==--this.numElements&&(this.instances=this.instances.filter(function(t){return null!=t}),this.callback(this.instances,this.elements))},function(t){"use strict";var n=e.fabric||(e.fabric={});function r(t,e){this.x=t,this.y=e}n.Point?n.warn("fabric.Point is already defined"):(n.Point=r,r.prototype={type:"point",constructor:r,add:function(t){return new r(this.x+t.x,this.y+t.y)},addEquals:function(t){return this.x+=t.x,this.y+=t.y,this},scalarAdd:function(t){return new r(this.x+t,this.y+t)},scalarAddEquals:function(t){return this.x+=t,this.y+=t,this},subtract:function(t){return new r(this.x-t.x,this.y-t.y)},subtractEquals:function(t){return this.x-=t.x,this.y-=t.y,this},scalarSubtract:function(t){return new r(this.x-t,this.y-t)},scalarSubtractEquals:function(t){return this.x-=t,this.y-=t,this},multiply:function(t){return new r(this.x*t,this.y*t)},multiplyEquals:function(t){return this.x*=t,this.y*=t,this},divide:function(t){return new r(this.x/t,this.y/t)},divideEquals:function(t){return this.x/=t,this.y/=t,this},eq:function(t){return this.x===t.x&&this.y===t.y},lt:function(t){return this.x<t.x&&this.y<t.y},lte:function(t){return this.x<=t.x&&this.y<=t.y},gt:function(t){return this.x>t.x&&this.y>t.y},gte:function(t){return this.x>=t.x&&this.y>=t.y},lerp:function(t,e){return void 0===e&&(e=.5),e=Math.max(Math.min(1,e),0),new r(this.x+(t.x-this.x)*e,this.y+(t.y-this.y)*e)},distanceFrom:function(t){var e=this.x-t.x,n=this.y-t.y;return Math.sqrt(e*e+n*n)},midPointFrom:function(t){return this.lerp(t)},min:function(t){return new r(Math.min(this.x,t.x),Math.min(this.y,t.y))},max:function(t){return new r(Math.max(this.x,t.x),Math.max(this.y,t.y))},toString:function(){return this.x+","+this.y},setXY:function(t,e){return this.x=t,this.y=e,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setFromPoint:function(t){return this.x=t.x,this.y=t.y,this},swap:function(t){var e=this.x,n=this.y;this.x=t.x,this.y=t.y,t.x=e,t.y=n},clone:function(){return new r(this.x,this.y)}})}(),function(t){"use strict";var n=e.fabric||(e.fabric={});function r(t){this.status=t,this.points=[]}n.Intersection?n.warn("fabric.Intersection is already defined"):(n.Intersection=r,n.Intersection.prototype={constructor:r,appendPoint:function(t){return this.points.push(t),this},appendPoints:function(t){return this.points=this.points.concat(t),this}},n.Intersection.intersectLineLine=function(t,e,i,o){var a,s=(o.x-i.x)*(t.y-i.y)-(o.y-i.y)*(t.x-i.x),u=(e.x-t.x)*(t.y-i.y)-(e.y-t.y)*(t.x-i.x),l=(o.y-i.y)*(e.x-t.x)-(o.x-i.x)*(e.y-t.y);if(0!==l){var c=s/l,f=u/l;0<=c&&c<=1&&0<=f&&f<=1?(a=new r("Intersection")).appendPoint(new n.Point(t.x+c*(e.x-t.x),t.y+c*(e.y-t.y))):a=new r}else a=new r(0===s||0===u?"Coincident":"Parallel");return a},n.Intersection.intersectLinePolygon=function(t,e,n){var i,o,a=new r,s=n.length;for(o=0;o<s;o++)i=r.intersectLineLine(t,e,n[o],n[(o+1)%s]),a.appendPoints(i.points);return a.points.length>0&&(a.status="Intersection"),a},n.Intersection.intersectPolygonPolygon=function(t,e){var n,i=new r,o=t.length;for(n=0;n<o;n++){var a=r.intersectLinePolygon(t[n],t[(n+1)%o],e);i.appendPoints(a.points)}return i.points.length>0&&(i.status="Intersection"),i},n.Intersection.intersectPolygonRectangle=function(t,e,i){var o=e.min(i),a=e.max(i),s=new n.Point(a.x,o.y),u=new n.Point(o.x,a.y),l=r.intersectLinePolygon(o,s,t),c=r.intersectLinePolygon(s,a,t),f=r.intersectLinePolygon(a,u,t),h=r.intersectLinePolygon(u,o,t),d=new r;return d.appendPoints(l.points),d.appendPoints(c.points),d.appendPoints(f.points),d.appendPoints(h.points),d.points.length>0&&(d.status="Intersection"),d})}(),function(t){"use strict";var n=e.fabric||(e.fabric={});function r(t){t?this._tryParsingColor(t):this.setSource([0,0,0,1])}function i(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}n.Color?n.warn("fabric.Color is already defined."):(n.Color=r,n.Color.prototype={_tryParsingColor:function(t){var e;t in r.colorNameMap&&(t=r.colorNameMap[t]),"transparent"===t&&(e=[255,255,255,0]),e||(e=r.sourceFromHex(t)),e||(e=r.sourceFromRgb(t)),e||(e=r.sourceFromHsl(t)),e||(e=[0,0,0,1]),e&&this.setSource(e)},_rgbToHsl:function(t,e,r){var i,o,a,s=n.util.array.max([t/=255,e/=255,r/=255]),u=n.util.array.min([t,e,r]);if(a=(s+u)/2,s===u)i=o=0;else{var l=s-u;switch(o=a>.5?l/(2-s-u):l/(s+u),s){case t:i=(e-r)/l+(e<r?6:0);break;case e:i=(r-t)/l+2;break;case r:i=(t-e)/l+4}i/=6}return[Math.round(360*i),Math.round(100*o),Math.round(100*a)]},getSource:function(){return this._source},setSource:function(t){this._source=t},toRgb:function(){var t=this.getSource();return"rgb("+t[0]+","+t[1]+","+t[2]+")"},toRgba:function(){var t=this.getSource();return"rgba("+t[0]+","+t[1]+","+t[2]+","+t[3]+")"},toHsl:function(){var t=this.getSource(),e=this._rgbToHsl(t[0],t[1],t[2]);return"hsl("+e[0]+","+e[1]+"%,"+e[2]+"%)"},toHsla:function(){var t=this.getSource(),e=this._rgbToHsl(t[0],t[1],t[2]);return"hsla("+e[0]+","+e[1]+"%,"+e[2]+"%,"+t[3]+")"},toHex:function(){var t,e,n,r=this.getSource();return t=1===(t=r[0].toString(16)).length?"0"+t:t,e=1===(e=r[1].toString(16)).length?"0"+e:e,n=1===(n=r[2].toString(16)).length?"0"+n:n,t.toUpperCase()+e.toUpperCase()+n.toUpperCase()},toHexa:function(){var t,e=this.getSource();return t=1===(t=(t=Math.round(255*e[3])).toString(16)).length?"0"+t:t,this.toHex()+t.toUpperCase()},getAlpha:function(){return this.getSource()[3]},setAlpha:function(t){var e=this.getSource();return e[3]=t,this.setSource(e),this},toGrayscale:function(){var t=this.getSource(),e=parseInt((.3*t[0]+.59*t[1]+.11*t[2]).toFixed(0),10);return this.setSource([e,e,e,t[3]]),this},toBlackWhite:function(t){var e=this.getSource(),n=(.3*e[0]+.59*e[1]+.11*e[2]).toFixed(0),r=e[3];return t=t||127,n=Number(n)<Number(t)?0:255,this.setSource([n,n,n,r]),this},overlayWith:function(t){t instanceof r||(t=new r(t));var e,n=[],i=this.getAlpha(),o=this.getSource(),a=t.getSource();for(e=0;e<3;e++)n.push(Math.round(.5*o[e]+.5*a[e]));return n[3]=i,this.setSource(n),this}},n.Color.reRGBa=/^rgba?\(\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*(?:\s*,\s*((?:\d*\.?\d+)?)\s*)?\)$/i,n.Color.reHSLa=/^hsla?\(\s*(\d{1,3})\s*,\s*(\d{1,3}\%)\s*,\s*(\d{1,3}\%)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/i,n.Color.reHex=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,n.Color.colorNameMap={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"},n.Color.fromRgb=function(t){return r.fromSource(r.sourceFromRgb(t))},n.Color.sourceFromRgb=function(t){var e=t.match(r.reRGBa);if(e){var n=parseInt(e[1],10)/(/%$/.test(e[1])?100:1)*(/%$/.test(e[1])?255:1),i=parseInt(e[2],10)/(/%$/.test(e[2])?100:1)*(/%$/.test(e[2])?255:1),o=parseInt(e[3],10)/(/%$/.test(e[3])?100:1)*(/%$/.test(e[3])?255:1);return[parseInt(n,10),parseInt(i,10),parseInt(o,10),e[4]?parseFloat(e[4]):1]}},n.Color.fromRgba=r.fromRgb,n.Color.fromHsl=function(t){return r.fromSource(r.sourceFromHsl(t))},n.Color.sourceFromHsl=function(t){var e=t.match(r.reHSLa);if(e){var n,o,a,s=(parseFloat(e[1])%360+360)%360/360,u=parseFloat(e[2])/(/%$/.test(e[2])?100:1),l=parseFloat(e[3])/(/%$/.test(e[3])?100:1);if(0===u)n=o=a=l;else{var c=l<=.5?l*(u+1):l+u-l*u,f=2*l-c;n=i(f,c,s+1/3),o=i(f,c,s),a=i(f,c,s-1/3)}return[Math.round(255*n),Math.round(255*o),Math.round(255*a),e[4]?parseFloat(e[4]):1]}},n.Color.fromHsla=r.fromHsl,n.Color.fromHex=function(t){return r.fromSource(r.sourceFromHex(t))},n.Color.sourceFromHex=function(t){if(t.match(r.reHex)){var e=t.slice(t.indexOf("#")+1),n=3===e.length||4===e.length,i=8===e.length||4===e.length,o=n?e.charAt(0)+e.charAt(0):e.substring(0,2),a=n?e.charAt(1)+e.charAt(1):e.substring(2,4),s=n?e.charAt(2)+e.charAt(2):e.substring(4,6),u=i?n?e.charAt(3)+e.charAt(3):e.substring(6,8):"FF";return[parseInt(o,16),parseInt(a,16),parseInt(s,16),parseFloat((parseInt(u,16)/255).toFixed(2))]}},n.Color.fromSource=function(t){var e=new r;return e.setSource(t),e})}(),function(){function t(t){var e,n,r,i,o=t.getAttribute("style"),a=t.getAttribute("offset")||0;if(a=(a=parseFloat(a)/(/%$/.test(a)?100:1))<0?0:a>1?1:a,o){var s=o.split(/\s*;\s*/);for(""===s[s.length-1]&&s.pop(),i=s.length;i--;){var u=s[i].split(/\s*:\s*/),l=u[0].trim(),c=u[1].trim();"stop-color"===l?e=c:"stop-opacity"===l&&(r=c)}}return e||(e=t.getAttribute("stop-color")||"rgb(0,0,0)"),r||(r=t.getAttribute("stop-opacity")),n=(e=new C.Color(e)).getAlpha(),r=isNaN(parseFloat(r))?1:parseFloat(r),r*=n,{offset:a,color:e.toRgb(),opacity:r}}var e=C.util.object.clone;function n(t,e,n){var r,i=0,o=1,a="";for(var s in e)"Infinity"===e[s]?e[s]=1:"-Infinity"===e[s]&&(e[s]=0),r=parseFloat(e[s],10),o="string"==typeof e[s]&&/^(\d+\.\d+)%|(\d+)%$/.test(e[s])?.01:1,"x1"===s||"x2"===s||"r2"===s?(o*="objectBoundingBox"===n?t.width:1,i="objectBoundingBox"===n&&t.left||0):"y1"!==s&&"y2"!==s||(o*="objectBoundingBox"===n?t.height:1,i="objectBoundingBox"===n&&t.top||0),e[s]=r*o+i;if("ellipse"===t.type&&null!==e.r2&&"objectBoundingBox"===n&&t.rx!==t.ry){var u=t.ry/t.rx;a=" scale(1, "+u+")",e.y1&&(e.y1/=u),e.y2&&(e.y2/=u)}return a}C.Gradient=C.util.createClass({offsetX:0,offsetY:0,initialize:function(t){t||(t={});var e={};this.id=C.Object.__uid++,this.type=t.type||"linear",e={x1:t.coords.x1||0,y1:t.coords.y1||0,x2:t.coords.x2||0,y2:t.coords.y2||0},"radial"===this.type&&(e.r1=t.coords.r1||0,e.r2=t.coords.r2||0),this.coords=e,this.colorStops=t.colorStops.slice(),t.gradientTransform&&(this.gradientTransform=t.gradientTransform),this.offsetX=t.offsetX||this.offsetX,this.offsetY=t.offsetY||this.offsetY},addColorStop:function(t){for(var e in t){var n=new C.Color(t[e]);this.colorStops.push({offset:parseFloat(e),color:n.toRgb(),opacity:n.getAlpha()})}return this},toObject:function(t){var e={type:this.type,coords:this.coords,colorStops:this.colorStops,offsetX:this.offsetX,offsetY:this.offsetY,gradientTransform:this.gradientTransform?this.gradientTransform.concat():this.gradientTransform};return C.util.populateWithProperties(this,e,t),e},toSVG:function(t){var n,r,i,o,a=e(this.coords,!0),s=e(this.colorStops,!0),u=a.r1>a.r2,l=t.width/2,c=t.height/2;for(var f in s.sort(function(t,e){return t.offset-e.offset}),"path"===t.type&&(l-=t.pathOffset.x,c-=t.pathOffset.y),a)"x1"===f||"x2"===f?a[f]+=this.offsetX-l:"y1"!==f&&"y2"!==f||(a[f]+=this.offsetY-c);if(o='id="SVGID_'+this.id+'" gradientUnits="userSpaceOnUse"',this.gradientTransform&&(o+=' gradientTransform="matrix('+this.gradientTransform.join(" ")+')" '),"linear"===this.type?i=["<linearGradient ",o,' x1="',a.x1,'" y1="',a.y1,'" x2="',a.x2,'" y2="',a.y2,'">\n']:"radial"===this.type&&(i=["<radialGradient ",o,' cx="',u?a.x1:a.x2,'" cy="',u?a.y1:a.y2,'" r="',u?a.r1:a.r2,'" fx="',u?a.x2:a.x1,'" fy="',u?a.y2:a.y1,'">\n']),"radial"===this.type){if(u)for((s=s.concat()).reverse(),n=0,r=s.length;n<r;n++)s[n].offset=1-s[n].offset;var h=Math.min(a.r1,a.r2);if(h>0){var d=h/Math.max(a.r1,a.r2);for(n=0,r=s.length;n<r;n++)s[n].offset+=d*(1-s[n].offset)}}for(n=0,r=s.length;n<r;n++){var p=s[n];i.push("<stop ",'offset="',100*p.offset+"%",'" style="stop-color:',p.color,void 0!==p.opacity?";stop-opacity: "+p.opacity:";",'"/>\n')}return i.push("linear"===this.type?"</linearGradient>\n":"</radialGradient>\n"),i.join("")},toLive:function(t){var e,n,r,i=C.util.object.clone(this.coords);if(this.type){for("linear"===this.type?e=t.createLinearGradient(i.x1,i.y1,i.x2,i.y2):"radial"===this.type&&(e=t.createRadialGradient(i.x1,i.y1,i.r1,i.x2,i.y2,i.r2)),n=0,r=this.colorStops.length;n<r;n++){var o=this.colorStops[n].color,a=this.colorStops[n].opacity,s=this.colorStops[n].offset;void 0!==a&&(o=new C.Color(o).setAlpha(a).toRgba()),e.addColorStop(s,o)}return e}}}),C.util.object.extend(C.Gradient,{fromElement:function(e,r){var i,o,a,s,u=e.getElementsByTagName("stop"),l=e.getAttribute("gradientUnits")||"objectBoundingBox",c=e.getAttribute("gradientTransform"),f=[];for("linear"==(i="linearGradient"===e.nodeName||"LINEARGRADIENT"===e.nodeName?"linear":"radial")?o=function(t){return{x1:t.getAttribute("x1")||0,y1:t.getAttribute("y1")||0,x2:t.getAttribute("x2")||"100%",y2:t.getAttribute("y2")||0}}(e):"radial"===i&&(o=function(t){return{x1:t.getAttribute("fx")||t.getAttribute("cx")||"50%",y1:t.getAttribute("fy")||t.getAttribute("cy")||"50%",r1:0,x2:t.getAttribute("cx")||"50%",y2:t.getAttribute("cy")||"50%",r2:t.getAttribute("r")||"50%"}}(e)),s=u.length;s--;)f.push(t(u[s]));a=n(r,o,l);var h=new C.Gradient({type:i,coords:o,colorStops:f,offsetX:-r.left,offsetY:-r.top});return(c||""!==a)&&(h.gradientTransform=C.parseTransformAttribute((c||"")+a)),h},forObject:function(t,e){return e||(e={}),n(t,e.coords,"userSpaceOnUse"),new C.Gradient(e)}})}(),function(){"use strict";var t=C.util.toFixed;C.Pattern=C.util.createClass({repeat:"repeat",offsetX:0,offsetY:0,crossOrigin:"",patternTransform:null,initialize:function(t,e){if(t||(t={}),this.id=C.Object.__uid++,this.setOptions(t),!t.source||t.source&&"string"!=typeof t.source)e&&e(this);else if(void 0!==C.util.getFunctionBody(t.source))this.source=new Function(C.util.getFunctionBody(t.source)),e&&e(this);else{var n=this;this.source=C.util.createImage(),C.util.loadImage(t.source,function(t){n.source=t,e&&e(n)},null,this.crossOrigin)}},toObject:function(e){var n,r,i=C.Object.NUM_FRACTION_DIGITS;return"function"==typeof this.source?n=String(this.source):"string"==typeof this.source.src?n=this.source.src:"object"==typeof this.source&&this.source.toDataURL&&(n=this.source.toDataURL()),r={type:"pattern",source:n,repeat:this.repeat,crossOrigin:this.crossOrigin,offsetX:t(this.offsetX,i),offsetY:t(this.offsetY,i),patternTransform:this.patternTransform?this.patternTransform.concat():null},C.util.populateWithProperties(this,r,e),r},toSVG:function(t){var e="function"==typeof this.source?this.source():this.source,n=e.width/t.width,r=e.height/t.height,i=this.offsetX/t.width,o=this.offsetY/t.height,a="";return"repeat-x"!==this.repeat&&"no-repeat"!==this.repeat||(r=1),"repeat-y"!==this.repeat&&"no-repeat"!==this.repeat||(n=1),e.src?a=e.src:e.toDataURL&&(a=e.toDataURL()),'<pattern id="SVGID_'+this.id+'" x="'+i+'" y="'+o+'" width="'+n+'" height="'+r+'">\n<image x="0" y="0" width="'+e.width+'" height="'+e.height+'" xlink:href="'+a+'"></image>\n</pattern>\n'},setOptions:function(t){for(var e in t)this[e]=t[e]},toLive:function(t){var e="function"==typeof this.source?this.source():this.source;if(!e)return"";if(void 0!==e.src){if(!e.complete)return"";if(0===e.naturalWidth||0===e.naturalHeight)return""}return t.createPattern(e,this.repeat)}})}(),function(t){"use strict";var n=e.fabric||(e.fabric={}),r=n.util.toFixed;n.Shadow?n.warn("fabric.Shadow is already defined."):(n.Shadow=n.util.createClass({color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,initialize:function(t){for(var e in"string"==typeof t&&(t=this._parseShadow(t)),t)this[e]=t[e];this.id=n.Object.__uid++},_parseShadow:function(t){var e=t.trim(),r=n.Shadow.reOffsetsAndBlur.exec(e)||[];return{color:(e.replace(n.Shadow.reOffsetsAndBlur,"")||"rgb(0,0,0)").trim(),offsetX:parseInt(r[1],10)||0,offsetY:parseInt(r[2],10)||0,blur:parseInt(r[3],10)||0}},toString:function(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")},toSVG:function(t){var e=40,i=40,o=n.Object.NUM_FRACTION_DIGITS,a=n.util.rotateVector({x:this.offsetX,y:this.offsetY},n.util.degreesToRadians(-t.angle)),s=new n.Color(this.color);return t.width&&t.height&&(e=100*r((Math.abs(a.x)+this.blur)/t.width,o)+20,i=100*r((Math.abs(a.y)+this.blur)/t.height,o)+20),t.flipX&&(a.x*=-1),t.flipY&&(a.y*=-1),'<filter id="SVGID_'+this.id+'" y="-'+i+'%" height="'+(100+2*i)+'%" x="-'+e+'%" width="'+(100+2*e)+'%" >\n\t<feGaussianBlur in="SourceAlpha" stdDeviation="'+r(this.blur?this.blur/2:0,o)+'"></feGaussianBlur>\n\t<feOffset dx="'+r(a.x,o)+'" dy="'+r(a.y,o)+'" result="oBlur" ></feOffset>\n\t<feFlood flood-color="'+s.toRgb()+'" flood-opacity="'+s.getAlpha()+'"/>\n\t<feComposite in2="oBlur" operator="in" />\n\t<feMerge>\n\t\t<feMergeNode></feMergeNode>\n\t\t<feMergeNode in="SourceGraphic"></feMergeNode>\n\t</feMerge>\n</filter>\n'},toObject:function(){if(this.includeDefaultValues)return{color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke};var t={},e=n.Shadow.prototype;return["color","blur","offsetX","offsetY","affectStroke"].forEach(function(n){this[n]!==e[n]&&(t[n]=this[n])},this),t}}),n.Shadow.reOffsetsAndBlur=/(?:\s|^)(-?\d+(?:px)?(?:\s?|$))?(-?\d+(?:px)?(?:\s?|$))?(\d+(?:px)?)?(?:\s?|$)(?:$|\s)/)}(),function(){"use strict";if(C.StaticCanvas)C.warn("fabric.StaticCanvas is already defined.");else{var t=C.util.object.extend,e=C.util.getElementOffset,n=C.util.removeFromArray,r=C.util.toFixed,i=C.util.transformPoint,o=C.util.invertTransform,a=new Error("Could not initialize `canvas` element");C.StaticCanvas=C.util.createClass(C.CommonMethods,{initialize:function(t,e){e||(e={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(t,e)},backgroundColor:"",backgroundImage:null,overlayColor:"",overlayImage:null,includeDefaultValues:!0,stateful:!1,renderOnAddRemove:!0,clipTo:null,controlsAboveOverlay:!1,allowTouchScrolling:!1,imageSmoothingEnabled:!0,viewportTransform:C.iMatrix.concat(),backgroundVpt:!0,overlayVpt:!0,onBeforeScaleRotate:function(){},enableRetinaScaling:!0,vptCoords:{},skipOffscreen:!0,_initStatic:function(t,e){var n=this.requestRenderAllBound;this._objects=[],this._createLowerCanvas(t),this._initOptions(e),this._setImageSmoothing(),this.interactive||this._initRetinaScaling(),e.overlayImage&&this.setOverlayImage(e.overlayImage,n),e.backgroundImage&&this.setBackgroundImage(e.backgroundImage,n),e.backgroundColor&&this.setBackgroundColor(e.backgroundColor,n),e.overlayColor&&this.setOverlayColor(e.overlayColor,n),this.calcOffset()},_isRetinaScaling:function(){return 1!==C.devicePixelRatio&&this.enableRetinaScaling},getRetinaScaling:function(){return this._isRetinaScaling()?C.devicePixelRatio:1},_initRetinaScaling:function(){this._isRetinaScaling()&&(this.lowerCanvasEl.setAttribute("width",this.width*C.devicePixelRatio),this.lowerCanvasEl.setAttribute("height",this.height*C.devicePixelRatio),this.contextContainer.scale(C.devicePixelRatio,C.devicePixelRatio))},calcOffset:function(){return this._offset=e(this.lowerCanvasEl),this},setOverlayImage:function(t,e,n){return this.__setBgOverlayImage("overlayImage",t,e,n)},setBackgroundImage:function(t,e,n){return this.__setBgOverlayImage("backgroundImage",t,e,n)},setOverlayColor:function(t,e){return this.__setBgOverlayColor("overlayColor",t,e)},setBackgroundColor:function(t,e){return this.__setBgOverlayColor("backgroundColor",t,e)},_setImageSmoothing:function(){var t=this.getContext();t.imageSmoothingEnabled=t.imageSmoothingEnabled||t.webkitImageSmoothingEnabled||t.mozImageSmoothingEnabled||t.msImageSmoothingEnabled||t.oImageSmoothingEnabled,t.imageSmoothingEnabled=this.imageSmoothingEnabled},__setBgOverlayImage:function(t,e,n,r){return"string"==typeof e?C.util.loadImage(e,function(e){e&&(this[t]=new C.Image(e,r)),n&&n(e)},this,r&&r.crossOrigin):(r&&e.setOptions(r),this[t]=e,n&&n(e)),this},__setBgOverlayColor:function(t,e,n){return this[t]=e,this._initGradient(e,t),this._initPattern(e,t,n),this},_createCanvasElement:function(){var t=C.util.createCanvasElement();if(!t)throw a;if(t.style||(t.style={}),void 0===t.getContext)throw a;return t},_initOptions:function(t){this._setOptions(t),this.width=this.width||parseInt(this.lowerCanvasEl.width,10)||0,this.height=this.height||parseInt(this.lowerCanvasEl.height,10)||0,this.lowerCanvasEl.style&&(this.lowerCanvasEl.width=this.width,this.lowerCanvasEl.height=this.height,this.lowerCanvasEl.style.width=this.width+"px",this.lowerCanvasEl.style.height=this.height+"px",this.viewportTransform=this.viewportTransform.slice())},_createLowerCanvas:function(t){this.lowerCanvasEl=t&&t.getContext?t:C.util.getById(t)||this._createCanvasElement(),C.util.addClass(this.lowerCanvasEl,"lower-canvas"),this.interactive&&this._applyCanvasStyle(this.lowerCanvasEl),this.contextContainer=this.lowerCanvasEl.getContext("2d")},getWidth:function(){return this.width},getHeight:function(){return this.height},setWidth:function(t,e){return this.setDimensions({width:t},e)},setHeight:function(t,e){return this.setDimensions({height:t},e)},setDimensions:function(t,e){var n;for(var r in e=e||{},t)n=t[r],e.cssOnly||(this._setBackstoreDimension(r,t[r]),n+="px",this.hasLostContext=!0),e.backstoreOnly||this._setCssDimension(r,n);return this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(),this._initRetinaScaling(),this._setImageSmoothing(),this.calcOffset(),e.cssOnly||this.requestRenderAll(),this},_setBackstoreDimension:function(t,e){return this.lowerCanvasEl[t]=e,this.upperCanvasEl&&(this.upperCanvasEl[t]=e),this.cacheCanvasEl&&(this.cacheCanvasEl[t]=e),this[t]=e,this},_setCssDimension:function(t,e){return this.lowerCanvasEl.style[t]=e,this.upperCanvasEl&&(this.upperCanvasEl.style[t]=e),this.wrapperEl&&(this.wrapperEl.style[t]=e),this},getZoom:function(){return this.viewportTransform[0]},setViewportTransform:function(t){var e,n,r,i=this._activeObject;for(this.viewportTransform=t,n=0,r=this._objects.length;n<r;n++)(e=this._objects[n]).group||e.setCoords(!1,!0);return i&&"activeSelection"===i.type&&i.setCoords(!1,!0),this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll(),this},zoomToPoint:function(t,e){var n=t,r=this.viewportTransform.slice(0);t=i(t,o(this.viewportTransform)),r[0]=e,r[3]=e;var a=i(t,r);return r[4]+=n.x-a.x,r[5]+=n.y-a.y,this.setViewportTransform(r)},setZoom:function(t){return this.zoomToPoint(new C.Point(0,0),t),this},absolutePan:function(t){var e=this.viewportTransform.slice(0);return e[4]=-t.x,e[5]=-t.y,this.setViewportTransform(e)},relativePan:function(t){return this.absolutePan(new C.Point(-t.x-this.viewportTransform[4],-t.y-this.viewportTransform[5]))},getElement:function(){return this.lowerCanvasEl},_onObjectAdded:function(t){this.stateful&&t.setupState(),t._set("canvas",this),t.setCoords(),this.fire("object:added",{target:t}),t.fire("added")},_onObjectRemoved:function(t){this.fire("object:removed",{target:t}),t.fire("removed"),delete t.canvas},clearContext:function(t){return t.clearRect(0,0,this.width,this.height),this},getContext:function(){return this.contextContainer},clear:function(){return this._objects.length=0,this.backgroundImage=null,this.overlayImage=null,this.backgroundColor="",this.overlayColor="",this._hasITextHandlers&&(this.off("mouse:up",this._mouseUpITextHandler),this._iTextInstances=null,this._hasITextHandlers=!1),this.clearContext(this.contextContainer),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll(),this},renderAll:function(){return this.renderCanvas(this.contextContainer,this._objects),this},renderAndReset:function(){this.isRendering=0,this.renderAll()},requestRenderAll:function(){return this.isRendering||(this.isRendering=C.util.requestAnimFrame(this.renderAndResetBound)),this},calcViewportBoundaries:function(){var t={},e=this.width,n=this.height,r=o(this.viewportTransform);return t.tl=i({x:0,y:0},r),t.br=i({x:e,y:n},r),t.tr=new C.Point(t.br.x,t.tl.y),t.bl=new C.Point(t.tl.x,t.br.y),this.vptCoords=t,t},renderCanvas:function(t,e){var n=this.viewportTransform;this.isRendering&&(C.util.cancelAnimFrame(this.isRendering),this.isRendering=0),this.calcViewportBoundaries(),this.clearContext(t),this.fire("before:render"),this.clipTo&&C.util.clipContext(this,t),this._renderBackground(t),t.save(),t.transform(n[0],n[1],n[2],n[3],n[4],n[5]),this._renderObjects(t,e),t.restore(),!this.controlsAboveOverlay&&this.interactive&&this.drawControls(t),this.clipTo&&t.restore(),this._renderOverlay(t),this.controlsAboveOverlay&&this.interactive&&this.drawControls(t),this.fire("after:render")},_renderObjects:function(t,e){var n,r;for(n=0,r=e.length;n<r;++n)e[n]&&e[n].render(t)},_renderBackgroundOrOverlay:function(t,e){var n,r=this[e+"Color"];r&&(t.fillStyle=r.toLive?r.toLive(t,this):r,t.fillRect(r.offsetX||0,r.offsetY||0,this.width,this.height)),(r=this[e+"Image"])&&(this[e+"Vpt"]&&(n=this.viewportTransform,t.save(),t.transform(n[0],n[1],n[2],n[3],n[4],n[5])),r.render(t),this[e+"Vpt"]&&t.restore())},_renderBackground:function(t){this._renderBackgroundOrOverlay(t,"background")},_renderOverlay:function(t){this._renderBackgroundOrOverlay(t,"overlay")},getCenter:function(){return{top:this.height/2,left:this.width/2}},centerObjectH:function(t){return this._centerObject(t,new C.Point(this.getCenter().left,t.getCenterPoint().y))},centerObjectV:function(t){return this._centerObject(t,new C.Point(t.getCenterPoint().x,this.getCenter().top))},centerObject:function(t){var e=this.getCenter();return this._centerObject(t,new C.Point(e.left,e.top))},viewportCenterObject:function(t){var e=this.getVpCenter();return this._centerObject(t,e)},viewportCenterObjectH:function(t){var e=this.getVpCenter();return this._centerObject(t,new C.Point(e.x,t.getCenterPoint().y)),this},viewportCenterObjectV:function(t){var e=this.getVpCenter();return this._centerObject(t,new C.Point(t.getCenterPoint().x,e.y))},getVpCenter:function(){var t=this.getCenter(),e=o(this.viewportTransform);return i({x:t.left,y:t.top},e)},_centerObject:function(t,e){return t.setPositionByOrigin(e,"center","center"),t.setCoords(),this.renderOnAddRemove&&this.requestRenderAll(),this},toDatalessJSON:function(t){return this.toDatalessObject(t)},toObject:function(t){return this._toObjectMethod("toObject",t)},toDatalessObject:function(t){return this._toObjectMethod("toDatalessObject",t)},_toObjectMethod:function(e,n){var r={version:C.version,objects:this._toObjects(e,n)};return t(r,this.__serializeBgOverlay(e,n)),C.util.populateWithProperties(this,r,n),r},_toObjects:function(t,e){return this.getObjects().filter(function(t){return!t.excludeFromExport}).map(function(n){return this._toObject(n,t,e)},this)},_toObject:function(t,e,n){var r;this.includeDefaultValues||(r=t.includeDefaultValues,t.includeDefaultValues=!1);var i=t[e](n);return this.includeDefaultValues||(t.includeDefaultValues=r),i},__serializeBgOverlay:function(t,e){var n={},r=this.backgroundImage,i=this.overlayImage;return this.backgroundColor&&(n.background=this.backgroundColor.toObject?this.backgroundColor.toObject(e):this.backgroundColor),this.overlayColor&&(n.overlay=this.overlayColor.toObject?this.overlayColor.toObject(e):this.overlayColor),r&&!r.excludeFromExport&&(n.backgroundImage=this._toObject(r,t,e)),i&&!i.excludeFromExport&&(n.overlayImage=this._toObject(i,t,e)),n},svgViewportTransformation:!0,toSVG:function(t,e){t||(t={});var n=[];return this._setSVGPreamble(n,t),this._setSVGHeader(n,t),this._setSVGBgOverlayColor(n,"backgroundColor"),this._setSVGBgOverlayImage(n,"backgroundImage",e),this._setSVGObjects(n,e),this._setSVGBgOverlayColor(n,"overlayColor"),this._setSVGBgOverlayImage(n,"overlayImage",e),n.push("</svg>"),n.join("")},_setSVGPreamble:function(t,e){e.suppressPreamble||t.push('<?xml version="1.0" encoding="',e.encoding||"UTF-8",'" standalone="no" ?>\n','<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ','"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n')},_setSVGHeader:function(t,e){var n,i=e.width||this.width,o=e.height||this.height,a='viewBox="0 0 '+this.width+" "+this.height+'" ',s=C.Object.NUM_FRACTION_DIGITS;e.viewBox?a='viewBox="'+e.viewBox.x+" "+e.viewBox.y+" "+e.viewBox.width+" "+e.viewBox.height+'" ':this.svgViewportTransformation&&(a='viewBox="'+r(-(n=this.viewportTransform)[4]/n[0],s)+" "+r(-n[5]/n[3],s)+" "+r(this.width/n[0],s)+" "+r(this.height/n[3],s)+'" '),t.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',i,'" ','height="',o,'" ',a,'xml:space="preserve">\n',"<desc>Created with Fabric.js ",C.version,"</desc>\n","<defs>\n",this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),"</defs>\n")},createSVGRefElementsMarkup:function(){var t=this;return["backgroundColor","overlayColor"].map(function(e){var n=t[e];if(n&&n.toLive)return n.toSVG(t,!1)}).join("")},createSVGFontFacesMarkup:function(){var t,e,n,r,i,o,a,s,u="",l={},c=C.fontPaths,f=this.getObjects();for(a=0,s=f.length;a<s;a++)if(e=(t=f[a]).fontFamily,-1!==t.type.indexOf("text")&&!l[e]&&c[e]&&(l[e]=!0,t.styles))for(i in n=t.styles)for(o in r=n[i])!l[e=r[o].fontFamily]&&c[e]&&(l[e]=!0);for(var h in l)u+=["\t\t@font-face {\n","\t\t\tfont-family: '",h,"';\n","\t\t\tsrc: url('",c[h],"');\n","\t\t}\n"].join("");return u&&(u=['\t<style type="text/css">',"<![CDATA[\n",u,"]]>","</style>\n"].join("")),u},_setSVGObjects:function(t,e){var n,r,i,o=this.getObjects();for(r=0,i=o.length;r<i;r++)(n=o[r]).excludeFromExport||this._setSVGObject(t,n,e)},_setSVGObject:function(t,e,n){t.push(e.toSVG(n))},_setSVGBgOverlayImage:function(t,e,n){this[e]&&this[e].toSVG&&t.push(this[e].toSVG(n))},_setSVGBgOverlayColor:function(t,e){var n=this[e],r=this.viewportTransform,i=this.width/r[0],o=this.height/r[3];if(n)if(n.toLive){var a=n.repeat;t.push('<rect transform="translate(',i/2,",",o/2,')"',' x="',n.offsetX-i/2,'" y="',n.offsetY-o/2,'" ','width="',"repeat-y"===a||"no-repeat"===a?n.source.width:i,'" height="',"repeat-x"===a||"no-repeat"===a?n.source.height:o,'" fill="url(#SVGID_'+n.id+')"',"></rect>\n")}else t.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',this[e],'"',"></rect>\n")},sendToBack:function(t){if(!t)return this;var e,r,i,o=this._activeObject;if(t===o&&"activeSelection"===t.type)for(e=(i=o._objects).length;e--;)n(this._objects,r=i[e]),this._objects.unshift(r);else n(this._objects,t),this._objects.unshift(t);return this.renderOnAddRemove&&this.requestRenderAll(),this},bringToFront:function(t){if(!t)return this;var e,r,i,o=this._activeObject;if(t===o&&"activeSelection"===t.type)for(i=o._objects,e=0;e<i.length;e++)n(this._objects,r=i[e]),this._objects.push(r);else n(this._objects,t),this._objects.push(t);return this.renderOnAddRemove&&this.requestRenderAll(),this},sendBackwards:function(t,e){if(!t)return this;var r,i,o,a,s,u=this._activeObject,l=0;if(t===u&&"activeSelection"===t.type)for(s=u._objects,r=0;r<s.length;r++)(o=this._objects.indexOf(i=s[r]))>0+l&&(a=o-1,n(this._objects,i),this._objects.splice(a,0,i)),l++;else 0!==(o=this._objects.indexOf(t))&&(a=this._findNewLowerIndex(t,o,e),n(this._objects,t),this._objects.splice(a,0,t));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewLowerIndex:function(t,e,n){var r,i;if(n){for(r=e,i=e-1;i>=0;--i)if(t.intersectsWithObject(this._objects[i])||t.isContainedWithinObject(this._objects[i])||this._objects[i].isContainedWithinObject(t)){r=i;break}}else r=e-1;return r},bringForward:function(t,e){if(!t)return this;var r,i,o,a,s,u=this._activeObject,l=0;if(t===u&&"activeSelection"===t.type)for(r=(s=u._objects).length;r--;)(o=this._objects.indexOf(i=s[r]))<this._objects.length-1-l&&(a=o+1,n(this._objects,i),this._objects.splice(a,0,i)),l++;else(o=this._objects.indexOf(t))!==this._objects.length-1&&(a=this._findNewUpperIndex(t,o,e),n(this._objects,t),this._objects.splice(a,0,t));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewUpperIndex:function(t,e,n){var r,i,o;if(n){for(r=e,i=e+1,o=this._objects.length;i<o;++i)if(t.intersectsWithObject(this._objects[i])||t.isContainedWithinObject(this._objects[i])||this._objects[i].isContainedWithinObject(t)){r=i;break}}else r=e+1;return r},moveTo:function(t,e){return n(this._objects,t),this._objects.splice(e,0,t),this.renderOnAddRemove&&this.requestRenderAll()},dispose:function(){return this.isRendering&&(C.util.cancelAnimFrame(this.isRendering),this.isRendering=0),this.forEachObject(function(t){t.dispose&&t.dispose()}),this._objects=[],this.backgroundImage=null,this.overlayImage=null,this._iTextInstances=null,this.lowerCanvasEl=null,this.contextContainer=null,this},toString:function(){return"#<fabric.Canvas ("+this.complexity()+"): { objects: "+this.getObjects().length+" }>"}}),t(C.StaticCanvas.prototype,C.Observable),t(C.StaticCanvas.prototype,C.Collection),t(C.StaticCanvas.prototype,C.DataURLExporter),t(C.StaticCanvas,{EMPTY_JSON:'{"objects": [], "background": "white"}',supports:function(t){var e=C.util.createCanvasElement();if(!e||!e.getContext)return null;var n=e.getContext("2d");if(!n)return null;switch(t){case"getImageData":return void 0!==n.getImageData;case"setLineDash":return void 0!==n.setLineDash;case"toDataURL":return void 0!==e.toDataURL;case"toDataURLWithQuality":try{return e.toDataURL("image/jpeg",0),!0}catch(t){}return!1;default:return null}}}),C.StaticCanvas.prototype.toJSON=C.StaticCanvas.prototype.toObject,C.isLikelyNode&&(C.StaticCanvas.prototype.createPNGStream=function(){var t=C.util.getNodeCanvas(this.lowerCanvasEl);return t&&t.createPNGStream()},C.StaticCanvas.prototype.createJPEGStream=function(t){var e=C.util.getNodeCanvas(this.lowerCanvasEl);return e&&e.createJPEGStream(t)})}}(),C.BaseBrush=C.util.createClass({color:"rgb(0, 0, 0)",width:1,shadow:null,strokeLineCap:"round",strokeLineJoin:"round",strokeMiterLimit:10,strokeDashArray:null,setShadow:function(t){return this.shadow=new C.Shadow(t),this},_setBrushStyles:function(){var t=this.canvas.contextTop;t.strokeStyle=this.color,t.lineWidth=this.width,t.lineCap=this.strokeLineCap,t.miterLimit=this.strokeMiterLimit,t.lineJoin=this.strokeLineJoin,C.StaticCanvas.supports("setLineDash")&&t.setLineDash(this.strokeDashArray||[])},_saveAndTransform:function(t){var e=this.canvas.viewportTransform;t.save(),t.transform(e[0],e[1],e[2],e[3],e[4],e[5])},_setShadow:function(){if(this.shadow){var t=this.canvas.contextTop,e=this.canvas.getZoom();t.shadowColor=this.shadow.color,t.shadowBlur=this.shadow.blur*e,t.shadowOffsetX=this.shadow.offsetX*e,t.shadowOffsetY=this.shadow.offsetY*e}},_resetShadow:function(){var t=this.canvas.contextTop;t.shadowColor="",t.shadowBlur=t.shadowOffsetX=t.shadowOffsetY=0}}),C.PencilBrush=C.util.createClass(C.BaseBrush,{initialize:function(t){this.canvas=t,this._points=[]},_drawSegment:function(t,e,n){var r=e.midPointFrom(n);return t.quadraticCurveTo(e.x,e.y,r.x,r.y),r},onMouseDown:function(t){this._prepareForDrawing(t),this._captureDrawingPath(t),this._render()},onMouseMove:function(t){if(this._captureDrawingPath(t)&&this._points.length>1)if(this.needsFullRender)this.canvas.clearContext(this.canvas.contextTop),this._render();else{var e=this._points,n=e.length,r=this.canvas.contextTop;this._saveAndTransform(r),this.oldEnd&&(r.beginPath(),r.moveTo(this.oldEnd.x,this.oldEnd.y)),this.oldEnd=this._drawSegment(r,e[n-2],e[n-1],!0),r.stroke(),r.restore()}},onMouseUp:function(){this.oldEnd=void 0,this._finalizeAndAddPath()},_prepareForDrawing:function(t){var e=new C.Point(t.x,t.y);this._reset(),this._addPoint(e),this.canvas.contextTop.moveTo(e.x,e.y)},_addPoint:function(t){return!(this._points.length>1&&t.eq(this._points[this._points.length-1])||(this._points.push(t),0))},_reset:function(){this._points.length=0,this._setBrushStyles();var t=new C.Color(this.color);this.needsFullRender=t.getAlpha()<1,this._setShadow()},_captureDrawingPath:function(t){var e=new C.Point(t.x,t.y);return this._addPoint(e)},_render:function(){var t,e,n=this.canvas.contextTop,r=this._points[0],i=this._points[1];if(this._saveAndTransform(n),n.beginPath(),2===this._points.length&&r.x===i.x&&r.y===i.y){var o=this.width/1e3;r=new C.Point(r.x,r.y),i=new C.Point(i.x,i.y),r.x-=o,i.x+=o}for(n.moveTo(r.x,r.y),t=1,e=this._points.length;t<e;t++)this._drawSegment(n,r,i),r=this._points[t],i=this._points[t+1];n.lineTo(r.x,r.y),n.stroke(),n.restore()},convertPointsToSVGPath:function(t){var e,n=[],r=this.width/1e3,i=new C.Point(t[0].x,t[0].y),o=new C.Point(t[1].x,t[1].y),a=t.length,s=1,u=1,l=a>2;for(l&&(s=t[2].x<o.x?-1:t[2].x===o.x?0:1,u=t[2].y<o.y?-1:t[2].y===o.y?0:1),n.push("M ",i.x-s*r," ",i.y-u*r," "),e=1;e<a;e++){if(!i.eq(o)){var c=i.midPointFrom(o);n.push("Q ",i.x," ",i.y," ",c.x," ",c.y," ")}i=t[e],e+1<t.length&&(o=t[e+1])}return l&&(s=i.x>t[e-2].x?1:i.x===t[e-2].x?0:-1,u=i.y>t[e-2].y?1:i.y===t[e-2].y?0:-1),n.push("L ",i.x+s*r," ",i.y+u*r),n},createPath:function(t){var e=new C.Path(t,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeMiterLimit:this.strokeMiterLimit,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray}),n=new C.Point(e.left+e.width/2,e.top+e.height/2);return n=e.translateToGivenOrigin(n,"center","center",e.originX,e.originY),e.top=n.y,e.left=n.x,this.shadow&&(this.shadow.affectStroke=!0,e.setShadow(this.shadow)),e},_finalizeAndAddPath:function(){this.canvas.contextTop.closePath();var t=this.convertPointsToSVGPath(this._points).join("");if("M 0 0 Q 0 0 0 0 L 0 0"!==t){var e=this.createPath(t);this.canvas.clearContext(this.canvas.contextTop),this.canvas.add(e),this.canvas.renderAll(),e.setCoords(),this._resetShadow(),this.canvas.fire("path:created",{path:e})}else this.canvas.requestRenderAll()}}),C.CircleBrush=C.util.createClass(C.BaseBrush,{width:10,initialize:function(t){this.canvas=t,this.points=[]},drawDot:function(t){var e=this.addPoint(t),n=this.canvas.contextTop;this._saveAndTransform(n),n.fillStyle=e.fill,n.beginPath(),n.arc(e.x,e.y,e.radius,0,2*Math.PI,!1),n.closePath(),n.fill(),n.restore()},onMouseDown:function(t){this.points.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.drawDot(t)},_render:function(){var t,e,n,r=this.canvas.contextTop,i=this.points;for(this._saveAndTransform(r),t=0,e=i.length;t<e;t++)r.fillStyle=(n=i[t]).fill,r.beginPath(),r.arc(n.x,n.y,n.radius,0,2*Math.PI,!1),r.closePath(),r.fill();r.restore()},onMouseMove:function(t){this.drawDot(t)},onMouseUp:function(){var t,e,n=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;var r=[];for(t=0,e=this.points.length;t<e;t++){var i=this.points[t],o=new C.Circle({radius:i.radius,left:i.x,top:i.y,originX:"center",originY:"center",fill:i.fill});this.shadow&&o.setShadow(this.shadow),r.push(o)}var a=new C.Group(r,{originX:"center",originY:"center"});a.canvas=this.canvas,this.canvas.add(a),this.canvas.fire("path:created",{path:a}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=n,this.canvas.requestRenderAll()},addPoint:function(t){var e=new C.Point(t.x,t.y),n=C.util.getRandomInt(Math.max(0,this.width-20),this.width+20)/2,r=new C.Color(this.color).setAlpha(C.util.getRandomInt(0,100)/100).toRgba();return e.radius=n,e.fill=r,this.points.push(e),e}}),C.SprayBrush=C.util.createClass(C.BaseBrush,{width:10,density:20,dotWidth:1,dotWidthVariance:1,randomOpacity:!1,optimizeOverlapping:!0,initialize:function(t){this.canvas=t,this.sprayChunks=[]},onMouseDown:function(t){this.sprayChunks.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.addSprayChunk(t),this.render(this.sprayChunkPoints)},onMouseMove:function(t){this.addSprayChunk(t),this.render(this.sprayChunkPoints)},onMouseUp:function(){var t=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;for(var e=[],n=0,r=this.sprayChunks.length;n<r;n++)for(var i=this.sprayChunks[n],o=0,a=i.length;o<a;o++){var s=new C.Rect({width:i[o].width,height:i[o].width,left:i[o].x+1,top:i[o].y+1,originX:"center",originY:"center",fill:this.color});e.push(s)}this.optimizeOverlapping&&(e=this._getOptimizedRects(e));var u=new C.Group(e,{originX:"center",originY:"center"});this.shadow&&u.setShadow(this.shadow),this.canvas.add(u),this.canvas.fire("path:created",{path:u}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=t,this.canvas.requestRenderAll()},_getOptimizedRects:function(t){var e,n,r,i={};for(n=0,r=t.length;n<r;n++)i[e=t[n].left+""+t[n].top]||(i[e]=t[n]);var o=[];for(e in i)o.push(i[e]);return o},render:function(t){var e,n,r=this.canvas.contextTop;for(r.fillStyle=this.color,this._saveAndTransform(r),e=0,n=t.length;e<n;e++){var i=t[e];void 0!==i.opacity&&(r.globalAlpha=i.opacity),r.fillRect(i.x,i.y,i.width,i.width)}r.restore()},_render:function(){var t,e,n=this.canvas.contextTop;for(n.fillStyle=this.color,this._saveAndTransform(n),t=0,e=this.sprayChunks.length;t<e;t++)this.render(this.sprayChunks[t]);n.restore()},addSprayChunk:function(t){this.sprayChunkPoints=[];var e,n,r,i,o=this.width/2;for(i=0;i<this.density;i++){e=C.util.getRandomInt(t.x-o,t.x+o),n=C.util.getRandomInt(t.y-o,t.y+o),r=this.dotWidthVariance?C.util.getRandomInt(Math.max(1,this.dotWidth-this.dotWidthVariance),this.dotWidth+this.dotWidthVariance):this.dotWidth;var a=new C.Point(e,n);a.width=r,this.randomOpacity&&(a.opacity=C.util.getRandomInt(0,100)/100),this.sprayChunkPoints.push(a)}this.sprayChunks.push(this.sprayChunkPoints)}}),C.PatternBrush=C.util.createClass(C.PencilBrush,{getPatternSrc:function(){var t=C.document.createElement("canvas"),e=t.getContext("2d");return t.width=t.height=25,e.fillStyle=this.color,e.beginPath(),e.arc(10,10,10,0,2*Math.PI,!1),e.closePath(),e.fill(),t},getPatternSrcFunction:function(){return String(this.getPatternSrc).replace("this.color",'"'+this.color+'"')},getPattern:function(){return this.canvas.contextTop.createPattern(this.source||this.getPatternSrc(),"repeat")},_setBrushStyles:function(){this.callSuper("_setBrushStyles"),this.canvas.contextTop.strokeStyle=this.getPattern()},createPath:function(t){var e=this.callSuper("createPath",t),n=e._getLeftTopCoords().scalarAdd(e.strokeWidth/2);return e.stroke=new C.Pattern({source:this.source||this.getPatternSrcFunction(),offsetX:-n.x,offsetY:-n.y}),e}}),function(){var t=C.util.getPointer,e=C.util.degreesToRadians,n=C.util.radiansToDegrees,r=Math.atan2,i=Math.abs,o=C.StaticCanvas.supports("setLineDash");for(var a in C.Canvas=C.util.createClass(C.StaticCanvas,{initialize:function(t,e){e||(e={}),this.renderAndResetBound=this.renderAndReset.bind(this),this._initStatic(t,e),this._initInteractive(),this._createCacheCanvas()},uniScaleTransform:!1,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",interactive:!0,selection:!0,selectionKey:"shiftKey",altSelectionKey:null,selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",rotationCursor:"crosshair",notAllowedCursor:"not-allowed",containerClass:"canvas-container",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,isDrawingMode:!1,preserveObjectStacking:!1,snapAngle:0,snapThreshold:null,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,_initInteractive:function(){this._currentTransform=null,this._groupSelector=null,this._initWrapperElement(),this._createUpperCanvas(),this._initEventListeners(),this._initRetinaScaling(),this.freeDrawingBrush=C.PencilBrush&&new C.PencilBrush(this),this.calcOffset()},_chooseObjectsToRender:function(){var t,e,n,r=this.getActiveObjects();if(r.length>0&&!this.preserveObjectStacking){e=[],n=[];for(var i=0,o=this._objects.length;i<o;i++)-1===r.indexOf(t=this._objects[i])?e.push(t):n.push(t);r.length>1&&(this._activeObject._objects=n),e.push.apply(e,n)}else e=this._objects;return e},renderAll:function(){return!this.contextTopDirty||this._groupSelector||this.isDrawingMode||(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&this.renderTopLayer(this.contextTop),this.renderCanvas(this.contextContainer,this._chooseObjectsToRender()),this},renderTopLayer:function(t){this.isDrawingMode&&this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.selection&&this._groupSelector&&this._drawSelection(t)},renderTop:function(){var t=this.contextTop;return this.clearContext(t),this.renderTopLayer(t),this.fire("after:render"),this.contextTopDirty=!0,this},_resetCurrentTransform:function(){var t=this._currentTransform;t.target.set({scaleX:t.original.scaleX,scaleY:t.original.scaleY,skewX:t.original.skewX,skewY:t.original.skewY,left:t.original.left,top:t.original.top}),this._shouldCenterTransform(t.target)?("center"!==t.originX&&(t.mouseXSign="right"===t.originX?-1:1),"center"!==t.originY&&(t.mouseYSign="bottom"===t.originY?-1:1),t.originX="center",t.originY="center"):(t.originX=t.original.originX,t.originY=t.original.originY)},containsPoint:function(t,e,n){var r,i=n||this.getPointer(t,!0);return r=e.group&&e.group===this._activeObject&&"activeSelection"===e.group.type?this._normalizePointer(e.group,i):{x:i.x,y:i.y},e.containsPoint(r)||e._findTargetCorner(i)},_normalizePointer:function(t,e){var n=t.calcTransformMatrix(),r=C.util.invertTransform(n),i=this.restorePointerVpt(e);return C.util.transformPoint(i,r)},isTargetTransparent:function(t,e,n){if(t.shouldCache()&&t._cacheCanvas){var r=this._normalizePointer(t,{x:e,y:n});return C.util.isTransparent(t._cacheContext,t.cacheTranslationX+r.x*t.zoomX,t.cacheTranslationY+r.y*t.zoomY,this.targetFindTolerance)}var i=this.contextCache,o=t.selectionBackgroundColor,a=this.viewportTransform;return t.selectionBackgroundColor="",this.clearContext(i),i.save(),i.transform(a[0],a[1],a[2],a[3],a[4],a[5]),t.render(i),i.restore(),t===this._activeObject&&t._renderControls(i,{hasBorders:!1,transparentCorners:!1},{hasBorders:!1}),t.selectionBackgroundColor=o,C.util.isTransparent(i,e,n,this.targetFindTolerance)},_isSelectionKeyPressed:function(t){return"[object Array]"===Object.prototype.toString.call(this.selectionKey)?!!this.selectionKey.find(function(e){return!0===t[e]}):t[this.selectionKey]},_shouldClearSelection:function(t,e){var n=this.getActiveObjects(),r=this._activeObject;return!e||e&&r&&n.length>1&&-1===n.indexOf(e)&&r!==e&&!this._isSelectionKeyPressed(t)||e&&!e.evented||e&&!e.selectable&&r&&r!==e},_shouldCenterTransform:function(t){if(t){var e,n=this._currentTransform;return"scale"===n.action||"scaleX"===n.action||"scaleY"===n.action?e=this.centeredScaling||t.centeredScaling:"rotate"===n.action&&(e=this.centeredRotation||t.centeredRotation),e?!n.altKey:n.altKey}},_getOriginFromCorner:function(t,e){var n={x:t.originX,y:t.originY};return"ml"===e||"tl"===e||"bl"===e?n.x="right":"mr"!==e&&"tr"!==e&&"br"!==e||(n.x="left"),"tl"===e||"mt"===e||"tr"===e?n.y="bottom":"bl"!==e&&"mb"!==e&&"br"!==e||(n.y="top"),n},_getActionFromCorner:function(t,e,n){if(!e)return"drag";switch(e){case"mtr":return"rotate";case"ml":case"mr":return n[this.altActionKey]?"skewY":"scaleX";case"mt":case"mb":return n[this.altActionKey]?"skewX":"scaleY";default:return"scale"}},_setupCurrentTransform:function(t,n){if(n){var r=this.getPointer(t),i=n._findTargetCorner(this.getPointer(t,!0)),o=this._getActionFromCorner(n,i,t),a=this._getOriginFromCorner(n,i);this._currentTransform={target:n,action:o,corner:i,scaleX:n.scaleX,scaleY:n.scaleY,skewX:n.skewX,skewY:n.skewY,offsetX:r.x-n.left,offsetY:r.y-n.top,originX:a.x,originY:a.y,ex:r.x,ey:r.y,lastX:r.x,lastY:r.y,theta:e(n.angle),width:n.width*n.scaleX,mouseXSign:1,mouseYSign:1,shiftKey:t.shiftKey,altKey:t[this.centeredKey]},this._currentTransform.original={left:n.left,top:n.top,scaleX:n.scaleX,scaleY:n.scaleY,skewX:n.skewX,skewY:n.skewY,originX:a.x,originY:a.y},this._resetCurrentTransform(),this._beforeTransform(t)}},_translateObject:function(t,e){var n=this._currentTransform,r=n.target,i=t-n.offsetX,o=e-n.offsetY,a=!r.get("lockMovementX")&&r.left!==i,s=!r.get("lockMovementY")&&r.top!==o;return a&&r.set("left",i),s&&r.set("top",o),a||s},_changeSkewTransformOrigin:function(t,e,n){var r="originX",i={0:"center"},o=e.target.skewX,a="left",s="right",u="mt"===e.corner||"ml"===e.corner?1:-1,l=1;t=t>0?1:-1,"y"===n&&(o=e.target.skewY,a="top",s="bottom",r="originY"),i[-1]=a,i[1]=s,e.target.flipX&&(l*=-1),e.target.flipY&&(l*=-1),0===o?(e.skewSign=-u*t*l,e[r]=i[-t]):(e.skewSign=o=o>0?1:-1,e[r]=i[o*u*l])},_skewObject:function(t,e,n){var r,i=this._currentTransform,o=i.target,a=o.get("lockSkewingX"),s=o.get("lockSkewingY");if(a&&"x"===n||s&&"y"===n)return!1;var u,l,c=o.getCenterPoint(),f=o.toLocalPoint(new C.Point(t,e),"center","center")[n],h=o.toLocalPoint(new C.Point(i.lastX,i.lastY),"center","center")[n],d=o._getTransformedDimensions();return this._changeSkewTransformOrigin(f-h,i,n),u=o.toLocalPoint(new C.Point(t,e),i.originX,i.originY)[n],l=o.translateToOriginPoint(c,i.originX,i.originY),r=this._setObjectSkew(u,i,n,d),i.lastX=t,i.lastY=e,o.setPositionByOrigin(l,i.originX,i.originY),r},_setObjectSkew:function(t,e,n,r){var i,o,a,s,u,l,c,f,h,d,p=e.target,v=e.skewSign;return"x"===n?(u="y",l="Y",c="X",h=0,d=p.skewY):(u="x",l="X",c="Y",h=p.skewX,d=0),s=p._getTransformedDimensions(h,d),(f=2*Math.abs(t)-s[n])<=2?i=0:(i=v*Math.atan(f/p["scale"+c]/(s[u]/p["scale"+l])),i=C.util.radiansToDegrees(i)),o=p["skew"+c]!==i,p.set("skew"+c,i),0!==p["skew"+l]&&(a=p._getTransformedDimensions(),p.set("scale"+l,i=r[u]/a[u]*p["scale"+l])),o},_scaleObject:function(t,e,n){var r=this._currentTransform,i=r.target,o=i.lockScalingX,a=i.lockScalingY,s=i.lockScalingFlip;if(o&&a)return!1;var u,l=i.translateToOriginPoint(i.getCenterPoint(),r.originX,r.originY),c=i.toLocalPoint(new C.Point(t,e),r.originX,r.originY),f=i._getTransformedDimensions();return this._setLocalMouse(c,r),u=this._setObjectScale(c,r,o,a,n,s,f),i.setPositionByOrigin(l,r.originX,r.originY),u},_setObjectScale:function(t,e,n,r,i,o,a){var s,u,l,c,f=e.target,h=!1,d=!1,p=!1;return s=f.scaleX!==(l=t.x*f.scaleX/a.x),u=f.scaleY!==(c=t.y*f.scaleY/a.y),o&&l<=0&&l<f.scaleX&&(h=!0,t.x=0),o&&c<=0&&c<f.scaleY&&(d=!0,t.y=0),"equally"!==i||n||r?i?"x"!==i||f.get("lockUniScaling")?"y"!==i||f.get("lockUniScaling")||d||r||f.set("scaleY",c)&&(p=p||u):h||n||f.set("scaleX",l)&&(p=p||s):(h||n||f.set("scaleX",l)&&(p=p||s),d||r||f.set("scaleY",c)&&(p=p||u)):p=this._scaleObjectEqually(t,f,e,a),e.newScaleX=l,e.newScaleY=c,h||d||this._flipObject(e,i),p},_scaleObjectEqually:function(t,e,n,r){var i,o=t.y+t.x,a=r.y*n.original.scaleY/e.scaleY+r.x*n.original.scaleX/e.scaleX,s=t.y<0?-1:1;return n.newScaleX=(t.x<0?-1:1)*Math.abs(n.original.scaleX*o/a),n.newScaleY=s*Math.abs(n.original.scaleY*o/a),i=n.newScaleX!==e.scaleX||n.newScaleY!==e.scaleY,e.set("scaleX",n.newScaleX),e.set("scaleY",n.newScaleY),i},_flipObject:function(t,e){t.newScaleX<0&&"y"!==e&&("left"===t.originX?t.originX="right":"right"===t.originX&&(t.originX="left")),t.newScaleY<0&&"x"!==e&&("top"===t.originY?t.originY="bottom":"bottom"===t.originY&&(t.originY="top"))},_setLocalMouse:function(t,e){var n=e.target,r=this.getZoom(),o=n.padding/r;"right"===e.originX?t.x*=-1:"center"===e.originX&&(t.x*=2*e.mouseXSign,t.x<0&&(e.mouseXSign=-e.mouseXSign)),"bottom"===e.originY?t.y*=-1:"center"===e.originY&&(t.y*=2*e.mouseYSign,t.y<0&&(e.mouseYSign=-e.mouseYSign)),i(t.x)>o?t.x<0?t.x+=o:t.x-=o:t.x=0,i(t.y)>o?t.y<0?t.y+=o:t.y-=o:t.y=0},_rotateObject:function(t,e){var i=this._currentTransform,o=i.target,a=o.translateToOriginPoint(o.getCenterPoint(),i.originX,i.originY);if(o.lockRotation)return!1;var s=r(i.ey-a.y,i.ex-a.x),u=r(e-a.y,t-a.x),l=n(u-s+i.theta),c=!0;if(o.snapAngle>0){var f=o.snapAngle,h=o.snapThreshold||f,d=Math.ceil(l/f)*f,p=Math.floor(l/f)*f;Math.abs(l-p)<h?l=p:Math.abs(l-d)<h&&(l=d)}return l<0&&(l=360+l),o.angle===(l%=360)?c=!1:(o.angle=l,o.setPositionByOrigin(a,i.originX,i.originY)),c},setCursor:function(t){this.upperCanvasEl.style.cursor=t},_resetObjectTransform:function(t){t.scaleX=1,t.scaleY=1,t.skewX=0,t.skewY=0,t.rotate(0)},_drawSelection:function(t){var e=this._groupSelector,n=e.left,r=e.top,a=i(n),s=i(r);if(this.selectionColor&&(t.fillStyle=this.selectionColor,t.fillRect(e.ex-(n>0?0:-n),e.ey-(r>0?0:-r),a,s)),this.selectionLineWidth&&this.selectionBorderColor)if(t.lineWidth=this.selectionLineWidth,t.strokeStyle=this.selectionBorderColor,this.selectionDashArray.length>1&&!o){var u=e.ex+.5-(n>0?0:a),l=e.ey+.5-(r>0?0:s);t.beginPath(),C.util.drawDashedLine(t,u,l,u+a,l,this.selectionDashArray),C.util.drawDashedLine(t,u,l+s-1,u+a,l+s-1,this.selectionDashArray),C.util.drawDashedLine(t,u,l,u,l+s,this.selectionDashArray),C.util.drawDashedLine(t,u+a-1,l,u+a-1,l+s,this.selectionDashArray),t.closePath(),t.stroke()}else C.Object.prototype._setLineDash.call(this,t,this.selectionDashArray),t.strokeRect(e.ex+.5-(n>0?0:a),e.ey+.5-(r>0?0:s),a,s)},findTarget:function(t,e){if(!this.skipTargetFind){var n,r,i=this.getPointer(t,!0),o=this._activeObject,a=this.getActiveObjects();if(this.targets=[],a.length>1&&!e&&o===this._searchPossibleTargets([o],i))return o;if(1===a.length&&o._findTargetCorner(i))return o;if(1===a.length&&o===this._searchPossibleTargets([o],i)){if(!this.preserveObjectStacking)return o;n=o,r=this.targets,this.targets=[]}var s=this._searchPossibleTargets(this._objects,i);return t[this.altSelectionKey]&&s&&n&&s!==n&&(s=n,this.targets=r),s}},_checkTarget:function(t,e){if(e&&e.visible&&e.evented&&this.containsPoint(null,e,t)){if(!this.perPixelTargetFind&&!e.perPixelTargetFind||e.isEditing)return!0;if(!this.isTargetTransparent(e,t.x,t.y))return!0}},_searchPossibleTargets:function(t,e){for(var n,r,i,o=t.length;o--;)if(this._checkTarget(e,t[o])){(n=t[o]).subTargetCheck&&n instanceof C.Group&&(r=this._normalizePointer(n,e),(i=this._searchPossibleTargets(n._objects,r))&&this.targets.push(i));break}return n},restorePointerVpt:function(t){return C.util.transformPoint(t,C.util.invertTransform(this.viewportTransform))},getPointer:function(e,n){if(this._absolutePointer&&!n)return this._absolutePointer;if(this._pointer&&n)return this._pointer;var r,i=t(e),o=this.upperCanvasEl,a=o.getBoundingClientRect(),s=a.width||0,u=a.height||0;return s&&u||("top"in a&&"bottom"in a&&(u=Math.abs(a.top-a.bottom)),"right"in a&&"left"in a&&(s=Math.abs(a.right-a.left))),this.calcOffset(),i.x=i.x-this._offset.left,i.y=i.y-this._offset.top,n||(i=this.restorePointerVpt(i)),{x:i.x*(r=0===s||0===u?{width:1,height:1}:{width:o.width/s,height:o.height/u}).width,y:i.y*r.height}},_createUpperCanvas:function(){var t=this.lowerCanvasEl.className.replace(/\s*lower-canvas\s*/,"");this.upperCanvasEl?this.upperCanvasEl.className="":this.upperCanvasEl=this._createCanvasElement(),C.util.addClass(this.upperCanvasEl,"upper-canvas "+t),this.wrapperEl.appendChild(this.upperCanvasEl),this._copyCanvasStyle(this.lowerCanvasEl,this.upperCanvasEl),this._applyCanvasStyle(this.upperCanvasEl),this.contextTop=this.upperCanvasEl.getContext("2d")},_createCacheCanvas:function(){this.cacheCanvasEl=this._createCanvasElement(),this.cacheCanvasEl.setAttribute("width",this.width),this.cacheCanvasEl.setAttribute("height",this.height),this.contextCache=this.cacheCanvasEl.getContext("2d")},_initWrapperElement:function(){this.wrapperEl=C.util.wrapElement(this.lowerCanvasEl,"div",{class:this.containerClass}),C.util.setStyle(this.wrapperEl,{width:this.width+"px",height:this.height+"px",position:"relative"}),C.util.makeElementUnselectable(this.wrapperEl)},_applyCanvasStyle:function(t){var e=this.width||t.width,n=this.height||t.height;C.util.setStyle(t,{position:"absolute",width:e+"px",height:n+"px",left:0,top:0,"touch-action":this.allowTouchScrolling?"manipulation":"none"}),t.width=e,t.height=n,C.util.makeElementUnselectable(t)},_copyCanvasStyle:function(t,e){e.style.cssText=t.style.cssText},getSelectionContext:function(){return this.contextTop},getSelectionElement:function(){return this.upperCanvasEl},getActiveObject:function(){return this._activeObject},getActiveObjects:function(){var t=this._activeObject;return t?"activeSelection"===t.type&&t._objects?t._objects.slice(0):[t]:[]},_onObjectRemoved:function(t){t===this._activeObject&&(this.fire("before:selection:cleared",{target:t}),this._discardActiveObject(),this.fire("selection:cleared",{target:t}),t.fire("deselected")),this._hoveredTarget===t&&(this._hoveredTarget=null),this.callSuper("_onObjectRemoved",t)},_fireSelectionEvents:function(t,e){var n=!1,r=this.getActiveObjects(),i=[],o=[],a={e:e};t.forEach(function(t){-1===r.indexOf(t)&&(n=!0,t.fire("deselected",a),o.push(t))}),r.forEach(function(e){-1===t.indexOf(e)&&(n=!0,e.fire("selected",a),i.push(e))}),t.length>0&&r.length>0?(a.selected=i,a.deselected=o,a.updated=i[0]||o[0],a.target=this._activeObject,n&&this.fire("selection:updated",a)):r.length>0?(1===r.length&&(a.target=i[0],this.fire("object:selected",a)),a.selected=i,a.target=this._activeObject,this.fire("selection:created",a)):t.length>0&&(a.deselected=o,this.fire("selection:cleared",a))},setActiveObject:function(t,e){var n=this.getActiveObjects();return this._setActiveObject(t,e),this._fireSelectionEvents(n,e),this},_setActiveObject:function(t,e){return this._activeObject!==t&&!!this._discardActiveObject(e,t)&&!t.onSelect({e:e})&&(this._activeObject=t,!0)},_discardActiveObject:function(t,e){var n=this._activeObject;if(n){if(n.onDeselect({e:t,object:e}))return!1;this._activeObject=null}return!0},discardActiveObject:function(t){var e=this.getActiveObjects();return e.length&&this.fire("before:selection:cleared",{target:e[0],e:t}),this._discardActiveObject(t),this._fireSelectionEvents(e,t),this},dispose:function(){var t=this.wrapperEl;return this.removeListeners(),t.removeChild(this.upperCanvasEl),t.removeChild(this.lowerCanvasEl),this.upperCanvasEl=null,this.cacheCanvasEl=null,this.contextCache=null,this.contextTop=null,t.parentNode&&t.parentNode.replaceChild(this.lowerCanvasEl,this.wrapperEl),delete this.wrapperEl,C.StaticCanvas.prototype.dispose.call(this),this},clear:function(){return this.discardActiveObject(),this.clearContext(this.contextTop),this.callSuper("clear")},drawControls:function(t){var e=this._activeObject;e&&e._renderControls(t)},_toObject:function(t,e,n){var r=this._realizeGroupTransformOnObject(t),i=this.callSuper("_toObject",t,e,n);return this._unwindGroupTransformOnObject(t,r),i},_realizeGroupTransformOnObject:function(t){if(t.group&&"activeSelection"===t.group.type&&this._activeObject===t.group){var e={};return["angle","flipX","flipY","left","scaleX","scaleY","skewX","skewY","top"].forEach(function(n){e[n]=t[n]}),this._activeObject.realizeTransform(t),e}return null},_unwindGroupTransformOnObject:function(t,e){e&&t.set(e)},_setSVGObject:function(t,e,n){var r=this._realizeGroupTransformOnObject(e);this.callSuper("_setSVGObject",t,e,n),this._unwindGroupTransformOnObject(e,r)},setViewportTransform:function(t){this.renderOnAddRemove&&this._activeObject&&this._activeObject.isEditing&&this._activeObject.clearContextTop(),C.StaticCanvas.prototype.setViewportTransform.call(this,t)}}),C.StaticCanvas)"prototype"!==a&&(C.Canvas[a]=C.StaticCanvas[a]);C.isTouchSupported&&(C.Canvas.prototype._setCursorFromEvent=function(){})}(),function(){var t={mt:0,tr:1,mr:2,br:3,mb:4,bl:5,ml:6,tl:7},e=C.util.addListener,n=C.util.removeListener,r={passive:!1};function i(t,e){return"which"in t?t.which===e:t.button===e-1}C.util.object.extend(C.Canvas.prototype,{cursorMap:["n-resize","ne-resize","e-resize","se-resize","s-resize","sw-resize","w-resize","nw-resize"],_initEventListeners:function(){this.removeListeners(),this._bindEvents(),this.addOrRemove(e,"add")},addOrRemove:function(t,e){t(C.window,"resize",this._onResize),t(this.upperCanvasEl,"mousedown",this._onMouseDown),t(this.upperCanvasEl,"mousemove",this._onMouseMove,r),t(this.upperCanvasEl,"mouseout",this._onMouseOut),t(this.upperCanvasEl,"mouseenter",this._onMouseEnter),t(this.upperCanvasEl,"wheel",this._onMouseWheel),t(this.upperCanvasEl,"contextmenu",this._onContextMenu),t(this.upperCanvasEl,"dblclick",this._onDoubleClick),t(this.upperCanvasEl,"touchstart",this._onMouseDown,r),t(this.upperCanvasEl,"touchmove",this._onMouseMove,r),t(this.upperCanvasEl,"dragover",this._onDragOver),t(this.upperCanvasEl,"dragenter",this._onDragEnter),t(this.upperCanvasEl,"dragleave",this._onDragLeave),t(this.upperCanvasEl,"drop",this._onDrop),"undefined"!=typeof eventjs&&e in eventjs&&(eventjs[e](this.upperCanvasEl,"gesture",this._onGesture),eventjs[e](this.upperCanvasEl,"drag",this._onDrag),eventjs[e](this.upperCanvasEl,"orientation",this._onOrientationChange),eventjs[e](this.upperCanvasEl,"shake",this._onShake),eventjs[e](this.upperCanvasEl,"longpress",this._onLongPress))},removeListeners:function(){this.addOrRemove(n,"remove"),n(C.document,"mouseup",this._onMouseUp),n(C.document,"touchend",this._onMouseUp,r),n(C.document,"mousemove",this._onMouseMove,r),n(C.document,"touchmove",this._onMouseMove,r)},_bindEvents:function(){this.eventsBound||(this._onMouseDown=this._onMouseDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onResize=this._onResize.bind(this),this._onGesture=this._onGesture.bind(this),this._onDrag=this._onDrag.bind(this),this._onShake=this._onShake.bind(this),this._onLongPress=this._onLongPress.bind(this),this._onOrientationChange=this._onOrientationChange.bind(this),this._onMouseWheel=this._onMouseWheel.bind(this),this._onMouseOut=this._onMouseOut.bind(this),this._onMouseEnter=this._onMouseEnter.bind(this),this._onContextMenu=this._onContextMenu.bind(this),this._onDoubleClick=this._onDoubleClick.bind(this),this._onDragOver=this._onDragOver.bind(this),this._onDragEnter=this._simpleEventHandler.bind(this,"dragenter"),this._onDragLeave=this._simpleEventHandler.bind(this,"dragleave"),this._onDrop=this._simpleEventHandler.bind(this,"drop"),this.eventsBound=!0)},_onGesture:function(t,e){this.__onTransformGesture&&this.__onTransformGesture(t,e)},_onDrag:function(t,e){this.__onDrag&&this.__onDrag(t,e)},_onMouseWheel:function(t){this.__onMouseWheel(t)},_onMouseOut:function(t){var e=this._hoveredTarget;this.fire("mouse:out",{target:e,e:t}),this._hoveredTarget=null,e&&e.fire("mouseout",{e:t}),this._iTextInstances&&this._iTextInstances.forEach(function(t){t.isEditing&&t.hiddenTextarea.focus()})},_onMouseEnter:function(t){this.findTarget(t)||(this.fire("mouse:over",{target:null,e:t}),this._hoveredTarget=null)},_onOrientationChange:function(t,e){this.__onOrientationChange&&this.__onOrientationChange(t,e)},_onShake:function(t,e){this.__onShake&&this.__onShake(t,e)},_onLongPress:function(t,e){this.__onLongPress&&this.__onLongPress(t,e)},_onDragOver:function(t){t.preventDefault();var e=this._simpleEventHandler("dragover",t);this._fireEnterLeaveEvents(e,t)},_onContextMenu:function(t){return this.stopContextMenu&&(t.stopPropagation(),t.preventDefault()),!1},_onDoubleClick:function(t){this._cacheTransformEventData(t),this._handleEvent(t,"dblclick"),this._resetTransformEventData(t)},_onMouseDown:function(t){this.__onMouseDown(t),this._resetTransformEventData(),e(C.document,"touchend",this._onMouseUp,r),e(C.document,"touchmove",this._onMouseMove,r),n(this.upperCanvasEl,"mousemove",this._onMouseMove,r),n(this.upperCanvasEl,"touchmove",this._onMouseMove,r),"touchstart"===t.type?n(this.upperCanvasEl,"mousedown",this._onMouseDown):(e(C.document,"mouseup",this._onMouseUp),e(C.document,"mousemove",this._onMouseMove,r))},_onMouseUp:function(t){if(this.__onMouseUp(t),this._resetTransformEventData(),n(C.document,"mouseup",this._onMouseUp),n(C.document,"touchend",this._onMouseUp,r),n(C.document,"mousemove",this._onMouseMove,r),n(C.document,"touchmove",this._onMouseMove,r),e(this.upperCanvasEl,"mousemove",this._onMouseMove,r),e(this.upperCanvasEl,"touchmove",this._onMouseMove,r),"touchend"===t.type){var i=this;setTimeout(function(){e(i.upperCanvasEl,"mousedown",i._onMouseDown)},400)}},_onMouseMove:function(t){!this.allowTouchScrolling&&t.preventDefault&&t.preventDefault(),this.__onMouseMove(t)},_onResize:function(){this.calcOffset()},_shouldRender:function(t,e){var n=this._activeObject;return!(n&&n.isEditing&&t===n||!(t&&(t.isMoving||t!==n)||!t&&n||!t&&!n&&!this._groupSelector||e&&this._previousPointer&&this.selection&&(e.x!==this._previousPointer.x||e.y!==this._previousPointer.y)))},__onMouseUp:function(t){var e,n=this._currentTransform,r=this._groupSelector,o=!r||0===r.left&&0===r.top;if(this._cacheTransformEventData(t),e=this._target,this._handleEvent(t,"up:before"),i(t,3))this.fireRightClick&&this._handleEvent(t,"up",3,o);else{if(i(t,2))return this.fireMiddleClick&&this._handleEvent(t,"up",2,o),void this._resetTransformEventData();if(this.isDrawingMode&&this._isCurrentlyDrawing)this._onMouseUpInDrawingMode(t);else{n&&this._finalizeCurrentTransform(t);var a=this._shouldRender(e,this._absolutePointer);!e&&o||this._maybeGroupObjects(t),e&&(e.isMoving=!1),this._setCursorFromEvent(t,e),this._handleEvent(t,"up",1,o),this._groupSelector=null,this._currentTransform=null,e&&(e.__corner=0),a&&this.requestRenderAll()}}},_simpleEventHandler:function(t,e){var n=this.findTarget(e),r=this.targets,i={e:e,target:n,subTargets:r};if(this.fire(t,i),n&&n.fire(t,i),!r)return n;for(var o=0;o<r.length;o++)r[o].fire(t,i);return n},_handleEvent:function(t,e,n,r){var i=this._target,o=this.targets||[],a={e:t,target:i,subTargets:o,button:n||1,isClick:r||!1,pointer:this._pointer,absolutePointer:this._absolutePointer,transform:this._currentTransform};this.fire("mouse:"+e,a),i&&i.fire("mouse"+e,a);for(var s=0;s<o.length;s++)o[s].fire("mouse"+e,a)},_finalizeCurrentTransform:function(t){var e,n=this._currentTransform,r=n.target,i={e:t,target:r,transform:n};r._scaling&&(r._scaling=!1),r.setCoords(),(n.actionPerformed||this.stateful&&r.hasStateChanged())&&(n.actionPerformed&&(e=this._addEventOptions(i,n),this._fire(e,i)),this._fire("modified",i))},_addEventOptions:function(t,e){var n,r;switch(e.action){case"scaleX":n="scaled",r="x";break;case"scaleY":n="scaled",r="y";break;case"skewX":n="skewed",r="x";break;case"skewY":n="skewed",r="y";break;case"scale":n="scaled",r="equally";break;case"rotate":n="rotated";break;case"drag":n="moved"}return t.by=r,n},_onMouseDownInDrawingMode:function(t){this._isCurrentlyDrawing=!0,this.getActiveObject()&&this.discardActiveObject(t).requestRenderAll(),this.clipTo&&C.util.clipContext(this,this.contextTop);var e=this.getPointer(t);this.freeDrawingBrush.onMouseDown(e),this._handleEvent(t,"down")},_onMouseMoveInDrawingMode:function(t){if(this._isCurrentlyDrawing){var e=this.getPointer(t);this.freeDrawingBrush.onMouseMove(e)}this.setCursor(this.freeDrawingCursor),this._handleEvent(t,"move")},_onMouseUpInDrawingMode:function(t){this._isCurrentlyDrawing=!1,this.clipTo&&this.contextTop.restore(),this.freeDrawingBrush.onMouseUp(),this._handleEvent(t,"up")},__onMouseDown:function(t){this._cacheTransformEventData(t),this._handleEvent(t,"down:before");var e=this._target;if(i(t,3))this.fireRightClick&&this._handleEvent(t,"down",3);else if(i(t,2))this.fireMiddleClick&&this._handleEvent(t,"down",2);else if(this.isDrawingMode)this._onMouseDownInDrawingMode(t);else if(!this._currentTransform){var n=this._pointer;this._previousPointer=n;var r=this._shouldRender(e,n),o=this._shouldGroup(t,e);this._shouldClearSelection(t,e)?this.discardActiveObject(t):o&&(this._handleGrouping(t,e),e=this._activeObject),!this.selection||e&&(e.selectable||e.isEditing||e===this._activeObject)||(this._groupSelector={ex:n.x,ey:n.y,top:0,left:0}),e&&(e.selectable&&this.setActiveObject(e,t),e!==this._activeObject||!e.__corner&&o||this._setupCurrentTransform(t,e)),this._handleEvent(t,"down"),r&&this.requestRenderAll()}},_resetTransformEventData:function(){this._target=null,this._pointer=null,this._absolutePointer=null},_cacheTransformEventData:function(t){this._resetTransformEventData(),this._pointer=this.getPointer(t,!0),this._absolutePointer=this.restorePointerVpt(this._pointer),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(t)||null},_beforeTransform:function(t){var e=this._currentTransform;this.stateful&&e.target.saveState(),this.fire("before:transform",{e:t,transform:e}),e.corner&&this.onBeforeScaleRotate(e.target)},__onMouseMove:function(t){var e,n;if(this._handleEvent(t,"move:before"),this._cacheTransformEventData(t),this.isDrawingMode)this._onMouseMoveInDrawingMode(t);else if(!(void 0!==t.touches&&t.touches.length>1)){var r=this._groupSelector;r?(r.left=(n=this._pointer).x-r.ex,r.top=n.y-r.ey,this.renderTop()):this._currentTransform?this._transformObject(t):(e=this.findTarget(t)||null,this._setCursorFromEvent(t,e),this._fireOverOutEvents(e,t)),this._handleEvent(t,"move"),this._resetTransformEventData()}},_fireOverOutEvents:function(t,e){this.fireSynteticInOutEvents(t,e,{targetName:"_hoveredTarget",canvasEvtOut:"mouse:out",evtOut:"mouseout",canvasEvtIn:"mouse:over",evtIn:"mouseover"})},_fireEnterLeaveEvents:function(t,e){this.fireSynteticInOutEvents(t,e,{targetName:"_draggedoverTarget",evtOut:"dragleave",evtIn:"dragenter"})},fireSynteticInOutEvents:function(t,e,n){var r,i,o,a=this[n.targetName],s=a!==t,u=n.canvasEvtIn,l=n.canvasEvtOut;s&&(r={e:e,target:t,previousTarget:a},i={e:e,target:a,nextTarget:t},this[n.targetName]=t),o=t&&s,a&&s&&(l&&this.fire(l,i),a.fire(n.evtOut,i)),o&&(u&&this.fire(u,r),t.fire(n.evtIn,r))},__onMouseWheel:function(t){this._cacheTransformEventData(t),this._handleEvent(t,"wheel"),this._resetTransformEventData()},_transformObject:function(t){var e=this.getPointer(t),n=this._currentTransform;n.reset=!1,n.target.isMoving=!0,n.shiftKey=t.shiftKey,n.altKey=t[this.centeredKey],this._beforeScaleTransform(t,n),this._performTransformAction(t,n,e),n.actionPerformed&&this.requestRenderAll()},_performTransformAction:function(t,e,n){var r=n.x,i=n.y,o=e.action,a=!1,s={target:e.target,e:t,transform:e,pointer:n};"rotate"===o?(a=this._rotateObject(r,i))&&this._fire("rotating",s):"scale"===o?(a=this._onScale(t,e,r,i))&&this._fire("scaling",s):"scaleX"===o?(a=this._scaleObject(r,i,"x"))&&this._fire("scaling",s):"scaleY"===o?(a=this._scaleObject(r,i,"y"))&&this._fire("scaling",s):"skewX"===o?(a=this._skewObject(r,i,"x"))&&this._fire("skewing",s):"skewY"===o?(a=this._skewObject(r,i,"y"))&&this._fire("skewing",s):(a=this._translateObject(r,i))&&(this._fire("moving",s),this.setCursor(s.target.moveCursor||this.moveCursor)),e.actionPerformed=e.actionPerformed||a},_fire:function(t,e){this.fire("object:"+t,e),e.target.fire(t,e)},_beforeScaleTransform:function(t,e){if("scale"===e.action||"scaleX"===e.action||"scaleY"===e.action){var n=this._shouldCenterTransform(e.target);(n&&("center"!==e.originX||"center"!==e.originY)||!n&&"center"===e.originX&&"center"===e.originY)&&(this._resetCurrentTransform(),e.reset=!0)}},_onScale:function(t,e,n,r){return this._isUniscalePossible(t,e.target)?(e.currentAction="scale",this._scaleObject(n,r)):(e.reset||"scale"!==e.currentAction||this._resetCurrentTransform(),e.currentAction="scaleEqually",this._scaleObject(n,r,"equally"))},_isUniscalePossible:function(t,e){return(t[this.uniScaleKey]||this.uniScaleTransform)&&!e.get("lockUniScaling")},_setCursorFromEvent:function(t,e){if(!e)return this.setCursor(this.defaultCursor),!1;var n=e.hoverCursor||this.hoverCursor,r=this._activeObject&&"activeSelection"===this._activeObject.type?this._activeObject:null,i=(!r||!r.contains(e))&&e._findTargetCorner(this.getPointer(t,!0));this.setCursor(i?this.getCornerCursor(i,e,t):n)},getCornerCursor:function(e,n,r){return this.actionIsDisabled(e,n,r)?this.notAllowedCursor:e in t?this._getRotatedCornerCursor(e,n,r):"mtr"===e&&n.hasRotatingPoint?this.rotationCursor:this.defaultCursor},actionIsDisabled:function(t,e,n){return"mt"===t||"mb"===t?n[this.altActionKey]?e.lockSkewingX:e.lockScalingY:"ml"===t||"mr"===t?n[this.altActionKey]?e.lockSkewingY:e.lockScalingX:"mtr"===t?e.lockRotation:this._isUniscalePossible(n,e)?e.lockScalingX&&e.lockScalingY:e.lockScalingX||e.lockScalingY},_getRotatedCornerCursor:function(e,n,r){var i=Math.round(n.angle%360/45);return i<0&&(i+=8),i+=t[e],r[this.altActionKey]&&t[e]%2==0&&(i+=2),this.cursorMap[i%=8]}})}(),c=Math.min,f=Math.max,C.util.object.extend(C.Canvas.prototype,{_shouldGroup:function(t,e){var n=this._activeObject;return n&&this._isSelectionKeyPressed(t)&&e&&e.selectable&&this.selection&&(n!==e||"activeSelection"===n.type)},_handleGrouping:function(t,e){var n=this._activeObject;n.__corner||(e!==n||(e=this.findTarget(t,!0)))&&(n&&"activeSelection"===n.type?this._updateActiveSelection(e,t):this._createActiveSelection(e,t))},_updateActiveSelection:function(t,e){var n=this._activeObject,r=n._objects.slice(0);n.contains(t)?(n.removeWithUpdate(t),this._hoveredTarget=t,1===n.size()&&this._setActiveObject(n.item(0),e)):(n.addWithUpdate(t),this._hoveredTarget=n),this._fireSelectionEvents(r,e)},_createActiveSelection:function(t,e){var n=this.getActiveObjects(),r=this._createGroup(t);this._hoveredTarget=r,this._setActiveObject(r,e),this._fireSelectionEvents(n,e)},_createGroup:function(t){var e=this.getObjects(),n=e.indexOf(this._activeObject)<e.indexOf(t)?[this._activeObject,t]:[t,this._activeObject];return this._activeObject.isEditing&&this._activeObject.exitEditing(),new C.ActiveSelection(n,{canvas:this})},_groupSelectedObjects:function(t){var e,n=this._collectObjects();1===n.length?this.setActiveObject(n[0],t):n.length>1&&(e=new C.ActiveSelection(n.reverse(),{canvas:this}),this.setActiveObject(e,t))},_collectObjects:function(){for(var t,e=[],n=this._groupSelector.ex,r=this._groupSelector.ey,i=n+this._groupSelector.left,o=r+this._groupSelector.top,a=new C.Point(c(n,i),c(r,o)),s=new C.Point(f(n,i),f(r,o)),u=!this.selectionFullyContained,l=n===i&&r===o,h=this._objects.length;h--&&!((t=this._objects[h])&&t.selectable&&t.visible&&(u&&t.intersectsWithRect(a,s)||t.isContainedWithinRect(a,s)||u&&t.containsPoint(a)||u&&t.containsPoint(s))&&(e.push(t),l)););return e},_maybeGroupObjects:function(t){this.selection&&this._groupSelector&&this._groupSelectedObjects(t),this.setCursor(this.defaultCursor),this._groupSelector=null}}),h=C.StaticCanvas.supports("toDataURLWithQuality"),C.util.object.extend(C.StaticCanvas.prototype,{toDataURL:function(t){t||(t={});var e=t.format||"png",n=t.quality||1,r=(t.multiplier||1)*(t.enableRetinaScaling?1:1/this.getRetinaScaling());return this.__toDataURLWithMultiplier(e,n,{left:t.left||0,top:t.top||0,width:t.width||0,height:t.height||0},r)},__toDataURLWithMultiplier:function(t,e,n,r){var i=this.width,o=this.height,a=(n.width||this.width)*r,s=(n.height||this.height)*r,u=this.getZoom()*r,l=this.viewportTransform,c=this.interactive,f=this.skipOffscreen,h=i!==a||o!==s;this.viewportTransform=[u,0,0,u,(l[4]-n.left)*r,(l[5]-n.top)*r],this.skipOffscreen=!1,this.interactive=!1,h&&this.setDimensions({width:a,height:s},{backstoreOnly:!0}),this.renderAll();var d=this.__toDataURL(t,e,n);return this.interactive=c,this.skipOffscreen=f,this.viewportTransform=l,h&&this.setDimensions({width:i,height:o},{backstoreOnly:!0}),this.renderAll(),d},__toDataURL:function(t,e){var n=this.contextContainer.canvas;return"jpg"===t&&(t="jpeg"),h?n.toDataURL("image/"+t,e):n.toDataURL("image/"+t)}}),C.util.object.extend(C.StaticCanvas.prototype,{loadFromDatalessJSON:function(t,e,n){return this.loadFromJSON(t,e,n)},loadFromJSON:function(t,e,n){if(t){var r="string"==typeof t?JSON.parse(t):C.util.object.clone(t),i=this,o=this.renderOnAddRemove;return this.renderOnAddRemove=!1,this._enlivenObjects(r.objects,function(t){i.clear(),i._setBgOverlay(r,function(){t.forEach(function(t,e){i.insertAt(t,e)}),i.renderOnAddRemove=o,delete r.objects,delete r.backgroundImage,delete r.overlayImage,delete r.background,delete r.overlay,i._setOptions(r),i.renderAll(),e&&e()})},n),this}},_setBgOverlay:function(t,e){var n={backgroundColor:!1,overlayColor:!1,backgroundImage:!1,overlayImage:!1};if(t.backgroundImage||t.overlayImage||t.background||t.overlay){var r=function(){n.backgroundImage&&n.overlayImage&&n.backgroundColor&&n.overlayColor&&e&&e()};this.__setBgOverlay("backgroundImage",t.backgroundImage,n,r),this.__setBgOverlay("overlayImage",t.overlayImage,n,r),this.__setBgOverlay("backgroundColor",t.background,n,r),this.__setBgOverlay("overlayColor",t.overlay,n,r)}else e&&e()},__setBgOverlay:function(t,e,n,r){var i=this;if(!e)return n[t]=!0,void(r&&r());"backgroundImage"===t||"overlayImage"===t?C.util.enlivenObjects([e],function(e){i[t]=e[0],n[t]=!0,r&&r()}):this["set"+C.util.string.capitalize(t,!0)](e,function(){n[t]=!0,r&&r()})},_enlivenObjects:function(t,e,n){t&&0!==t.length?C.util.enlivenObjects(t,function(t){e&&e(t)},null,n):e&&e([])},_toDataURL:function(t,e){this.clone(function(n){e(n.toDataURL(t))})},_toDataURLWithMultiplier:function(t,e,n){this.clone(function(r){n(r.toDataURLWithMultiplier(t,e))})},clone:function(t,e){var n=JSON.stringify(this.toJSON(e));this.cloneWithoutData(function(e){e.loadFromJSON(n,function(){t&&t(e)})})},cloneWithoutData:function(t){var e=C.document.createElement("canvas");e.width=this.width,e.height=this.height;var n=new C.Canvas(e);n.clipTo=this.clipTo,this.backgroundImage?(n.setBackgroundImage(this.backgroundImage.src,function(){n.renderAll(),t&&t(n)}),n.backgroundImageOpacity=this.backgroundImageOpacity,n.backgroundImageStretch=this.backgroundImageStretch):t&&t(n)}}),function(t){"use strict";var n=e.fabric||(e.fabric={}),r=n.util.object.extend,i=n.util.object.clone,o=n.util.toFixed,a=n.util.string.capitalize,s=n.util.degreesToRadians,u=n.StaticCanvas.supports("setLineDash");n.Object||(n.Object=n.util.createClass(n.CommonMethods,{type:"object",originX:"left",originY:"top",top:0,left:0,width:0,height:0,scaleX:1,scaleY:1,flipX:!1,flipY:!1,opacity:1,angle:0,skewX:0,skewY:0,cornerSize:13,transparentCorners:!0,hoverCursor:null,moveCursor:null,padding:0,borderColor:"rgba(102,153,255,0.75)",borderDashArray:null,cornerColor:"rgba(102,153,255,0.5)",cornerStrokeColor:null,cornerStyle:"rect",cornerDashArray:null,centeredScaling:!1,centeredRotation:!0,fill:"rgb(0,0,0)",fillRule:"nonzero",globalCompositeOperation:"source-over",backgroundColor:"",selectionBackgroundColor:"",stroke:null,strokeWidth:1,strokeDashArray:null,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,shadow:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,transformMatrix:null,minScaleLimit:0,selectable:!0,evented:!0,visible:!0,hasControls:!0,hasBorders:!0,hasRotatingPoint:!0,rotatingPointOffset:40,perPixelTargetFind:!1,includeDefaultValues:!0,clipTo:null,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockUniScaling:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,excludeFromExport:!1,objectCaching:!n.isLikelyNode,statefullCache:!1,noScaleCache:!0,dirty:!0,__corner:0,paintFirst:"fill",stateProperties:"top left width height scaleX scaleY flipX flipY originX originY transformMatrix stroke strokeWidth strokeDashArray strokeLineCap strokeLineJoin strokeMiterLimit angle opacity fill globalCompositeOperation shadow clipTo visible backgroundColor skewX skewY fillRule paintFirst".split(" "),cacheProperties:"fill stroke strokeWidth strokeDashArray width height paintFirst strokeLineCap strokeLineJoin strokeMiterLimit backgroundColor".split(" "),initialize:function(t){t&&this.setOptions(t)},_createCacheCanvas:function(){this._cacheProperties={},this._cacheCanvas=n.document.createElement("canvas"),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0},_limitCacheSize:function(t){var e=n.perfLimitSizeTotal,r=t.width,i=t.height,o=n.maxCacheSideLimit,a=n.minCacheSideLimit;if(r<=o&&i<=o&&r*i<=e)return r<a&&(t.width=a),i<a&&(t.height=a),t;var s=n.util.limitDimsByArea(r/i,e),u=n.util.capValue,l=u(a,s.x,o),c=u(a,s.y,o);return r>l&&(t.zoomX/=r/l,t.width=l,t.capped=!0),i>c&&(t.zoomY/=i/c,t.height=c,t.capped=!0),t},_getCacheCanvasDimensions:function(){var t=this.canvas&&this.canvas.getZoom()||1,e=this.getObjectScaling(),r=this.canvas&&this.canvas._isRetinaScaling()?n.devicePixelRatio:1,i=this._getNonTransformedDimensions(),o=e.scaleX*t*r,a=e.scaleY*t*r;return{width:i.x*o+2,height:i.y*a+2,zoomX:o,zoomY:a,x:i.x,y:i.y}},_updateCacheCanvas:function(){if(this.noScaleCache&&this.canvas&&this.canvas._currentTransform){var t=this.canvas._currentTransform.action;if(this===this.canvas._currentTransform.target&&t.slice&&"scale"===t.slice(0,5))return!1}var e,r,i=this._cacheCanvas,o=this._limitCacheSize(this._getCacheCanvasDimensions()),a=n.minCacheSideLimit,s=o.width,u=o.height,l=o.zoomX,c=o.zoomY,f=s!==this.cacheWidth||u!==this.cacheHeight,h=0,d=0,p=!1;if(f){var v=this._cacheCanvas.width,g=this._cacheCanvas.height,m=s>v||u>g;p=m||(s<.9*v||u<.9*g)&&v>a&&g>a,m&&!o.capped&&(s>a||u>a)&&(h=.1*s,d=.1*u)}return!(!f&&this.zoomX===l&&this.zoomY===c||(p?(i.width=Math.ceil(s+h),i.height=Math.ceil(u+d)):(this._cacheContext.setTransform(1,0,0,1,0,0),this._cacheContext.clearRect(0,0,i.width,i.height)),e=o.x*l/2,r=o.y*c/2,this.cacheTranslationX=Math.round(i.width/2-e)+e,this.cacheTranslationY=Math.round(i.height/2-r)+r,this.cacheWidth=s,this.cacheHeight=u,this._cacheContext.translate(this.cacheTranslationX,this.cacheTranslationY),this._cacheContext.scale(l,c),this.zoomX=l,this.zoomY=c,0))},setOptions:function(t){this._setOptions(t),this._initGradient(t.fill,"fill"),this._initGradient(t.stroke,"stroke"),this._initClipping(t),this._initPattern(t.fill,"fill"),this._initPattern(t.stroke,"stroke")},transform:function(t){var e;e=this.group&&!this.group._transformDone?this.calcTransformMatrix():this.calcOwnMatrix(),t.transform(e[0],e[1],e[2],e[3],e[4],e[5])},toObject:function(t){var e=n.Object.NUM_FRACTION_DIGITS,r={type:this.type,version:n.version,originX:this.originX,originY:this.originY,left:o(this.left,e),top:o(this.top,e),width:o(this.width,e),height:o(this.height,e),fill:this.fill&&this.fill.toObject?this.fill.toObject():this.fill,stroke:this.stroke&&this.stroke.toObject?this.stroke.toObject():this.stroke,strokeWidth:o(this.strokeWidth,e),strokeDashArray:this.strokeDashArray?this.strokeDashArray.concat():this.strokeDashArray,strokeLineCap:this.strokeLineCap,strokeLineJoin:this.strokeLineJoin,strokeMiterLimit:o(this.strokeMiterLimit,e),scaleX:o(this.scaleX,e),scaleY:o(this.scaleY,e),angle:o(this.angle,e),flipX:this.flipX,flipY:this.flipY,opacity:o(this.opacity,e),shadow:this.shadow&&this.shadow.toObject?this.shadow.toObject():this.shadow,visible:this.visible,clipTo:this.clipTo&&String(this.clipTo),backgroundColor:this.backgroundColor,fillRule:this.fillRule,paintFirst:this.paintFirst,globalCompositeOperation:this.globalCompositeOperation,transformMatrix:this.transformMatrix?this.transformMatrix.concat():null,skewX:o(this.skewX,e),skewY:o(this.skewY,e)};return n.util.populateWithProperties(this,r,t),this.includeDefaultValues||(r=this._removeDefaultValues(r)),r},toDatalessObject:function(t){return this.toObject(t)},_removeDefaultValues:function(t){var e=n.util.getKlass(t.type).prototype;return e.stateProperties.forEach(function(n){t[n]===e[n]&&delete t[n],"[object Array]"===Object.prototype.toString.call(t[n])&&"[object Array]"===Object.prototype.toString.call(e[n])&&0===t[n].length&&0===e[n].length&&delete t[n]}),t},toString:function(){return"#<fabric."+a(this.type)+">"},getObjectScaling:function(){var t=this.scaleX,e=this.scaleY;if(this.group){var n=this.group.getObjectScaling();t*=n.scaleX,e*=n.scaleY}return{scaleX:t,scaleY:e}},getObjectOpacity:function(){var t=this.opacity;return this.group&&(t*=this.group.getObjectOpacity()),t},_set:function(t,e){var r=this[t]!==e,i=!1;return("scaleX"===t||"scaleY"===t)&&(e=this._constrainScale(e)),"scaleX"===t&&e<0?(this.flipX=!this.flipX,e*=-1):"scaleY"===t&&e<0?(this.flipY=!this.flipY,e*=-1):"shadow"!==t||!e||e instanceof n.Shadow?"dirty"===t&&this.group&&this.group.set("dirty",e):e=new n.Shadow(e),this[t]=e,r&&(i=this.group&&this.group.isOnACache(),this.cacheProperties.indexOf(t)>-1?(this.dirty=!0,i&&this.group.set("dirty",!0)):i&&this.stateProperties.indexOf(t)>-1&&this.group.set("dirty",!0)),this},setOnGroup:function(){},getViewportTransform:function(){return this.canvas&&this.canvas.viewportTransform?this.canvas.viewportTransform:n.iMatrix.concat()},isNotVisible:function(){return 0===this.opacity||0===this.width&&0===this.height||!this.visible},render:function(t){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(t.save(),this._setupCompositeOperation(t),this.drawSelectionBackground(t),this.transform(t),this._setOpacity(t),this._setShadow(t,this),this.transformMatrix&&t.transform.apply(t,this.transformMatrix),this.clipTo&&n.util.clipContext(this,t),this.shouldCache()?(this._cacheCanvas||this._createCacheCanvas(),this.isCacheDirty()&&(this.statefullCache&&this.saveState({propertySet:"cacheProperties"}),this.drawObject(this._cacheContext),this.dirty=!1),this.drawCacheOnCanvas(t)):(this._removeCacheCanvas(),this.dirty=!1,this.drawObject(t),this.objectCaching&&this.statefullCache&&this.saveState({propertySet:"cacheProperties"})),this.clipTo&&t.restore(),t.restore())},_removeCacheCanvas:function(){this._cacheCanvas=null,this.cacheWidth=0,this.cacheHeight=0},needsItsOwnCache:function(){return"stroke"===this.paintFirst&&"object"==typeof this.shadow},shouldCache:function(){return this.ownCaching=this.objectCaching&&(!this.group||this.needsItsOwnCache()||!this.group.isOnACache()),this.ownCaching},willDrawShadow:function(){return!!this.shadow&&(0!==this.shadow.offsetX||0!==this.shadow.offsetY)},drawObject:function(t){this._renderBackground(t),this._setStrokeStyles(t,this),this._setFillStyles(t,this),this._render(t)},drawCacheOnCanvas:function(t){t.scale(1/this.zoomX,1/this.zoomY),t.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)},isCacheDirty:function(t){if(this.isNotVisible())return!1;if(this._cacheCanvas&&!t&&this._updateCacheCanvas())return!0;if(this.dirty||this.statefullCache&&this.hasStateChanged("cacheProperties")){if(this._cacheCanvas&&!t){var e=this.cacheWidth/this.zoomX,n=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-e/2,-n/2,e,n)}return!0}return!1},_renderBackground:function(t){if(this.backgroundColor){var e=this._getNonTransformedDimensions();t.fillStyle=this.backgroundColor,t.fillRect(-e.x/2,-e.y/2,e.x,e.y),this._removeShadow(t)}},_setOpacity:function(t){this.group&&!this.group._transformDone?t.globalAlpha=this.getObjectOpacity():t.globalAlpha*=this.opacity},_setStrokeStyles:function(t,e){e.stroke&&(t.lineWidth=e.strokeWidth,t.lineCap=e.strokeLineCap,t.lineJoin=e.strokeLineJoin,t.miterLimit=e.strokeMiterLimit,t.strokeStyle=e.stroke.toLive?e.stroke.toLive(t,this):e.stroke)},_setFillStyles:function(t,e){e.fill&&(t.fillStyle=e.fill.toLive?e.fill.toLive(t,this):e.fill)},_setLineDash:function(t,e,n){e&&(1&e.length&&e.push.apply(e,e),u?t.setLineDash(e):n&&n(t))},_renderControls:function(t,e){var r,i,o,a=this.getViewportTransform(),u=this.calcTransformMatrix();i=void 0!==(e=e||{}).hasBorders?e.hasBorders:this.hasBorders,o=void 0!==e.hasControls?e.hasControls:this.hasControls,u=n.util.multiplyTransformMatrices(a,u),r=n.util.qrDecompose(u),t.save(),t.translate(r.translateX,r.translateY),t.lineWidth=1*this.borderScaleFactor,this.group||(t.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),e.forActiveSelection?(t.rotate(s(r.angle)),i&&this.drawBordersInGroup(t,r,e)):(t.rotate(s(this.angle)),i&&this.drawBorders(t,e)),o&&this.drawControls(t,e),t.restore()},_setShadow:function(t){if(this.shadow){var e=this.canvas&&this.canvas.viewportTransform[0]||1,r=this.canvas&&this.canvas.viewportTransform[3]||1,i=this.getObjectScaling();this.canvas&&this.canvas._isRetinaScaling()&&(e*=n.devicePixelRatio,r*=n.devicePixelRatio),t.shadowColor=this.shadow.color,t.shadowBlur=this.shadow.blur*n.browserShadowBlurConstant*(e+r)*(i.scaleX+i.scaleY)/4,t.shadowOffsetX=this.shadow.offsetX*e*i.scaleX,t.shadowOffsetY=this.shadow.offsetY*r*i.scaleY}},_removeShadow:function(t){this.shadow&&(t.shadowColor="",t.shadowBlur=t.shadowOffsetX=t.shadowOffsetY=0)},_applyPatternGradientTransform:function(t,e){if(!e||!e.toLive)return{offsetX:0,offsetY:0};var n=e.gradientTransform||e.patternTransform,r=-this.width/2+e.offsetX||0,i=-this.height/2+e.offsetY||0;return t.translate(r,i),n&&t.transform(n[0],n[1],n[2],n[3],n[4],n[5]),{offsetX:r,offsetY:i}},_renderPaintInOrder:function(t){"stroke"===this.paintFirst?(this._renderStroke(t),this._renderFill(t)):(this._renderFill(t),this._renderStroke(t))},_renderFill:function(t){this.fill&&(t.save(),this._applyPatternGradientTransform(t,this.fill),"evenodd"===this.fillRule?t.fill("evenodd"):t.fill(),t.restore())},_renderStroke:function(t){this.stroke&&0!==this.strokeWidth&&(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(t),t.save(),this._setLineDash(t,this.strokeDashArray,this._renderDashedStroke),this._applyPatternGradientTransform(t,this.stroke),t.stroke(),t.restore())},_findCenterFromElement:function(){return{x:this.left+this.width/2,y:this.top+this.height/2}},_assignTransformMatrixProps:function(){if(this.transformMatrix){var t=n.util.qrDecompose(this.transformMatrix);this.flipX=!1,this.flipY=!1,this.set("scaleX",t.scaleX),this.set("scaleY",t.scaleY),this.angle=t.angle,this.skewX=t.skewX,this.skewY=0}},_removeTransformMatrix:function(t){var e=this._findCenterFromElement();this.transformMatrix&&(this._assignTransformMatrixProps(),e=n.util.transformPoint(e,this.transformMatrix)),this.transformMatrix=null,t&&(this.scaleX*=t.scaleX,this.scaleY*=t.scaleY,this.cropX=t.cropX,this.cropY=t.cropY,e.x+=t.offsetLeft,e.y+=t.offsetTop,this.width=t.width,this.height=t.height),this.setPositionByOrigin(e,"center","center")},clone:function(t,e){var r=this.toObject(e);this.constructor.fromObject?this.constructor.fromObject(r,t):n.Object._fromObject("Object",r,t)},cloneAsImage:function(t,e){var r=this.toDataURL(e);return n.util.loadImage(r,function(e){t&&t(new n.Image(e))}),this},toDataURL:function(t){t||(t={});var e=n.util.createCanvasElement(),r=this.getBoundingRect();e.width=r.width,e.height=r.height,n.util.wrapElement(e,"div");var i=new n.StaticCanvas(e,{enableRetinaScaling:t.enableRetinaScaling,renderOnAddRemove:!1,skipOffscreen:!1});"jpg"===t.format&&(t.format="jpeg"),"jpeg"===t.format&&(i.backgroundColor="#fff");var o={left:this.left,top:this.top};this.setPositionByOrigin(new n.Point(i.width/2,i.height/2),"center","center");var a=this.canvas;i.add(this);var s=i.toDataURL(t);return this.set(o).setCoords(),this.canvas=a,i._objects=[],i.dispose(),i=null,s},isType:function(t){return this.type===t},complexity:function(){return 1},toJSON:function(t){return this.toObject(t)},setGradient:function(t,e){e||(e={});var r={colorStops:[]};return r.type=e.type||(e.r1||e.r2?"radial":"linear"),r.coords={x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2},(e.r1||e.r2)&&(r.coords.r1=e.r1,r.coords.r2=e.r2),r.gradientTransform=e.gradientTransform,n.Gradient.prototype.addColorStop.call(r,e.colorStops),this.set(t,n.Gradient.forObject(this,r))},setPatternFill:function(t){return this.set("fill",new n.Pattern(t))},setShadow:function(t){return this.set("shadow",t?new n.Shadow(t):null)},setColor:function(t){return this.set("fill",t),this},rotate:function(t){var e=("center"!==this.originX||"center"!==this.originY)&&this.centeredRotation;return e&&this._setOriginToCenter(),this.set("angle",t),e&&this._resetOrigin(),this},centerH:function(){return this.canvas&&this.canvas.centerObjectH(this),this},viewportCenterH:function(){return this.canvas&&this.canvas.viewportCenterObjectH(this),this},centerV:function(){return this.canvas&&this.canvas.centerObjectV(this),this},viewportCenterV:function(){return this.canvas&&this.canvas.viewportCenterObjectV(this),this},center:function(){return this.canvas&&this.canvas.centerObject(this),this},viewportCenter:function(){return this.canvas&&this.canvas.viewportCenterObject(this),this},getLocalPointer:function(t,e){e=e||this.canvas.getPointer(t);var r=new n.Point(e.x,e.y),i=this._getLeftTopCoords();return this.angle&&(r=n.util.rotatePoint(r,i,s(-this.angle))),{x:r.x-i.x,y:r.y-i.y}},_setupCompositeOperation:function(t){this.globalCompositeOperation&&(t.globalCompositeOperation=this.globalCompositeOperation)}}),n.util.createAccessors&&n.util.createAccessors(n.Object),r(n.Object.prototype,n.Observable),n.Object.NUM_FRACTION_DIGITS=2,n.Object._fromObject=function(t,e,r,o){var a=n[t];e=i(e,!0),n.util.enlivenPatterns([e.fill,e.stroke],function(t){void 0!==t[0]&&(e.fill=t[0]),void 0!==t[1]&&(e.stroke=t[1]);var n=o?new a(e[o],e):new a(e);r&&r(n)})},n.Object.__uid=0)}(),d=C.util.degreesToRadians,p={left:-.5,center:0,right:.5},v={top:-.5,center:0,bottom:.5},C.util.object.extend(C.Object.prototype,{translateToGivenOrigin:function(t,e,n,r,i){var o,a,s,u=t.x,l=t.y;return"string"==typeof e?e=p[e]:e-=.5,"string"==typeof r?r=p[r]:r-=.5,o=r-e,"string"==typeof n?n=v[n]:n-=.5,"string"==typeof i?i=v[i]:i-=.5,a=i-n,(o||a)&&(s=this._getTransformedDimensions(),u=t.x+o*s.x,l=t.y+a*s.y),new C.Point(u,l)},translateToCenterPoint:function(t,e,n){var r=this.translateToGivenOrigin(t,e,n,"center","center");return this.angle?C.util.rotatePoint(r,t,d(this.angle)):r},translateToOriginPoint:function(t,e,n){var r=this.translateToGivenOrigin(t,"center","center",e,n);return this.angle?C.util.rotatePoint(r,t,d(this.angle)):r},getCenterPoint:function(){var t=new C.Point(this.left,this.top);return this.translateToCenterPoint(t,this.originX,this.originY)},getPointByOrigin:function(t,e){var n=this.getCenterPoint();return this.translateToOriginPoint(n,t,e)},toLocalPoint:function(t,e,n){var r,i,o=this.getCenterPoint();return r=void 0!==e&&void 0!==n?this.translateToGivenOrigin(o,"center","center",e,n):new C.Point(this.left,this.top),i=new C.Point(t.x,t.y),this.angle&&(i=C.util.rotatePoint(i,o,-d(this.angle))),i.subtractEquals(r)},setPositionByOrigin:function(t,e,n){var r=this.translateToCenterPoint(t,e,n),i=this.translateToOriginPoint(r,this.originX,this.originY);this.set("left",i.x),this.set("top",i.y)},adjustPosition:function(t){var e,n,r=d(this.angle),i=this.getScaledWidth(),o=C.util.cos(r)*i,a=C.util.sin(r)*i;e="string"==typeof this.originX?p[this.originX]:this.originX-.5,this.left+=o*((n="string"==typeof t?p[t]:t-.5)-e),this.top+=a*(n-e),this.setCoords(),this.originX=t},_setOriginToCenter:function(){this._originalOriginX=this.originX,this._originalOriginY=this.originY;var t=this.getCenterPoint();this.originX="center",this.originY="center",this.left=t.x,this.top=t.y},_resetOrigin:function(){var t=this.translateToOriginPoint(this.getCenterPoint(),this._originalOriginX,this._originalOriginY);this.originX=this._originalOriginX,this.originY=this._originalOriginY,this.left=t.x,this.top=t.y,this._originalOriginX=null,this._originalOriginY=null},_getLeftTopCoords:function(){return this.translateToOriginPoint(this.getCenterPoint(),"left","top")}}),function(){var t=C.util.degreesToRadians,e=C.util.multiplyTransformMatrices,n=C.util.transformPoint;C.util.object.extend(C.Object.prototype,{oCoords:null,aCoords:null,ownMatrixCache:null,matrixCache:null,getCoords:function(t,e){this.oCoords||this.setCoords();var n=t?this.aCoords:this.oCoords;return function(t){return[new C.Point(t.tl.x,t.tl.y),new C.Point(t.tr.x,t.tr.y),new C.Point(t.br.x,t.br.y),new C.Point(t.bl.x,t.bl.y)]}(e?this.calcCoords(t):n)},intersectsWithRect:function(t,e,n,r){var i=this.getCoords(n,r);return"Intersection"===C.Intersection.intersectPolygonRectangle(i,t,e).status},intersectsWithObject:function(t,e,n){return"Intersection"===C.Intersection.intersectPolygonPolygon(this.getCoords(e,n),t.getCoords(e,n)).status||t.isContainedWithinObject(this,e,n)||this.isContainedWithinObject(t,e,n)},isContainedWithinObject:function(t,e,n){for(var r=this.getCoords(e,n),i=0,o=t._getImageLines(n?t.calcCoords(e):e?t.aCoords:t.oCoords);i<4;i++)if(!t.containsPoint(r[i],o))return!1;return!0},isContainedWithinRect:function(t,e,n,r){var i=this.getBoundingRect(n,r);return i.left>=t.x&&i.left+i.width<=e.x&&i.top>=t.y&&i.top+i.height<=e.y},containsPoint:function(t,e,n,r){e=e||this._getImageLines(r?this.calcCoords(n):n?this.aCoords:this.oCoords);var i=this._findCrossPoints(t,e);return 0!==i&&i%2==1},isOnScreen:function(t){if(!this.canvas)return!1;for(var e,n=this.canvas.vptCoords.tl,r=this.canvas.vptCoords.br,i=this.getCoords(!0,t),o=0;o<4;o++)if((e=i[o]).x<=r.x&&e.x>=n.x&&e.y<=r.y&&e.y>=n.y)return!0;return!!this.intersectsWithRect(n,r,!0,t)||this._containsCenterOfCanvas(n,r,t)},_containsCenterOfCanvas:function(t,e,n){return!!this.containsPoint({x:(t.x+e.x)/2,y:(t.y+e.y)/2},null,!0,n)},isPartiallyOnScreen:function(t){if(!this.canvas)return!1;var e=this.canvas.vptCoords.tl,n=this.canvas.vptCoords.br;return!!this.intersectsWithRect(e,n,!0,t)||this._containsCenterOfCanvas(e,n,t)},_getImageLines:function(t){return{topline:{o:t.tl,d:t.tr},rightline:{o:t.tr,d:t.br},bottomline:{o:t.br,d:t.bl},leftline:{o:t.bl,d:t.tl}}},_findCrossPoints:function(t,e){var n,r,i,o=0;for(var a in e)if(!((i=e[a]).o.y<t.y&&i.d.y<t.y||i.o.y>=t.y&&i.d.y>=t.y||((i.o.x===i.d.x&&i.o.x>=t.x?i.o.x:-(t.y-(n=0)*t.x-(i.o.y-(r=(i.d.y-i.o.y)/(i.d.x-i.o.x))*i.o.x))/(n-r))>=t.x&&(o+=1),2!==o)))break;return o},getBoundingRect:function(t,e){var n=this.getCoords(t,e);return C.util.makeBoundingBoxFromPoints(n)},getScaledWidth:function(){return this._getTransformedDimensions().x},getScaledHeight:function(){return this._getTransformedDimensions().y},_constrainScale:function(t){return Math.abs(t)<this.minScaleLimit?t<0?-this.minScaleLimit:this.minScaleLimit:0===t?1e-4:t},scale:function(t){return this._set("scaleX",t),this._set("scaleY",t),this.setCoords()},scaleToWidth:function(t,e){var n=this.getBoundingRect(e).width/this.getScaledWidth();return this.scale(t/this.width/n)},scaleToHeight:function(t,e){var n=this.getBoundingRect(e).height/this.getScaledHeight();return this.scale(t/this.height/n)},calcCoords:function(r){var i=this._calcRotateMatrix(),o=this._calcTranslateMatrix(),a=e(o,i),s=this.getViewportTransform(),u=r?a:e(s,a),l=this._getTransformedDimensions(),c=l.x/2,f=l.y/2,h=n({x:-c,y:-f},u),d=n({x:c,y:-f},u),p=n({x:-c,y:f},u),v=n({x:c,y:f},u);if(!r){var g=this.padding,m=t(this.angle),y=C.util.cos(m),b=C.util.sin(m),w=y*g,x=b*g,_=w+x,S=w-x;g&&(h.x-=S,h.y-=_,d.x+=_,d.y-=S,p.x-=_,p.y+=S,v.x+=S,v.y+=_);var D=new C.Point((h.x+p.x)/2,(h.y+p.y)/2),P=new C.Point((d.x+h.x)/2,(d.y+h.y)/2),A=new C.Point((v.x+d.x)/2,(v.y+d.y)/2),T=new C.Point((v.x+p.x)/2,(v.y+p.y)/2),E=new C.Point(P.x+b*this.rotatingPointOffset,P.y-y*this.rotatingPointOffset)}var O={tl:h,tr:d,br:v,bl:p};return r||(O.ml=D,O.mt=P,O.mr=A,O.mb=T,O.mtr=E),O},setCoords:function(t,e){return this.oCoords=this.calcCoords(t),e||(this.aCoords=this.calcCoords(!0)),t||this._setCornerCoords&&this._setCornerCoords(),this},_calcRotateMatrix:function(){if(this.angle){var e=t(this.angle),n=C.util.cos(e),r=C.util.sin(e);return[n,r,-r,n,0,0]}return C.iMatrix.concat()},_calcTranslateMatrix:function(){var t=this.getCenterPoint();return[1,0,0,1,t.x,t.y]},transformMatrixKey:function(t){var e="";return!t&&this.group&&(e=this.group.transformMatrixKey(t)+"_"),e+this.top+"_"+this.left+"_"+this.scaleX+"_"+this.scaleY+"_"+this.skewX+"_"+this.skewY+"_"+this.angle+"_"+this.originX+"_"+this.originY+"_"+this.width+"_"+this.height+"_"+this.strokeWidth+this.flipX+this.flipY},calcTransformMatrix:function(t){if(t)return this.calcOwnMatrix();var n=this.transformMatrixKey(),r=this.matrixCache||(this.matrixCache={});if(r.key===n)return r.value;var i=this.calcOwnMatrix();return this.group&&(i=e(this.group.calcTransformMatrix(),i)),r.key=n,r.value=i,i},calcOwnMatrix:function(){var t=this.transformMatrixKey(!0),n=this.ownMatrixCache||(this.ownMatrixCache={});if(n.key===t)return n.value;var r,i=this._calcTranslateMatrix(),o=this._calcDimensionsTransformMatrix(this.skewX,this.skewY,!0);return this.angle&&(r=this._calcRotateMatrix(),i=e(i,r)),i=e(i,o),n.key=t,n.value=i,i},_calcDimensionsTransformMatrix:function(n,r,i){var o,a=[this.scaleX*(i&&this.flipX?-1:1),0,0,this.scaleY*(i&&this.flipY?-1:1),0,0];return n&&(o=[1,0,Math.tan(t(n)),1],a=e(a,o,!0)),r&&(o=[1,Math.tan(t(r)),0,1],a=e(a,o,!0)),a},_getNonTransformedDimensions:function(){var t=this.strokeWidth;return{x:this.width+t,y:this.height+t}},_getTransformedDimensions:function(t,e){void 0===t&&(t=this.skewX),void 0===e&&(e=this.skewY);var n=this._getNonTransformedDimensions();if(0===t&&0===e)return{x:n.x*this.scaleX,y:n.y*this.scaleY};var r,i,o=n.x/2,a=n.y/2,s=[{x:-o,y:-a},{x:o,y:-a},{x:-o,y:a},{x:o,y:a}],u=this._calcDimensionsTransformMatrix(t,e,!1);for(r=0;r<s.length;r++)s[r]=C.util.transformPoint(s[r],u);return{x:(i=C.util.makeBoundingBoxFromPoints(s)).width,y:i.height}},_calculateCurrentDimensions:function(){var t=this.getViewportTransform(),e=this._getTransformedDimensions();return C.util.transformPoint(e,t,!0).scalarAdd(2*this.padding)}})}(),C.util.object.extend(C.Object.prototype,{sendToBack:function(){return this.group?C.StaticCanvas.prototype.sendToBack.call(this.group,this):this.canvas.sendToBack(this),this},bringToFront:function(){return this.group?C.StaticCanvas.prototype.bringToFront.call(this.group,this):this.canvas.bringToFront(this),this},sendBackwards:function(t){return this.group?C.StaticCanvas.prototype.sendBackwards.call(this.group,this,t):this.canvas.sendBackwards(this,t),this},bringForward:function(t){return this.group?C.StaticCanvas.prototype.bringForward.call(this.group,this,t):this.canvas.bringForward(this,t),this},moveTo:function(t){return this.group&&"activeSelection"!==this.group.type?C.StaticCanvas.prototype.moveTo.call(this.group,this,t):this.canvas.moveTo(this,t),this}}),function(){function t(t,e){if(e){if(e.toLive)return t+": url(#SVGID_"+e.id+"); ";var n=new C.Color(e),r=t+": "+n.toRgb()+"; ",i=n.getAlpha();return 1!==i&&(r+=t+"-opacity: "+i.toString()+"; "),r}return t+": none; "}var e=C.util.toFixed;C.util.object.extend(C.Object.prototype,{getSvgStyles:function(e){var n=this.fillRule,r=this.strokeWidth?this.strokeWidth:"0",i=this.strokeDashArray?this.strokeDashArray.join(" "):"none",o=this.strokeLineCap?this.strokeLineCap:"butt",a=this.strokeLineJoin?this.strokeLineJoin:"miter",s=this.strokeMiterLimit?this.strokeMiterLimit:"4",u=void 0!==this.opacity?this.opacity:"1",l=this.visible?"":" visibility: hidden;",c=e?"":this.getSvgFilter(),f=t("fill",this.fill);return[t("stroke",this.stroke),"stroke-width: ",r,"; ","stroke-dasharray: ",i,"; ","stroke-linecap: ",o,"; ","stroke-linejoin: ",a,"; ","stroke-miterlimit: ",s,"; ",f,"fill-rule: ",n,"; ","opacity: ",u,";",c,l].join("")},getSvgSpanStyles:function(e,n){var r=e.fontFamily?"font-family: "+(-1===e.fontFamily.indexOf("'")&&-1===e.fontFamily.indexOf('"')?"'"+e.fontFamily+"'":e.fontFamily)+"; ":"",i=e.strokeWidth?"stroke-width: "+e.strokeWidth+"; ":"",o=(r=r,e.fontSize?"font-size: "+e.fontSize+"px; ":""),a=e.fontStyle?"font-style: "+e.fontStyle+"; ":"",s=e.fontWeight?"font-weight: "+e.fontWeight+"; ":"",u=e.fill?t("fill",e.fill):"",l=e.stroke?t("stroke",e.stroke):"",c=this.getSvgTextDecoration(e);return c&&(c="text-decoration: "+c+"; "),[l,i,r,o,a,s,c,u,e.deltaY?"baseline-shift: "+-e.deltaY+"; ":"",n?"white-space: pre; ":""].join("")},getSvgTextDecoration:function(t){return"overline"in t||"underline"in t||"linethrough"in t?(t.overline?"overline ":"")+(t.underline?"underline ":"")+(t.linethrough?"line-through ":""):""},getSvgFilter:function(){return this.shadow?"filter: url(#SVGID_"+this.shadow.id+");":""},getSvgId:function(){return this.id?'id="'+this.id+'" ':""},getSvgTransform:function(){var t=this.angle,n=this.skewX%360,r=this.skewY%360,i=this.getCenterPoint(),o=C.Object.NUM_FRACTION_DIGITS,a="translate("+e(i.x,o)+" "+e(i.y,o)+")",s=0!==t?" rotate("+e(t,o)+")":"",u=1===this.scaleX&&1===this.scaleY?"":" scale("+e(this.scaleX,o)+" "+e(this.scaleY,o)+")",l=0!==n?" skewX("+e(n,o)+")":"",c=0!==r?" skewY("+e(r,o)+")":"";return[a,s,u,this.flipX?" matrix(-1 0 0 1 0 0) ":"",this.flipY?" matrix(1 0 0 -1 0 0)":"",l,c].join("")},getSvgTransformMatrix:function(){return this.transformMatrix?" matrix("+this.transformMatrix.join(" ")+") ":""},_setSVGBg:function(t){if(this.backgroundColor){var n=C.Object.NUM_FRACTION_DIGITS;t.push("\t\t<rect ",this._getFillAttributes(this.backgroundColor),' x="',e(-this.width/2,n),'" y="',e(-this.height/2,n),'" width="',e(this.width,n),'" height="',e(this.height,n),'"></rect>\n')}},_createBaseSVGMarkup:function(){var t=[];return this.fill&&this.fill.toLive&&t.push(this.fill.toSVG(this,!1)),this.stroke&&this.stroke.toLive&&t.push(this.stroke.toSVG(this,!1)),this.shadow&&t.push(this.shadow.toSVG(this)),t},addPaintOrder:function(){return"fill"!==this.paintFirst?' paint-order="'+this.paintFirst+'" ':""}})}(),function(){var t=C.util.object.extend;function e(e,n,r){var i={};r.forEach(function(t){i[t]=e[t]}),t(e[n],i,!0)}C.util.object.extend(C.Object.prototype,{hasStateChanged:function(t){var e="_"+(t=t||"stateProperties");return Object.keys(this[e]).length<this[t].length||!function t(e,n,r){if(e===n)return!0;if(Array.isArray(e)){if(!Array.isArray(n)||e.length!==n.length)return!1;for(var i=0,o=e.length;i<o;i++)if(!t(e[i],n[i]))return!1;return!0}if(e&&"object"==typeof e){var a,s=Object.keys(e);if(!n||"object"!=typeof n||!r&&s.length!==Object.keys(n).length)return!1;for(i=0,o=s.length;i<o;i++)if(!t(e[a=s[i]],n[a]))return!1;return!0}}(this[e],this,!0)},saveState:function(t){var n=t&&t.propertySet||"stateProperties",r="_"+n;return this[r]?(e(this,r,this[n]),t&&t.stateProperties&&e(this,r,t.stateProperties),this):this.setupState(t)},setupState:function(t){var e=(t=t||{}).propertySet||"stateProperties";return t.propertySet=e,this["_"+e]={},this.saveState(t),this}})}(),function(){var t=C.util.degreesToRadians;C.util.object.extend(C.Object.prototype,{_controlsVisibility:null,_findTargetCorner:function(t){if(!this.hasControls||this.group||!this.canvas||this.canvas._activeObject!==this)return!1;var e,n,r=t.x,i=t.y;for(var o in this.__corner=0,this.oCoords)if(this.isControlVisible(o)&&("mtr"!==o||this.hasRotatingPoint)&&(!this.get("lockUniScaling")||"mt"!==o&&"mr"!==o&&"mb"!==o&&"ml"!==o)&&(n=this._getImageLines(this.oCoords[o].corner),0!==(e=this._findCrossPoints({x:r,y:i},n))&&e%2==1))return this.__corner=o,o;return!1},_setCornerCoords:function(){var e,n,r=this.oCoords,i=t(45-this.angle),o=.707106*this.cornerSize,a=o*C.util.cos(i),s=o*C.util.sin(i);for(var u in r)r[u].corner={tl:{x:(e=r[u].x)-s,y:(n=r[u].y)-a},tr:{x:e+a,y:n-s},bl:{x:e-a,y:n+s},br:{x:e+s,y:n+a}}},drawSelectionBackground:function(e){if(!this.selectionBackgroundColor||this.canvas&&!this.canvas.interactive||this.canvas&&this.canvas._activeObject!==this)return this;e.save();var n=this.getCenterPoint(),r=this._calculateCurrentDimensions(),i=this.canvas.viewportTransform;return e.translate(n.x,n.y),e.scale(1/i[0],1/i[3]),e.rotate(t(this.angle)),e.fillStyle=this.selectionBackgroundColor,e.fillRect(-r.x/2,-r.y/2,r.x,r.y),e.restore(),this},drawBorders:function(t,e){e=e||{};var n=this._calculateCurrentDimensions(),r=1/this.borderScaleFactor,i=n.x+r,o=n.y+r,a=void 0!==e.hasRotatingPoint?e.hasRotatingPoint:this.hasRotatingPoint,s=void 0!==e.hasControls?e.hasControls:this.hasControls,u=void 0!==e.rotatingPointOffset?e.rotatingPointOffset:this.rotatingPointOffset;if(t.save(),t.strokeStyle=e.borderColor||this.borderColor,this._setLineDash(t,e.borderDashArray||this.borderDashArray,null),t.strokeRect(-i/2,-o/2,i,o),a&&this.isControlVisible("mtr")&&s){var l=-o/2;t.beginPath(),t.moveTo(0,l),t.lineTo(0,l-u),t.stroke()}return t.restore(),this},drawBordersInGroup:function(t,e,n){n=n||{};var r=this._getNonTransformedDimensions(),i=C.util.customTransformMatrix(e.scaleX,e.scaleY,e.skewX),o=C.util.transformPoint(r,i),a=1/this.borderScaleFactor,s=o.x+a,u=o.y+a;return t.save(),this._setLineDash(t,n.borderDashArray||this.borderDashArray,null),t.strokeStyle=n.borderColor||this.borderColor,t.strokeRect(-s/2,-u/2,s,u),t.restore(),this},drawControls:function(t,e){e=e||{};var n=this._calculateCurrentDimensions(),r=n.x,i=n.y,o=e.cornerSize||this.cornerSize,a=-(r+o)/2,s=-(i+o)/2,u=void 0!==e.hasRotatingPoint?e.hasRotatingPoint:this.hasRotatingPoint,l=(void 0!==e.transparentCorners?e.transparentCorners:this.transparentCorners)?"stroke":"fill";return t.save(),t.strokeStyle=t.fillStyle=e.cornerColor||this.cornerColor,this.transparentCorners||(t.strokeStyle=e.cornerStrokeColor||this.cornerStrokeColor),this._setLineDash(t,e.cornerDashArray||this.cornerDashArray,null),this._drawControl("tl",t,l,a,s,e),this._drawControl("tr",t,l,a+r,s,e),this._drawControl("bl",t,l,a,s+i,e),this._drawControl("br",t,l,a+r,s+i,e),this.get("lockUniScaling")||(this._drawControl("mt",t,l,a+r/2,s,e),this._drawControl("mb",t,l,a+r/2,s+i,e),this._drawControl("mr",t,l,a+r,s+i/2,e),this._drawControl("ml",t,l,a,s+i/2,e)),u&&this._drawControl("mtr",t,l,a+r/2,s-this.rotatingPointOffset,e),t.restore(),this},_drawControl:function(t,e,n,r,i,o){if(o=o||{},this.isControlVisible(t)){var a=this.cornerSize,s=!this.transparentCorners&&this.cornerStrokeColor;switch(o.cornerStyle||this.cornerStyle){case"circle":e.beginPath(),e.arc(r+a/2,i+a/2,a/2,0,2*Math.PI,!1),e[n](),s&&e.stroke();break;default:this.transparentCorners||e.clearRect(r,i,a,a),e[n+"Rect"](r,i,a,a),s&&e.strokeRect(r,i,a,a)}}},isControlVisible:function(t){return this._getControlsVisibility()[t]},setControlVisible:function(t,e){return this._getControlsVisibility()[t]=e,this},setControlsVisibility:function(t){for(var e in t||(t={}),t)this.setControlVisible(e,t[e]);return this},_getControlsVisibility:function(){return this._controlsVisibility||(this._controlsVisibility={tl:!0,tr:!0,br:!0,bl:!0,ml:!0,mt:!0,mr:!0,mb:!0,mtr:!0}),this._controlsVisibility},onDeselect:function(){},onSelect:function(){}})}(),C.util.object.extend(C.StaticCanvas.prototype,{FX_DURATION:500,fxCenterObjectH:function(t,e){var n=function(){},r=(e=e||{}).onComplete||n,i=e.onChange||n,o=this;return C.util.animate({startValue:t.left,endValue:this.getCenter().left,duration:this.FX_DURATION,onChange:function(e){t.set("left",e),o.requestRenderAll(),i()},onComplete:function(){t.setCoords(),r()}}),this},fxCenterObjectV:function(t,e){var n=function(){},r=(e=e||{}).onComplete||n,i=e.onChange||n,o=this;return C.util.animate({startValue:t.top,endValue:this.getCenter().top,duration:this.FX_DURATION,onChange:function(e){t.set("top",e),o.requestRenderAll(),i()},onComplete:function(){t.setCoords(),r()}}),this},fxRemove:function(t,e){var n=function(){},r=(e=e||{}).onComplete||n,i=e.onChange||n,o=this;return C.util.animate({startValue:t.opacity,endValue:0,duration:this.FX_DURATION,onChange:function(e){t.set("opacity",e),o.requestRenderAll(),i()},onComplete:function(){o.remove(t),r()}}),this}}),C.util.object.extend(C.Object.prototype,{animate:function(){if(arguments[0]&&"object"==typeof arguments[0]){var t,e=[];for(t in arguments[0])e.push(t);for(var n=0,r=e.length;n<r;n++)this._animate(t=e[n],arguments[0][t],arguments[1],n!==r-1)}else this._animate.apply(this,arguments);return this},_animate:function(t,e,n,r){var i,o=this;e=e.toString(),n=n?C.util.object.clone(n):{},~t.indexOf(".")&&(i=t.split("."));var a=i?this.get(i[0])[i[1]]:this.get(t);"from"in n||(n.from=a),e=~e.indexOf("=")?a+parseFloat(e.replace("=","")):parseFloat(e),C.util.animate({startValue:n.from,endValue:e,byValue:n.by,easing:n.easing,duration:n.duration,abort:n.abort&&function(){return n.abort.call(o)},onChange:function(e,a,s){i?o[i[0]][i[1]]=e:o.set(t,e),r||n.onChange&&n.onChange(e,a,s)},onComplete:function(t,e,i){r||(o.setCoords(),n.onComplete&&n.onComplete(t,e,i))}})}}),function(t){"use strict";var n=e.fabric||(e.fabric={}),r=n.util.object.extend,i=n.util.object.clone,o={x1:1,x2:1,y1:1,y2:1},a=n.StaticCanvas.supports("setLineDash");function s(t,e){var n=t.origin,r=t.axis1,i=t.axis2,o=t.dimension,a=e.nearest,s=e.center,u=e.farthest;return function(){switch(this.get(n)){case a:return Math.min(this.get(r),this.get(i));case s:return Math.min(this.get(r),this.get(i))+.5*this.get(o);case u:return Math.max(this.get(r),this.get(i))}}}n.Line?n.warn("fabric.Line is already defined"):(n.Line=n.util.createClass(n.Object,{type:"line",x1:0,y1:0,x2:0,y2:0,cacheProperties:n.Object.prototype.cacheProperties.concat("x1","x2","y1","y2"),initialize:function(t,e){t||(t=[0,0,0,0]),this.callSuper("initialize",e),this.set("x1",t[0]),this.set("y1",t[1]),this.set("x2",t[2]),this.set("y2",t[3]),this._setWidthHeight(e)},_setWidthHeight:function(t){t||(t={}),this.width=Math.abs(this.x2-this.x1),this.height=Math.abs(this.y2-this.y1),this.left="left"in t?t.left:this._getLeftToOriginX(),this.top="top"in t?t.top:this._getTopToOriginY()},_set:function(t,e){return this.callSuper("_set",t,e),void 0!==o[t]&&this._setWidthHeight(),this},_getLeftToOriginX:s({origin:"originX",axis1:"x1",axis2:"x2",dimension:"width"},{nearest:"left",center:"center",farthest:"right"}),_getTopToOriginY:s({origin:"originY",axis1:"y1",axis2:"y2",dimension:"height"},{nearest:"top",center:"center",farthest:"bottom"}),_render:function(t){if(t.beginPath(),!this.strokeDashArray||this.strokeDashArray&&a){var e=this.calcLinePoints();t.moveTo(e.x1,e.y1),t.lineTo(e.x2,e.y2)}t.lineWidth=this.strokeWidth;var n=t.strokeStyle;t.strokeStyle=this.stroke||t.fillStyle,this.stroke&&this._renderStroke(t),t.strokeStyle=n},_renderDashedStroke:function(t){var e=this.calcLinePoints();t.beginPath(),n.util.drawDashedLine(t,e.x1,e.y1,e.x2,e.y2,this.strokeDashArray),t.closePath()},_findCenterFromElement:function(){return{x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2}},toObject:function(t){return r(this.callSuper("toObject",t),this.calcLinePoints())},_getNonTransformedDimensions:function(){var t=this.callSuper("_getNonTransformedDimensions");return"butt"===this.strokeLineCap&&(0===this.width&&(t.y-=this.strokeWidth),0===this.height&&(t.x-=this.strokeWidth)),t},calcLinePoints:function(){var t=this.x1<=this.x2?-1:1,e=this.y1<=this.y2?-1:1;return{x1:t*this.width*.5,x2:t*this.width*-.5,y1:e*this.height*.5,y2:e*this.height*-.5}},toSVG:function(t){var e=this._createBaseSVGMarkup(),n=this.calcLinePoints();return e.push("<line ",this.getSvgId(),'x1="',n.x1,'" y1="',n.y1,'" x2="',n.x2,'" y2="',n.y2,'" style="',this.getSvgStyles(),'" transform="',this.getSvgTransform(),this.getSvgTransformMatrix(),'"/>\n'),t?t(e.join("")):e.join("")}}),n.Line.ATTRIBUTE_NAMES=n.SHARED_ATTRIBUTES.concat("x1 y1 x2 y2".split(" ")),n.Line.fromElement=function(t,e,i){i=i||{};var o=n.parseAttributes(t,n.Line.ATTRIBUTE_NAMES);e(new n.Line([o.x1||0,o.y1||0,o.x2||0,o.y2||0],r(o,i)))},n.Line.fromObject=function(t,e){var r=i(t,!0);r.points=[t.x1,t.y1,t.x2,t.y2],n.Object._fromObject("Line",r,function(t){delete t.points,e&&e(t)},"points")})}(),function(t){"use strict";var n=e.fabric||(e.fabric={}),r=Math.PI;n.Circle?n.warn("fabric.Circle is already defined."):(n.Circle=n.util.createClass(n.Object,{type:"circle",radius:0,startAngle:0,endAngle:2*r,cacheProperties:n.Object.prototype.cacheProperties.concat("radius","startAngle","endAngle"),_set:function(t,e){return this.callSuper("_set",t,e),"radius"===t&&this.setRadius(e),this},toObject:function(t){return this.callSuper("toObject",["radius","startAngle","endAngle"].concat(t))},toSVG:function(t){var e=this._createBaseSVGMarkup(),i=(this.endAngle-this.startAngle)%(2*r);if(0===i)e.push("<circle ",this.getSvgId(),'cx="0" cy="0" ','r="',this.radius,'" style="',this.getSvgStyles(),'" transform="',this.getSvgTransform()," ",this.getSvgTransformMatrix(),'"',this.addPaintOrder(),"/>\n");else{var o=n.util.cos(this.startAngle)*this.radius,a=n.util.sin(this.startAngle)*this.radius,s=n.util.cos(this.endAngle)*this.radius,u=n.util.sin(this.endAngle)*this.radius;e.push('<path d="M '+o+" "+a," A "+this.radius+" "+this.radius," 0 ",+(i>r?"1":"0")+" 1"," "+s+" "+u,'" style="',this.getSvgStyles(),'" transform="',this.getSvgTransform()," ",this.getSvgTransformMatrix(),'"',this.addPaintOrder(),'"/>\n')}return t?t(e.join("")):e.join("")},_render:function(t){t.beginPath(),t.arc(0,0,this.radius,this.startAngle,this.endAngle,!1),this._renderPaintInOrder(t)},getRadiusX:function(){return this.get("radius")*this.get("scaleX")},getRadiusY:function(){return this.get("radius")*this.get("scaleY")},setRadius:function(t){return this.radius=t,this.set("width",2*t).set("height",2*t)}}),n.Circle.ATTRIBUTE_NAMES=n.SHARED_ATTRIBUTES.concat("cx cy r".split(" ")),n.Circle.fromElement=function(t,e){var r,i=n.parseAttributes(t,n.Circle.ATTRIBUTE_NAMES);if(!("radius"in(r=i)&&r.radius>=0))throw new Error("value of `r` attribute is required and can not be negative");i.left=(i.left||0)-i.radius,i.top=(i.top||0)-i.radius,e(new n.Circle(i))},n.Circle.fromObject=function(t,e){return n.Object._fromObject("Circle",t,e)})}(),function(t){"use strict";var n=e.fabric||(e.fabric={});n.Triangle?n.warn("fabric.Triangle is already defined"):(n.Triangle=n.util.createClass(n.Object,{type:"triangle",width:100,height:100,_render:function(t){var e=this.width/2,n=this.height/2;t.beginPath(),t.moveTo(-e,n),t.lineTo(0,-n),t.lineTo(e,n),t.closePath(),this._renderPaintInOrder(t)},_renderDashedStroke:function(t){var e=this.width/2,r=this.height/2;t.beginPath(),n.util.drawDashedLine(t,-e,r,0,-r,this.strokeDashArray),n.util.drawDashedLine(t,0,-r,e,r,this.strokeDashArray),n.util.drawDashedLine(t,e,r,-e,r,this.strokeDashArray),t.closePath()},toSVG:function(t){var e=this._createBaseSVGMarkup(),n=this.width/2,r=this.height/2,i=[-n+" "+r,"0 "+-r,n+" "+r].join(",");return e.push("<polygon ",this.getSvgId(),'points="',i,'" style="',this.getSvgStyles(),'" transform="',this.getSvgTransform(),'"',this.addPaintOrder(),"/>"),t?t(e.join("")):e.join("")}}),n.Triangle.fromObject=function(t,e){return n.Object._fromObject("Triangle",t,e)})}(),function(t){"use strict";var n=e.fabric||(e.fabric={}),r=2*Math.PI;n.Ellipse?n.warn("fabric.Ellipse is already defined."):(n.Ellipse=n.util.createClass(n.Object,{type:"ellipse",rx:0,ry:0,cacheProperties:n.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(t){this.callSuper("initialize",t),this.set("rx",t&&t.rx||0),this.set("ry",t&&t.ry||0)},_set:function(t,e){switch(this.callSuper("_set",t,e),t){case"rx":this.rx=e,this.set("width",2*e);break;case"ry":this.ry=e,this.set("height",2*e)}return this},getRx:function(){return this.get("rx")*this.get("scaleX")},getRy:function(){return this.get("ry")*this.get("scaleY")},toObject:function(t){return this.callSuper("toObject",["rx","ry"].concat(t))},toSVG:function(t){var e=this._createBaseSVGMarkup();return e.push("<ellipse ",this.getSvgId(),'cx="0" cy="0" ','rx="',this.rx,'" ry="',this.ry,'" style="',this.getSvgStyles(),'" transform="',this.getSvgTransform(),this.getSvgTransformMatrix(),'"',this.addPaintOrder(),"/>\n"),t?t(e.join("")):e.join("")},_render:function(t){t.beginPath(),t.save(),t.transform(1,0,0,this.ry/this.rx,0,0),t.arc(0,0,this.rx,0,r,!1),t.restore(),this._renderPaintInOrder(t)}}),n.Ellipse.ATTRIBUTE_NAMES=n.SHARED_ATTRIBUTES.concat("cx cy rx ry".split(" ")),n.Ellipse.fromElement=function(t,e){var r=n.parseAttributes(t,n.Ellipse.ATTRIBUTE_NAMES);r.left=(r.left||0)-r.rx,r.top=(r.top||0)-r.ry,e(new n.Ellipse(r))},n.Ellipse.fromObject=function(t,e){return n.Object._fromObject("Ellipse",t,e)})}(),function(t){"use strict";var n=e.fabric||(e.fabric={}),r=n.util.object.extend;n.Rect?n.warn("fabric.Rect is already defined"):(n.Rect=n.util.createClass(n.Object,{stateProperties:n.Object.prototype.stateProperties.concat("rx","ry"),type:"rect",rx:0,ry:0,cacheProperties:n.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(t){this.callSuper("initialize",t),this._initRxRy()},_initRxRy:function(){this.rx&&!this.ry?this.ry=this.rx:this.ry&&!this.rx&&(this.rx=this.ry)},_render:function(t){if(1!==this.width||1!==this.height){var e=this.rx?Math.min(this.rx,this.width/2):0,n=this.ry?Math.min(this.ry,this.height/2):0,r=this.width,i=this.height,o=-this.width/2,a=-this.height/2,s=0!==e||0!==n,u=.4477152502;t.beginPath(),t.moveTo(o+e,a),t.lineTo(o+r-e,a),s&&t.bezierCurveTo(o+r-u*e,a,o+r,a+u*n,o+r,a+n),t.lineTo(o+r,a+i-n),s&&t.bezierCurveTo(o+r,a+i-u*n,o+r-u*e,a+i,o+r-e,a+i),t.lineTo(o+e,a+i),s&&t.bezierCurveTo(o+u*e,a+i,o,a+i-u*n,o,a+i-n),t.lineTo(o,a+n),s&&t.bezierCurveTo(o,a+u*n,o+u*e,a,o+e,a),t.closePath(),this._renderPaintInOrder(t)}else t.fillRect(-.5,-.5,1,1)},_renderDashedStroke:function(t){var e=-this.width/2,r=-this.height/2,i=this.width,o=this.height;t.beginPath(),n.util.drawDashedLine(t,e,r,e+i,r,this.strokeDashArray),n.util.drawDashedLine(t,e+i,r,e+i,r+o,this.strokeDashArray),n.util.drawDashedLine(t,e+i,r+o,e,r+o,this.strokeDashArray),n.util.drawDashedLine(t,e,r+o,e,r,this.strokeDashArray),t.closePath()},toObject:function(t){return this.callSuper("toObject",["rx","ry"].concat(t))},toSVG:function(t){var e=this._createBaseSVGMarkup(),n=-this.width/2,r=-this.height/2;return e.push("<rect ",this.getSvgId(),'x="',n,'" y="',r,'" rx="',this.get("rx"),'" ry="',this.get("ry"),'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),'" transform="',this.getSvgTransform(),this.getSvgTransformMatrix(),'"',this.addPaintOrder(),"/>\n"),t?t(e.join("")):e.join("")}}),n.Rect.ATTRIBUTE_NAMES=n.SHARED_ATTRIBUTES.concat("x y rx ry width height".split(" ")),n.Rect.fromElement=function(t,e,i){if(!t)return e(null);i=i||{};var o=n.parseAttributes(t,n.Rect.ATTRIBUTE_NAMES);o.left=o.left||0,o.top=o.top||0;var a=new n.Rect(r(i?n.util.object.clone(i):{},o));a.visible=a.visible&&a.width>0&&a.height>0,e(a)},n.Rect.fromObject=function(t,e){return n.Object._fromObject("Rect",t,e)})}(),function(t){"use strict";var n=e.fabric||(e.fabric={}),r=n.util.object.extend,i=n.util.array.min,o=n.util.array.max,a=n.util.toFixed;n.Polyline?n.warn("fabric.Polyline is already defined"):(n.Polyline=n.util.createClass(n.Object,{type:"polyline",points:null,cacheProperties:n.Object.prototype.cacheProperties.concat("points"),initialize:function(t,e){e=e||{},this.points=t||[],this.callSuper("initialize",e);var n=this._calcDimensions();void 0===e.left&&(this.left=n.left),void 0===e.top&&(this.top=n.top),this.width=n.width,this.height=n.height,this.pathOffset={x:n.left+this.width/2,y:n.top+this.height/2}},_calcDimensions:function(){var t=this.points,e=i(t,"x")||0,n=i(t,"y")||0;return{left:e,top:n,width:(o(t,"x")||0)-e,height:(o(t,"y")||0)-n}},toObject:function(t){return r(this.callSuper("toObject",t),{points:this.points.concat()})},toSVG:function(t){for(var e=[],r=this.pathOffset.x,i=this.pathOffset.y,o=this._createBaseSVGMarkup(),s=n.Object.NUM_FRACTION_DIGITS,u=0,l=this.points.length;u<l;u++)e.push(a(this.points[u].x-r,s),",",a(this.points[u].y-i,s)," ");return o.push("<",this.type," ",this.getSvgId(),'points="',e.join(""),'" style="',this.getSvgStyles(),'" transform="',this.getSvgTransform()," ",this.getSvgTransformMatrix(),'"',this.addPaintOrder(),"/>\n"),t?t(o.join("")):o.join("")},commonRender:function(t){var e,n=this.points.length,r=this.pathOffset.x,i=this.pathOffset.y;if(!n||isNaN(this.points[n-1].y))return!1;t.beginPath(),t.moveTo(this.points[0].x-r,this.points[0].y-i);for(var o=0;o<n;o++)t.lineTo((e=this.points[o]).x-r,e.y-i);return!0},_render:function(t){this.commonRender(t)&&this._renderPaintInOrder(t)},_renderDashedStroke:function(t){var e,r;t.beginPath();for(var i=0,o=this.points.length;i<o;i++)n.util.drawDashedLine(t,(e=this.points[i]).x,e.y,(r=this.points[i+1]||e).x,r.y,this.strokeDashArray)},complexity:function(){return this.get("points").length}}),n.Polyline.ATTRIBUTE_NAMES=n.SHARED_ATTRIBUTES.concat(),n.Polyline.fromElement=function(t,e,r){if(!t)return e(null);r||(r={});var i=n.parsePointsAttribute(t.getAttribute("points")),o=n.parseAttributes(t,n.Polyline.ATTRIBUTE_NAMES);e(new n.Polyline(i,n.util.object.extend(o,r)))},n.Polyline.fromObject=function(t,e){return n.Object._fromObject("Polyline",t,e,"points")})}(),function(t){"use strict";var n=e.fabric||(e.fabric={}),r=n.util.object.extend;n.Polygon?n.warn("fabric.Polygon is already defined"):(n.Polygon=n.util.createClass(n.Polyline,{type:"polygon",_render:function(t){this.commonRender(t)&&(t.closePath(),this._renderPaintInOrder(t))},_renderDashedStroke:function(t){this.callSuper("_renderDashedStroke",t),t.closePath()}}),n.Polygon.ATTRIBUTE_NAMES=n.SHARED_ATTRIBUTES.concat(),n.Polygon.fromElement=function(t,e,i){if(!t)return e(null);i||(i={});var o=n.parsePointsAttribute(t.getAttribute("points")),a=n.parseAttributes(t,n.Polygon.ATTRIBUTE_NAMES);e(new n.Polygon(o,r(a,i)))},n.Polygon.fromObject=function(t,e){return n.Object._fromObject("Polygon",t,e,"points")})}(),function(t){"use strict";var n=e.fabric||(e.fabric={}),r=n.util.array.min,i=n.util.array.max,o=n.util.object.extend,a=Object.prototype.toString,s=n.util.drawArc,u={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},l={m:"l",M:"L"};n.Path?n.warn("fabric.Path is already defined"):(n.Path=n.util.createClass(n.Object,{type:"path",path:null,cacheProperties:n.Object.prototype.cacheProperties.concat("path","fillRule"),stateProperties:n.Object.prototype.stateProperties.concat("path"),initialize:function(t,e){this.callSuper("initialize",e=e||{}),t||(t=[]);var n="[object Array]"===a.call(t);this.path=n?t:t.match&&t.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi),this.path&&(n||(this.path=this._parsePath()),this._setPositionDimensions(e))},_setPositionDimensions:function(t){var e=this._parseDimensions();this.width=e.width,this.height=e.height,void 0===t.left&&(this.left=e.left),void 0===t.top&&(this.top=e.top),this.pathOffset=this.pathOffset||{x:e.left+this.width/2,y:e.top+this.height/2}},_renderPathCommands:function(t){var e,n,r,i=null,o=0,a=0,u=0,l=0,c=0,f=0,h=-this.pathOffset.x,d=-this.pathOffset.y;t.beginPath();for(var p=0,v=this.path.length;p<v;++p){switch((e=this.path[p])[0]){case"l":t.lineTo((u+=e[1])+h,(l+=e[2])+d);break;case"L":t.lineTo((u=e[1])+h,(l=e[2])+d);break;case"h":t.lineTo((u+=e[1])+h,l+d);break;case"H":t.lineTo((u=e[1])+h,l+d);break;case"v":t.lineTo(u+h,(l+=e[1])+d);break;case"V":t.lineTo(u+h,(l=e[1])+d);break;case"m":o=u+=e[1],a=l+=e[2],t.moveTo(u+h,l+d);break;case"M":o=u=e[1],a=l=e[2],t.moveTo(u+h,l+d);break;case"c":t.bezierCurveTo(u+e[1]+h,l+e[2]+d,(c=u+e[3])+h,(f=l+e[4])+d,(n=u+e[5])+h,(r=l+e[6])+d),u=n,l=r;break;case"C":t.bezierCurveTo(e[1]+h,e[2]+d,(c=e[3])+h,(f=e[4])+d,(u=e[5])+h,(l=e[6])+d);break;case"s":n=u+e[3],r=l+e[4],null===i[0].match(/[CcSs]/)?(c=u,f=l):(c=2*u-c,f=2*l-f),t.bezierCurveTo(c+h,f+d,u+e[1]+h,l+e[2]+d,n+h,r+d),c=u+e[1],f=l+e[2],u=n,l=r;break;case"S":n=e[3],r=e[4],null===i[0].match(/[CcSs]/)?(c=u,f=l):(c=2*u-c,f=2*l-f),t.bezierCurveTo(c+h,f+d,e[1]+h,e[2]+d,n+h,r+d),u=n,l=r,c=e[1],f=e[2];break;case"q":t.quadraticCurveTo((c=u+e[1])+h,(f=l+e[2])+d,(n=u+e[3])+h,(r=l+e[4])+d),u=n,l=r;break;case"Q":t.quadraticCurveTo(e[1]+h,e[2]+d,(n=e[3])+h,(r=e[4])+d),u=n,l=r,c=e[1],f=e[2];break;case"t":n=u+e[1],r=l+e[2],null===i[0].match(/[QqTt]/)?(c=u,f=l):(c=2*u-c,f=2*l-f),t.quadraticCurveTo(c+h,f+d,n+h,r+d),u=n,l=r;break;case"T":n=e[1],r=e[2],null===i[0].match(/[QqTt]/)?(c=u,f=l):(c=2*u-c,f=2*l-f),t.quadraticCurveTo(c+h,f+d,n+h,r+d),u=n,l=r;break;case"a":s(t,u+h,l+d,[e[1],e[2],e[3],e[4],e[5],e[6]+u+h,e[7]+l+d]),u+=e[6],l+=e[7];break;case"A":s(t,u+h,l+d,[e[1],e[2],e[3],e[4],e[5],e[6]+h,e[7]+d]),u=e[6],l=e[7];break;case"z":case"Z":u=o,l=a,t.closePath()}i=e}},_render:function(t){this._renderPathCommands(t),this._renderPaintInOrder(t)},toString:function(){return"#<fabric.Path ("+this.complexity()+'): { "top": '+this.top+', "left": '+this.left+" }>"},toObject:function(t){return o(this.callSuper("toObject",t),{path:this.path.map(function(t){return t.slice()}),top:this.top,left:this.left})},toDatalessObject:function(t){var e=this.toObject(["sourcePath"].concat(t));return e.sourcePath&&delete e.path,e},toSVG:function(t){for(var e,n=[],r=this._createBaseSVGMarkup(),i=0,o=this.path.length;i<o;i++)n.push(this.path[i].join(" "));var a=n.join(" ");return e=" translate("+-this.pathOffset.x+", "+-this.pathOffset.y+") ",r.push("<path ",this.getSvgId(),'d="',a,'" style="',this.getSvgStyles(),'" transform="',this.getSvgTransform(),e,this.getSvgTransformMatrix(),'" stroke-linecap="round" ',this.addPaintOrder(),"/>\n"),t?t(r.join("")):r.join("")},complexity:function(){return this.path.length},_parsePath:function(){for(var t,e,n,r,i,o=[],a=[],s=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi,c=0,f=this.path.length;c<f;c++){for(r=(t=this.path[c]).slice(1).trim(),a.length=0;n=s.exec(r);)a.push(n[0]);i=[t.charAt(0)];for(var h=0,d=a.length;h<d;h++)e=parseFloat(a[h]),isNaN(e)||i.push(e);var p=i[0],v=u[p.toLowerCase()],g=l[p]||p;if(i.length-1>v)for(var m=1,y=i.length;m<y;m+=v)o.push([p].concat(i.slice(m,m+v))),p=g;else o.push(i)}return o},_parseDimensions:function(){for(var t,e,o,a,s=[],u=[],l=null,c=0,f=0,h=0,d=0,p=0,v=0,g=0,m=this.path.length;g<m;++g){switch((t=this.path[g])[0]){case"l":h+=t[1],d+=t[2],a=[];break;case"L":h=t[1],d=t[2],a=[];break;case"h":h+=t[1],a=[];break;case"H":h=t[1],a=[];break;case"v":d+=t[1],a=[];break;case"V":d=t[1],a=[];break;case"m":c=h+=t[1],f=d+=t[2],a=[];break;case"M":c=h=t[1],f=d=t[2],a=[];break;case"c":a=n.util.getBoundsOfCurve(h,d,h+t[1],d+t[2],p=h+t[3],v=d+t[4],e=h+t[5],o=d+t[6]),h=e,d=o;break;case"C":a=n.util.getBoundsOfCurve(h,d,t[1],t[2],p=t[3],v=t[4],t[5],t[6]),h=t[5],d=t[6];break;case"s":e=h+t[3],o=d+t[4],null===l[0].match(/[CcSs]/)?(p=h,v=d):(p=2*h-p,v=2*d-v),a=n.util.getBoundsOfCurve(h,d,p,v,h+t[1],d+t[2],e,o),p=h+t[1],v=d+t[2],h=e,d=o;break;case"S":e=t[3],o=t[4],null===l[0].match(/[CcSs]/)?(p=h,v=d):(p=2*h-p,v=2*d-v),a=n.util.getBoundsOfCurve(h,d,p,v,t[1],t[2],e,o),h=e,d=o,p=t[1],v=t[2];break;case"q":a=n.util.getBoundsOfCurve(h,d,p=h+t[1],v=d+t[2],p,v,e=h+t[3],o=d+t[4]),h=e,d=o;break;case"Q":a=n.util.getBoundsOfCurve(h,d,p=t[1],v=t[2],p,v,t[3],t[4]),h=t[3],d=t[4];break;case"t":e=h+t[1],o=d+t[2],null===l[0].match(/[QqTt]/)?(p=h,v=d):(p=2*h-p,v=2*d-v),a=n.util.getBoundsOfCurve(h,d,p,v,p,v,e,o),h=e,d=o;break;case"T":e=t[1],o=t[2],null===l[0].match(/[QqTt]/)?(p=h,v=d):(p=2*h-p,v=2*d-v),a=n.util.getBoundsOfCurve(h,d,p,v,p,v,e,o),h=e,d=o;break;case"a":a=n.util.getBoundsOfArc(h,d,t[1],t[2],t[3],t[4],t[5],t[6]+h,t[7]+d),h+=t[6],d+=t[7];break;case"A":a=n.util.getBoundsOfArc(h,d,t[1],t[2],t[3],t[4],t[5],t[6],t[7]),h=t[6],d=t[7];break;case"z":case"Z":h=c,d=f}l=t,a.forEach(function(t){s.push(t.x),u.push(t.y)}),s.push(h),u.push(d)}var y=r(s)||0,b=r(u)||0;return{left:y,top:b,width:(i(s)||0)-y,height:(i(u)||0)-b}}}),n.Path.fromObject=function(t,e){"string"==typeof t.sourcePath?n.loadSVGFromURL(t.sourcePath,function(n){var r=n[0];r.setOptions(t),e&&e(r)}):n.Object._fromObject("Path",t,e,"path")},n.Path.ATTRIBUTE_NAMES=n.SHARED_ATTRIBUTES.concat(["d"]),n.Path.fromElement=function(t,e,r){var i=n.parseAttributes(t,n.Path.ATTRIBUTE_NAMES);e(new n.Path(i.d,o(i,r)))})}(),function(t){"use strict";var n=e.fabric||(e.fabric={}),r=n.util.object.extend,i=n.util.array.min,o=n.util.array.max;n.Group||(n.Group=n.util.createClass(n.Object,n.Collection,{type:"group",strokeWidth:0,subTargetCheck:!1,cacheProperties:[],useSetOnGroup:!1,initialize:function(t,e,n){e=e||{},this._objects=[],n&&this.callSuper("initialize",e),this._objects=t||[];for(var r=this._objects.length;r--;)this._objects[r].group=this;if(e.originX&&(this.originX=e.originX),e.originY&&(this.originY=e.originY),n)this._updateObjectsACoords();else{var i=e&&e.centerPoint;i||this._calcBounds(),this._updateObjectsCoords(i),delete e.centerPoint,this.callSuper("initialize",e)}this.setCoords()},_updateObjectsACoords:function(){for(var t=this._objects.length;t--;)this._objects[t].setCoords(!0,!0)},_updateObjectsCoords:function(t){t=t||this.getCenterPoint();for(var e=this._objects.length;e--;)this._updateObjectCoords(this._objects[e],t)},_updateObjectCoords:function(t,e){t.set({left:t.left-e.x,top:t.top-e.y}),t.group=this,t.setCoords(!0,!0)},toString:function(){return"#<fabric.Group: ("+this.complexity()+")>"},addWithUpdate:function(t){return this._restoreObjectsState(),n.util.resetObjectTransform(this),t&&(this._objects.push(t),t.group=this,t._set("canvas",this.canvas)),this._calcBounds(),this._updateObjectsCoords(),this.setCoords(),this.dirty=!0,this},removeWithUpdate:function(t){return this._restoreObjectsState(),n.util.resetObjectTransform(this),this.remove(t),this._calcBounds(),this._updateObjectsCoords(),this.setCoords(),this.dirty=!0,this},_onObjectAdded:function(t){this.dirty=!0,t.group=this,t._set("canvas",this.canvas)},_onObjectRemoved:function(t){this.dirty=!0,delete t.group},_set:function(t,e){var n=this._objects.length;if(this.useSetOnGroup)for(;n--;)this._objects[n].setOnGroup(t,e);if("canvas"===t)for(n=this._objects.length;n--;)this._objects[n]._set(t,e);this.callSuper("_set",t,e)},toObject:function(t){var e=this.getObjects().map(function(e){var n=e.includeDefaultValues;e.includeDefaultValues=e.group.includeDefaultValues;var r=e.toObject(t);return e.includeDefaultValues=n,r});return r(this.callSuper("toObject",t),{objects:e})},toDatalessObject:function(t){var e;return e=this.sourcePath||this.getObjects().map(function(e){var n=e.includeDefaultValues;e.includeDefaultValues=e.group.includeDefaultValues;var r=e.toDatalessObject(t);return e.includeDefaultValues=n,r}),r(this.callSuper("toDatalessObject",t),{objects:e})},render:function(t){this._transformDone=!0,this.callSuper("render",t),this._transformDone=!1},shouldCache:function(){var t=this.objectCaching&&(!this.group||this.needsItsOwnCache()||!this.group.isOnACache());if(this.ownCaching=t,t)for(var e=0,n=this._objects.length;e<n;e++)if(this._objects[e].willDrawShadow())return this.ownCaching=!1,!1;return t},willDrawShadow:function(){if(this.shadow)return this.callSuper("willDrawShadow");for(var t=0,e=this._objects.length;t<e;t++)if(this._objects[t].willDrawShadow())return!0;return!1},isOnACache:function(){return this.ownCaching||this.group&&this.group.isOnACache()},drawObject:function(t){for(var e=0,n=this._objects.length;e<n;e++)this._objects[e].render(t)},isCacheDirty:function(){if(this.callSuper("isCacheDirty"))return!0;if(!this.statefullCache)return!1;for(var t=0,e=this._objects.length;t<e;t++)if(this._objects[t].isCacheDirty(!0)){if(this._cacheCanvas){var n=this.cacheWidth/this.zoomX,r=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-n/2,-r/2,n,r)}return!0}return!1},_restoreObjectsState:function(){return this._objects.forEach(this._restoreObjectState,this),this},realizeTransform:function(t){var e=t.calcTransformMatrix(),r=n.util.qrDecompose(e),i=new n.Point(r.translateX,r.translateY);return t.flipX=!1,t.flipY=!1,t.set("scaleX",r.scaleX),t.set("scaleY",r.scaleY),t.skewX=r.skewX,t.skewY=r.skewY,t.angle=r.angle,t.setPositionByOrigin(i,"center","center"),t},_restoreObjectState:function(t){return this.realizeTransform(t),t.setCoords(),delete t.group,this},destroy:function(){return this._objects.forEach(function(t){t.set("dirty",!0)}),this._restoreObjectsState()},toActiveSelection:function(){if(this.canvas){var t=this._objects,e=this.canvas;this._objects=[];var r=this.toObject();delete r.objects;var i=new n.ActiveSelection([]);return i.set(r),i.type="activeSelection",e.remove(this),t.forEach(function(t){t.group=i,t.dirty=!0,e.add(t)}),i.canvas=e,i._objects=t,e._activeObject=i,i.setCoords(),i}},ungroupOnCanvas:function(){return this._restoreObjectsState()},setObjectsCoords:function(){return this.forEachObject(function(t){t.setCoords(!0,!0)}),this},_calcBounds:function(t){for(var e,n,r,i=[],o=[],a=["tr","br","bl","tl"],s=0,u=this._objects.length,l=a.length;s<u;++s)for((e=this._objects[s]).setCoords(!0),r=0;r<l;r++)i.push(e.oCoords[n=a[r]].x),o.push(e.oCoords[n].y);this.set(this._getBounds(i,o,t))},_getBounds:function(t,e,r){var a=new n.Point(i(t),i(e)),s=new n.Point(o(t),o(e)),u={width:s.x-a.x||0,height:s.y-a.y||0};return r||(u.left=a.x||0,u.top=a.y||0,"center"===this.originX&&(u.left+=u.width/2),"right"===this.originX&&(u.left+=u.width),"center"===this.originY&&(u.top+=u.height/2),"bottom"===this.originY&&(u.top+=u.height)),u},toSVG:function(t){var e=this._createBaseSVGMarkup();e.push("<g ",this.getSvgId(),'transform="',this.getSvgTransform(),this.getSvgTransformMatrix(),'" style="',this.getSvgFilter(),'">\n');for(var n=0,r=this._objects.length;n<r;n++)e.push("\t",this._objects[n].toSVG(t));return e.push("</g>\n"),t?t(e.join("")):e.join("")}}),n.Group.fromObject=function(t,e){n.util.enlivenObjects(t.objects,function(r){var i=n.util.object.clone(t,!0);delete i.objects,e&&e(new n.Group(r,i,!0))})})}(),function(t){"use strict";var n=e.fabric||(e.fabric={});n.ActiveSelection||(n.ActiveSelection=n.util.createClass(n.Group,{type:"activeSelection",initialize:function(t,e){e=e||{},this._objects=t||[];for(var r=this._objects.length;r--;)this._objects[r].group=this;e.originX&&(this.originX=e.originX),e.originY&&(this.originY=e.originY),this._calcBounds(),this._updateObjectsCoords(),n.Object.prototype.initialize.call(this,e),this.setCoords()},toGroup:function(){var t=this._objects;this._objects=[];var e=this.toObject(),r=new n.Group([]);if(delete e.objects,r.set(e),r.type="group",t.forEach(function(t){t.group=r,t.canvas.remove(t)}),r._objects=t,!this.canvas)return r;var i=this.canvas;return i.add(r),i._activeObject=r,r.setCoords(),r},onDeselect:function(){return this.destroy(),!1},toString:function(){return"#<fabric.ActiveSelection: ("+this.complexity()+")>"},_set:function(t,e){var r=this._objects.length;if("canvas"===t)for(;r--;)this._objects[r].set(t,e);if(this.useSetOnGroup)for(;r--;)this._objects[r].setOnGroup(t,e);n.Object.prototype._set.call(this,t,e)},shouldCache:function(){return!1},willDrawShadow:function(){if(this.shadow)return this.callSuper("willDrawShadow");for(var t=0,e=this._objects.length;t<e;t++)if(this._objects[t].willDrawShadow())return!0;return!1},isOnACache:function(){return!1},_renderControls:function(t,e,n){t.save(),t.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1,this.callSuper("_renderControls",t,e),void 0===(n=n||{}).hasControls&&(n.hasControls=!1),void 0===n.hasRotatingPoint&&(n.hasRotatingPoint=!1),n.forActiveSelection=!0;for(var r=0,i=this._objects.length;r<i;r++)this._objects[r]._renderControls(t,n);t.restore()}}),n.ActiveSelection.fromObject=function(t,e){n.util.enlivenObjects(t.objects,function(r){delete t.objects,e&&e(new n.ActiveSelection(r,t,!0))})})}(),function(t){"use strict";var e=C.util.object.extend;t.fabric||(t.fabric={}),t.fabric.Image?C.warn("fabric.Image is already defined."):(C.Image=C.util.createClass(C.Object,{type:"image",crossOrigin:"",strokeWidth:0,_lastScaleX:1,_lastScaleY:1,_filterScalingX:1,_filterScalingY:1,minimumScaleTrigger:.5,stateProperties:C.Object.prototype.stateProperties.concat("cropX","cropY"),objectCaching:!1,cacheKey:"",cropX:0,cropY:0,initialize:function(t,e){e||(e={}),this.filters=[],this.cacheKey="texture"+C.Object.__uid++,this.callSuper("initialize",e),this._initElement(t,e)},getElement:function(){return this._element},setElement:function(t,e){var n=C.filterBackend;return n&&n.evictCachesForKey&&(n.evictCachesForKey(this.cacheKey),n.evictCachesForKey(this.cacheKey+"_filtered")),this._element=t,this._originalElement=t,this._initConfig(e),this.resizeFilter&&this.applyResizeFilters(),0!==this.filters.length&&this.applyFilters(),this},dispose:function(){var t=C.filterBackend;t&&t.evictCachesForKey&&(t.evictCachesForKey(this.cacheKey),t.evictCachesForKey(this.cacheKey+"_filtered")),this._originalElement=void 0,this._element=void 0,this._filteredEl=void 0},setCrossOrigin:function(t){return this.crossOrigin=t,this._element.crossOrigin=t,this},getOriginalSize:function(){var t=this.getElement();return{width:t.width,height:t.height}},_stroke:function(t){if(this.stroke&&0!==this.strokeWidth){var e=this.width/2,n=this.height/2;t.beginPath(),t.moveTo(-e,-n),t.lineTo(e,-n),t.lineTo(e,n),t.lineTo(-e,n),t.lineTo(-e,-n),t.closePath()}},_renderDashedStroke:function(t){var e=-this.width/2,n=-this.height/2,r=this.width,i=this.height;t.save(),this._setStrokeStyles(t,this),t.beginPath(),C.util.drawDashedLine(t,e,n,e+r,n,this.strokeDashArray),C.util.drawDashedLine(t,e+r,n,e+r,n+i,this.strokeDashArray),C.util.drawDashedLine(t,e+r,n+i,e,n+i,this.strokeDashArray),C.util.drawDashedLine(t,e,n+i,e,n,this.strokeDashArray),t.closePath(),t.restore()},toObject:function(t){var n=[];this.filters.forEach(function(t){t&&n.push(t.toObject())});var r=e(this.callSuper("toObject",["crossOrigin","cropX","cropY"].concat(t)),{src:this.getSrc(),filters:n});return this.resizeFilter&&(r.resizeFilter=this.resizeFilter.toObject()),r},hasCrop:function(){return this.cropX||this.cropY||this.width<this._element.width||this.height<this._element.height},toSVG:function(t){var e=this._createBaseSVGMarkup(),n=-this.width/2,r=-this.height/2,i="";if(this.hasCrop()){var o=C.Object.__uid++;e.push('<clipPath id="imageCrop_'+o+'">\n','\t<rect x="'+n+'" y="'+r+'" width="'+this.width+'" height="'+this.height+'" />\n',"</clipPath>\n"),i=' clip-path="url(#imageCrop_'+o+')" '}e.push('<g transform="',this.getSvgTransform(),this.getSvgTransformMatrix(),'">\n');var a=["\t<image ",this.getSvgId(),'xlink:href="',this.getSvgSrc(!0),'" x="',n-this.cropX,'" y="',r-this.cropY,'" style="',this.getSvgStyles(),'" width="',this._element.width||this._element.naturalWidth,'" height="',this._element.height||this._element.height,'"',i,"></image>\n"];if("fill"===this.paintFirst&&Array.prototype.push.apply(e,a),this.stroke||this.strokeDashArray){var s=this.fill;this.fill=null,e.push("\t<rect ",'x="',n,'" y="',r,'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),'"/>\n'),this.fill=s}return"fill"!==this.paintFirst&&Array.prototype.push.apply(e,a),e.push("</g>\n"),t?t(e.join("")):e.join("")},getSrc:function(t){var e=t?this._element:this._originalElement;return e?e.toDataURL?e.toDataURL():e.src:this.src||""},setSrc:function(t,e,n){return C.util.loadImage(t,function(t){this.setElement(t,n),this._setWidthHeight(),e(this)},this,n&&n.crossOrigin),this},toString:function(){return'#<fabric.Image: { src: "'+this.getSrc()+'" }>'},applyResizeFilters:function(){var t=this.resizeFilter,e=this.canvas?this.canvas.getRetinaScaling():1,n=this.minimumScaleTrigger,r=this.scaleX*e,i=this.scaleY*e,o=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!t||r>n&&i>n)return this._element=o,this._filterScalingX=1,void(this._filterScalingY=1);C.filterBackend||(C.filterBackend=C.initFilterBackend());var a=C.util.createCanvasElement(),s=this._filteredEl?this.cacheKey:this.cacheKey+"_filtered",u=o.width,l=o.height;a.width=u,a.height=l,this._element=a,t.scaleX=r,t.scaleY=i,C.filterBackend.applyFilters([t],o,u,l,this._element,s),this._filterScalingX=a.width/this._originalElement.width,this._filterScalingY=a.height/this._originalElement.height},applyFilters:function(t){if(t=(t=t||this.filters||[]).filter(function(t){return t}),this.group&&this.set("dirty",!0),0===t.length)return this._element=this._originalElement,this._filteredEl=null,this._filterScalingX=1,this._filterScalingY=1,this;var e=this._originalElement,n=e.naturalWidth||e.width,r=e.naturalHeight||e.height;if(this._element===this._originalElement){var i=C.util.createCanvasElement();i.width=n,i.height=r,this._element=i,this._filteredEl=i}else this._element.getContext("2d").clearRect(0,0,n,r);return C.filterBackend||(C.filterBackend=C.initFilterBackend()),C.filterBackend.applyFilters(t,this._originalElement,n,r,this._element,this.cacheKey),this._originalElement.width===this._element.width&&this._originalElement.height===this._element.height||(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height),this},_render:function(t){!1===this.isMoving&&this.resizeFilter&&this._needsResize()&&(this._lastScaleX=this.scaleX,this._lastScaleY=this.scaleY,this.applyResizeFilters()),this._stroke(t),this._renderPaintInOrder(t)},_renderFill:function(t){var e=this.width,n=this.height,r=this._element;r&&t.drawImage(r,this.cropX*this._filterScalingX,this.cropY*this._filterScalingY,e*this._filterScalingX,n*this._filterScalingY,-e/2,-n/2,e,n)},_needsResize:function(){return this.scaleX!==this._lastScaleX||this.scaleY!==this._lastScaleY},_resetWidthHeight:function(){var t=this.getElement();this.set("width",t.width),this.set("height",t.height)},_initElement:function(t,e){this.setElement(C.util.getById(t),e),C.util.addClass(this.getElement(),C.Image.CSS_CANVAS)},_initConfig:function(t){t||(t={}),this.setOptions(t),this._setWidthHeight(t),this._element&&this.crossOrigin&&(this._element.crossOrigin=this.crossOrigin)},_initFilters:function(t,e){t&&t.length?C.util.enlivenObjects(t,function(t){e&&e(t)},"fabric.Image.filters"):e&&e()},_setWidthHeight:function(t){this.width=t&&"width"in t?t.width:this.getElement()&&this.getElement().width||0,this.height=t&&"height"in t?t.height:this.getElement()&&this.getElement().height||0},parsePreserveAspectRatioAttribute:function(){var t,e=C.util.parsePreserveAspectRatioAttribute(this.preserveAspectRatio||""),n=this._element.width,r=this._element.height,i=1,o=1,a=0,s=0,u=0,l=0,c=this.width,f=this.height,h={width:c,height:f};return!e||"none"===e.alignX&&"none"===e.alignY?(i=c/n,o=f/r):("meet"===e.meetOrSlice&&(t=(c-n*(i=o=C.util.findScaleToFit(this._element,h)))/2,"Min"===e.alignX&&(a=-t),"Max"===e.alignX&&(a=t),t=(f-r*o)/2,"Min"===e.alignY&&(s=-t),"Max"===e.alignY&&(s=t)),"slice"===e.meetOrSlice&&(t=n-c/(i=o=C.util.findScaleToCover(this._element,h)),"Mid"===e.alignX&&(u=t/2),"Max"===e.alignX&&(u=t),t=r-f/o,"Mid"===e.alignY&&(l=t/2),"Max"===e.alignY&&(l=t),n=c/i,r=f/o)),{width:n,height:r,scaleX:i,scaleY:o,offsetLeft:a,offsetTop:s,cropX:u,cropY:l}}}),C.Image.CSS_CANVAS="canvas-img",C.Image.prototype.getSvgSrc=C.Image.prototype.getSrc,C.Image.fromObject=function(t,e){var n=C.util.object.clone(t);C.util.loadImage(n.src,function(t,r){r?e&&e(null,r):C.Image.prototype._initFilters.call(n,n.filters,function(r){n.filters=r||[],C.Image.prototype._initFilters.call(n,[n.resizeFilter],function(r){n.resizeFilter=r[0];var i=new C.Image(t,n);e(i)})})},null,n.crossOrigin)},C.Image.fromURL=function(t,e,n){C.util.loadImage(t,function(t){e&&e(new C.Image(t,n))},null,n&&n.crossOrigin)},C.Image.ATTRIBUTE_NAMES=C.SHARED_ATTRIBUTES.concat("x y width height preserveAspectRatio xlink:href crossOrigin".split(" ")),C.Image.fromElement=function(t,n,r){var i=C.parseAttributes(t,C.Image.ATTRIBUTE_NAMES);C.Image.fromURL(i["xlink:href"],n,e(r?C.util.object.clone(r):{},i))})}(e),C.util.object.extend(C.Object.prototype,{_getAngleValueForStraighten:function(){var t=this.angle%360;return t>0?90*Math.round((t-1)/90):90*Math.round(t/90)},straighten:function(){return this.rotate(this._getAngleValueForStraighten()),this},fxStraighten:function(t){var e=function(){},n=(t=t||{}).onComplete||e,r=t.onChange||e,i=this;return C.util.animate({startValue:this.get("angle"),endValue:this._getAngleValueForStraighten(),duration:this.FX_DURATION,onChange:function(t){i.rotate(t),r()},onComplete:function(){i.setCoords(),n()}}),this}}),C.util.object.extend(C.StaticCanvas.prototype,{straightenObject:function(t){return t.straighten(),this.requestRenderAll(),this},fxStraightenObject:function(t){return t.fxStraighten({onChange:this.requestRenderAllBound}),this}}),function(){"use strict";function t(t,e){var n="precision "+e+" float;\nvoid main(){}",r=t.createShader(t.FRAGMENT_SHADER);return t.shaderSource(r,n),t.compileShader(r),!!t.getShaderParameter(r,t.COMPILE_STATUS)}function e(t){t&&t.tileSize&&(this.tileSize=t.tileSize),this.setupGLContext(this.tileSize,this.tileSize),this.captureGPUInfo()}C.isWebglSupported=function(e){if(C.isLikelyNode)return!1;e=e||C.WebglFilterBackend.prototype.tileSize;var n=document.createElement("canvas"),r=n.getContext("webgl")||n.getContext("experimental-webgl"),i=!1;if(r){C.maxTextureSize=r.getParameter(r.MAX_TEXTURE_SIZE),i=C.maxTextureSize>=e;for(var o=["highp","mediump","lowp"],a=0;a<3;a++)if(t(r,o[a])){C.webGlPrecision=o[a];break}}return this.isSupported=i,i},C.WebglFilterBackend=e,e.prototype={tileSize:2048,resources:{},setupGLContext:function(t,e){this.dispose(),this.createWebGLCanvas(t,e),this.aPosition=new Float32Array([0,0,0,1,1,0,1,1]),this.chooseFastestCopyGLTo2DMethod(t,e)},chooseFastestCopyGLTo2DMethod:function(t,e){var n,r=void 0!==window.performance;try{new ImageData(1,1),n=!0}catch(t){n=!1}var i="undefined"!=typeof ArrayBuffer,o="undefined"!=typeof Uint8ClampedArray;if(r&&n&&i&&o){var a,s,u=C.util.createCanvasElement(),l=new ArrayBuffer(t*e*4),c={imageBuffer:l,destinationWidth:t,destinationHeight:e,targetCanvas:u};u.width=t,u.height=e,a=window.performance.now(),S.call(c,this.gl,c),s=window.performance.now()-a,a=window.performance.now(),D.call(c,this.gl,c),s>window.performance.now()-a?(this.imageBuffer=l,this.copyGLTo2D=D):this.copyGLTo2D=S}},createWebGLCanvas:function(t,e){var n=C.util.createCanvasElement();n.width=t,n.height=e;var r={alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1},i=n.getContext("webgl",r);i||(i=n.getContext("experimental-webgl",r)),i&&(i.clearColor(0,0,0,0),this.canvas=n,this.gl=i)},applyFilters:function(t,e,n,r,i,o){var a,s=this.gl;o&&(a=this.getCachedTexture(o,e));var u={originalWidth:e.width||e.originalWidth,originalHeight:e.height||e.originalHeight,sourceWidth:n,sourceHeight:r,destinationWidth:n,destinationHeight:r,context:s,sourceTexture:this.createTexture(s,n,r,!a&&e),targetTexture:this.createTexture(s,n,r),originalTexture:a||this.createTexture(s,n,r,!a&&e),passes:t.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:i},l=s.createFramebuffer();return s.bindFramebuffer(s.FRAMEBUFFER,l),t.forEach(function(t){t&&t.applyTo(u)}),function(t){var e=t.targetCanvas,n=t.destinationWidth,r=t.destinationHeight;e.width===n&&e.height===r||(e.width=n,e.height=r)}(u),this.copyGLTo2D(s,u),s.bindTexture(s.TEXTURE_2D,null),s.deleteTexture(u.sourceTexture),s.deleteTexture(u.targetTexture),s.deleteFramebuffer(l),i.getContext("2d").setTransform(1,0,0,1,0,0),u},applyFiltersDebug:function(t,e,n,r,i,o){var a=this.gl,s=this.applyFilters(t,e,n,r,i,o),u=a.getError();if(u!==a.NO_ERROR){var l=this.glErrorToString(a,u),c=new Error("WebGL Error "+l);throw c.glErrorCode=u,c}return s},glErrorToString:function(t,e){if(!t)return"Context undefined for error code: "+e;if("number"!=typeof e)return"Error code is not a number";switch(e){case t.NO_ERROR:return"NO_ERROR";case t.INVALID_ENUM:return"INVALID_ENUM";case t.INVALID_VALUE:return"INVALID_VALUE";case t.INVALID_OPERATION:return"INVALID_OPERATION";case t.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case t.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case t.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return"UNKNOWN_ERROR"}},dispose:function(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()},clearWebGLCaches:function(){this.programCache={},this.textureCache={}},createTexture:function(t,e,n,r){var i=t.createTexture();return t.bindTexture(t.TEXTURE_2D,i),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),r?t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,r):t.texImage2D(t.TEXTURE_2D,0,t.RGBA,e,n,0,t.RGBA,t.UNSIGNED_BYTE,null),i},getCachedTexture:function(t,e){if(this.textureCache[t])return this.textureCache[t];var n=this.createTexture(this.gl,e.width,e.height,e);return this.textureCache[t]=n,n},evictCachesForKey:function(t){this.textureCache[t]&&(this.gl.deleteTexture(this.textureCache[t]),delete this.textureCache[t])},copyGLTo2D:S,captureGPUInfo:function(){if(this.gpuInfo)return this.gpuInfo;var t=this.gl,e=t.getExtension("WEBGL_debug_renderer_info"),n={renderer:"",vendor:""};if(e){var r=t.getParameter(e.UNMASKED_RENDERER_WEBGL),i=t.getParameter(e.UNMASKED_VENDOR_WEBGL);r&&(n.renderer=r.toLowerCase()),i&&(n.vendor=i.toLowerCase())}return this.gpuInfo=n,n}}}(),function(){"use strict";var t=function(){};function e(){}C.Canvas2dFilterBackend=e,e.prototype={evictCachesForKey:t,dispose:t,clearWebGLCaches:t,resources:{},applyFilters:function(t,e,n,r,i){var o=i.getContext("2d");o.drawImage(e,0,0,n,r);var a={sourceWidth:n,sourceHeight:r,imageData:o.getImageData(0,0,n,r),originalEl:e,originalImageData:o.getImageData(0,0,n,r),canvasEl:i,ctx:o,filterBackend:this};return t.forEach(function(t){t.applyTo(a)}),a.imageData.width===n&&a.imageData.height===r||(i.width=a.imageData.width,i.height=a.imageData.height),o.putImageData(a.imageData,0,0),a}}}(),C.Image.filters=C.Image.filters||{},C.Image.filters.BaseFilter=C.util.createClass({type:"BaseFilter",vertexSource:"attribute vec2 aPosition;\nvarying vec2 vTexCoord;\nvoid main() {\nvTexCoord = aPosition;\ngl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);\n}",fragmentSource:"precision highp float;\nvarying vec2 vTexCoord;\nuniform sampler2D uTexture;\nvoid main() {\ngl_FragColor = texture2D(uTexture, vTexCoord);\n}",initialize:function(t){t&&this.setOptions(t)},setOptions:function(t){for(var e in t)this[e]=t[e]},createProgram:function(t,e,n){e=e||this.fragmentSource,n=n||this.vertexSource,"highp"!==C.webGlPrecision&&(e=e.replace(/precision highp float/g,"precision "+C.webGlPrecision+" float"));var r=t.createShader(t.VERTEX_SHADER);if(t.shaderSource(r,n),t.compileShader(r),!t.getShaderParameter(r,t.COMPILE_STATUS))throw new Error("Vertex shader compile error for "+this.type+": "+t.getShaderInfoLog(r));var i=t.createShader(t.FRAGMENT_SHADER);if(t.shaderSource(i,e),t.compileShader(i),!t.getShaderParameter(i,t.COMPILE_STATUS))throw new Error("Fragment shader compile error for "+this.type+": "+t.getShaderInfoLog(i));var o=t.createProgram();if(t.attachShader(o,r),t.attachShader(o,i),t.linkProgram(o),!t.getProgramParameter(o,t.LINK_STATUS))throw new Error('Shader link error for "${this.type}" '+t.getProgramInfoLog(o));var a=this.getAttributeLocations(t,o),s=this.getUniformLocations(t,o)||{};return s.uStepW=t.getUniformLocation(o,"uStepW"),s.uStepH=t.getUniformLocation(o,"uStepH"),{program:o,attributeLocations:a,uniformLocations:s}},getAttributeLocations:function(t,e){return{aPosition:t.getAttribLocation(e,"aPosition")}},getUniformLocations:function(){return{}},sendAttributeData:function(t,e,n){var r=e.aPosition,i=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,i),t.enableVertexAttribArray(r),t.vertexAttribPointer(r,2,t.FLOAT,!1,0,0),t.bufferData(t.ARRAY_BUFFER,n,t.STATIC_DRAW)},_setupFrameBuffer:function(t){var e,n,r=t.context;t.passes>1?(n=t.destinationHeight,t.sourceWidth===(e=t.destinationWidth)&&t.sourceHeight===n||(r.deleteTexture(t.targetTexture),t.targetTexture=t.filterBackend.createTexture(r,e,n)),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,t.targetTexture,0)):(r.bindFramebuffer(r.FRAMEBUFFER,null),r.finish())},_swapTextures:function(t){t.passes--,t.pass++;var e=t.targetTexture;t.targetTexture=t.sourceTexture,t.sourceTexture=e},isNeutralState:function(){return!1},applyTo:function(t){if(t.webgl){if(t.passes>1&&this.isNeutralState(t))return;this._setupFrameBuffer(t),this.applyToWebGL(t),this._swapTextures(t)}else this.isNeutralState()||this.applyTo2d(t)},retrieveShader:function(t){return t.programCache.hasOwnProperty(this.type)||(t.programCache[this.type]=this.createProgram(t.context)),t.programCache[this.type]},applyToWebGL:function(t){var e=t.context,n=this.retrieveShader(t);e.bindTexture(e.TEXTURE_2D,0===t.pass&&t.originalTexture?t.originalTexture:t.sourceTexture),e.useProgram(n.program),this.sendAttributeData(e,n.attributeLocations,t.aPosition),e.uniform1f(n.uniformLocations.uStepW,1/t.sourceWidth),e.uniform1f(n.uniformLocations.uStepH,1/t.sourceHeight),this.sendUniformData(e,n.uniformLocations),e.viewport(0,0,t.destinationWidth,t.destinationHeight),e.drawArrays(e.TRIANGLE_STRIP,0,4)},bindAdditionalTexture:function(t,e,n){t.activeTexture(n),t.bindTexture(t.TEXTURE_2D,e),t.activeTexture(t.TEXTURE0)},unbindAdditionalTexture:function(t,e){t.activeTexture(e),t.bindTexture(t.TEXTURE_2D,null),t.activeTexture(t.TEXTURE0)},getMainParameter:function(){return this[this.mainParameter]},setMainParameter:function(t){this[this.mainParameter]=t},sendUniformData:function(){},createHelpLayer:function(t){if(!t.helpLayer){var e=document.createElement("canvas");e.width=t.sourceWidth,e.height=t.sourceHeight,t.helpLayer=e}},toObject:function(){var t={type:this.type},e=this.mainParameter;return e&&(t[e]=this[e]),t},toJSON:function(){return this.toObject()}}),C.Image.filters.BaseFilter.fromObject=function(t,e){var n=new C.Image.filters[t.type](t);return e&&e(n),n},function(t){"use strict";var n=e.fabric||(e.fabric={}),r=n.Image.filters;r.ColorMatrix=(0,n.util.createClass)(r.BaseFilter,{type:"ColorMatrix",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nvarying vec2 vTexCoord;\nuniform mat4 uColorMatrix;\nuniform vec4 uConstants;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ncolor *= uColorMatrix;\ncolor += uConstants;\ngl_FragColor = color;\n}",matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],mainParameter:"matrix",colorsOnly:!0,initialize:function(t){this.callSuper("initialize",t),this.matrix=this.matrix.slice(0)},isNeutralState:function(){for(var t=r.ColorMatrix,e=20;e--;)if(this.matrix[e]!==t.prototype.matrix[e])return!1;return!0},applyTo2d:function(t){var e,n,r,i,o,a=t.imageData.data,s=a.length,u=this.matrix,l=this.colorsOnly;for(o=0;o<s;o+=4)e=a[o],n=a[o+1],r=a[o+2],l?(a[o]=e*u[0]+n*u[1]+r*u[2]+255*u[4],a[o+1]=e*u[5]+n*u[6]+r*u[7]+255*u[9],a[o+2]=e*u[10]+n*u[11]+r*u[12]+255*u[14]):(a[o]=e*u[0]+n*u[1]+r*u[2]+(i=a[o+3])*u[3]+255*u[4],a[o+1]=e*u[5]+n*u[6]+r*u[7]+i*u[8]+255*u[9],a[o+2]=e*u[10]+n*u[11]+r*u[12]+i*u[13]+255*u[14],a[o+3]=e*u[15]+n*u[16]+r*u[17]+i*u[18]+255*u[19])},getUniformLocations:function(t,e){return{uColorMatrix:t.getUniformLocation(e,"uColorMatrix"),uConstants:t.getUniformLocation(e,"uConstants")}},sendUniformData:function(t,e){var n=this.matrix,r=[n[4],n[9],n[14],n[19]];t.uniformMatrix4fv(e.uColorMatrix,!1,[n[0],n[1],n[2],n[3],n[5],n[6],n[7],n[8],n[10],n[11],n[12],n[13],n[15],n[16],n[17],n[18]]),t.uniform4fv(e.uConstants,r)}}),n.Image.filters.ColorMatrix.fromObject=n.Image.filters.BaseFilter.fromObject}(),function(t){"use strict";var n=e.fabric||(e.fabric={}),r=n.Image.filters;r.Brightness=(0,n.util.createClass)(r.BaseFilter,{type:"Brightness",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uBrightness;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ncolor.rgb += uBrightness;\ngl_FragColor = color;\n}",brightness:0,mainParameter:"brightness",applyTo2d:function(t){if(0!==this.brightness){var e,n=t.imageData.data,r=n.length,i=Math.round(255*this.brightness);for(e=0;e<r;e+=4)n[e]=n[e]+i,n[e+1]=n[e+1]+i,n[e+2]=n[e+2]+i}},getUniformLocations:function(t,e){return{uBrightness:t.getUniformLocation(e,"uBrightness")}},sendUniformData:function(t,e){t.uniform1f(e.uBrightness,this.brightness)}}),n.Image.filters.Brightness.fromObject=n.Image.filters.BaseFilter.fromObject}(),function(t){"use strict";var n=e.fabric||(e.fabric={}),r=n.util.object.extend,i=n.Image.filters;i.Convolute=(0,n.util.createClass)(i.BaseFilter,{type:"Convolute",opaque:!1,matrix:[0,0,0,0,1,0,0,0,0],fragmentSource:{Convolute_3_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[9];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 3.0; h+=1.0) {\nfor (float w = 0.0; w < 3.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_3_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[9];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 3.0; h+=1.0) {\nfor (float w = 0.0; w < 3.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}",Convolute_5_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[25];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 5.0; h+=1.0) {\nfor (float w = 0.0; w < 5.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_5_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[25];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 5.0; h+=1.0) {\nfor (float w = 0.0; w < 5.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}",Convolute_7_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[49];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 7.0; h+=1.0) {\nfor (float w = 0.0; w < 7.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_7_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[49];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 7.0; h+=1.0) {\nfor (float w = 0.0; w < 7.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}",Convolute_9_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[81];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 9.0; h+=1.0) {\nfor (float w = 0.0; w < 9.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_9_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[81];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 9.0; h+=1.0) {\nfor (float w = 0.0; w < 9.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}"},retrieveShader:function(t){var e=Math.sqrt(this.matrix.length),n=this.type+"_"+e+"_"+(this.opaque?1:0),r=this.fragmentSource[n];return t.programCache.hasOwnProperty(n)||(t.programCache[n]=this.createProgram(t.context,r)),t.programCache[n]},applyTo2d:function(t){var e,n,r,i,o,a,s,u,l,c,f,h,d,p=t.imageData,v=p.data,g=this.matrix,m=Math.round(Math.sqrt(g.length)),y=Math.floor(m/2),b=p.width,w=p.height,x=t.ctx.createImageData(b,w),_=x.data,C=this.opaque?1:0;for(f=0;f<w;f++)for(c=0;c<b;c++){for(o=4*(f*b+c),e=0,n=0,r=0,i=0,d=0;d<m;d++)for(h=0;h<m;h++)a=c+h-y,(s=f+d-y)<0||s>w||a<0||a>b||(e+=v[u=4*(s*b+a)]*(l=g[d*m+h]),n+=v[u+1]*l,r+=v[u+2]*l,C||(i+=v[u+3]*l));_[o]=e,_[o+1]=n,_[o+2]=r,_[o+3]=C?v[o+3]:i}t.imageData=x},getUniformLocations:function(t,e){return{uMatrix:t.getUniformLocation(e,"uMatrix"),uOpaque:t.getUniformLocation(e,"uOpaque"),uHalfSize:t.getUniformLocation(e,"uHalfSize"),uSize:t.getUniformLocation(e,"uSize")}},sendUniformData:function(t,e){t.uniform1fv(e.uMatrix,this.matrix)},toObject:function(){return r(this.callSuper("toObject"),{opaque:this.opaque,matrix:this.matrix})}}),n.Image.filters.Convolute.fromObject=n.Image.filters.BaseFilter.fromObject}(),function(t){"use strict";var n=e.fabric||(e.fabric={}),r=n.Image.filters;r.Grayscale=(0,n.util.createClass)(r.BaseFilter,{type:"Grayscale",fragmentSource:{average:"precision highp float;\nuniform sampler2D uTexture;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat average = (color.r + color.b + color.g) / 3.0;\ngl_FragColor = vec4(average, average, average, color.a);\n}",lightness:"precision highp float;\nuniform sampler2D uTexture;\nuniform int uMode;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 col = texture2D(uTexture, vTexCoord);\nfloat average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;\ngl_FragColor = vec4(average, average, average, col.a);\n}",luminosity:"precision highp float;\nuniform sampler2D uTexture;\nuniform int uMode;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 col = texture2D(uTexture, vTexCoord);\nfloat average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;\ngl_FragColor = vec4(average, average, average, col.a);\n}"},mode:"average",mainParameter:"mode",applyTo2d:function(t){var e,n,r=t.imageData.data,i=r.length,o=this.mode;for(e=0;e<i;e+=4)"average"===o?n=(r[e]+r[e+1]+r[e+2])/3:"lightness"===o?n=(Math.min(r[e],r[e+1],r[e+2])+Math.max(r[e],r[e+1],r[e+2]))/2:"luminosity"===o&&(n=.21*r[e]+.72*r[e+1]+.07*r[e+2]),r[e]=n,r[e+1]=n,r[e+2]=n},retrieveShader:function(t){var e=this.type+"_"+this.mode;return t.programCache.hasOwnProperty(e)||(t.programCache[e]=this.createProgram(t.context,this.fragmentSource[this.mode])),t.programCache[e]},getUniformLocations:function(t,e){return{uMode:t.getUniformLocation(e,"uMode")}},sendUniformData:function(t,e){t.uniform1i(e.uMode,1)}}),n.Image.filters.Grayscale.fromObject=n.Image.filters.BaseFilter.fromObject}(),function(t){"use strict";var n=e.fabric||(e.fabric={}),r=n.Image.filters;r.Invert=(0,n.util.createClass)(r.BaseFilter,{type:"Invert",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform int uInvert;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nif (uInvert == 1) {\ngl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);\n} else {\ngl_FragColor = color;\n}\n}",invert:!0,mainParameter:"invert",applyTo2d:function(t){if(this.invert){var e,n=t.imageData.data,r=n.length;for(e=0;e<r;e+=4)n[e]=255-n[e],n[e+1]=255-n[e+1],n[e+2]=255-n[e+2]}},getUniformLocations:function(t,e){return{uInvert:t.getUniformLocation(e,"uInvert")}},sendUniformData:function(t,e){t.uniform1i(e.uInvert,this.invert)}}),n.Image.filters.Invert.fromObject=n.Image.filters.BaseFilter.fromObject}(),function(t){"use strict";var n=e.fabric||(e.fabric={}),r=n.util.object.extend,i=n.Image.filters;i.Noise=(0,n.util.createClass)(i.BaseFilter,{type:"Noise",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uStepH;\nuniform float uNoise;\nuniform float uSeed;\nvarying vec2 vTexCoord;\nfloat rand(vec2 co, float seed, float vScale) {\nreturn fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);\n}\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ncolor.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;\ngl_FragColor = color;\n}",mainParameter:"noise",noise:0,applyTo2d:function(t){if(0!==this.noise){var e,n,r,i=t.imageData.data,o=this.noise;for(e=0,n=i.length;e<n;e+=4)r=(.5-Math.random())*o,i[e]+=r,i[e+1]+=r,i[e+2]+=r}},getUniformLocations:function(t,e){return{uNoise:t.getUniformLocation(e,"uNoise"),uSeed:t.getUniformLocation(e,"uSeed")}},sendUniformData:function(t,e){t.uniform1f(e.uNoise,this.noise/255),t.uniform1f(e.uSeed,Math.random())},toObject:function(){return r(this.callSuper("toObject"),{noise:this.noise})}}),n.Image.filters.Noise.fromObject=n.Image.filters.BaseFilter.fromObject}(),function(t){"use strict";var n=e.fabric||(e.fabric={}),r=n.Image.filters;r.Pixelate=(0,n.util.createClass)(r.BaseFilter,{type:"Pixelate",blocksize:4,mainParameter:"blocksize",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uBlocksize;\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nfloat blockW = uBlocksize * uStepW;\nfloat blockH = uBlocksize * uStepW;\nint posX = int(vTexCoord.x / blockW);\nint posY = int(vTexCoord.y / blockH);\nfloat fposX = float(posX);\nfloat fposY = float(posY);\nvec2 squareCoords = vec2(fposX * blockW, fposY * blockH);\nvec4 color = texture2D(uTexture, squareCoords);\ngl_FragColor = color;\n}",applyTo2d:function(t){if(1!==this.blocksize){var e,n,r,i,o,a,s,u,l,c,f,h=t.imageData,d=h.data,p=h.height,v=h.width;for(n=0;n<p;n+=this.blocksize)for(r=0;r<v;r+=this.blocksize)for(i=d[e=4*n*v+4*r],o=d[e+1],a=d[e+2],s=d[e+3],c=Math.min(n+this.blocksize,p),f=Math.min(r+this.blocksize,v),u=n;u<c;u++)for(l=r;l<f;l++)d[e=4*u*v+4*l]=i,d[e+1]=o,d[e+2]=a,d[e+3]=s}},isNeutralState:function(){return 1===this.blocksize},getUniformLocations:function(t,e){return{uBlocksize:t.getUniformLocation(e,"uBlocksize"),uStepW:t.getUniformLocation(e,"uStepW"),uStepH:t.getUniformLocation(e,"uStepH")}},sendUniformData:function(t,e){t.uniform1f(e.uBlocksize,this.blocksize)}}),n.Image.filters.Pixelate.fromObject=n.Image.filters.BaseFilter.fromObject}(),function(t){"use strict";var n=e.fabric||(e.fabric={}),r=n.util.object.extend,i=n.Image.filters;i.RemoveColor=(0,n.util.createClass)(i.BaseFilter,{type:"RemoveColor",color:"#FFFFFF",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec4 uLow;\nuniform vec4 uHigh;\nvarying vec2 vTexCoord;\nvoid main() {\ngl_FragColor = texture2D(uTexture, vTexCoord);\nif(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {\ngl_FragColor.a = 0.0;\n}\n}",distance:.02,useAlpha:!1,applyTo2d:function(t){var e,r,i,o,a=t.imageData.data,s=255*this.distance,u=new n.Color(this.color).getSource(),l=[u[0]-s,u[1]-s,u[2]-s],c=[u[0]+s,u[1]+s,u[2]+s];for(e=0;e<a.length;e+=4)i=a[e+1],o=a[e+2],(r=a[e])>l[0]&&i>l[1]&&o>l[2]&&r<c[0]&&i<c[1]&&o<c[2]&&(a[e+3]=0)},getUniformLocations:function(t,e){return{uLow:t.getUniformLocation(e,"uLow"),uHigh:t.getUniformLocation(e,"uHigh")}},sendUniformData:function(t,e){var r=new n.Color(this.color).getSource(),i=parseFloat(this.distance),o=[r[0]/255+i,r[1]/255+i,r[2]/255+i,1];t.uniform4fv(e.uLow,[0+r[0]/255-i,0+r[1]/255-i,0+r[2]/255-i,1]),t.uniform4fv(e.uHigh,o)},toObject:function(){return r(this.callSuper("toObject"),{color:this.color,distance:this.distance})}}),n.Image.filters.RemoveColor.fromObject=n.Image.filters.BaseFilter.fromObject}(),function(t){"use strict";var n=e.fabric||(e.fabric={}),r=n.Image.filters,i=n.util.createClass,o={Brownie:[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0],Vintage:[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0],Kodachrome:[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0],Technicolor:[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0],Polaroid:[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],Sepia:[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0],BlackWhite:[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]};for(var a in o)r[a]=i(r.ColorMatrix,{type:a,matrix:o[a],mainParameter:!1,colorsOnly:!0}),n.Image.filters[a].fromObject=n.Image.filters.BaseFilter.fromObject}(),function(t){"use strict";var n=e.fabric,r=n.Image.filters;r.BlendColor=(0,n.util.createClass)(r.BaseFilter,{type:"BlendColor",color:"#F95C63",mode:"multiply",alpha:1,fragmentSource:{multiply:"gl_FragColor.rgb *= uColor.rgb;\n",screen:"gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);\n",add:"gl_FragColor.rgb += uColor.rgb;\n",diff:"gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);\n",subtract:"gl_FragColor.rgb -= uColor.rgb;\n",lighten:"gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);\n",darken:"gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);\n",exclusion:"gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);\n",overlay:"if (uColor.r < 0.5) {\ngl_FragColor.r *= 2.0 * uColor.r;\n} else {\ngl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);\n}\nif (uColor.g < 0.5) {\ngl_FragColor.g *= 2.0 * uColor.g;\n} else {\ngl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);\n}\nif (uColor.b < 0.5) {\ngl_FragColor.b *= 2.0 * uColor.b;\n} else {\ngl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);\n}\n",tint:"gl_FragColor.rgb *= (1.0 - uColor.a);\ngl_FragColor.rgb += uColor.rgb;\n"},buildSource:function(t){return"precision highp float;\nuniform sampler2D uTexture;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ngl_FragColor = color;\nif (color.a > 0.0) {\n"+this.fragmentSource[t]+"}\n}"},retrieveShader:function(t){var e,n=this.type+"_"+this.mode;return t.programCache.hasOwnProperty(n)||(e=this.buildSource(this.mode),t.programCache[n]=this.createProgram(t.context,e)),t.programCache[n]},applyTo2d:function(t){var e,r,i,o,a,s,u,l=t.imageData.data,c=l.length,f=1-this.alpha;e=(u=new n.Color(this.color).getSource())[0]*this.alpha,r=u[1]*this.alpha,i=u[2]*this.alpha;for(var h=0;h<c;h+=4)switch(o=l[h],a=l[h+1],s=l[h+2],this.mode){case"multiply":l[h]=o*e/255,l[h+1]=a*r/255,l[h+2]=s*i/255;break;case"screen":l[h]=255-(255-o)*(255-e)/255,l[h+1]=255-(255-a)*(255-r)/255,l[h+2]=255-(255-s)*(255-i)/255;break;case"add":l[h]=o+e,l[h+1]=a+r,l[h+2]=s+i;break;case"diff":case"difference":l[h]=Math.abs(o-e),l[h+1]=Math.abs(a-r),l[h+2]=Math.abs(s-i);break;case"subtract":l[h]=o-e,l[h+1]=a-r,l[h+2]=s-i;break;case"darken":l[h]=Math.min(o,e),l[h+1]=Math.min(a,r),l[h+2]=Math.min(s,i);break;case"lighten":l[h]=Math.max(o,e),l[h+1]=Math.max(a,r),l[h+2]=Math.max(s,i);break;case"overlay":l[h]=e<128?2*o*e/255:255-2*(255-o)*(255-e)/255,l[h+1]=r<128?2*a*r/255:255-2*(255-a)*(255-r)/255,l[h+2]=i<128?2*s*i/255:255-2*(255-s)*(255-i)/255;break;case"exclusion":l[h]=e+o-2*e*o/255,l[h+1]=r+a-2*r*a/255,l[h+2]=i+s-2*i*s/255;break;case"tint":l[h]=e+o*f,l[h+1]=r+a*f,l[h+2]=i+s*f}},getUniformLocations:function(t,e){return{uColor:t.getUniformLocation(e,"uColor")}},sendUniformData:function(t,e){var r=new n.Color(this.color).getSource();r[0]=this.alpha*r[0]/255,r[1]=this.alpha*r[1]/255,r[2]=this.alpha*r[2]/255,r[3]=this.alpha,t.uniform4fv(e.uColor,r)},toObject:function(){return{type:this.type,color:this.color,mode:this.mode,alpha:this.alpha}}}),n.Image.filters.BlendColor.fromObject=n.Image.filters.BaseFilter.fromObject}(),function(t){"use strict";var n=e.fabric,r=n.Image.filters;r.BlendImage=(0,n.util.createClass)(r.BaseFilter,{type:"BlendImage",image:null,mode:"multiply",alpha:1,vertexSource:"attribute vec2 aPosition;\nvarying vec2 vTexCoord;\nvarying vec2 vTexCoord2;\nuniform mat3 uTransformMatrix;\nvoid main() {\nvTexCoord = aPosition;\nvTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;\ngl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);\n}",fragmentSource:{multiply:"precision highp float;\nuniform sampler2D uTexture;\nuniform sampler2D uImage;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvarying vec2 vTexCoord2;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nvec4 color2 = texture2D(uImage, vTexCoord2);\ncolor.rgba *= color2.rgba;\ngl_FragColor = color;\n}",mask:"precision highp float;\nuniform sampler2D uTexture;\nuniform sampler2D uImage;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvarying vec2 vTexCoord2;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nvec4 color2 = texture2D(uImage, vTexCoord2);\ncolor.a = color2.a;\ngl_FragColor = color;\n}"},retrieveShader:function(t){var e=this.type+"_"+this.mode,n=this.fragmentSource[this.mode];return t.programCache.hasOwnProperty(e)||(t.programCache[e]=this.createProgram(t.context,n)),t.programCache[e]},applyToWebGL:function(t){var e=t.context,n=this.createTexture(t.filterBackend,this.image);this.bindAdditionalTexture(e,n,e.TEXTURE1),this.callSuper("applyToWebGL",t),this.unbindAdditionalTexture(e,e.TEXTURE1)},createTexture:function(t,e){return t.getCachedTexture(e.cacheKey,e._element)},calculateMatrix:function(){var t=this.image;return[1/t.scaleX,0,0,0,1/t.scaleY,0,-t.left/t._element.width,-t.top/t._element.height,1]},applyTo2d:function(t){var e,n,r,i,o,a,s,u,l,c,f,h=t.filterBackend.resources,d=t.imageData.data,p=d.length,v=t.imageData.width,g=t.imageData.height,m=this.image;h.blendImage||(h.blendImage=document.createElement("canvas")),(l=h.blendImage).width===v&&l.height===g||(l.width=v,l.height=g),(c=l.getContext("2d")).setTransform(m.scaleX,0,0,m.scaleY,m.left,m.top),c.drawImage(m._element,0,0,v,g),f=c.getImageData(0,0,v,g).data;for(var y=0;y<p;y+=4)switch(o=d[y],a=d[y+1],s=d[y+2],u=d[y+3],e=f[y],n=f[y+1],r=f[y+2],i=f[y+3],this.mode){case"multiply":d[y]=o*e/255,d[y+1]=a*n/255,d[y+2]=s*r/255,d[y+3]=u*i/255;break;case"mask":d[y+3]=i}},getUniformLocations:function(t,e){return{uTransformMatrix:t.getUniformLocation(e,"uTransformMatrix"),uImage:t.getUniformLocation(e,"uImage")}},sendUniformData:function(t,e){var n=this.calculateMatrix();t.uniform1i(e.uImage,1),t.uniformMatrix3fv(e.uTransformMatrix,!1,n)},toObject:function(){return{type:this.type,image:this.image&&this.image.toObject(),mode:this.mode,alpha:this.alpha}}}),n.Image.filters.BlendImage.fromObject=function(t,e){n.Image.fromObject(t.image,function(r){var i=n.util.object.clone(t);i.image=r,e(new n.Image.filters.BlendImage(i))})}}(),function(t){"use strict";var n=e.fabric||(e.fabric={}),r=Math.pow,i=Math.floor,o=Math.sqrt,a=Math.abs,s=Math.round,u=Math.sin,l=Math.ceil,c=n.Image.filters;c.Resize=(0,n.util.createClass)(c.BaseFilter,{type:"Resize",resizeType:"hermite",scaleX:0,scaleY:0,lanczosLobes:3,getUniformLocations:function(t,e){return{uDelta:t.getUniformLocation(e,"uDelta"),uTaps:t.getUniformLocation(e,"uTaps")}},sendUniformData:function(t,e){t.uniform2fv(e.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),t.uniform1fv(e.uTaps,this.taps)},retrieveShader:function(t){var e=this.getFilterWindow(),n=this.type+"_"+e;if(!t.programCache.hasOwnProperty(n)){var r=this.generateShader(e);t.programCache[n]=this.createProgram(t.context,r)}return t.programCache[n]},getFilterWindow:function(){return Math.ceil(this.lanczosLobes/this.tempScale)},getTaps:function(){for(var t=this.lanczosCreate(this.lanczosLobes),e=this.tempScale,n=this.getFilterWindow(),r=new Array(n),i=1;i<=n;i++)r[i-1]=t(i*e);return r},generateShader:function(t){for(var e=new Array(t),n=this.fragmentSourceTOP,r=1;r<=t;r++)e[r-1]=r+".0 * uDelta";return n+="uniform float uTaps["+t+"];\n",n+="void main() {\n",n+="  vec4 color = texture2D(uTexture, vTexCoord);\n",n+="  float sum = 1.0;\n",e.forEach(function(t,e){n+="  color += texture2D(uTexture, vTexCoord + "+t+") * uTaps["+e+"];\n",n+="  color += texture2D(uTexture, vTexCoord - "+t+") * uTaps["+e+"];\n",n+="  sum += 2.0 * uTaps["+e+"];\n"}),n+="  gl_FragColor = color / sum;\n",n+="}"},fragmentSourceTOP:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec2 uDelta;\nvarying vec2 vTexCoord;\n",applyTo:function(t){if(t.webgl){if(t.passes>1&&this.isNeutralState(t))return;t.passes++,this.width=t.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=t.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),t.destinationWidth=this.dW,this._setupFrameBuffer(t),this.applyToWebGL(t),this._swapTextures(t),t.sourceWidth=t.destinationWidth,this.height=t.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),t.destinationHeight=this.dH,this._setupFrameBuffer(t),this.applyToWebGL(t),this._swapTextures(t),t.sourceHeight=t.destinationHeight}else this.isNeutralState(t)||this.applyTo2d(t)},isNeutralState:function(t){return 1===(t.scaleX||this.scaleX)&&1===(t.scaleY||this.scaleY)},lanczosCreate:function(t){return function(e){if(e>=t||e<=-t)return 0;if(e<1.1920929e-7&&e>-1.1920929e-7)return 1;var n=(e*=Math.PI)/t;return u(e)/e*u(n)/n}},applyTo2d:function(t){var e=t.imageData,n=this.scaleX,r=this.scaleY;this.rcpScaleX=1/n,this.rcpScaleY=1/r;var i,o=e.width,a=e.height,u=s(o*n),l=s(a*r);"sliceHack"===this.resizeType?i=this.sliceByTwo(t,o,a,u,l):"hermite"===this.resizeType?i=this.hermiteFastResize(t,o,a,u,l):"bilinear"===this.resizeType?i=this.bilinearFiltering(t,o,a,u,l):"lanczos"===this.resizeType&&(i=this.lanczosResize(t,o,a,u,l)),t.imageData=i},sliceByTwo:function(t,e,r,o,a){var s,u,l=t.imageData,c=!1,f=!1,h=.5*e,d=.5*r,p=n.filterBackend.resources,v=0,g=0,m=e,y=0;for(p.sliceByTwo||(p.sliceByTwo=document.createElement("canvas")),((s=p.sliceByTwo).width<1.5*e||s.height<r)&&(s.width=1.5*e,s.height=r),(u=s.getContext("2d")).clearRect(0,0,1.5*e,r),u.putImageData(l,0,0),o=i(o),a=i(a);!c||!f;)e=h,r=d,o<i(.5*h)?h=i(.5*h):(h=o,c=!0),a<i(.5*d)?d=i(.5*d):(d=a,f=!0),u.drawImage(s,v,g,e,r,m,y,h,d),v=m,g=y,y+=d;return u.getImageData(v,g,o,a)},lanczosResize:function(t,e,n,s,u){var c=t.imageData.data,f=t.ctx.createImageData(s,u),h=f.data,d=this.lanczosCreate(this.lanczosLobes),p=this.rcpScaleX,v=this.rcpScaleY,g=2/this.rcpScaleX,m=2/this.rcpScaleY,y=l(p*this.lanczosLobes/2),b=l(v*this.lanczosLobes/2),w={},x={},_={};return function t(l){var C,S,D,P,A,T,E,O,k,R,I;for(x.x=(l+.5)*p,_.x=i(x.x),C=0;C<u;C++){for(x.y=(C+.5)*v,_.y=i(x.y),A=0,T=0,E=0,O=0,k=0,S=_.x-y;S<=_.x+y;S++)if(!(S<0||S>=e)){R=i(1e3*a(S-x.x)),w[R]||(w[R]={});for(var M=_.y-b;M<=_.y+b;M++)M<0||M>=n||(I=i(1e3*a(M-x.y)),w[R][I]||(w[R][I]=d(o(r(R*g,2)+r(I*m,2))/1e3)),(D=w[R][I])>0&&(A+=D,T+=D*c[P=4*(M*e+S)],E+=D*c[P+1],O+=D*c[P+2],k+=D*c[P+3]))}h[P=4*(C*s+l)]=T/A,h[P+1]=E/A,h[P+2]=O/A,h[P+3]=k/A}return++l<s?t(l):f}(0)},bilinearFiltering:function(t,e,n,r,o){var a,s,u,l,c,f,h,d,p=0,v=this.rcpScaleX,g=this.rcpScaleY,m=4*(e-1),y=t.imageData.data,b=t.ctx.createImageData(r,o),w=b.data;for(u=0;u<o;u++)for(l=0;l<r;l++)for(c=v*l-(a=i(v*l)),f=g*u-(s=i(g*u)),d=4*(s*e+a),h=0;h<4;h++)w[p++]=y[d+h]*(1-c)*(1-f)+y[d+4+h]*c*(1-f)+y[d+m+h]*f*(1-c)+y[d+m+4+h]*c*f;return b},hermiteFastResize:function(t,e,n,r,s){for(var u=this.rcpScaleX,c=this.rcpScaleY,f=l(u/2),h=l(c/2),d=t.imageData.data,p=t.ctx.createImageData(r,s),v=p.data,g=0;g<s;g++)for(var m=0;m<r;m++){for(var y=4*(m+g*r),b=0,w=0,x=0,_=0,C=0,S=0,D=0,P=(g+.5)*c,A=i(g*c);A<(g+1)*c;A++)for(var T=a(P-(A+.5))/h,E=(m+.5)*u,O=T*T,k=i(m*u);k<(m+1)*u;k++){var R=a(E-(k+.5))/f,I=o(O+R*R);I>1&&I<-1||(b=2*I*I*I-3*I*I+1)>0&&(D+=b*d[3+(R=4*(k+A*e))],x+=b,d[R+3]<255&&(b=b*d[R+3]/250),_+=b*d[R],C+=b*d[R+1],S+=b*d[R+2],w+=b)}v[y]=_/w,v[y+1]=C/w,v[y+2]=S/w,v[y+3]=D/x}return p},toObject:function(){return{type:this.type,scaleX:this.scaleX,scaleY:this.scaleY,resizeType:this.resizeType,lanczosLobes:this.lanczosLobes}}}),n.Image.filters.Resize.fromObject=n.Image.filters.BaseFilter.fromObject}(),function(t){"use strict";var n=e.fabric||(e.fabric={}),r=n.Image.filters;r.Contrast=(0,n.util.createClass)(r.BaseFilter,{type:"Contrast",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uContrast;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));\ncolor.rgb = contrastF * (color.rgb - 0.5) + 0.5;\ngl_FragColor = color;\n}",contrast:0,mainParameter:"contrast",applyTo2d:function(t){if(0!==this.contrast){var e,n=t.imageData.data,r=n.length,i=Math.floor(255*this.contrast),o=259*(i+255)/(255*(259-i));for(e=0;e<r;e+=4)n[e]=o*(n[e]-128)+128,n[e+1]=o*(n[e+1]-128)+128,n[e+2]=o*(n[e+2]-128)+128}},getUniformLocations:function(t,e){return{uContrast:t.getUniformLocation(e,"uContrast")}},sendUniformData:function(t,e){t.uniform1f(e.uContrast,this.contrast)}}),n.Image.filters.Contrast.fromObject=n.Image.filters.BaseFilter.fromObject}(),function(t){"use strict";var n=e.fabric||(e.fabric={}),r=n.Image.filters;r.Saturation=(0,n.util.createClass)(r.BaseFilter,{type:"Saturation",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uSaturation;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat rgMax = max(color.r, color.g);\nfloat rgbMax = max(rgMax, color.b);\ncolor.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;\ncolor.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;\ncolor.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;\ngl_FragColor = color;\n}",saturation:0,mainParameter:"saturation",applyTo2d:function(t){if(0!==this.saturation){var e,n,r=t.imageData.data,i=r.length,o=-this.saturation;for(e=0;e<i;e+=4)n=Math.max(r[e],r[e+1],r[e+2]),r[e]+=n!==r[e]?(n-r[e])*o:0,r[e+1]+=n!==r[e+1]?(n-r[e+1])*o:0,r[e+2]+=n!==r[e+2]?(n-r[e+2])*o:0}},getUniformLocations:function(t,e){return{uSaturation:t.getUniformLocation(e,"uSaturation")}},sendUniformData:function(t,e){t.uniform1f(e.uSaturation,-this.saturation)}}),n.Image.filters.Saturation.fromObject=n.Image.filters.BaseFilter.fromObject}(),function(t){"use strict";var n=e.fabric||(e.fabric={}),r=n.Image.filters;r.Blur=(0,n.util.createClass)(r.BaseFilter,{type:"Blur",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec2 uDelta;\nvarying vec2 vTexCoord;\nconst float nSamples = 15.0;\nvec3 v3offset = vec3(12.9898, 78.233, 151.7182);\nfloat random(vec3 scale) {\nreturn fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);\n}\nvoid main() {\nvec4 color = vec4(0.0);\nfloat total = 0.0;\nfloat offset = random(v3offset);\nfor (float t = -nSamples; t <= nSamples; t++) {\nfloat percent = (t + offset - 0.5) / nSamples;\nfloat weight = 1.0 - abs(percent);\ncolor += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;\ntotal += weight;\n}\ngl_FragColor = color / total;\n}",blur:0,mainParameter:"blur",applyTo:function(t){t.webgl?(this.aspectRatio=t.sourceWidth/t.sourceHeight,t.passes++,this._setupFrameBuffer(t),this.horizontal=!0,this.applyToWebGL(t),this._swapTextures(t),this._setupFrameBuffer(t),this.horizontal=!1,this.applyToWebGL(t),this._swapTextures(t)):this.applyTo2d(t)},applyTo2d:function(t){t.imageData=this.simpleBlur(t)},simpleBlur:function(t){var e,r,i=t.filterBackend.resources,o=t.imageData.width,a=t.imageData.height;i.blurLayer1||(i.blurLayer1=n.util.createCanvasElement(),i.blurLayer2=n.util.createCanvasElement()),r=i.blurLayer2,(e=i.blurLayer1).width===o&&e.height===a||(r.width=e.width=o,r.height=e.height=a);var s,u,l,c,f=e.getContext("2d"),h=r.getContext("2d"),d=.06*this.blur*.5;for(f.putImageData(t.imageData,0,0),h.clearRect(0,0,o,a),c=-15;c<=15;c++)s=(Math.random()-.5)/4,l=d*(u=c/15)*o+s,h.globalAlpha=1-Math.abs(u),h.drawImage(e,l,s),f.drawImage(r,0,0),h.globalAlpha=1,h.clearRect(0,0,r.width,r.height);for(c=-15;c<=15;c++)s=(Math.random()-.5)/4,l=d*(u=c/15)*a+s,h.globalAlpha=1-Math.abs(u),h.drawImage(e,s,l),f.drawImage(r,0,0),h.globalAlpha=1,h.clearRect(0,0,r.width,r.height);t.ctx.drawImage(e,0,0);var p=t.ctx.getImageData(0,0,e.width,e.height);return f.globalAlpha=1,f.clearRect(0,0,e.width,e.height),p},getUniformLocations:function(t,e){return{delta:t.getUniformLocation(e,"uDelta")}},sendUniformData:function(t,e){var n=this.chooseRightDelta();t.uniform2fv(e.delta,n)},chooseRightDelta:function(){var t,e=1,n=[0,0];return this.horizontal?this.aspectRatio>1&&(e=1/this.aspectRatio):this.aspectRatio<1&&(e=this.aspectRatio),t=e*this.blur*.12,this.horizontal?n[0]=t:n[1]=t,n}}),r.Blur.fromObject=n.Image.filters.BaseFilter.fromObject}(),function(t){"use strict";var n=e.fabric||(e.fabric={}),r=n.Image.filters;r.Gamma=(0,n.util.createClass)(r.BaseFilter,{type:"Gamma",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec3 uGamma;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nvec3 correction = (1.0 / uGamma);\ncolor.r = pow(color.r, correction.r);\ncolor.g = pow(color.g, correction.g);\ncolor.b = pow(color.b, correction.b);\ngl_FragColor = color;\ngl_FragColor.rgb *= color.a;\n}",gamma:[1,1,1],mainParameter:"gamma",applyTo2d:function(t){var e,n=t.imageData.data,r=this.gamma,i=n.length,o=1/r[0],a=1/r[1],s=1/r[2];for(this.rVals||(this.rVals=new Uint8Array(256),this.gVals=new Uint8Array(256),this.bVals=new Uint8Array(256)),e=0,i=256;e<i;e++)this.rVals[e]=255*Math.pow(e/255,o),this.gVals[e]=255*Math.pow(e/255,a),this.bVals[e]=255*Math.pow(e/255,s);for(e=0,i=n.length;e<i;e+=4)n[e]=this.rVals[n[e]],n[e+1]=this.gVals[n[e+1]],n[e+2]=this.bVals[n[e+2]]},getUniformLocations:function(t,e){return{uGamma:t.getUniformLocation(e,"uGamma")}},sendUniformData:function(t,e){t.uniform3fv(e.uGamma,this.gamma)}}),n.Image.filters.Gamma.fromObject=n.Image.filters.BaseFilter.fromObject}(),function(t){"use strict";var n=e.fabric||(e.fabric={}),r=n.Image.filters;r.Composed=(0,n.util.createClass)(r.BaseFilter,{type:"Composed",subFilters:[],initialize:function(t){this.callSuper("initialize",t),this.subFilters=this.subFilters.slice(0)},applyTo:function(t){t.passes+=this.subFilters.length-1,this.subFilters.forEach(function(e){e.applyTo(t)})},toObject:function(){return n.util.object.extend(this.callSuper("toObject"),{subFilters:this.subFilters.map(function(t){return t.toObject()})})}}),n.Image.filters.Composed.fromObject=function(t,e){var r=(t.subFilters||[]).map(function(t){return new n.Image.filters[t.type](t)}),i=new n.Image.filters.Composed({subFilters:r});return e&&e(i),i}}(),function(t){"use strict";var n=e.fabric||(e.fabric={}),r=n.Image.filters;r.HueRotation=(0,n.util.createClass)(r.ColorMatrix,{type:"HueRotation",rotation:0,mainParameter:"rotation",calculateMatrix:function(){var t=this.rotation*Math.PI,e=n.util.cos(t),r=n.util.sin(t),i=Math.sqrt(1/3)*r,o=1-e;this.matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.matrix[0]=e+o/3,this.matrix[1]=1/3*o-i,this.matrix[2]=1/3*o+i,this.matrix[5]=1/3*o+i,this.matrix[6]=e+1/3*o,this.matrix[7]=1/3*o-i,this.matrix[10]=1/3*o-i,this.matrix[11]=1/3*o+i,this.matrix[12]=e+1/3*o},applyTo:function(t){this.calculateMatrix(),n.Image.filters.BaseFilter.prototype.applyTo.call(this,t)}}),n.Image.filters.HueRotation.fromObject=n.Image.filters.BaseFilter.fromObject}(),function(t){"use strict";var n=e.fabric||(e.fabric={}),r=n.util.object.clone;n.Text?n.warn("fabric.Text is already defined"):(n.Text=n.util.createClass(n.Object,{_dimensionAffectingProps:["fontSize","fontWeight","fontFamily","fontStyle","lineHeight","text","charSpacing","textAlign","styles"],_reNewline:/\r?\n/,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,type:"text",fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:"left",fontStyle:"normal",lineHeight:1.16,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},textBackgroundColor:"",stateProperties:n.Object.prototype.stateProperties.concat("fontFamily","fontWeight","fontSize","text","underline","overline","linethrough","textAlign","fontStyle","lineHeight","textBackgroundColor","charSpacing","styles"),cacheProperties:n.Object.prototype.cacheProperties.concat("fontFamily","fontWeight","fontSize","text","underline","overline","linethrough","textAlign","fontStyle","lineHeight","textBackgroundColor","charSpacing","styles"),stroke:null,shadow:null,_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.315,overline:-.88},_fontSizeMult:1.13,charSpacing:0,styles:null,_measuringContext:null,deltaY:0,_styleProperties:["stroke","strokeWidth","fill","fontFamily","fontSize","fontWeight","fontStyle","underline","overline","linethrough","deltaY","textBackgroundColor"],__charBounds:[],CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2,initialize:function(t,e){this.styles=e&&e.styles||{},this.text=t,this.__skipDimension=!0,this.callSuper("initialize",e),this.__skipDimension=!1,this.initDimensions(),this.setCoords(),this.setupState({propertySet:"_dimensionAffectingProps"})},getMeasuringContext:function(){return n._measuringContext||(n._measuringContext=this.canvas&&this.canvas.contextCache||n.util.createCanvasElement().getContext("2d")),n._measuringContext},_splitText:function(){var t=this._splitTextIntoLines(this.text);return this.textLines=t.lines,this._textLines=t.graphemeLines,this._unwrappedTextLines=t._unwrappedLines,this._text=t.graphemeText,t},initDimensions:function(){this.__skipDimension||(this._splitText(),this._clearCache(),this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,-1!==this.textAlign.indexOf("justify")&&this.enlargeSpaces(),this.height=this.calcTextHeight(),this.saveState({propertySet:"_dimensionAffectingProps"}))},enlargeSpaces:function(){for(var t,e,n,r,i,o,a=0,s=this._textLines.length;a<s;a++)if(("justify"===this.textAlign||a!==s-1&&!this.isEndOfWrapping(a))&&(n=0,r=this._textLines[a],(e=this.getLineWidth(a))<this.width&&(o=this.textLines[a].match(this._reSpacesAndTabs)))){t=(this.width-e)/o.length;for(var u=0,l=r.length;u<=l;u++)i=this.__charBounds[a][u],this._reSpaceAndTab.test(r[u])?(i.width+=t,i.kernedWidth+=t,i.left+=n,n+=t):i.left+=n}},isEndOfWrapping:function(t){return t===this._textLines.length-1},toString:function(){return"#<fabric.Text ("+this.complexity()+'): { "text": "'+this.text+'", "fontFamily": "'+this.fontFamily+'" }>'},_getCacheCanvasDimensions:function(){var t=this.callSuper("_getCacheCanvasDimensions"),e=this.fontSize;return t.width+=e*t.zoomX,t.height+=e*t.zoomY,t},_render:function(t){this._setTextStyles(t),this._renderTextLinesBackground(t),this._renderTextDecoration(t,"underline"),this._renderText(t),this._renderTextDecoration(t,"overline"),this._renderTextDecoration(t,"linethrough")},_renderText:function(t){"stroke"===this.paintFirst?(this._renderTextStroke(t),this._renderTextFill(t)):(this._renderTextFill(t),this._renderTextStroke(t))},_setTextStyles:function(t,e,n){t.textBaseline="alphabetic",t.font=this._getFontDeclaration(e,n)},calcTextWidth:function(){for(var t=this.getLineWidth(0),e=1,n=this._textLines.length;e<n;e++){var r=this.getLineWidth(e);r>t&&(t=r)}return t},_renderTextLine:function(t,e,n,r,i,o){this._renderChars(t,e,n,r,i,o)},_renderTextLinesBackground:function(t){if(this.textBackgroundColor||this.styleHas("textBackgroundColor")){for(var e,n,r,i,o,a,s=0,u=t.fillStyle,l=this._getLeftOffset(),c=this._getTopOffset(),f=0,h=0,d=0,p=this._textLines.length;d<p;d++)if(e=this.getHeightOfLine(d),this.textBackgroundColor||this.styleHas("textBackgroundColor",d)){r=this._textLines[d],n=this._getLineLeftOffset(d),h=0,f=0,i=this.getValueOfPropertyAt(d,0,"textBackgroundColor");for(var v=0,g=r.length;v<g;v++)o=this.__charBounds[d][v],(a=this.getValueOfPropertyAt(d,v,"textBackgroundColor"))!==i?(t.fillStyle=i,i&&t.fillRect(l+n+f,c+s,h,e/this.lineHeight),f=o.left,h=o.width,i=a):h+=o.kernedWidth;a&&(t.fillStyle=a,t.fillRect(l+n+f,c+s,h,e/this.lineHeight)),s+=e}else s+=e;t.fillStyle=u,this._removeShadow(t)}},getFontCache:function(t){var e=t.fontFamily.toLowerCase();n.charWidthsCache[e]||(n.charWidthsCache[e]={});var r=n.charWidthsCache[e],i=t.fontStyle.toLowerCase()+"_"+(t.fontWeight+"").toLowerCase();return r[i]||(r[i]={}),r[i]},_applyCharStyles:function(t,e,n,r,i){this._setFillStyles(e,i),this._setStrokeStyles(e,i),e.font=this._getFontDeclaration(i)},_measureChar:function(t,e,n,r){var i,o,a,s,u=this.getFontCache(e),l=n+t,c=this._getFontDeclaration(e)===this._getFontDeclaration(r),f=e.fontSize/this.CACHE_FONT_SIZE;if(n&&void 0!==u[n]&&(a=u[n]),void 0!==u[t]&&(s=i=u[t]),c&&void 0!==u[l]&&(s=(o=u[l])-a),void 0===i||void 0===a||void 0===o){var h=this.getMeasuringContext();this._setTextStyles(h,e,!0)}return void 0===i&&(s=i=h.measureText(t).width,u[t]=i),void 0===a&&c&&n&&(a=h.measureText(n).width,u[n]=a),c&&void 0===o&&(o=h.measureText(l).width,u[l]=o,s=o-a),{width:i*f,kernedWidth:s*f}},getHeightOfChar:function(t,e){return this.getValueOfPropertyAt(t,e,"fontSize")},measureLine:function(t){var e=this._measureLine(t);return 0!==this.charSpacing&&(e.width-=this._getWidthOfCharSpacing()),e.width<0&&(e.width=0),e},_measureLine:function(t){var e,n,r,i,o=0,a=this._textLines[t],s=new Array(a.length);for(this.__charBounds[t]=s,e=0;e<a.length;e++)i=this._getGraphemeBox(n=a[e],t,e,r),s[e]=i,o+=i.kernedWidth,r=n;return s[e]={left:i?i.left+i.width:0,width:0,kernedWidth:0,height:this.fontSize},{width:o,numOfSpaces:0}},_getGraphemeBox:function(t,e,n,r,i){var o,a=this.getCompleteStyleDeclaration(e,n),s=r?this.getCompleteStyleDeclaration(e,n-1):{},u=this._measureChar(t,a,r,s),l=u.kernedWidth,c=u.width;0!==this.charSpacing&&(c+=o=this._getWidthOfCharSpacing(),l+=o);var f={width:c,left:0,height:a.fontSize,kernedWidth:l,deltaY:a.deltaY};if(n>0&&!i){var h=this.__charBounds[e][n-1];f.left=h.left+h.width+u.kernedWidth-u.width}return f},getHeightOfLine:function(t){if(this.__lineHeights[t])return this.__lineHeights[t];for(var e=this._textLines[t],n=this.getHeightOfChar(t,0),r=1,i=e.length;r<i;r++)n=Math.max(this.getHeightOfChar(t,r),n);return this.__lineHeights[t]=n*this.lineHeight*this._fontSizeMult},calcTextHeight:function(){for(var t,e=0,n=0,r=this._textLines.length;n<r;n++)t=this.getHeightOfLine(n),e+=n===r-1?t/this.lineHeight:t;return e},_getLeftOffset:function(){return-this.width/2},_getTopOffset:function(){return-this.height/2},_renderTextCommon:function(t,e){t.save();for(var n=0,r=this._getLeftOffset(),i=this._getTopOffset(),o=this._applyPatternGradientTransform(t,"fillText"===e?this.fill:this.stroke),a=0,s=this._textLines.length;a<s;a++){var u=this.getHeightOfLine(a),l=u/this.lineHeight,c=this._getLineLeftOffset(a);this._renderTextLine(e,t,this._textLines[a],r+c-o.offsetX,i+n+l-o.offsetY,a),n+=u}t.restore()},_renderTextFill:function(t){(this.fill||this.styleHas("fill"))&&this._renderTextCommon(t,"fillText")},_renderTextStroke:function(t){(this.stroke&&0!==this.strokeWidth||!this.isEmptyStyles())&&(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(t),t.save(),this._setLineDash(t,this.strokeDashArray),t.beginPath(),this._renderTextCommon(t,"strokeText"),t.closePath(),t.restore())},_renderChars:function(t,e,n,r,i,o){var a,s,u,l,c=this.getHeightOfLine(o),f=-1!==this.textAlign.indexOf("justify"),h="",d=0,p=!f&&0===this.charSpacing&&this.isEmptyStyles(o);if(e.save(),i-=c*this._fontSizeFraction/this.lineHeight,p)return this._renderChar(t,e,o,0,this.textLines[o],r,i,c),void e.restore();for(var v=0,g=n.length-1;v<=g;v++)l=v===g||this.charSpacing,h+=n[v],u=this.__charBounds[o][v],0===d?(r+=u.kernedWidth-u.width,d+=u.width):d+=u.kernedWidth,f&&!l&&this._reSpaceAndTab.test(n[v])&&(l=!0),l||(a=a||this.getCompleteStyleDeclaration(o,v),s=this.getCompleteStyleDeclaration(o,v+1),l=this._hasStyleChanged(a,s)),l&&(this._renderChar(t,e,o,v,h,r,i,c),h="",a=s,r+=d,d=0);e.restore()},_renderChar:function(t,e,n,r,i,o,a){var s=this._getStyleDeclaration(n,r),u=this.getCompleteStyleDeclaration(n,r),l="fillText"===t&&u.fill,c="strokeText"===t&&u.stroke&&u.strokeWidth;(c||l)&&(s&&e.save(),this._applyCharStyles(t,e,n,r,u),s&&s.textBackgroundColor&&this._removeShadow(e),s&&s.deltaY&&(a+=s.deltaY),l&&e.fillText(i,o,a),c&&e.strokeText(i,o,a),s&&e.restore())},setSuperscript:function(t,e){return this._setScript(t,e,this.superscript)},setSubscript:function(t,e){return this._setScript(t,e,this.subscript)},_setScript:function(t,e,n){var r=this.get2DCursorLocation(t,!0),i=this.getValueOfPropertyAt(r.lineIndex,r.charIndex,"fontSize"),o=this.getValueOfPropertyAt(r.lineIndex,r.charIndex,"deltaY");return this.setSelectionStyles({fontSize:i*n.size,deltaY:o+i*n.baseline},t,e),this},_hasStyleChanged:function(t,e){return t.fill!==e.fill||t.stroke!==e.stroke||t.strokeWidth!==e.strokeWidth||t.fontSize!==e.fontSize||t.fontFamily!==e.fontFamily||t.fontWeight!==e.fontWeight||t.fontStyle!==e.fontStyle||t.deltaY!==e.deltaY},_hasStyleChangedForSvg:function(t,e){return this._hasStyleChanged(t,e)||t.overline!==e.overline||t.underline!==e.underline||t.linethrough!==e.linethrough},_getLineLeftOffset:function(t){var e=this.getLineWidth(t);return"center"===this.textAlign?(this.width-e)/2:"right"===this.textAlign?this.width-e:"justify-center"===this.textAlign&&this.isEndOfWrapping(t)?(this.width-e)/2:"justify-right"===this.textAlign&&this.isEndOfWrapping(t)?this.width-e:0},_clearCache:function(){this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]},_shouldClearDimensionCache:function(){var t=this._forceClearCache;return t||(t=this.hasStateChanged("_dimensionAffectingProps")),t&&(this.dirty=!0,this._forceClearCache=!1),t},getLineWidth:function(t){return this.__lineWidths[t]?this.__lineWidths[t]:(e=""===this._textLines[t]?0:this.measureLine(t).width,this.__lineWidths[t]=e,e);var e},_getWidthOfCharSpacing:function(){return 0!==this.charSpacing?this.fontSize*this.charSpacing/1e3:0},getValueOfPropertyAt:function(t,e,n){var r=this._getStyleDeclaration(t,e);return r&&void 0!==r[n]?r[n]:this[n]},_renderTextDecoration:function(t,e){if(this[e]||this.styleHas(e)){for(var n,r,i,o,a,s,u,l,c,f,h,d,p,v,g,m,y=this._getLeftOffset(),b=this._getTopOffset(),w=this._getWidthOfCharSpacing(),x=0,_=this._textLines.length;x<_;x++)if(n=this.getHeightOfLine(x),this[e]||this.styleHas(e,x)){u=this._textLines[x],v=n/this.lineHeight,o=this._getLineLeftOffset(x),f=0,h=0,l=this.getValueOfPropertyAt(x,0,e),m=this.getValueOfPropertyAt(x,0,"fill"),c=b+v*(1-this._fontSizeFraction),r=this.getHeightOfChar(x,0),a=this.getValueOfPropertyAt(x,0,"deltaY");for(var C=0,S=u.length;C<S;C++)d=this.__charBounds[x][C],p=this.getValueOfPropertyAt(x,C,e),g=this.getValueOfPropertyAt(x,C,"fill"),i=this.getHeightOfChar(x,C),s=this.getValueOfPropertyAt(x,C,"deltaY"),(p!==l||g!==m||i!==r||s!==a)&&h>0?(t.fillStyle=m,l&&m&&t.fillRect(y+o+f,c+this.offsets[e]*r+a,h,this.fontSize/15),f=d.left,h=d.width,l=p,m=g,r=i,a=s):h+=d.kernedWidth;t.fillStyle=g,p&&g&&t.fillRect(y+o+f,c+this.offsets[e]*r+a,h-w,this.fontSize/15),b+=n}else b+=n;this._removeShadow(t)}},_getFontDeclaration:function(t,e){var r=t||this,i=this.fontFamily,o=n.Text.genericFonts.indexOf(i.toLowerCase())>-1,a=void 0===i||i.indexOf("'")>-1||i.indexOf('"')>-1||o?r.fontFamily:'"'+r.fontFamily+'"';return[n.isLikelyNode?r.fontWeight:r.fontStyle,n.isLikelyNode?r.fontStyle:r.fontWeight,e?this.CACHE_FONT_SIZE+"px":r.fontSize+"px",a].join(" ")},render:function(t){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._shouldClearDimensionCache()&&this.initDimensions(),this.callSuper("render",t)))},_splitTextIntoLines:function(t){for(var e=t.split(this._reNewline),r=new Array(e.length),i=["\n"],o=[],a=0;a<e.length;a++)r[a]=n.util.string.graphemeSplit(e[a]),o=o.concat(r[a],i);return o.pop(),{_unwrappedLines:r,lines:e,graphemeText:o,graphemeLines:r}},toObject:function(t){var e=["text","fontSize","fontWeight","fontFamily","fontStyle","lineHeight","underline","overline","linethrough","textAlign","textBackgroundColor","charSpacing"].concat(t),n=this.callSuper("toObject",e);return n.styles=r(this.styles,!0),n},set:function(t,e){this.callSuper("set",t,e);var n=!1;if("object"==typeof t)for(var r in t)n=n||-1!==this._dimensionAffectingProps.indexOf(r);else n=-1!==this._dimensionAffectingProps.indexOf(t);return n&&(this.initDimensions(),this.setCoords()),this},complexity:function(){return 1}}),n.Text.ATTRIBUTE_NAMES=n.SHARED_ATTRIBUTES.concat("x y dx dy font-family font-style font-weight font-size letter-spacing text-decoration text-anchor".split(" ")),n.Text.DEFAULT_SVG_FONT_SIZE=16,n.Text.fromElement=function(t,e,i){if(!t)return e(null);var o=n.parseAttributes(t,n.Text.ATTRIBUTE_NAMES),a=o.textAnchor||"left";if((i=n.util.object.extend(i?r(i):{},o)).top=i.top||0,i.left=i.left||0,o.textDecoration){var s=o.textDecoration;-1!==s.indexOf("underline")&&(i.underline=!0),-1!==s.indexOf("overline")&&(i.overline=!0),-1!==s.indexOf("line-through")&&(i.linethrough=!0),delete i.textDecoration}"dx"in o&&(i.left+=o.dx),"dy"in o&&(i.top+=o.dy),"fontSize"in i||(i.fontSize=n.Text.DEFAULT_SVG_FONT_SIZE);var u="";"textContent"in t?u=t.textContent:"firstChild"in t&&null!==t.firstChild&&"data"in t.firstChild&&null!==t.firstChild.data&&(u=t.firstChild.data),u=u.replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," ");var l=i.strokeWidth;i.strokeWidth=0;var c=new n.Text(u,i),f=c.getScaledHeight()/c.height,h=((c.height+c.strokeWidth)*c.lineHeight-c.height)*f,d=c.getScaledHeight()+h,p=0;"center"===a&&(p=c.getScaledWidth()/2),"right"===a&&(p=c.getScaledWidth()),c.set({left:c.left-p,top:c.top-(d-c.fontSize*(.07+c._fontSizeFraction))/c.lineHeight,strokeWidth:void 0!==l?l:1}),e(c)},n.Text.fromObject=function(t,e){return n.Object._fromObject("Text",t,e,"text")},n.Text.genericFonts=["sans-serif","serif","cursive","fantasy","monospace"],n.util.createAccessors&&n.util.createAccessors(n.Text))}(),C.util.object.extend(C.Text.prototype,{isEmptyStyles:function(t){if(!this.styles)return!0;if(void 0!==t&&!this.styles[t])return!0;var e=void 0===t?this.styles:{line:this.styles[t]};for(var n in e)for(var r in e[n])for(var i in e[n][r])return!1;return!0},styleHas:function(t,e){if(!this.styles||!t||""===t)return!1;if(void 0!==e&&!this.styles[e])return!1;var n=void 0===e?this.styles:{line:this.styles[e]};for(var r in n)for(var i in n[r])if(void 0!==n[r][i][t])return!0;return!1},cleanStyle:function(t){if(!this.styles||!t||""===t)return!1;var e,n,r=this.styles,i=0,o=!0,a=0;for(var s in r){for(var u in e=0,r[s]){var l;i++,(l=r[s][u]).hasOwnProperty(t)?(n?l[t]!==n&&(o=!1):n=l[t],l[t]===this[t]&&delete l[t]):o=!1,0!==Object.keys(l).length?e++:delete r[s][u]}0===e&&delete r[s]}for(var c=0;c<this._textLines.length;c++)a+=this._textLines[c].length;o&&i===a&&(this[t]=n,this.removeStyle(t))},removeStyle:function(t){if(this.styles&&t&&""!==t){var e,n,r,i=this.styles;for(n in i){for(r in e=i[n])delete e[r][t],0===Object.keys(e[r]).length&&delete e[r];0===Object.keys(e).length&&delete i[n]}}},_extendStyles:function(t,e){var n=this.get2DCursorLocation(t);this._getLineStyle(n.lineIndex)||this._setLineStyle(n.lineIndex,{}),this._getStyleDeclaration(n.lineIndex,n.charIndex)||this._setStyleDeclaration(n.lineIndex,n.charIndex,{}),C.util.object.extend(this._getStyleDeclaration(n.lineIndex,n.charIndex),e)},get2DCursorLocation:function(t,e){void 0===t&&(t=this.selectionStart);for(var n=e?this._unwrappedTextLines:this._textLines,r=n.length,i=0;i<r;i++){if(t<=n[i].length)return{lineIndex:i,charIndex:t};t-=n[i].length+1}return{lineIndex:i-1,charIndex:n[i-1].length<t?n[i-1].length:t}},getSelectionStyles:function(t,e,n){void 0===t&&(t=this.selectionStart||0),void 0===e&&(e=this.selectionEnd||t);for(var r=[],i=t;i<e;i++)r.push(this.getStyleAtPosition(i,n));return r},getStyleAtPosition:function(t,e){var n=this.get2DCursorLocation(t);return(e?this.getCompleteStyleDeclaration(n.lineIndex,n.charIndex):this._getStyleDeclaration(n.lineIndex,n.charIndex))||{}},setSelectionStyles:function(t,e,n){void 0===e&&(e=this.selectionStart||0),void 0===n&&(n=this.selectionEnd||e);for(var r=e;r<n;r++)this._extendStyles(r,t);return this._forceClearCache=!0,this},_getStyleDeclaration:function(t,e){var n=this.styles&&this.styles[t];return n?n[e]:null},getCompleteStyleDeclaration:function(t,e){for(var n,r=this._getStyleDeclaration(t,e)||{},i={},o=0;o<this._styleProperties.length;o++)i[n=this._styleProperties[o]]=void 0===r[n]?this[n]:r[n];return i},_setStyleDeclaration:function(t,e,n){this.styles[t][e]=n},_deleteStyleDeclaration:function(t,e){delete this.styles[t][e]},_getLineStyle:function(t){return this.styles[t]},_setLineStyle:function(t,e){this.styles[t]=e},_deleteLineStyle:function(t){delete this.styles[t]}}),function(){function t(t){t.textDecoration&&(t.textDecoration.indexOf("underline")>-1&&(t.underline=!0),t.textDecoration.indexOf("line-through")>-1&&(t.linethrough=!0),t.textDecoration.indexOf("overline")>-1&&(t.overline=!0),delete t.textDecoration)}C.IText=C.util.createClass(C.Text,C.Observable,{type:"i-text",selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"#333",cursorDelay:1e3,cursorDuration:600,caching:!0,_reSpace:/\s|\n/,_currentCursorOpacity:0,_selectionDirection:null,_abortCursorAnimation:!1,__widthOfSpace:[],inCompositionMode:!1,initialize:function(t,e){this.callSuper("initialize",t,e),this.initBehavior()},setSelectionStart:function(t){t=Math.max(t,0),this._updateAndFire("selectionStart",t)},setSelectionEnd:function(t){t=Math.min(t,this.text.length),this._updateAndFire("selectionEnd",t)},_updateAndFire:function(t,e){this[t]!==e&&(this._fireSelectionChanged(),this[t]=e),this._updateTextarea()},_fireSelectionChanged:function(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})},initDimensions:function(){this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this.callSuper("initDimensions")},render:function(t){this.clearContextTop(),this.callSuper("render",t),this.cursorOffsetCache={},this.renderCursorOrSelection()},_render:function(t){this.callSuper("_render",t)},clearContextTop:function(t){if(this.isEditing&&this.canvas&&this.canvas.contextTop){var e=this.canvas.contextTop,n=this.canvas.viewportTransform;e.save(),e.transform(n[0],n[1],n[2],n[3],n[4],n[5]),this.transform(e),this.transformMatrix&&e.transform.apply(e,this.transformMatrix),this._clearTextArea(e),t||e.restore()}},renderCursorOrSelection:function(){if(this.isEditing&&this.canvas){var t,e=this._getCursorBoundaries();this.canvas&&this.canvas.contextTop?(t=this.canvas.contextTop,this.clearContextTop(!0)):(t=this.canvas.contextContainer).save(),this.selectionStart===this.selectionEnd?this.renderCursor(e,t):this.renderSelection(e,t),t.restore()}},_clearTextArea:function(t){var e=this.width+4,n=this.height+4;t.clearRect(-e/2,-n/2,e,n)},_getCursorBoundaries:function(t){void 0===t&&(t=this.selectionStart);var e=this._getLeftOffset(),n=this._getTopOffset(),r=this._getCursorBoundariesOffsets(t);return{left:e,top:n,leftOffset:r.left,topOffset:r.top}},_getCursorBoundariesOffsets:function(t){if(this.cursorOffsetCache&&"top"in this.cursorOffsetCache)return this.cursorOffsetCache;var e,n,r,i=0,o=0,a=this.get2DCursorLocation(t);r=a.charIndex,n=a.lineIndex;for(var s=0;s<n;s++)i+=this.getHeightOfLine(s);e=this._getLineLeftOffset(n);var u=this.__charBounds[n][r];return u&&(o=u.left),0!==this.charSpacing&&r===this._textLines[n].length&&(o-=this._getWidthOfCharSpacing()),this.cursorOffsetCache={top:i,left:e+(o>0?o:0)},this.cursorOffsetCache},renderCursor:function(t,e){var n=this.get2DCursorLocation(),r=n.lineIndex,i=n.charIndex>0?n.charIndex-1:0,o=this.getValueOfPropertyAt(r,i,"fontSize"),a=this.scaleX*this.canvas.getZoom(),s=this.cursorWidth/a,u=t.topOffset,l=this.getValueOfPropertyAt(r,i,"deltaY");u+=(1-this._fontSizeFraction)*this.getHeightOfLine(r)/this.lineHeight-o*(1-this._fontSizeFraction),this.inCompositionMode&&this.renderSelection(t,e),e.fillStyle=this.getValueOfPropertyAt(r,i,"fill"),e.globalAlpha=this.__isMousedown?1:this._currentCursorOpacity,e.fillRect(t.left+t.leftOffset-s/2,u+t.top+l,s,o)},renderSelection:function(t,e){for(var n=this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,r=this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd,i=-1!==this.textAlign.indexOf("justify"),o=this.get2DCursorLocation(n),a=this.get2DCursorLocation(r),s=o.lineIndex,u=a.lineIndex,l=o.charIndex<0?0:o.charIndex,c=a.charIndex<0?0:a.charIndex,f=s;f<=u;f++){var h,d=this._getLineLeftOffset(f)||0,p=this.getHeightOfLine(f),v=0,g=0;if(f===s&&(v=this.__charBounds[s][l].left),f>=s&&f<u)g=i&&!this.isEndOfWrapping(f)?this.width:this.getLineWidth(f)||5;else if(f===u)if(0===c)g=this.__charBounds[u][c].left;else{var m=this._getWidthOfCharSpacing();g=this.__charBounds[u][c-1].left+this.__charBounds[u][c-1].width-m}h=p,(this.lineHeight<1||f===u&&this.lineHeight>1)&&(p/=this.lineHeight),this.inCompositionMode?(e.fillStyle=this.compositionColor||"black",e.fillRect(t.left+d+v,t.top+t.topOffset+p,g-v,1)):(e.fillStyle=this.selectionColor,e.fillRect(t.left+d+v,t.top+t.topOffset,g-v,p)),t.topOffset+=h}},getCurrentCharFontSize:function(){var t=this._getCurrentCharIndex();return this.getValueOfPropertyAt(t.l,t.c,"fontSize")},getCurrentCharColor:function(){var t=this._getCurrentCharIndex();return this.getValueOfPropertyAt(t.l,t.c,"fill")},_getCurrentCharIndex:function(){var t=this.get2DCursorLocation(this.selectionStart,!0);return{l:t.lineIndex,c:t.charIndex>0?t.charIndex-1:0}}}),C.IText.fromObject=function(e,n){if(t(e),e.styles)for(var r in e.styles)for(var i in e.styles[r])t(e.styles[r][i]);C.Object._fromObject("IText",e,n,"text")}}(),g=C.util.object.clone,C.util.object.extend(C.IText.prototype,{initBehavior:function(){this.initAddedHandler(),this.initRemovedHandler(),this.initCursorSelectionHandlers(),this.initDoubleClickSimulation(),this.mouseMoveHandler=this.mouseMoveHandler.bind(this)},onDeselect:function(){this.isEditing&&this.exitEditing(),this.selected=!1},initAddedHandler:function(){var t=this;this.on("added",function(){var e=t.canvas;e&&(e._hasITextHandlers||(e._hasITextHandlers=!0,t._initCanvasHandlers(e)),e._iTextInstances=e._iTextInstances||[],e._iTextInstances.push(t))})},initRemovedHandler:function(){var t=this;this.on("removed",function(){var e=t.canvas;e&&(e._iTextInstances=e._iTextInstances||[],C.util.removeFromArray(e._iTextInstances,t),0===e._iTextInstances.length&&(e._hasITextHandlers=!1,t._removeCanvasHandlers(e)))})},_initCanvasHandlers:function(t){t._mouseUpITextHandler=function(){t._iTextInstances&&t._iTextInstances.forEach(function(t){t.__isMousedown=!1})},t.on("mouse:up",t._mouseUpITextHandler)},_removeCanvasHandlers:function(t){t.off("mouse:up",t._mouseUpITextHandler)},_tick:function(){this._currentTickState=this._animateCursor(this,1,this.cursorDuration,"_onTickComplete")},_animateCursor:function(t,e,n,r){var i;return i={isAborted:!1,abort:function(){this.isAborted=!0}},t.animate("_currentCursorOpacity",e,{duration:n,onComplete:function(){i.isAborted||t[r]()},onChange:function(){t.canvas&&t.selectionStart===t.selectionEnd&&t.renderCursorOrSelection()},abort:function(){return i.isAborted}}),i},_onTickComplete:function(){var t=this;this._cursorTimeout1&&clearTimeout(this._cursorTimeout1),this._cursorTimeout1=setTimeout(function(){t._currentTickCompleteState=t._animateCursor(t,0,this.cursorDuration/2,"_tick")},100)},initDelayedCursor:function(t){var e=this,n=t?0:this.cursorDelay;this.abortCursorAnimation(),this._currentCursorOpacity=1,this._cursorTimeout2=setTimeout(function(){e._tick()},n)},abortCursorAnimation:function(){var t=this._currentTickState||this._currentTickCompleteState,e=this.canvas;this._currentTickState&&this._currentTickState.abort(),this._currentTickCompleteState&&this._currentTickCompleteState.abort(),clearTimeout(this._cursorTimeout1),clearTimeout(this._cursorTimeout2),this._currentCursorOpacity=0,t&&e&&e.clearContext(e.contextTop||e.contextContainer)},selectAll:function(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this},getSelectedText:function(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")},findWordBoundaryLeft:function(t){var e=0,n=t-1;if(this._reSpace.test(this._text[n]))for(;this._reSpace.test(this._text[n]);)e++,n--;for(;/\S/.test(this._text[n])&&n>-1;)e++,n--;return t-e},findWordBoundaryRight:function(t){var e=0,n=t;if(this._reSpace.test(this._text[n]))for(;this._reSpace.test(this._text[n]);)e++,n++;for(;/\S/.test(this._text[n])&&n<this.text.length;)e++,n++;return t+e},findLineBoundaryLeft:function(t){for(var e=0,n=t-1;!/\n/.test(this._text[n])&&n>-1;)e++,n--;return t-e},findLineBoundaryRight:function(t){for(var e=0,n=t;!/\n/.test(this._text[n])&&n<this.text.length;)e++,n++;return t+e},searchWordBoundary:function(t,e){for(var n=this._reSpace.test(this.text.charAt(t))?t-1:t,r=this.text.charAt(n),i=/[ \n\.,;!\?\-]/;!i.test(r)&&n>0&&n<this.text.length;)r=this.text.charAt(n+=e);return i.test(r)&&"\n"!==r&&(n+=1===e?0:1),n},selectWord:function(t){var e=this.searchWordBoundary(t=t||this.selectionStart,-1),n=this.searchWordBoundary(t,1);this.selectionStart=e,this.selectionEnd=n,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()},selectLine:function(t){var e=this.findLineBoundaryLeft(t=t||this.selectionStart),n=this.findLineBoundaryRight(t);return this.selectionStart=e,this.selectionEnd=n,this._fireSelectionChanged(),this._updateTextarea(),this},enterEditing:function(t){if(!this.isEditing&&this.editable)return this.canvas&&(this.canvas.calcOffset(),this.exitEditingOnOthers(this.canvas)),this.isEditing=!0,this.initHiddenTextarea(t),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick(),this.fire("editing:entered"),this._fireSelectionChanged(),this.canvas?(this.canvas.fire("text:editing:entered",{target:this}),this.initMouseMoveHandler(),this.canvas.requestRenderAll(),this):this},exitEditingOnOthers:function(t){t._iTextInstances&&t._iTextInstances.forEach(function(t){t.selected=!1,t.isEditing&&t.exitEditing()})},initMouseMoveHandler:function(){this.canvas.on("mouse:move",this.mouseMoveHandler)},mouseMoveHandler:function(t){if(this.__isMousedown&&this.isEditing){var e=this.getSelectionStartFromPointer(t.e),n=this.selectionStart,r=this.selectionEnd;(e===this.__selectionStartOnMouseDown&&n!==r||n!==e&&r!==e)&&(e>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=e):(this.selectionStart=e,this.selectionEnd=this.__selectionStartOnMouseDown),this.selectionStart===n&&this.selectionEnd===r||(this.restartCursorIfNeeded(),this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}},_setEditingProps:function(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0},fromStringToGraphemeSelection:function(t,e,n){var r=n.slice(0,t),i=C.util.string.graphemeSplit(r).length;if(t===e)return{selectionStart:i,selectionEnd:i};var o=n.slice(t,e);return{selectionStart:i,selectionEnd:i+C.util.string.graphemeSplit(o).length}},fromGraphemeToStringSelection:function(t,e,n){var r=n.slice(0,t).join("").length;return t===e?{selectionStart:r,selectionEnd:r}:{selectionStart:r,selectionEnd:r+n.slice(t,e).join("").length}},_updateTextarea:function(){if(this.cursorOffsetCache={},this.hiddenTextarea){if(!this.inCompositionMode){var t=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=t.selectionStart,this.hiddenTextarea.selectionEnd=t.selectionEnd}this.updateTextareaPosition()}},updateFromTextArea:function(){if(this.hiddenTextarea){this.cursorOffsetCache={},this.text=this.hiddenTextarea.value,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords());var t=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value);this.selectionEnd=this.selectionStart=t.selectionEnd,this.inCompositionMode||(this.selectionStart=t.selectionStart),this.updateTextareaPosition()}},updateTextareaPosition:function(){if(this.selectionStart===this.selectionEnd){var t=this._calcTextareaPosition();this.hiddenTextarea.style.left=t.left,this.hiddenTextarea.style.top=t.top}},_calcTextareaPosition:function(){if(!this.canvas)return{x:1,y:1};var t=this.inCompositionMode?this.compositionStart:this.selectionStart,e=this._getCursorBoundaries(t),n=this.get2DCursorLocation(t),r=this.getValueOfPropertyAt(n.lineIndex,n.charIndex,"fontSize")*this.lineHeight,i=e.leftOffset,o=this.calcTransformMatrix(),a={x:e.left+i,y:e.top+e.topOffset+r},s=this.canvas.upperCanvasEl,u=s.width,l=s.height,c=u-r,f=l-r,h=s.clientWidth/u,d=s.clientHeight/l;return a=C.util.transformPoint(a,o),(a=C.util.transformPoint(a,this.canvas.viewportTransform)).x*=h,a.y*=d,a.x<0&&(a.x=0),a.x>c&&(a.x=c),a.y<0&&(a.y=0),a.y>f&&(a.y=f),a.x+=this.canvas._offset.left,a.y+=this.canvas._offset.top,{left:a.x+"px",top:a.y+"px",fontSize:r+"px",charHeight:r}},_saveEditingProps:function(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}},_restoreEditingProps:function(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor))},exitEditing:function(){var t=this._textBeforeEdit!==this.text;return this.selected=!1,this.isEditing=!1,this.selectable=!0,this.selectionEnd=this.selectionStart,this.hiddenTextarea&&(this.hiddenTextarea.blur&&this.hiddenTextarea.blur(),this.canvas&&this.hiddenTextarea.parentNode.removeChild(this.hiddenTextarea),this.hiddenTextarea=null),this.abortCursorAnimation(),this._restoreEditingProps(),this._currentCursorOpacity=0,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this.fire("editing:exited"),t&&this.fire("modified"),this.canvas&&(this.canvas.off("mouse:move",this.mouseMoveHandler),this.canvas.fire("text:editing:exited",{target:this}),t&&this.canvas.fire("object:modified",{target:this})),this},_removeExtraneousStyles:function(){for(var t in this.styles)this._textLines[t]||delete this.styles[t]},removeStyleFromTo:function(t,e){var n,r,i=this.get2DCursorLocation(t,!0),o=this.get2DCursorLocation(e,!0),a=i.lineIndex,s=i.charIndex,u=o.lineIndex,l=o.charIndex;if(a!==u){if(this.styles[a])for(n=s;n<this._unwrappedTextLines[a].length;n++)delete this.styles[a][n];if(this.styles[u])for(n=l;n<this._unwrappedTextLines[u].length;n++)(r=this.styles[u][n])&&(this.styles[a]||(this.styles[a]={}),this.styles[a][s+n-l]=r);for(n=a+1;n<=u;n++)delete this.styles[n];this.shiftLineStyles(u,a-u)}else if(this.styles[a]){r=this.styles[a];var c,f,h=l-s;for(n=s;n<l;n++)delete r[n];for(f in this.styles[a])(c=parseInt(f,10))>=l&&(r[c-h]=r[f],delete r[f])}},shiftLineStyles:function(t,e){var n=g(this.styles);for(var r in this.styles){var i=parseInt(r,10);i>t&&(this.styles[i+e]=n[i],n[i-e]||delete this.styles[i])}},restartCursorIfNeeded:function(){this._currentTickState&&!this._currentTickState.isAborted&&this._currentTickCompleteState&&!this._currentTickCompleteState.isAborted||this.initDelayedCursor()},insertNewlineStyleObject:function(t,e,n,r){var i,o={},a=!1;for(var s in n||(n=1),this.shiftLineStyles(t,n),this.styles[t]&&(i=this.styles[t][0===e?e:e-1]),this.styles[t]){var u=parseInt(s,10);u>=e&&(a=!0,o[u-e]=this.styles[t][s],delete this.styles[t][s])}for(a?this.styles[t+n]=o:delete this.styles[t+n];n>1;)n--,r&&r[n]?this.styles[t+n]={0:g(r[n])}:i?this.styles[t+n]={0:g(i)}:delete this.styles[t+n];this._forceClearCache=!0},insertCharStyleObject:function(t,e,n,r){this.styles||(this.styles={});var i=this.styles[t],o=i?g(i):{};for(var a in n||(n=1),o){var s=parseInt(a,10);s>=e&&(i[s+n]=o[s],o[s-n]||delete i[s])}if(this._forceClearCache=!0,r)for(;n--;)Object.keys(r[n]).length&&(this.styles[t]||(this.styles[t]={}),this.styles[t][e+n]=g(r[n]));else if(i)for(var u=i[e?e-1:1];u&&n--;)this.styles[t][e+n]=g(u)},insertNewStyleBlock:function(t,e,n){for(var r=this.get2DCursorLocation(e,!0),i=[0],o=0,a=0;a<t.length;a++)"\n"===t[a]?i[++o]=0:i[o]++;for(i[0]>0&&(this.insertCharStyleObject(r.lineIndex,r.charIndex,i[0],n),n=n&&n.slice(i[0]+1)),o&&this.insertNewlineStyleObject(r.lineIndex,r.charIndex+i[0],o),a=1;a<o;a++)i[a]>0?this.insertCharStyleObject(r.lineIndex+a,0,i[a],n):n&&(this.styles[r.lineIndex+a][0]=n[0]),n=n&&n.slice(i[a]+1);i[a]>0&&this.insertCharStyleObject(r.lineIndex+a,0,i[a],n)},setSelectionStartEndWithShift:function(t,e,n){n<=t?(e===t?this._selectionDirection="left":"right"===this._selectionDirection&&(this._selectionDirection="left",this.selectionEnd=t),this.selectionStart=n):n>t&&n<e?"right"===this._selectionDirection?this.selectionEnd=n:this.selectionStart=n:(e===t?this._selectionDirection="right":"left"===this._selectionDirection&&(this._selectionDirection="right",this.selectionStart=e),this.selectionEnd=n)},setSelectionInBoundaries:function(){var t=this.text.length;this.selectionStart>t?this.selectionStart=t:this.selectionStart<0&&(this.selectionStart=0),this.selectionEnd>t?this.selectionEnd=t:this.selectionEnd<0&&(this.selectionEnd=0)}}),C.util.object.extend(C.IText.prototype,{initDoubleClickSimulation:function(){this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown)},onMouseDown:function(t){if(this.canvas){this.__newClickTime=+new Date;var e=t.pointer;this.isTripleClick(e)&&(this.fire("tripleclick",t),this._stopEvent(t.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=e,this.__lastIsEditing=this.isEditing,this.__lastSelected=this.selected}},isTripleClick:function(t){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===t.x&&this.__lastPointer.y===t.y},_stopEvent:function(t){t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation()},initCursorSelectionHandlers:function(){this.initMousedownHandler(),this.initMouseupHandler(),this.initClicks()},initClicks:function(){this.on("mousedblclick",function(t){this.selectWord(this.getSelectionStartFromPointer(t.e))}),this.on("tripleclick",function(t){this.selectLine(this.getSelectionStartFromPointer(t.e))})},_mouseDownHandler:function(t){!this.canvas||!this.editable||t.e.button&&1!==t.e.button||(this.__isMousedown=!0,this.selected&&this.setCursorByClick(t.e),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection()))},_mouseDownHandlerBefore:function(t){!this.canvas||!this.editable||t.e.button&&1!==t.e.button||this===this.canvas._activeObject&&(this.selected=!0)},initMousedownHandler:function(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore)},initMouseupHandler:function(){this.on("mouseup",this.mouseUpHandler)},mouseUpHandler:function(t){this.__isMousedown=!1,!this.editable||t.transform&&t.transform.actionPerformed||t.e.button&&1!==t.e.button||(this.__lastSelected&&!this.__corner&&(this.enterEditing(t.e),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()),this.selected=!0)},setCursorByClick:function(t){var e=this.getSelectionStartFromPointer(t);t.shiftKey?this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,e):(this.selectionStart=e,this.selectionEnd=e),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())},getSelectionStartFromPointer:function(t){for(var e=this.getLocalPointer(t),n=0,r=0,i=0,o=0,a=0,s=0,u=this._textLines.length;s<u&&i<=e.y;s++)i+=this.getHeightOfLine(s)*this.scaleY,a=s,s>0&&(o+=this._textLines[s-1].length+1);r=this._getLineLeftOffset(a)*this.scaleX;for(var l=0,c=this._textLines[a].length;l<c&&(n=r,(r+=this.__charBounds[a][l].kernedWidth*this.scaleX)<=e.x);l++)o++;return this._getNewSelectionStartFromOffset(e,n,r,o,c)},_getNewSelectionStartFromOffset:function(t,e,n,r,i){var o=n-t.x,a=r+(o>t.x-e||o<0?0:1);return this.flipX&&(a=i-a),a>this._text.length&&(a=this._text.length),a}}),C.util.object.extend(C.IText.prototype,{initHiddenTextarea:function(){this.hiddenTextarea=C.document.createElement("textarea"),this.hiddenTextarea.setAttribute("autocapitalize","off"),this.hiddenTextarea.setAttribute("autocorrect","off"),this.hiddenTextarea.setAttribute("autocomplete","off"),this.hiddenTextarea.setAttribute("spellcheck","false"),this.hiddenTextarea.setAttribute("data-fabric-hiddentextarea",""),this.hiddenTextarea.setAttribute("wrap","off");var t=this._calcTextareaPosition();this.hiddenTextarea.style.cssText="position: absolute; top: "+t.top+"; left: "+t.left+"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; line-height: 1px; padding\uff70top: "+t.fontSize+";",C.document.body.appendChild(this.hiddenTextarea),C.util.addListener(this.hiddenTextarea,"keydown",this.onKeyDown.bind(this)),C.util.addListener(this.hiddenTextarea,"keyup",this.onKeyUp.bind(this)),C.util.addListener(this.hiddenTextarea,"input",this.onInput.bind(this)),C.util.addListener(this.hiddenTextarea,"copy",this.copy.bind(this)),C.util.addListener(this.hiddenTextarea,"cut",this.copy.bind(this)),C.util.addListener(this.hiddenTextarea,"paste",this.paste.bind(this)),C.util.addListener(this.hiddenTextarea,"compositionstart",this.onCompositionStart.bind(this)),C.util.addListener(this.hiddenTextarea,"compositionupdate",this.onCompositionUpdate.bind(this)),C.util.addListener(this.hiddenTextarea,"compositionend",this.onCompositionEnd.bind(this)),!this._clickHandlerInitialized&&this.canvas&&(C.util.addListener(this.canvas.upperCanvasEl,"click",this.onClick.bind(this)),this._clickHandlerInitialized=!0)},keysMap:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorRight",36:"moveCursorLeft",37:"moveCursorLeft",38:"moveCursorUp",39:"moveCursorRight",40:"moveCursorDown"},ctrlKeysMapUp:{67:"copy",88:"cut"},ctrlKeysMapDown:{65:"selectAll"},onClick:function(){this.hiddenTextarea&&this.hiddenTextarea.focus()},onKeyDown:function(t){if(this.isEditing&&!this.inCompositionMode){if(t.keyCode in this.keysMap)this[this.keysMap[t.keyCode]](t);else{if(!(t.keyCode in this.ctrlKeysMapDown&&(t.ctrlKey||t.metaKey)))return;this[this.ctrlKeysMapDown[t.keyCode]](t)}t.stopImmediatePropagation(),t.preventDefault(),t.keyCode>=33&&t.keyCode<=40?(this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}},onKeyUp:function(t){!this.isEditing||this._copyDone||this.inCompositionMode?this._copyDone=!1:t.keyCode in this.ctrlKeysMapUp&&(t.ctrlKey||t.metaKey)&&(this[this.ctrlKeysMapUp[t.keyCode]](t),t.stopImmediatePropagation(),t.preventDefault(),this.canvas&&this.canvas.requestRenderAll())},onInput:function(t){var e=this.fromPaste;if(this.fromPaste=!1,t&&t.stopPropagation(),this.isEditing){var n,r,i=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,o=this._text.length,a=i.length,s=a-o;if(""===this.hiddenTextarea.value)return this.styles={},this.updateFromTextArea(),this.fire("changed"),void(this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll()));var u=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),l=this.selectionStart>u.selectionStart;this.selectionStart!==this.selectionEnd?(n=this._text.slice(this.selectionStart,this.selectionEnd),s+=this.selectionEnd-this.selectionStart):a<o&&(n=l?this._text.slice(this.selectionEnd+s,this.selectionEnd):this._text.slice(this.selectionStart,this.selectionStart-s)),r=i.slice(u.selectionEnd-s,u.selectionEnd),n&&n.length&&(this.selectionStart!==this.selectionEnd?this.removeStyleFromTo(this.selectionStart,this.selectionEnd):l?this.removeStyleFromTo(this.selectionEnd-n.length,this.selectionEnd):this.removeStyleFromTo(this.selectionEnd,this.selectionEnd+n.length)),r.length&&(e&&r.join("")===C.copiedText?this.insertNewStyleBlock(r,this.selectionStart,C.copiedTextStyle):this.insertNewStyleBlock(r,this.selectionStart)),this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())}},onCompositionStart:function(){this.inCompositionMode=!0},onCompositionEnd:function(){this.inCompositionMode=!1},onCompositionUpdate:function(t){this.compositionStart=t.target.selectionStart,this.compositionEnd=t.target.selectionEnd,this.updateTextareaPosition()},copy:function(){this.selectionStart!==this.selectionEnd&&(C.copiedText=this.getSelectedText(),C.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0)},paste:function(){this.fromPaste=!0},_getClipboardData:function(t){return t&&t.clipboardData||C.window.clipboardData},_getWidthBeforeCursor:function(t,e){var n,r=this._getLineLeftOffset(t);return e>0&&(r+=(n=this.__charBounds[t][e-1]).left+n.width),r},getDownCursorOffset:function(t,e){var n=this._getSelectionForOffset(t,e),r=this.get2DCursorLocation(n),i=r.lineIndex;if(i===this._textLines.length-1||t.metaKey||34===t.keyCode)return this._text.length-n;var o=r.charIndex,a=this._getWidthBeforeCursor(i,o),s=this._getIndexOnLine(i+1,a);return this._textLines[i].slice(o).length+s+2},_getSelectionForOffset:function(t,e){return t.shiftKey&&this.selectionStart!==this.selectionEnd&&e?this.selectionEnd:this.selectionStart},getUpCursorOffset:function(t,e){var n=this._getSelectionForOffset(t,e),r=this.get2DCursorLocation(n),i=r.lineIndex;if(0===i||t.metaKey||33===t.keyCode)return-n;var o=r.charIndex,a=this._getWidthBeforeCursor(i,o),s=this._getIndexOnLine(i-1,a),u=this._textLines[i].slice(0,o);return-this._textLines[i-1].length+s-u.length},_getIndexOnLine:function(t,e){for(var n,r,i=this._textLines[t],o=this._getLineLeftOffset(t),a=0,s=0,u=i.length;s<u;s++)if((o+=n=this.__charBounds[t][s].width)>e){r=!0;var l=o,c=Math.abs(o-n-e);a=Math.abs(l-e)<c?s:s-1;break}return r||(a=i.length-1),a},moveCursorDown:function(t){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",t)},moveCursorUp:function(t){0===this.selectionStart&&0===this.selectionEnd||this._moveCursorUpOrDown("Up",t)},_moveCursorUpOrDown:function(t,e){var n=this["get"+t+"CursorOffset"](e,"right"===this._selectionDirection);e.shiftKey?this.moveCursorWithShift(n):this.moveCursorWithoutShift(n),0!==n&&(this.setSelectionInBoundaries(),this.abortCursorAnimation(),this._currentCursorOpacity=1,this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorWithShift:function(t){return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,"left"===this._selectionDirection?this.selectionStart+t:this.selectionEnd+t),0!==t},moveCursorWithoutShift:function(t){return t<0?(this.selectionStart+=t,this.selectionEnd=this.selectionStart):(this.selectionEnd+=t,this.selectionStart=this.selectionEnd),0!==t},moveCursorLeft:function(t){0===this.selectionStart&&0===this.selectionEnd||this._moveCursorLeftOrRight("Left",t)},_move:function(t,e,n){var r;if(t.altKey)r=this["findWordBoundary"+n](this[e]);else{if(!t.metaKey&&35!==t.keyCode&&36!==t.keyCode)return this[e]+="Left"===n?-1:1,!0;r=this["findLineBoundary"+n](this[e])}if(void 0!==typeof r&&this[e]!==r)return this[e]=r,!0},_moveLeft:function(t,e){return this._move(t,e,"Left")},_moveRight:function(t,e){return this._move(t,e,"Right")},moveCursorLeftWithoutShift:function(t){var e=!0;return this._selectionDirection="left",this.selectionEnd===this.selectionStart&&0!==this.selectionStart&&(e=this._moveLeft(t,"selectionStart")),this.selectionEnd=this.selectionStart,e},moveCursorLeftWithShift:function(t){return"right"===this._selectionDirection&&this.selectionStart!==this.selectionEnd?this._moveLeft(t,"selectionEnd"):0!==this.selectionStart?(this._selectionDirection="left",this._moveLeft(t,"selectionStart")):void 0},moveCursorRight:function(t){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",t)},_moveCursorLeftOrRight:function(t,e){var n="moveCursor"+t+"With";this._currentCursorOpacity=1,this[n+=e.shiftKey?"Shift":"outShift"](e)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorRightWithShift:function(t){return"left"===this._selectionDirection&&this.selectionStart!==this.selectionEnd?this._moveRight(t,"selectionStart"):this.selectionEnd!==this._text.length?(this._selectionDirection="right",this._moveRight(t,"selectionEnd")):void 0},moveCursorRightWithoutShift:function(t){var e=!0;return this._selectionDirection="right",this.selectionStart===this.selectionEnd?(e=this._moveRight(t,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,e},removeChars:function(t,e){void 0===e&&(e=t+1),this.removeStyleFromTo(t,e),this._text.splice(t,e-t),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()},insertChars:function(t,e,n,r){void 0===r&&(r=n),r>n&&this.removeStyleFromTo(n,r);var i=C.util.string.graphemeSplit(t);this.insertNewStyleBlock(i,n,e),this._text=[].concat(this._text.slice(0,n),i,this._text.slice(r)),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()}}),m=C.util.toFixed,y=/  +/g,C.util.object.extend(C.Text.prototype,{toSVG:function(t){var e=this._createBaseSVGMarkup(),n=this._getSVGLeftTopOffsets(),r=this._getSVGTextAndBg(n.textTop,n.textLeft);return this._wrapSVGTextAndBg(e,r),t?t(e.join("")):e.join("")},_getSVGLeftTopOffsets:function(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}},_wrapSVGTextAndBg:function(t,e){var n=this.getSvgFilter(),r=""===n?"":' style="'+n+'"',i=this.getSvgTextDecoration(this);t.push("\t<g ",this.getSvgId(),'transform="',this.getSvgTransform(),this.getSvgTransformMatrix(),'"',r,">\n",e.textBgRects.join(""),'\t\t<text xml:space="preserve" ',this.fontFamily?'font-family="'+this.fontFamily.replace(/"/g,"'")+'" ':"",this.fontSize?'font-size="'+this.fontSize+'" ':"",this.fontStyle?'font-style="'+this.fontStyle+'" ':"",this.fontWeight?'font-weight="'+this.fontWeight+'" ':"",i?'text-decoration="'+i+'" ':"",'style="',this.getSvgStyles(!0),'"',this.addPaintOrder()," >",e.textSpans.join(""),"</text>\n","\t</g>\n")},_getSVGTextAndBg:function(t,e){var n,r=[],i=[],o=t;this._setSVGBg(i);for(var a=0,s=this._textLines.length;a<s;a++)n=this._getLineLeftOffset(a),(this.textBackgroundColor||this.styleHas("textBackgroundColor",a))&&this._setSVGTextLineBg(i,a,e+n,o),this._setSVGTextLineText(r,a,e+n,o),o+=this.getHeightOfLine(a);return{textSpans:r,textBgRects:i}},_createTextCharSpan:function(t,e,n,r){var i=t!==t.trim()||t.match(y),o=this.getSvgSpanStyles(e,i),a=o?'style="'+o+'"':"",s=e.deltaY,u="",l=C.Object.NUM_FRACTION_DIGITS;return s&&(u=' dy="'+m(s,l)+'" '),['<tspan x="',m(n,l),'" y="',m(r,l),'" ',u,a,">",C.util.string.escapeXml(t),"</tspan>"].join("")},_setSVGTextLineText:function(t,e,n,r){var i,o,a,s,u,l=this.getHeightOfLine(e),c=-1!==this.textAlign.indexOf("justify"),f="",h=0,d=this._textLines[e];r+=l*(1-this._fontSizeFraction)/this.lineHeight;for(var p=0,v=d.length-1;p<=v;p++)u=p===v||this.charSpacing,f+=d[p],a=this.__charBounds[e][p],0===h?(n+=a.kernedWidth-a.width,h+=a.width):h+=a.kernedWidth,c&&!u&&this._reSpaceAndTab.test(d[p])&&(u=!0),u||(i=i||this.getCompleteStyleDeclaration(e,p),o=this.getCompleteStyleDeclaration(e,p+1),u=this._hasStyleChangedForSvg(i,o)),u&&(s=this._getStyleDeclaration(e,p)||{},t.push(this._createTextCharSpan(f,s,n,r)),f="",i=o,n+=h,h=0)},_pushTextBgRect:function(t,e,n,r,i,o){var a=C.Object.NUM_FRACTION_DIGITS;t.push("\t\t<rect ",this._getFillAttributes(e),' x="',m(n,a),'" y="',m(r,a),'" width="',m(i,a),'" height="',m(o,a),'"></rect>\n')},_setSVGTextLineBg:function(t,e,n,r){for(var i,o,a=this._textLines[e],s=this.getHeightOfLine(e)/this.lineHeight,u=0,l=0,c=this.getValueOfPropertyAt(e,0,"textBackgroundColor"),f=0,h=a.length;f<h;f++)i=this.__charBounds[e][f],(o=this.getValueOfPropertyAt(e,f,"textBackgroundColor"))!==c?(c&&this._pushTextBgRect(t,c,n+l,r,u,s),l=i.left,u=i.width,c=o):u+=i.kernedWidth;o&&this._pushTextBgRect(t,o,n+l,r,u,s)},_getFillAttributes:function(t){var e=t&&"string"==typeof t?new C.Color(t):"";return e&&e.getSource()&&1!==e.getAlpha()?'opacity="'+e.getAlpha()+'" fill="'+e.setAlpha(1).toRgb()+'"':'fill="'+t+'"'},_getSVGLineTopOffset:function(t){for(var e,n=0,r=0;r<t;r++)n+=this.getHeightOfLine(r);return e=this.getHeightOfLine(r),{lineTop:n,offset:(this._fontSizeMult-this._fontSizeFraction)*e/(this.lineHeight*this._fontSizeMult)}},getSvgStyles:function(t){return C.Object.prototype.getSvgStyles.call(this,t)+" white-space: pre;"}}),function(t){"use strict";var n=e.fabric||(e.fabric={});n.Textbox=n.util.createClass(n.IText,n.Observable,{type:"textbox",minWidth:20,dynamicMinWidth:2,__cachedLines:null,lockScalingFlip:!0,noScaleCache:!1,_dimensionAffectingProps:n.Text.prototype._dimensionAffectingProps.concat("width"),initDimensions:function(){this.__skipDimension||(this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),-1!==this.textAlign.indexOf("justify")&&this.enlargeSpaces(),this.height=this.calcTextHeight(),this.saveState({propertySet:"_dimensionAffectingProps"}))},_generateStyleMap:function(t){for(var e=0,n=0,r=0,i={},o=0;o<t.graphemeLines.length;o++)"\n"===t.graphemeText[r]&&o>0?(n=0,r++,e++):this._reSpaceAndTab.test(t.graphemeText[r])&&o>0&&(n++,r++),i[o]={line:e,offset:n},r+=t.graphemeLines[o].length,n+=t.graphemeLines[o].length;return i},styleHas:function(t,e){if(this._styleMap&&!this.isWrapping){var r=this._styleMap[e];r&&(e=r.line)}return n.Text.prototype.styleHas.call(this,t,e)},isEmptyStyles:function(t){var e,n,r=0,i=!1,o=this._styleMap[t],a=this._styleMap[t+1];for(var s in o&&(t=o.line,r=o.offset),a&&(i=a.line===t,e=a.offset),n=void 0===t?this.styles:{line:this.styles[t]})for(var u in n[s])if(u>=r&&(!i||u<e))for(var l in n[s][u])return!1;return!0},_getStyleDeclaration:function(t,e){if(this._styleMap&&!this.isWrapping){var n=this._styleMap[t];if(!n)return null;t=n.line,e=n.offset+e}return this.callSuper("_getStyleDeclaration",t,e)},_setStyleDeclaration:function(t,e,n){var r=this._styleMap[t];this.styles[t=r.line][e=r.offset+e]=n},_deleteStyleDeclaration:function(t,e){var n=this._styleMap[t];delete this.styles[t=n.line][e=n.offset+e]},_getLineStyle:function(t){return this.styles[this._styleMap[t].line]},_setLineStyle:function(t,e){this.styles[this._styleMap[t].line]=e},_deleteLineStyle:function(t){delete this.styles[this._styleMap[t].line]},_wrapText:function(t,e){var n,r=[];for(this.isWrapping=!0,n=0;n<t.length;n++)r=r.concat(this._wrapLine(t[n],n,e));return this.isWrapping=!1,r},_measureWord:function(t,e,n){var r,i=0;n=n||0;for(var o=0,a=t.length;o<a;o++)i+=this._getGraphemeBox(t[o],e,o+n,r,!0).kernedWidth,r=t[o];return i},_wrapLine:function(t,e,r,i){var o=0,a=[],s=[],u=t.split(this._reSpaceAndTab),l="",c=0,f=0,h=0,d=0,p=!0,v=this._getWidthOfCharSpacing();r-=i=i||0;for(var g=0;g<u.length;g++)l=n.util.string.graphemeSplit(u[g]),f=this._measureWord(l,e,c),c+=l.length,(o+=h+f-v)>=r&&!p?(a.push(s),s=[],o=f,p=!0):o+=v,p||s.push(" "),s=s.concat(l),h=this._measureWord([" "],e,c),c++,p=!1,f>d&&(d=f);return g&&a.push(s),d+i>this.dynamicMinWidth&&(this.dynamicMinWidth=d-v+i),a},isEndOfWrapping:function(t){return!this._styleMap[t+1]||this._styleMap[t+1].line!==this._styleMap[t].line},_splitTextIntoLines:function(t){for(var e=n.Text.prototype._splitTextIntoLines.call(this,t),r=this._wrapText(e.lines,this.width),i=new Array(r.length),o=0;o<r.length;o++)i[o]=r[o].join("");return e.lines=i,e.graphemeLines=r,e},getMinWidth:function(){return Math.max(this.minWidth,this.dynamicMinWidth)},toObject:function(t){return this.callSuper("toObject",["minWidth"].concat(t))}}),n.Textbox.fromObject=function(t,e){return n.Object._fromObject("Textbox",t,e,"text")}}(),b=C.Canvas.prototype._setObjectScale,C.Canvas.prototype._setObjectScale=function(t,e,n,r,i,o,a){var s=e.target;if(!("x"===i&&s instanceof C.Textbox))return b.call(C.Canvas.prototype,t,e,n,r,i,o,a);var u=s._getTransformedDimensions().x,l=s.width*(t.x/u);return l>=s.getMinWidth()?(s.set("width",l),!0):void 0},C.util.object.extend(C.Textbox.prototype,{_removeExtraneousStyles:function(){for(var t in this._styleMap)this._textLines[t]||delete this.styles[this._styleMap[t].line]}})},fhWt:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("lT9W");e.extractFCParamsFactory=function(t,e){return function(n,i,o){var a=r.tensor2d(t(n*i),[n,i]),s=r.tensor1d(t(i));return e.push({paramPath:o+"/weights"},{paramPath:o+"/bias"}),{weights:a,bias:s}}}},gIcY:function(t,e,n){"use strict";n.r(e);var r=n("mrSG"),i=n("CcnG"),o=n("0/uQ"),a=n("6blF"),s=n("isby"),u=n("G5J1"),l=n("zotm"),c=n("MGBS"),f=n("67Y/"),h=function(t){function e(e,n){var r=t.call(this,e)||this;r.sources=n,r.completed=0,r.haveValues=0;var i=n.length;r.values=new Array(i);for(var o=0;o<i;o++){var a=n[o],s=Object(l.a)(r,a,null,o);s&&r.add(s)}return r}return r.__extends(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.values[n]=e,i._hasValue||(i._hasValue=!0,this.haveValues++)},e.prototype.notifyComplete=function(t){var e=this.destination,n=this.haveValues,r=this.values,i=r.length;t._hasValue?(this.completed++,this.completed===i&&(n===i&&e.next(r),e.complete())):e.complete()},e}(c.a),d=n("ZYjt");n.d(e,"\u0275angular_packages_forms_forms_bb",function(){return ce}),n.d(e,"\u0275angular_packages_forms_forms_ba",function(){return le}),n.d(e,"\u0275angular_packages_forms_forms_y",function(){return se}),n.d(e,"\u0275angular_packages_forms_forms_z",function(){return ue}),n.d(e,"\u0275angular_packages_forms_forms_a",function(){return D}),n.d(e,"\u0275angular_packages_forms_forms_b",function(){return A}),n.d(e,"\u0275angular_packages_forms_forms_c",function(){return pt}),n.d(e,"\u0275angular_packages_forms_forms_d",function(){return vt}),n.d(e,"\u0275angular_packages_forms_forms_e",function(){return Dt}),n.d(e,"\u0275angular_packages_forms_forms_f",function(){return kt}),n.d(e,"\u0275angular_packages_forms_forms_g",function(){return Et}),n.d(e,"\u0275angular_packages_forms_forms_bg",function(){return ae}),n.d(e,"\u0275angular_packages_forms_forms_bc",function(){return R}),n.d(e,"\u0275angular_packages_forms_forms_bd",function(){return I}),n.d(e,"\u0275angular_packages_forms_forms_h",function(){return L}),n.d(e,"\u0275angular_packages_forms_forms_i",function(){return F}),n.d(e,"\u0275angular_packages_forms_forms_be",function(){return V}),n.d(e,"\u0275angular_packages_forms_forms_bf",function(){return z}),n.d(e,"\u0275angular_packages_forms_forms_j",function(){return Mt}),n.d(e,"\u0275angular_packages_forms_forms_k",function(){return Nt}),n.d(e,"\u0275angular_packages_forms_forms_l",function(){return Xt}),n.d(e,"\u0275angular_packages_forms_forms_m",function(){return Ft}),n.d(e,"\u0275angular_packages_forms_forms_o",function(){return Bt}),n.d(e,"\u0275angular_packages_forms_forms_n",function(){return Vt}),n.d(e,"\u0275angular_packages_forms_forms_p",function(){return q}),n.d(e,"\u0275angular_packages_forms_forms_r",function(){return Q}),n.d(e,"\u0275angular_packages_forms_forms_q",function(){return K}),n.d(e,"\u0275angular_packages_forms_forms_t",function(){return Gt}),n.d(e,"\u0275angular_packages_forms_forms_u",function(){return Zt}),n.d(e,"\u0275angular_packages_forms_forms_w",function(){return te}),n.d(e,"\u0275angular_packages_forms_forms_v",function(){return Qt}),n.d(e,"\u0275angular_packages_forms_forms_x",function(){return ne}),n.d(e,"\u0275angular_packages_forms_forms_s",function(){return Ut}),n.d(e,"AbstractControlDirective",function(){return p}),n.d(e,"AbstractFormGroupDirective",function(){return dt}),n.d(e,"CheckboxControlValueAccessor",function(){return P}),n.d(e,"ControlContainer",function(){return v}),n.d(e,"NG_VALUE_ACCESSOR",function(){return S}),n.d(e,"COMPOSITION_BUFFER_MODE",function(){return T}),n.d(e,"DefaultValueAccessor",function(){return E}),n.d(e,"NgControl",function(){return N}),n.d(e,"NgControlStatus",function(){return gt}),n.d(e,"NgControlStatusGroup",function(){return mt}),n.d(e,"NgForm",function(){return At}),n.d(e,"NgModel",function(){return It}),n.d(e,"NgModelGroup",function(){return Ot}),n.d(e,"RadioControlValueAccessor",function(){return j}),n.d(e,"FormControlDirective",function(){return Lt}),n.d(e,"FormControlName",function(){return qt}),n.d(e,"FormGroupDirective",function(){return jt}),n.d(e,"FormArrayName",function(){return Wt}),n.d(e,"FormGroupName",function(){return zt}),n.d(e,"NgSelectOption",function(){return Y}),n.d(e,"SelectControlValueAccessor",function(){return G}),n.d(e,"SelectMultipleControlValueAccessor",function(){return J}),n.d(e,"CheckboxRequiredValidator",function(){return Kt}),n.d(e,"EmailValidator",function(){return Jt}),n.d(e,"MaxLengthValidator",function(){return ee}),n.d(e,"MinLengthValidator",function(){return $t}),n.d(e,"PatternValidator",function(){return re}),n.d(e,"RequiredValidator",function(){return Yt}),n.d(e,"FormBuilder",function(){return ie}),n.d(e,"AbstractControl",function(){return xt}),n.d(e,"FormArray",function(){return St}),n.d(e,"FormControl",function(){return _t}),n.d(e,"FormGroup",function(){return Ct}),n.d(e,"NG_ASYNC_VALIDATORS",function(){return y}),n.d(e,"NG_VALIDATORS",function(){return m}),n.d(e,"Validators",function(){return w}),n.d(e,"VERSION",function(){return oe}),n.d(e,"FormsModule",function(){return fe}),n.d(e,"ReactiveFormsModule",function(){return he});var p=function(){function t(){}return Object.defineProperty(t.prototype,"value",{get:function(){return this.control?this.control.value:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valid",{get:function(){return this.control?this.control.valid:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"invalid",{get:function(){return this.control?this.control.invalid:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pending",{get:function(){return this.control?this.control.pending:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this.control?this.control.disabled:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return this.control?this.control.enabled:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"errors",{get:function(){return this.control?this.control.errors:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pristine",{get:function(){return this.control?this.control.pristine:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dirty",{get:function(){return this.control?this.control.dirty:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"touched",{get:function(){return this.control?this.control.touched:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"status",{get:function(){return this.control?this.control.status:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"untouched",{get:function(){return this.control?this.control.untouched:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"statusChanges",{get:function(){return this.control?this.control.statusChanges:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valueChanges",{get:function(){return this.control?this.control.valueChanges:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return null},enumerable:!0,configurable:!0}),t.prototype.reset=function(t){void 0===t&&(t=void 0),this.control&&this.control.reset(t)},t.prototype.hasError=function(t,e){return!!this.control&&this.control.hasError(t,e)},t.prototype.getError=function(t,e){return this.control?this.control.getError(t,e):null},t}(),v=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.__extends)(e,t),Object.defineProperty(e.prototype,"formDirective",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return null},enumerable:!0,configurable:!0}),e}(p);function g(t){return null==t||0===t.length}var m=new i.InjectionToken("NgValidators"),y=new i.InjectionToken("NgAsyncValidators"),b=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,w=function(){function t(){}return t.min=function(t){return function(e){if(g(e.value)||g(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}},t.max=function(t){return function(e){if(g(e.value)||g(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}},t.required=function(t){return g(t.value)?{required:!0}:null},t.requiredTrue=function(t){return!0===t.value?null:{required:!0}},t.email=function(t){return g(t.value)?null:b.test(t.value)?null:{email:!0}},t.minLength=function(t){return function(e){if(g(e.value))return null;var n=e.value?e.value.length:0;return n<t?{minlength:{requiredLength:t,actualLength:n}}:null}},t.maxLength=function(t){return function(e){var n=e.value?e.value.length:0;return n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}},t.pattern=function(e){return e?("string"==typeof e?(r="","^"!==e.charAt(0)&&(r+="^"),r+=e,"$"!==e.charAt(e.length-1)&&(r+="$"),n=new RegExp(r)):(r=e.toString(),n=e),function(t){if(g(t.value))return null;var e=t.value;return n.test(e)?null:{pattern:{requiredPattern:r,actualValue:e}}}):t.nullValidator;var n,r},t.nullValidator=function(t){return null},t.compose=function(t){if(!t)return null;var e=t.filter(x);return 0==e.length?null:function(t){return C(function(t,n){return e.map(function(e){return e(t)})}(t))}},t.composeAsync=function(t){if(!t)return null;var e=t.filter(x);return 0==e.length?null:function(t){return function t(){for(var e,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return"function"==typeof n[n.length-1]&&(e=n.pop()),1===n.length&&Object(s.a)(n[0])&&(n=n[0]),0===n.length?u.a:e?t(n).pipe(Object(f.a)(function(t){return e.apply(void 0,t)})):new a.a(function(t){return new h(t,n)})}(function(t,n){return e.map(function(e){return e(t)})}(t).map(_)).pipe(Object(f.a)(C))}},t}();function x(t){return null!=t}function _(t){var e=Object(i["\u0275isPromise"])(t)?Object(o.a)(t):t;if(!Object(i["\u0275isObservable"])(e))throw new Error("Expected validator to return Promise or Observable.");return e}function C(t){var e=t.reduce(function(t,e){return null!=e?Object(r.__assign)({},t,e):t},{});return 0===Object.keys(e).length?null:e}var S=new i.InjectionToken("NgValueAccessor"),D={provide:S,useExisting:Object(i.forwardRef)(function(){return P}),multi:!0},P=function(){function t(t,e){this._renderer=t,this._elementRef=e,this.onChange=function(t){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t}(),A={provide:S,useExisting:Object(i.forwardRef)(function(){return E}),multi:!0},T=new i.InjectionToken("CompositionEventMode"),E=function(){function t(t,e,n){var r;this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=function(t){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=(r=Object(d.s)()?Object(d.s)().getUserAgent():"",!/android (\d+)/.test(r.toLowerCase())))}return t.prototype.writeValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._handleInput=function(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)},t.prototype._compositionStart=function(){this._composing=!0},t.prototype._compositionEnd=function(t){this._composing=!1,this._compositionMode&&this.onChange(t)},t}();function O(t){return t.validate?function(e){return t.validate(e)}:t}function k(t){return t.validate?function(e){return t.validate(e)}:t}var R={provide:S,useExisting:Object(i.forwardRef)(function(){return I}),multi:!0},I=function(){function t(t,e){this._renderer=t,this._elementRef=e,this.onChange=function(t){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)},t.prototype.registerOnChange=function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t}();function M(){throw new Error("unimplemented")}var N=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._parent=null,e.name=null,e.valueAccessor=null,e._rawValidators=[],e._rawAsyncValidators=[],e}return Object(r.__extends)(e,t),Object.defineProperty(e.prototype,"validator",{get:function(){return M()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return M()},enumerable:!0,configurable:!0}),e}(p),L={provide:S,useExisting:Object(i.forwardRef)(function(){return j}),multi:!0},F=function(){function t(){this._accessors=[]}return t.prototype.add=function(t,e){this._accessors.push([t,e])},t.prototype.remove=function(t){for(var e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)},t.prototype.select=function(t){var e=this;this._accessors.forEach(function(n){e._isSameGroup(n,t)&&n[1]!==t&&n[1].fireUncheck(t.value)})},t.prototype._isSameGroup=function(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name},t}(),j=function(){function t(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=function(){},this.onTouched=function(){}}return t.prototype.ngOnInit=function(){this._control=this._injector.get(N),this._checkName(),this._registry.add(this._control,this)},t.prototype.ngOnDestroy=function(){this._registry.remove(this)},t.prototype.writeValue=function(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)},t.prototype.registerOnChange=function(t){var e=this;this._fn=t,this.onChange=function(){t(e.value),e._registry.select(e)}},t.prototype.fireUncheck=function(t){this.writeValue(t)},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._checkName=function(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)},t.prototype._throwNameError=function(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')},t}(),V={provide:S,useExisting:Object(i.forwardRef)(function(){return z}),multi:!0},z=function(){function t(t,e){this._renderer=t,this._elementRef=e,this.onChange=function(t){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))},t.prototype.registerOnChange=function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t}(),B='\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',W='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',H='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',X=function(){function t(){}return t.controlParentException=function(){throw new Error("formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+B)},t.ngModelGroupException=function(){throw new Error('formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        '+W+"\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        "+H)},t.missingFormException=function(){throw new Error("formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       "+B)},t.groupParentException=function(){throw new Error("formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+W)},t.arrayParentException=function(){throw new Error('formArrayName must be used with a parent formGroup directive.  You\'ll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        \n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });')},t.disabledAttrWarning=function(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")},t.ngModelWarning=function(t){console.warn("\n    It looks like you're using ngModel on the same form field as "+t+". \n    Support for using the ngModel input property and ngModelChange event with \n    reactive form directives has been deprecated in Angular v6 and will be removed \n    in Angular v7.\n    \n    For more information on this, see our API docs here:\n    https://angular.io/api/forms/"+("formControl"===t?"FormControlDirective":"FormControlName")+"#use-with-ngmodel\n    ")},t}(),q={provide:S,useExisting:Object(i.forwardRef)(function(){return G}),multi:!0};function U(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),(t+": "+e).slice(0,50))}var G=function(){function t(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=i["\u0275looseIdentical"]}return Object.defineProperty(t.prototype,"compareWith",{set:function(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t},enumerable:!0,configurable:!0}),t.prototype.writeValue=function(t){this.value=t;var e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);var n=U(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)},t.prototype.registerOnChange=function(t){var e=this;this.onChange=function(n){e.value=e._getOptionValue(n),t(e.value)}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._registerOption=function(){return(this._idCounter++).toString()},t.prototype._getOptionId=function(t){try{for(var e=Object(r.__values)(Array.from(this._optionMap.keys())),n=e.next();!n.done;n=e.next()){var i=n.value;if(this._compareWith(this._optionMap.get(i),t))return i}}catch(t){o={error:t}}finally{try{n&&!n.done&&(a=e.return)&&a.call(e)}finally{if(o)throw o.error}}return null;var o,a},t.prototype._getOptionValue=function(t){var e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t},t}(),Y=function(){function t(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption())}return Object.defineProperty(t.prototype,"ngValue",{set:function(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(U(this.id,t)),this._select.writeValue(this._select.value))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{set:function(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)},enumerable:!0,configurable:!0}),t.prototype._setElementValue=function(t){this._renderer.setProperty(this._element.nativeElement,"value",t)},t.prototype.ngOnDestroy=function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))},t}(),K={provide:S,useExisting:Object(i.forwardRef)(function(){return J}),multi:!0};function Z(t,e){return null==t?""+e:("string"==typeof e&&(e="'"+e+"'"),e&&"object"==typeof e&&(e="Object"),(t+": "+e).slice(0,50))}var J=function(){function t(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=i["\u0275looseIdentical"]}return Object.defineProperty(t.prototype,"compareWith",{set:function(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t},enumerable:!0,configurable:!0}),t.prototype.writeValue=function(t){var e,n=this;if(this.value=t,Array.isArray(t)){var r=t.map(function(t){return n._getOptionId(t)});e=function(t,e){t._setSelected(r.indexOf(e.toString())>-1)}}else e=function(t,e){t._setSelected(!1)};this._optionMap.forEach(e)},t.prototype.registerOnChange=function(t){var e=this;this.onChange=function(n){var r=[];if(n.hasOwnProperty("selectedOptions"))for(var i=n.selectedOptions,o=0;o<i.length;o++){var a=i.item(o),s=e._getOptionValue(a.value);r.push(s)}else for(i=n.options,o=0;o<i.length;o++)(a=i.item(o)).selected&&(s=e._getOptionValue(a.value),r.push(s));e.value=r,t(r)}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._registerOption=function(t){var e=(this._idCounter++).toString();return this._optionMap.set(e,t),e},t.prototype._getOptionId=function(t){try{for(var e=Object(r.__values)(Array.from(this._optionMap.keys())),n=e.next();!n.done;n=e.next()){var i=n.value;if(this._compareWith(this._optionMap.get(i)._value,t))return i}}catch(t){o={error:t}}finally{try{n&&!n.done&&(a=e.return)&&a.call(e)}finally{if(o)throw o.error}}return null;var o,a},t.prototype._getOptionValue=function(t){var e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t},t}(),Q=function(){function t(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption(this))}return Object.defineProperty(t.prototype,"ngValue",{set:function(t){null!=this._select&&(this._value=t,this._setElementValue(Z(this.id,t)),this._select.writeValue(this._select.value))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{set:function(t){this._select?(this._value=t,this._setElementValue(Z(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)},enumerable:!0,configurable:!0}),t.prototype._setElementValue=function(t){this._renderer.setProperty(this._element.nativeElement,"value",t)},t.prototype._setSelected=function(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)},t.prototype.ngOnDestroy=function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))},t}();function $(t,e){return Object(r.__spread)(e.path,[t])}function tt(t,e){t||it(e,"Cannot find control with"),e.valueAccessor||it(e,"No value accessor for form control with"),t.validator=w.compose([t.validator,e.validator]),t.asyncValidator=w.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(function(n){t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&et(t,e)})}(t,e),function(t,e){t.registerOnChange(function(t,n){e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(function(){t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&et(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange(function(t){e.valueAccessor.setDisabledState(t)}),e._rawValidators.forEach(function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(function(){return t.updateValueAndValidity()})}),e._rawAsyncValidators.forEach(function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(function(){return t.updateValueAndValidity()})})}function et(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function nt(t,e){null==t&&it(e,"Cannot find control with"),t.validator=w.compose([t.validator,e.validator]),t.asyncValidator=w.composeAsync([t.asyncValidator,e.asyncValidator])}function rt(t){return it(t,"There is no FormControl instance attached to form control element with")}function it(t,e){var n;throw n=t.path.length>1?"path: '"+t.path.join(" -> ")+"'":t.path[0]?"name: '"+t.path+"'":"unspecified name attribute",new Error(e+" "+n)}function ot(t){return null!=t?w.compose(t.map(O)):null}function at(t){return null!=t?w.composeAsync(t.map(k)):null}function st(t,e){if(!t.hasOwnProperty("model"))return!1;var n=t.model;return!!n.isFirstChange()||!Object(i["\u0275looseIdentical"])(e,n.currentValue)}var ut=[P,z,I,G,J,j];function lt(t,e){t._syncPendingControls(),e.forEach(function(t){var e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}function ct(t,e){if(!e)return null;Array.isArray(e)||it(t,"Value accessor was not provided as an array for form control with");var n=void 0,r=void 0,i=void 0;return e.forEach(function(e){var o;e.constructor===E?n=e:(o=e,ut.some(function(t){return o.constructor===t})?(r&&it(t,"More than one built-in value accessor matches form control with"),r=e):(i&&it(t,"More than one custom value accessor matches form control with"),i=e))}),i||r||n||(it(t,"No valid value accessor for form control with"),null)}function ft(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}function ht(t,e,n,r){Object(i.isDevMode)()&&"never"!==r&&((null!==r&&"once"!==r||e._ngModelWarningSentOnce)&&("always"!==r||n._ngModelWarningSent)||(X.ngModelWarning(t),e._ngModelWarningSentOnce=!0,n._ngModelWarningSent=!0))}var dt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.__extends)(e,t),e.prototype.ngOnInit=function(){this._checkParentType(),this.formDirective.addFormGroup(this)},e.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeFormGroup(this)},Object.defineProperty(e.prototype,"control",{get:function(){return this.formDirective.getFormGroup(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return $(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return ot(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return at(this._asyncValidators)},enumerable:!0,configurable:!0}),e.prototype._checkParentType=function(){},e}(v),pt=function(){function t(t){this._cd=t}return Object.defineProperty(t.prototype,"ngClassUntouched",{get:function(){return!!this._cd.control&&this._cd.control.untouched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassTouched",{get:function(){return!!this._cd.control&&this._cd.control.touched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassPristine",{get:function(){return!!this._cd.control&&this._cd.control.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassDirty",{get:function(){return!!this._cd.control&&this._cd.control.dirty},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassValid",{get:function(){return!!this._cd.control&&this._cd.control.valid},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassInvalid",{get:function(){return!!this._cd.control&&this._cd.control.invalid},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassPending",{get:function(){return!!this._cd.control&&this._cd.control.pending},enumerable:!0,configurable:!0}),t}(),vt={"[class.ng-untouched]":"ngClassUntouched","[class.ng-touched]":"ngClassTouched","[class.ng-pristine]":"ngClassPristine","[class.ng-dirty]":"ngClassDirty","[class.ng-valid]":"ngClassValid","[class.ng-invalid]":"ngClassInvalid","[class.ng-pending]":"ngClassPending"},gt=function(t){function e(e){return t.call(this,e)||this}return Object(r.__extends)(e,t),e}(pt),mt=function(t){function e(e){return t.call(this,e)||this}return Object(r.__extends)(e,t),e}(pt);function yt(t){var e=wt(t)?t.validators:t;return Array.isArray(e)?ot(e):e||null}function bt(t,e){var n=wt(e)?e.asyncValidators:t;return Array.isArray(n)?at(n):n||null}function wt(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}var xt=function(){function t(t,e){this.validator=t,this.asyncValidator=e,this._onCollectionChange=function(){},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}return Object.defineProperty(t.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valid",{get:function(){return"VALID"===this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"invalid",{get:function(){return"INVALID"===this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pending",{get:function(){return"PENDING"==this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return"DISABLED"===this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return"DISABLED"!==this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dirty",{get:function(){return!this.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"untouched",{get:function(){return!this.touched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"updateOn",{get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"},enumerable:!0,configurable:!0}),t.prototype.setValidators=function(t){this.validator=yt(t)},t.prototype.setAsyncValidators=function(t){this.asyncValidator=bt(t)},t.prototype.clearValidators=function(){this.validator=null},t.prototype.clearAsyncValidators=function(){this.asyncValidator=null},t.prototype.markAsTouched=function(t){void 0===t&&(t={}),this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)},t.prototype.markAsUntouched=function(t){void 0===t&&(t={}),this.touched=!1,this._pendingTouched=!1,this._forEachChild(function(t){t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)},t.prototype.markAsDirty=function(t){void 0===t&&(t={}),this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)},t.prototype.markAsPristine=function(t){void 0===t&&(t={}),this.pristine=!0,this._pendingDirty=!1,this._forEachChild(function(t){t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)},t.prototype.markAsPending=function(t){void 0===t&&(t={}),this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)},t.prototype.disable=function(t){void 0===t&&(t={}),this.status="DISABLED",this.errors=null,this._forEachChild(function(e){e.disable(Object(r.__assign)({},t,{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(t),this._onDisabledChange.forEach(function(t){return t(!0)})},t.prototype.enable=function(t){void 0===t&&(t={}),this.status="VALID",this._forEachChild(function(e){e.enable(Object(r.__assign)({},t,{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(t),this._onDisabledChange.forEach(function(t){return t(!1)})},t.prototype._updateAncestors=function(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),this._parent._updatePristine(),this._parent._updateTouched())},t.prototype.setParent=function(t){this._parent=t},t.prototype.updateValueAndValidity=function(t){void 0===t&&(t={}),this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)},t.prototype._updateTreeValidity=function(t){void 0===t&&(t={emitEvent:!0}),this._forEachChild(function(e){return e._updateTreeValidity(t)}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})},t.prototype._setInitialStatus=function(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"},t.prototype._runValidator=function(){return this.validator?this.validator(this):null},t.prototype._runAsyncValidator=function(t){var e=this;if(this.asyncValidator){this.status="PENDING";var n=_(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(function(n){return e.setErrors(n,{emitEvent:t})})}},t.prototype._cancelExistingSubscription=function(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()},t.prototype.setErrors=function(t,e){void 0===e&&(e={}),this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)},t.prototype.get=function(t){return function(t,e,n){return null==e?null:(e instanceof Array||(e=e.split(".")),e instanceof Array&&0===e.length?null:e.reduce(function(t,e){return t instanceof Ct?t.controls.hasOwnProperty(e)?t.controls[e]:null:t instanceof St&&t.at(e)||null},t))}(this,t)},t.prototype.getError=function(t,e){var n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null},t.prototype.hasError=function(t,e){return!!this.getError(t,e)},Object.defineProperty(t.prototype,"root",{get:function(){for(var t=this;t._parent;)t=t._parent;return t},enumerable:!0,configurable:!0}),t.prototype._updateControlsErrors=function(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)},t.prototype._initObservables=function(){this.valueChanges=new i.EventEmitter,this.statusChanges=new i.EventEmitter},t.prototype._calculateStatus=function(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"},t.prototype._anyControlsHaveStatus=function(t){return this._anyControls(function(e){return e.status===t})},t.prototype._anyControlsDirty=function(){return this._anyControls(function(t){return t.dirty})},t.prototype._anyControlsTouched=function(){return this._anyControls(function(t){return t.touched})},t.prototype._updatePristine=function(t){void 0===t&&(t={}),this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)},t.prototype._updateTouched=function(t){void 0===t&&(t={}),this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)},t.prototype._isBoxedValue=function(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t},t.prototype._registerOnCollectionChange=function(t){this._onCollectionChange=t},t.prototype._setUpdateStrategy=function(t){wt(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)},t}(),_t=function(t){function e(e,n,r){void 0===e&&(e=null);var i=t.call(this,yt(n),bt(r,n))||this;return i._onChange=[],i._applyFormState(e),i._setUpdateStrategy(n),i.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),i._initObservables(),i}return Object(r.__extends)(e,t),e.prototype.setValue=function(t,e){var n=this;void 0===e&&(e={}),this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(function(t){return t(n.value,!1!==e.emitViewToModelChange)}),this.updateValueAndValidity(e)},e.prototype.patchValue=function(t,e){void 0===e&&(e={}),this.setValue(t,e)},e.prototype.reset=function(t,e){void 0===t&&(t=null),void 0===e&&(e={}),this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1},e.prototype._updateValue=function(){},e.prototype._anyControls=function(t){return!1},e.prototype._allControlsDisabled=function(){return this.disabled},e.prototype.registerOnChange=function(t){this._onChange.push(t)},e.prototype._clearChangeFns=function(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=function(){}},e.prototype.registerOnDisabledChange=function(t){this._onDisabledChange.push(t)},e.prototype._forEachChild=function(t){},e.prototype._syncPendingControls=function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))},e.prototype._applyFormState=function(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t},e}(xt),Ct=function(t){function e(e,n,r){var i=t.call(this,yt(n),bt(r,n))||this;return i.controls=e,i._initObservables(),i._setUpdateStrategy(n),i._setUpControls(),i.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),i}return Object(r.__extends)(e,t),e.prototype.registerControl=function(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)},e.prototype.addControl=function(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.removeControl=function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.setControl=function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.contains=function(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled},e.prototype.setValue=function(t,e){var n=this;void 0===e&&(e={}),this._checkAllValuesPresent(t),Object.keys(t).forEach(function(r){n._throwIfControlMissing(r),n.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)},e.prototype.patchValue=function(t,e){var n=this;void 0===e&&(e={}),Object.keys(t).forEach(function(r){n.controls[r]&&n.controls[r].patchValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)},e.prototype.reset=function(t,e){void 0===t&&(t={}),void 0===e&&(e={}),this._forEachChild(function(n,r){n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e),this._updatePristine(e),this._updateTouched(e)},e.prototype.getRawValue=function(){return this._reduceChildren({},function(t,e,n){return t[n]=e instanceof _t?e.value:e.getRawValue(),t})},e.prototype._syncPendingControls=function(){var t=this._reduceChildren(!1,function(t,e){return!!e._syncPendingControls()||t});return t&&this.updateValueAndValidity({onlySelf:!0}),t},e.prototype._throwIfControlMissing=function(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error("Cannot find form control with name: "+t+".")},e.prototype._forEachChild=function(t){var e=this;Object.keys(this.controls).forEach(function(n){return t(e.controls[n],n)})},e.prototype._setUpControls=function(){var t=this;this._forEachChild(function(e){e.setParent(t),e._registerOnCollectionChange(t._onCollectionChange)})},e.prototype._updateValue=function(){this.value=this._reduceValue()},e.prototype._anyControls=function(t){var e=this,n=!1;return this._forEachChild(function(r,i){n=n||e.contains(i)&&t(r)}),n},e.prototype._reduceValue=function(){var t=this;return this._reduceChildren({},function(e,n,r){return(n.enabled||t.disabled)&&(e[r]=n.value),e})},e.prototype._reduceChildren=function(t,e){var n=t;return this._forEachChild(function(t,r){n=e(n,t,r)}),n},e.prototype._allControlsDisabled=function(){try{for(var t=Object(r.__values)(Object.keys(this.controls)),e=t.next();!e.done;e=t.next())if(this.controls[e.value].enabled)return!1}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=t.return)&&i.call(t)}finally{if(n)throw n.error}}return Object.keys(this.controls).length>0||this.disabled;var n,i},e.prototype._checkAllValuesPresent=function(t){this._forEachChild(function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control with name: '"+n+"'.")})},e}(xt),St=function(t){function e(e,n,r){var i=t.call(this,yt(n),bt(r,n))||this;return i.controls=e,i._initObservables(),i._setUpdateStrategy(n),i._setUpControls(),i.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),i}return Object(r.__extends)(e,t),e.prototype.at=function(t){return this.controls[t]},e.prototype.push=function(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.insert=function(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()},e.prototype.removeAt=function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),this.controls.splice(t,1),this.updateValueAndValidity()},e.prototype.setControl=function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()},Object.defineProperty(e.prototype,"length",{get:function(){return this.controls.length},enumerable:!0,configurable:!0}),e.prototype.setValue=function(t,e){var n=this;void 0===e&&(e={}),this._checkAllValuesPresent(t),t.forEach(function(t,r){n._throwIfControlMissing(r),n.at(r).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)},e.prototype.patchValue=function(t,e){var n=this;void 0===e&&(e={}),t.forEach(function(t,r){n.at(r)&&n.at(r).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)},e.prototype.reset=function(t,e){void 0===t&&(t=[]),void 0===e&&(e={}),this._forEachChild(function(n,r){n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e),this._updatePristine(e),this._updateTouched(e)},e.prototype.getRawValue=function(){return this.controls.map(function(t){return t instanceof _t?t.value:t.getRawValue()})},e.prototype._syncPendingControls=function(){var t=this.controls.reduce(function(t,e){return!!e._syncPendingControls()||t},!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t},e.prototype._throwIfControlMissing=function(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)},e.prototype._forEachChild=function(t){this.controls.forEach(function(e,n){t(e,n)})},e.prototype._updateValue=function(){var t=this;this.value=this.controls.filter(function(e){return e.enabled||t.disabled}).map(function(t){return t.value})},e.prototype._anyControls=function(t){return this.controls.some(function(e){return e.enabled&&t(e)})},e.prototype._setUpControls=function(){var t=this;this._forEachChild(function(e){return t._registerControl(e)})},e.prototype._checkAllValuesPresent=function(t){this._forEachChild(function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control at index: "+n+".")})},e.prototype._allControlsDisabled=function(){try{for(var t=Object(r.__values)(this.controls),e=t.next();!e.done;e=t.next())if(e.value.enabled)return!1}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=t.return)&&i.call(t)}finally{if(n)throw n.error}}return this.controls.length>0||this.disabled;var n,i},e.prototype._registerControl=function(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)},e}(xt),Dt={provide:v,useExisting:Object(i.forwardRef)(function(){return At})},Pt=Promise.resolve(null),At=function(t){function e(e,n){var r=t.call(this)||this;return r.submitted=!1,r._directives=[],r.ngSubmit=new i.EventEmitter,r.form=new Ct({},ot(e),at(n)),r}return Object(r.__extends)(e,t),e.prototype.ngAfterViewInit=function(){this._setUpdateStrategy()},Object.defineProperty(e.prototype,"formDirective",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"controls",{get:function(){return this.form.controls},enumerable:!0,configurable:!0}),e.prototype.addControl=function(t){var e=this;Pt.then(function(){var n=e._findContainer(t.path);t.control=n.registerControl(t.name,t.control),tt(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),e._directives.push(t)})},e.prototype.getControl=function(t){return this.form.get(t.path)},e.prototype.removeControl=function(t){var e=this;Pt.then(function(){var n=e._findContainer(t.path);n&&n.removeControl(t.name),ft(e._directives,t)})},e.prototype.addFormGroup=function(t){var e=this;Pt.then(function(){var n=e._findContainer(t.path),r=new Ct({});nt(r,t),n.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})},e.prototype.removeFormGroup=function(t){var e=this;Pt.then(function(){var n=e._findContainer(t.path);n&&n.removeControl(t.name)})},e.prototype.getFormGroup=function(t){return this.form.get(t.path)},e.prototype.updateModel=function(t,e){var n=this;Pt.then(function(){n.form.get(t.path).setValue(e)})},e.prototype.setValue=function(t){this.control.setValue(t)},e.prototype.onSubmit=function(t){return this.submitted=!0,lt(this.form,this._directives),this.ngSubmit.emit(t),!1},e.prototype.onReset=function(){this.resetForm()},e.prototype.resetForm=function(t){void 0===t&&(t=void 0),this.form.reset(t),this.submitted=!1},e.prototype._setUpdateStrategy=function(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)},e.prototype._findContainer=function(t){return t.pop(),t.length?this.form.get(t):this.form},e}(v),Tt=function(){function t(){}return t.modelParentException=function(){throw new Error('\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup\'s partner directive "formControlName" instead.  Example:\n\n      '+B+'\n\n      Or, if you\'d like to avoid registering this form control, indicate that it\'s standalone in ngModelOptions:\n\n      Example:\n\n      \n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  ')},t.formGroupNameException=function(){throw new Error("\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      "+W+"\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      "+H)},t.missingNameException=function(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')},t.modelGroupParentException=function(){throw new Error("\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      "+W+"\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      "+H)},t}(),Et={provide:v,useExisting:Object(i.forwardRef)(function(){return Ot})},Ot=function(t){function e(e,n,r){var i=t.call(this)||this;return i._parent=e,i._validators=n,i._asyncValidators=r,i}return Object(r.__extends)(e,t),e.prototype._checkParentType=function(){this._parent instanceof e||this._parent instanceof At||Tt.modelGroupParentException()},e}(dt),kt={provide:N,useExisting:Object(i.forwardRef)(function(){return It})},Rt=Promise.resolve(null),It=function(t){function e(e,n,r,o){var a=t.call(this)||this;return a.control=new _t,a._registered=!1,a.update=new i.EventEmitter,a._parent=e,a._rawValidators=n||[],a._rawAsyncValidators=r||[],a.valueAccessor=ct(a,o),a}return Object(r.__extends)(e,t),e.prototype.ngOnChanges=function(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),st(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)},e.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeControl(this)},Object.defineProperty(e.prototype,"path",{get:function(){return this._parent?$(this.name,this._parent):[this.name]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return ot(this._rawValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return at(this._rawAsyncValidators)},enumerable:!0,configurable:!0}),e.prototype.viewToModelUpdate=function(t){this.viewModel=t,this.update.emit(t)},e.prototype._setUpControl=function(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0},e.prototype._setUpdateStrategy=function(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)},e.prototype._isStandalone=function(){return!this._parent||!(!this.options||!this.options.standalone)},e.prototype._setUpStandalone=function(){tt(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})},e.prototype._checkForErrors=function(){this._isStandalone()||this._checkParentType(),this._checkName()},e.prototype._checkParentType=function(){!(this._parent instanceof Ot)&&this._parent instanceof dt?Tt.formGroupNameException():this._parent instanceof Ot||this._parent instanceof At||Tt.modelParentException()},e.prototype._checkName=function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||Tt.missingNameException()},e.prototype._updateValue=function(t){var e=this;Rt.then(function(){e.control.setValue(t,{emitViewToModelChange:!1})})},e.prototype._updateDisabled=function(t){var e=this,n=t.isDisabled.currentValue,r=""===n||n&&"false"!==n;Rt.then(function(){r&&!e.control.disabled?e.control.disable():!r&&e.control.disabled&&e.control.enable()})},e}(N),Mt=new i.InjectionToken("NgModelWithFormControlWarning"),Nt={provide:N,useExisting:Object(i.forwardRef)(function(){return Lt})},Lt=function(t){function e(e,n,r,o){var a=t.call(this)||this;return a._ngModelWarningConfig=o,a.update=new i.EventEmitter,a._ngModelWarningSent=!1,a._rawValidators=e||[],a._rawAsyncValidators=n||[],a.valueAccessor=ct(a,r),a}return Object(r.__extends)(e,t),Object.defineProperty(e.prototype,"isDisabled",{set:function(t){X.disabledAttrWarning()},enumerable:!0,configurable:!0}),e.prototype.ngOnChanges=function(t){this._isControlChanged(t)&&(tt(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})),st(t,this.viewModel)&&(ht("formControl",e,this,this._ngModelWarningConfig),this.form.setValue(this.model),this.viewModel=this.model)},Object.defineProperty(e.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return ot(this._rawValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return at(this._rawAsyncValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),e.prototype.viewToModelUpdate=function(t){this.viewModel=t,this.update.emit(t)},e.prototype._isControlChanged=function(t){return t.hasOwnProperty("form")},e._ngModelWarningSentOnce=!1,e}(N),Ft={provide:v,useExisting:Object(i.forwardRef)(function(){return jt})},jt=function(t){function e(e,n){var r=t.call(this)||this;return r._validators=e,r._asyncValidators=n,r.submitted=!1,r.directives=[],r.form=null,r.ngSubmit=new i.EventEmitter,r}return Object(r.__extends)(e,t),e.prototype.ngOnChanges=function(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())},Object.defineProperty(e.prototype,"formDirective",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),e.prototype.addControl=function(t){var e=this.form.get(t.path);return tt(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e},e.prototype.getControl=function(t){return this.form.get(t.path)},e.prototype.removeControl=function(t){ft(this.directives,t)},e.prototype.addFormGroup=function(t){var e=this.form.get(t.path);nt(e,t),e.updateValueAndValidity({emitEvent:!1})},e.prototype.removeFormGroup=function(t){},e.prototype.getFormGroup=function(t){return this.form.get(t.path)},e.prototype.addFormArray=function(t){var e=this.form.get(t.path);nt(e,t),e.updateValueAndValidity({emitEvent:!1})},e.prototype.removeFormArray=function(t){},e.prototype.getFormArray=function(t){return this.form.get(t.path)},e.prototype.updateModel=function(t,e){this.form.get(t.path).setValue(e)},e.prototype.onSubmit=function(t){return this.submitted=!0,lt(this.form,this.directives),this.ngSubmit.emit(t),!1},e.prototype.onReset=function(){this.resetForm()},e.prototype.resetForm=function(t){void 0===t&&(t=void 0),this.form.reset(t),this.submitted=!1},e.prototype._updateDomValue=function(){var t=this;this.directives.forEach(function(e){var n=t.form.get(e.path);e.control!==n&&(function(t,e){e.valueAccessor.registerOnChange(function(){return rt(e)}),e.valueAccessor.registerOnTouched(function(){return rt(e)}),e._rawValidators.forEach(function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),e._rawAsyncValidators.forEach(function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),t&&t._clearChangeFns()}(e.control,e),n&&tt(n,e),e.control=n)}),this.form._updateTreeValidity({emitEvent:!1})},e.prototype._updateRegistrations=function(){var t=this;this.form._registerOnCollectionChange(function(){return t._updateDomValue()}),this._oldForm&&this._oldForm._registerOnCollectionChange(function(){}),this._oldForm=this.form},e.prototype._updateValidators=function(){var t=ot(this._validators);this.form.validator=w.compose([this.form.validator,t]);var e=at(this._asyncValidators);this.form.asyncValidator=w.composeAsync([this.form.asyncValidator,e])},e.prototype._checkFormPresent=function(){this.form||X.missingFormException()},e}(v),Vt={provide:v,useExisting:Object(i.forwardRef)(function(){return zt})},zt=function(t){function e(e,n,r){var i=t.call(this)||this;return i._parent=e,i._validators=n,i._asyncValidators=r,i}return Object(r.__extends)(e,t),e.prototype._checkParentType=function(){Ht(this._parent)&&X.groupParentException()},e}(dt),Bt={provide:v,useExisting:Object(i.forwardRef)(function(){return Wt})},Wt=function(t){function e(e,n,r){var i=t.call(this)||this;return i._parent=e,i._validators=n,i._asyncValidators=r,i}return Object(r.__extends)(e,t),e.prototype.ngOnInit=function(){this._checkParentType(),this.formDirective.addFormArray(this)},e.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeFormArray(this)},Object.defineProperty(e.prototype,"control",{get:function(){return this.formDirective.getFormArray(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return $(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return ot(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return at(this._asyncValidators)},enumerable:!0,configurable:!0}),e.prototype._checkParentType=function(){Ht(this._parent)&&X.arrayParentException()},e}(v);function Ht(t){return!(t instanceof zt||t instanceof jt||t instanceof Wt)}var Xt={provide:N,useExisting:Object(i.forwardRef)(function(){return qt})},qt=function(t){function e(e,n,r,o,a){var s=t.call(this)||this;return s._ngModelWarningConfig=a,s._added=!1,s.update=new i.EventEmitter,s._ngModelWarningSent=!1,s._parent=e,s._rawValidators=n||[],s._rawAsyncValidators=r||[],s.valueAccessor=ct(s,o),s}return Object(r.__extends)(e,t),Object.defineProperty(e.prototype,"isDisabled",{set:function(t){X.disabledAttrWarning()},enumerable:!0,configurable:!0}),e.prototype.ngOnChanges=function(t){this._added||this._setUpControl(),st(t,this.viewModel)&&(ht("formControlName",e,this,this._ngModelWarningConfig),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))},e.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeControl(this)},e.prototype.viewToModelUpdate=function(t){this.viewModel=t,this.update.emit(t)},Object.defineProperty(e.prototype,"path",{get:function(){return $(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return ot(this._rawValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return at(this._rawAsyncValidators)},enumerable:!0,configurable:!0}),e.prototype._checkParentType=function(){!(this._parent instanceof zt)&&this._parent instanceof dt?X.ngModelGroupException():this._parent instanceof zt||this._parent instanceof jt||this._parent instanceof Wt||X.controlParentException()},e.prototype._setUpControl=function(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0},e._ngModelWarningSentOnce=!1,e}(N),Ut={provide:m,useExisting:Object(i.forwardRef)(function(){return Yt}),multi:!0},Gt={provide:m,useExisting:Object(i.forwardRef)(function(){return Kt}),multi:!0},Yt=function(){function t(){}return Object.defineProperty(t.prototype,"required",{get:function(){return this._required},set:function(t){this._required=null!=t&&!1!==t&&""+t!="false",this._onChange&&this._onChange()},enumerable:!0,configurable:!0}),t.prototype.validate=function(t){return this.required?w.required(t):null},t.prototype.registerOnValidatorChange=function(t){this._onChange=t},t}(),Kt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.__extends)(e,t),e.prototype.validate=function(t){return this.required?w.requiredTrue(t):null},e}(Yt),Zt={provide:m,useExisting:Object(i.forwardRef)(function(){return Jt}),multi:!0},Jt=function(){function t(){}return Object.defineProperty(t.prototype,"email",{set:function(t){this._enabled=""===t||!0===t||"true"===t,this._onChange&&this._onChange()},enumerable:!0,configurable:!0}),t.prototype.validate=function(t){return this._enabled?w.email(t):null},t.prototype.registerOnValidatorChange=function(t){this._onChange=t},t}(),Qt={provide:m,useExisting:Object(i.forwardRef)(function(){return $t}),multi:!0},$t=function(){function t(){}return t.prototype.ngOnChanges=function(t){"minlength"in t&&(this._createValidator(),this._onChange&&this._onChange())},t.prototype.validate=function(t){return null==this.minlength?null:this._validator(t)},t.prototype.registerOnValidatorChange=function(t){this._onChange=t},t.prototype._createValidator=function(){this._validator=w.minLength(parseInt(this.minlength,10))},t}(),te={provide:m,useExisting:Object(i.forwardRef)(function(){return ee}),multi:!0},ee=function(){function t(){}return t.prototype.ngOnChanges=function(t){"maxlength"in t&&(this._createValidator(),this._onChange&&this._onChange())},t.prototype.validate=function(t){return null!=this.maxlength?this._validator(t):null},t.prototype.registerOnValidatorChange=function(t){this._onChange=t},t.prototype._createValidator=function(){this._validator=w.maxLength(parseInt(this.maxlength,10))},t}(),ne={provide:m,useExisting:Object(i.forwardRef)(function(){return re}),multi:!0},re=function(){function t(){}return t.prototype.ngOnChanges=function(t){"pattern"in t&&(this._createValidator(),this._onChange&&this._onChange())},t.prototype.validate=function(t){return this._validator(t)},t.prototype.registerOnValidatorChange=function(t){this._onChange=t},t.prototype._createValidator=function(){this._validator=w.pattern(this.pattern)},t}(),ie=function(){function t(){}return t.prototype.group=function(t,e){void 0===e&&(e=null);var n=this._reduceControls(t);return new Ct(n,null!=e?e.validator:null,null!=e?e.asyncValidator:null)},t.prototype.control=function(t,e,n){return new _t(t,e,n)},t.prototype.array=function(t,e,n){var r=this,i=t.map(function(t){return r._createControl(t)});return new St(i,e,n)},t.prototype._reduceControls=function(t){var e=this,n={};return Object.keys(t).forEach(function(r){n[r]=e._createControl(t[r])}),n},t.prototype._createControl=function(t){return t instanceof _t||t instanceof Ct||t instanceof St?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)},t}(),oe=new i.Version("6.0.9"),ae=function(){},se=[ae,Y,Q,E,I,z,P,G,J,j,gt,mt,Yt,$t,ee,re,Kt,Jt],ue=[It,Ot,At],le=[Lt,jt,qt,zt,Wt],ce=function(){},fe=function(){},he=function(){function t(){}return t.withConfig=function(e){return{ngModule:t,providers:[{provide:Mt,useValue:e.warnOnNgModelWithFormControl}]}},t}()},gcA3:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("4fS+");e.pyramidDown=function(t,e,n){for(var i=r.CELL_SIZE/t,o=[],a=Math.min(n[0],n[1])*i,s=0;a>=12;)o.push(i*Math.pow(e,s)),a*=e,s+=1;return o}},hjTF:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("lT9W");e.normalize=function(t){return r.tidy(function(){return r.mul(r.sub(t,r.scalar(127.5)),r.scalar(.0078125))})}},iDJ0:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("lT9W");e.convLayer=function(t,e,n,i){return void 0===n&&(n="same"),void 0===i&&(i=!1),r.tidy(function(){var o=r.add(r.conv2d(t,e.filters,[1,1],n),e.bias);return i?r.relu(o):o})}},iLxQ:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=!1,i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},ihYY:function(t,e,n){"use strict";n.r(e),n.d(e,"AnimationBuilder",function(){return r}),n.d(e,"AnimationFactory",function(){return i}),n.d(e,"AUTO_STYLE",function(){return o}),n.d(e,"animate",function(){return s}),n.d(e,"animateChild",function(){return v}),n.d(e,"animation",function(){return p}),n.d(e,"group",function(){return u}),n.d(e,"keyframes",function(){return h}),n.d(e,"query",function(){return m}),n.d(e,"sequence",function(){return l}),n.d(e,"stagger",function(){return y}),n.d(e,"state",function(){return f}),n.d(e,"style",function(){return c}),n.d(e,"transition",function(){return d}),n.d(e,"trigger",function(){return a}),n.d(e,"useAnimation",function(){return g}),n.d(e,"NoopAnimationPlayer",function(){return w}),n.d(e,"\u0275PRE_STYLE",function(){return _}),n.d(e,"\u0275AnimationGroupPlayer",function(){return x});var r=function(){},i=function(){},o="*";function a(t,e){return{type:7,name:t,definitions:e,options:{}}}function s(t,e){return void 0===e&&(e=null),{type:4,styles:e,timings:t}}function u(t,e){return void 0===e&&(e=null),{type:3,steps:t,options:e}}function l(t,e){return void 0===e&&(e=null),{type:2,steps:t,options:e}}function c(t){return{type:6,styles:t,offset:null}}function f(t,e,n){return{type:0,name:t,styles:e,options:n}}function h(t){return{type:5,steps:t}}function d(t,e,n){return void 0===n&&(n=null),{type:1,expr:t,animation:e,options:n}}function p(t,e){return void 0===e&&(e=null),{type:8,animation:t,options:e}}function v(t){return void 0===t&&(t=null),{type:9,options:t}}function g(t,e){return void 0===e&&(e=null),{type:10,animation:t,options:e}}function m(t,e,n){return void 0===n&&(n=null),{type:11,selector:t,animation:e,options:n}}function y(t,e){return{type:12,timings:t,animation:e}}function b(t){Promise.resolve(null).then(t)}var w=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=t+e}return t.prototype._onFinish=function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(t){return t()}),this._onDoneFns=[])},t.prototype.onStart=function(t){this._onStartFns.push(t)},t.prototype.onDone=function(t){this._onDoneFns.push(t)},t.prototype.onDestroy=function(t){this._onDestroyFns.push(t)},t.prototype.hasStarted=function(){return this._started},t.prototype.init=function(){},t.prototype.play=function(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0},t.prototype.triggerMicrotask=function(){var t=this;b(function(){return t._onFinish()})},t.prototype._onStart=function(){this._onStartFns.forEach(function(t){return t()}),this._onStartFns=[]},t.prototype.pause=function(){},t.prototype.restart=function(){},t.prototype.finish=function(){this._onFinish()},t.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(function(t){return t()}),this._onDestroyFns=[])},t.prototype.reset=function(){},t.prototype.setPosition=function(t){},t.prototype.getPosition=function(){return 0},t.prototype.triggerCallback=function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(function(t){return t()}),e.length=0},t}(),x=function(){function t(t){var e=this;this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;var n=0,r=0,i=0,o=this.players.length;0==o?b(function(){return e._onFinish()}):this.players.forEach(function(t){t.onDone(function(){++n==o&&e._onFinish()}),t.onDestroy(function(){++r==o&&e._onDestroy()}),t.onStart(function(){++i==o&&e._onStart()})}),this.totalTime=this.players.reduce(function(t,e){return Math.max(t,e.totalTime)},0)}return t.prototype._onFinish=function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(t){return t()}),this._onDoneFns=[])},t.prototype.init=function(){this.players.forEach(function(t){return t.init()})},t.prototype.onStart=function(t){this._onStartFns.push(t)},t.prototype._onStart=function(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(function(t){return t()}),this._onStartFns=[])},t.prototype.onDone=function(t){this._onDoneFns.push(t)},t.prototype.onDestroy=function(t){this._onDestroyFns.push(t)},t.prototype.hasStarted=function(){return this._started},t.prototype.play=function(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(function(t){return t.play()})},t.prototype.pause=function(){this.players.forEach(function(t){return t.pause()})},t.prototype.restart=function(){this.players.forEach(function(t){return t.restart()})},t.prototype.finish=function(){this._onFinish(),this.players.forEach(function(t){return t.finish()})},t.prototype.destroy=function(){this._onDestroy()},t.prototype._onDestroy=function(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(function(t){return t.destroy()}),this._onDestroyFns.forEach(function(t){return t()}),this._onDestroyFns=[])},t.prototype.reset=function(){this.players.forEach(function(t){return t.reset()}),this._destroyed=!1,this._finished=!1,this._started=!1},t.prototype.setPosition=function(t){var e=t*this.totalTime;this.players.forEach(function(t){var n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})},t.prototype.getPosition=function(){var t=0;return this.players.forEach(function(e){var n=e.getPosition();t=Math.min(n,t)}),t},t.prototype.beforeDestroy=function(){this.players.forEach(function(t){t.beforeDestroy&&t.beforeDestroy()})},t.prototype.triggerCallback=function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(function(t){return t()}),e.length=0},t}(),_="!"},isby:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=Array.isArray||function(t){return t&&"number"==typeof t.length}},"k/si":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("mrSG"),i=n("q/np"),o=n("maNC"),a=n("kiUJ");e.extractFaces=function(t,e){return r.__awaiter(this,void 0,void 0,function(){var n,s,u;return r.__generator(this,function(r){switch(r.label){case 0:return n=t,t instanceof HTMLCanvasElement?[3,3]:[4,o.toNetInput(t,!0)];case 1:if((s=r.sent()).batchSize>1)throw s.isManaged&&s.dispose(),new Error("extractFaces - batchSize > 1 not supported");return[4,a.imageTensorToCanvas(s.inputs[0])];case 2:n=r.sent(),s.isManaged&&s.dispose(),r.label=3;case 3:return u=a.getContext2dOrThrow(n),[2,e.map(function(t){return t instanceof i.FaceDetection?t.forSize(n.width,n.height).getBox().floor():t}).map(function(t){var e=t.x,n=t.y,r=t.width,i=t.height,o=a.createCanvas({width:r,height:i});return a.getContext2dOrThrow(o).putImageData(u.getImageData(e,n,r,i),0,0),o})]}})})}},kRXb:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("mrSG"),i=n("lnjT"),o=n("y1S8"),a=n("M96y");e.loadQuantizedParams=function(t){return r.__awaiter(this,void 0,void 0,function(){var e,n,s,u,l,c,f,h;return r.__generator(this,function(d){switch(d.label){case 0:return[4,a.loadWeightMap(t,"mtcnn_model")];case 1:return e=d.sent(),s=function(t,e){var n=o.extractWeightEntryFactory(t,e);function i(t){return{filters:n(t+"/weights",4,t+"/filters"),bias:n(t+"/bias",1)}}function a(t){return{weights:n(t+"/weights",2),bias:n(t+"/bias",1)}}function s(t){return n(t,1)}function u(t){return{conv1:i(t+"/conv1"),prelu1_alpha:s(t+"/prelu1_alpha"),conv2:i(t+"/conv2"),prelu2_alpha:s(t+"/prelu2_alpha"),conv3:i(t+"/conv3"),prelu3_alpha:s(t+"/prelu3_alpha")}}return{extractPNetParams:function(){var t=u("pnet"),e=i("pnet/conv4_1"),n=i("pnet/conv4_2");return r.__assign({},t,{conv4_1:e,conv4_2:n})},extractRNetParams:function(){var t=u("rnet"),e=a("rnet/fc1"),n=s("rnet/prelu4_alpha"),i=a("rnet/fc2_1"),o=a("rnet/fc2_2");return r.__assign({},t,{fc1:e,prelu4_alpha:n,fc2_1:i,fc2_2:o})},extractONetParams:function(){var t=u("onet"),e=i("onet/conv4"),n=s("onet/prelu4_alpha"),o=a("onet/fc1"),l=s("onet/prelu5_alpha"),c=a("onet/fc2_1"),f=a("onet/fc2_2"),h=a("onet/fc2_3");return r.__assign({},t,{conv4:e,prelu4_alpha:n,fc1:o,prelu5_alpha:l,fc2_1:c,fc2_2:f,fc2_3:h})}}}(e,n=[]),u=s.extractRNetParams,l=s.extractONetParams,c=(0,s.extractPNetParams)(),f=u(),h=l(),i.disposeUnusedWeightTensors(e,n),[2,{params:{pnet:c,rnet:f,onet:h},paramMappings:n}]}})})}},kiUJ:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("mrSG"),i=n("lT9W"),o=n("nFNn");function a(t){return t instanceof HTMLImageElement&&t.complete||t instanceof HTMLVideoElement&&t.readyState>=3}function s(t){var e=t.getContext("2d");if(!e)throw new Error("canvas 2d context is null");return e}function u(t){var e=t.width,n=t.height,r=document.createElement("canvas");return r.width=e,r.height=n,r}function l(t){return t instanceof HTMLImageElement?{width:t.naturalWidth,height:t.naturalHeight}:t instanceof HTMLVideoElement?{width:t.videoWidth,height:t.videoHeight}:t}e.isFloat=function(t){return t%1!=0},e.isEven=function(t){return t%2==0},e.round=function(t){return Math.floor(100*t)/100},e.resolveInput=function(t){return"string"==typeof t?document.getElementById(t):t},e.isLoaded=a,e.awaitMediaLoaded=function(t){return new Promise(function(e,n){if(t instanceof HTMLCanvasElement||a(t))return e();function r(t){t.currentTarget&&(t.currentTarget.removeEventListener("load",r),t.currentTarget.removeEventListener("error",i),e())}function i(t){t.currentTarget&&(t.currentTarget.removeEventListener("load",r),t.currentTarget.removeEventListener("error",i),n())}t.addEventListener("load",r),t.addEventListener("error",i)})},e.getContext2dOrThrow=s,e.createCanvas=u,e.createCanvasFromMedia=function(t,e){if(!a(t))throw new Error("createCanvasFromMedia - media has not finished loading yet");var n=e||l(t),r=n.width,i=n.height,o=u({width:r,height:i});return s(o).drawImage(t,0,0,r,i),o},e.getMediaDimensions=l,e.bufferToImage=function(t){return new Promise(function(e,n){if(!(t instanceof Blob))return n("bufferToImage - expected buf to be of type: Blob");var r=new FileReader;r.onload=function(){var t=new Image;t.onload=function(){return e(t)},t.onerror=n,t.src=r.result},r.onerror=n,r.readAsDataURL(t)})},e.imageTensorToCanvas=function(t,e){return r.__awaiter(this,void 0,void 0,function(){var n,a,s,u,l,c;return r.__generator(this,function(r){switch(r.label){case 0:return n=e||document.createElement("canvas"),a=t.shape.slice(o.isTensor4D(t)?1:0),s=a[0],u=a[1],l=a[2],c=i.tidy(function(){return t.as3D(s,u,l).toInt()}),[4,i.toPixels(c,n)];case 1:return r.sent(),c.dispose(),[2,n]}})})}},kvNw:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("lT9W"),i=n("5WR/");e.residual=function(t,e){var n=i.conv(t,e.conv1);return n=i.convNoRelu(n,e.conv2),n=r.add(n,t),r.relu(n)},e.residualDown=function(t,e){var n=i.convDown(t,e.conv1);n=i.convNoRelu(n,e.conv2);var o=r.avgPool(t,2,2,"valid"),a=r.zeros(o.shape),s=o.shape[3]!==n.shape[3];if(o.shape[1]!==n.shape[1]||o.shape[2]!==n.shape[2]){var u=n.shape.slice();u[1]=1;var l=r.zeros(u),c=(n=r.concat([n,l],1)).shape.slice();c[2]=1;var f=r.zeros(c);n=r.concat([n,f],2)}return o=s?r.concat([o,a],3):o,n=r.add(o,n),r.relu(n)}},lT9W:function(t,e,n){"use strict";n.r(e),n.d(e,"setBackend",function(){return Ws}),n.d(e,"getBackend",function(){return Hs}),n.d(e,"disposeVariables",function(){return Xs}),n.d(e,"memory",function(){return qs}),n.d(e,"version_core",function(){return As}),n.d(e,"nextFrame",function(){return Us}),n.d(e,"environment",function(){return Zi}),n.d(e,"io",function(){return vs}),n.d(e,"serialization",function(){return ys}),n.d(e,"test_util",function(){return Ps}),n.d(e,"util",function(){return V}),n.d(e,"webgl",function(){return Ts}),n.d(e,"AdadeltaOptimizer",function(){return Is}),n.d(e,"AdagradOptimizer",function(){return Ms}),n.d(e,"AdamOptimizer",function(){return Ns}),n.d(e,"AdamaxOptimizer",function(){return Ls}),n.d(e,"MomentumOptimizer",function(){return js}),n.d(e,"Optimizer",function(){return Es}),n.d(e,"RMSPropOptimizer",function(){return Vs}),n.d(e,"SGDOptimizer",function(){return Fs}),n.d(e,"Tensor",function(){return wi}),n.d(e,"TensorBuffer",function(){return bi}),n.d(e,"variable",function(){return _i}),n.d(e,"Variable",function(){return xi}),n.d(e,"Rank",function(){return ht}),n.d(e,"Reduction",function(){return Ht}),n.d(e,"ENV",function(){return Ki}),n.d(e,"Environment",function(){return Ui}),n.d(e,"doc",function(){return u}),n.d(e,"batchNormalization",function(){return fe}),n.d(e,"batchNormalization2d",function(){return he}),n.d(e,"batchNormalization3d",function(){return de}),n.d(e,"batchNormalization4d",function(){return pe}),n.d(e,"concat",function(){return ve}),n.d(e,"concat1d",function(){return ge}),n.d(e,"concat2d",function(){return me}),n.d(e,"concat3d",function(){return ye}),n.d(e,"concat4d",function(){return be}),n.d(e,"conv1d",function(){return we}),n.d(e,"conv2d",function(){return xe}),n.d(e,"conv2dTranspose",function(){return _e}),n.d(e,"depthwiseConv2d",function(){return Ce}),n.d(e,"separableConv2d",function(){return Se}),n.d(e,"matMul",function(){return De}),n.d(e,"matrixTimesVector",function(){return Pe}),n.d(e,"outerProduct",function(){return Ae}),n.d(e,"vectorTimesMatrix",function(){return Te}),n.d(e,"dot",function(){return Ee}),n.d(e,"avgPool",function(){return Oe}),n.d(e,"maxPool",function(){return ke}),n.d(e,"transpose",function(){return Re}),n.d(e,"reverse",function(){return Ie}),n.d(e,"reverse1d",function(){return Me}),n.d(e,"reverse2d",function(){return Ne}),n.d(e,"reverse3d",function(){return Le}),n.d(e,"reverse4d",function(){return Fe}),n.d(e,"slice",function(){return je}),n.d(e,"slice1d",function(){return Ve}),n.d(e,"slice2d",function(){return ze}),n.d(e,"slice3d",function(){return Be}),n.d(e,"slice4d",function(){return We}),n.d(e,"stridedSlice",function(){return He}),n.d(e,"argMax",function(){return Xe}),n.d(e,"argMin",function(){return qe}),n.d(e,"logSumExp",function(){return Ue}),n.d(e,"max",function(){return Ge}),n.d(e,"mean",function(){return Ye}),n.d(e,"min",function(){return Ke}),n.d(e,"all",function(){return Ze}),n.d(e,"moments",function(){return Je}),n.d(e,"sum",function(){return Qe}),n.d(e,"unsortedSegmentSum",function(){return $e}),n.d(e,"equal",function(){return tn}),n.d(e,"equalStrict",function(){return en}),n.d(e,"greater",function(){return nn}),n.d(e,"greaterStrict",function(){return rn}),n.d(e,"greaterEqual",function(){return on}),n.d(e,"greaterEqualStrict",function(){return an}),n.d(e,"less",function(){return sn}),n.d(e,"lessStrict",function(){return un}),n.d(e,"lessEqual",function(){return ln}),n.d(e,"lessEqualStrict",function(){return cn}),n.d(e,"notEqual",function(){return fn}),n.d(e,"notEqualStrict",function(){return hn}),n.d(e,"logicalNot",function(){return dn}),n.d(e,"logicalAnd",function(){return pn}),n.d(e,"logicalOr",function(){return vn}),n.d(e,"logicalXor",function(){return gn}),n.d(e,"where",function(){return mn}),n.d(e,"abs",function(){return yn}),n.d(e,"acos",function(){return bn}),n.d(e,"acosh",function(){return wn}),n.d(e,"asin",function(){return xn}),n.d(e,"asinh",function(){return _n}),n.d(e,"atan",function(){return Cn}),n.d(e,"atanh",function(){return Sn}),n.d(e,"ceil",function(){return Dn}),n.d(e,"clipByValue",function(){return Pn}),n.d(e,"cos",function(){return An}),n.d(e,"cosh",function(){return Tn}),n.d(e,"elu",function(){return En}),n.d(e,"exp",function(){return On}),n.d(e,"expm1",function(){return kn}),n.d(e,"floor",function(){return Rn}),n.d(e,"sign",function(){return In}),n.d(e,"leakyRelu",function(){return Mn}),n.d(e,"log",function(){return Nn}),n.d(e,"log1p",function(){return Ln}),n.d(e,"logSigmoid",function(){return Fn}),n.d(e,"neg",function(){return jn}),n.d(e,"prelu",function(){return Vn}),n.d(e,"relu",function(){return zn}),n.d(e,"reciprocal",function(){return Bn}),n.d(e,"round",function(){return Wn}),n.d(e,"selu",function(){return Hn}),n.d(e,"sigmoid",function(){return Xn}),n.d(e,"sin",function(){return qn}),n.d(e,"sinh",function(){return Un}),n.d(e,"softplus",function(){return Gn}),n.d(e,"sqrt",function(){return Yn}),n.d(e,"rsqrt",function(){return Kn}),n.d(e,"square",function(){return Zn}),n.d(e,"step",function(){return Jn}),n.d(e,"tan",function(){return Qn}),n.d(e,"tanh",function(){return $n}),n.d(e,"erf",function(){return tr}),n.d(e,"add",function(){return er}),n.d(e,"addStrict",function(){return nr}),n.d(e,"atan2",function(){return rr}),n.d(e,"div",function(){return ir}),n.d(e,"floorDiv",function(){return or}),n.d(e,"divStrict",function(){return ar}),n.d(e,"maximum",function(){return sr}),n.d(e,"maximumStrict",function(){return ur}),n.d(e,"minimum",function(){return lr}),n.d(e,"minimumStrict",function(){return cr}),n.d(e,"mod",function(){return fr}),n.d(e,"modStrict",function(){return hr}),n.d(e,"mul",function(){return dr}),n.d(e,"mulStrict",function(){return pr}),n.d(e,"pow",function(){return vr}),n.d(e,"powStrict",function(){return gr}),n.d(e,"sub",function(){return mr}),n.d(e,"subStrict",function(){return yr}),n.d(e,"squaredDifference",function(){return br}),n.d(e,"squaredDifferenceStrict",function(){return wr}),n.d(e,"norm",function(){return xr}),n.d(e,"cast",function(){return _r}),n.d(e,"clone",function(){return Cr}),n.d(e,"fromPixels",function(){return Sr}),n.d(e,"toPixels",function(){return Dr}),n.d(e,"ones",function(){return Pr}),n.d(e,"onesLike",function(){return Ar}),n.d(e,"zeros",function(){return Tr}),n.d(e,"zerosLike",function(){return Er}),n.d(e,"eye",function(){return Or}),n.d(e,"rand",function(){return kr}),n.d(e,"randomNormal",function(){return Rr}),n.d(e,"truncatedNormal",function(){return Ir}),n.d(e,"randomUniform",function(){return Mr}),n.d(e,"multinomial",function(){return Nr}),n.d(e,"reshape",function(){return Lr}),n.d(e,"squeeze",function(){return Fr}),n.d(e,"tile",function(){return jr}),n.d(e,"gather",function(){return Vr}),n.d(e,"oneHot",function(){return zr}),n.d(e,"linspace",function(){return Br}),n.d(e,"range",function(){return Wr}),n.d(e,"buffer",function(){return Hr}),n.d(e,"fill",function(){return Xr}),n.d(e,"tensor",function(){return qr}),n.d(e,"scalar",function(){return Ur}),n.d(e,"tensor1d",function(){return Gr}),n.d(e,"tensor2d",function(){return Yr}),n.d(e,"tensor3d",function(){return Kr}),n.d(e,"tensor4d",function(){return Zr}),n.d(e,"tensor5d",function(){return Jr}),n.d(e,"tensor6d",function(){return Qr}),n.d(e,"print",function(){return $r}),n.d(e,"expandDims",function(){return ti}),n.d(e,"stack",function(){return ei}),n.d(e,"unstack",function(){return ni}),n.d(e,"split",function(){return ri}),n.d(e,"cumsum",function(){return ii}),n.d(e,"pad",function(){return oi}),n.d(e,"pad1d",function(){return ai}),n.d(e,"pad2d",function(){return si}),n.d(e,"pad3d",function(){return ui}),n.d(e,"pad4d",function(){return li}),n.d(e,"movingAverage",function(){return ci}),n.d(e,"basicLSTMCell",function(){return fi}),n.d(e,"multiRNNCell",function(){return hi}),n.d(e,"softmax",function(){return di}),n.d(e,"sigmoidCrossEntropyWithLogits",function(){return pi}),n.d(e,"localResponseNormalization",function(){return vi}),n.d(e,"linalg",function(){return gi}),n.d(e,"losses",function(){return mi}),n.d(e,"image",function(){return yi}),n.d(e,"operation",function(){return tt}),n.d(e,"train",function(){return Bs}),n.d(e,"tidy",function(){return Ai}),n.d(e,"keep",function(){return Ti}),n.d(e,"dispose",function(){return Ei}),n.d(e,"time",function(){return Oi}),n.d(e,"grad",function(){return ki}),n.d(e,"valueAndGrad",function(){return Ri}),n.d(e,"grads",function(){return Ii}),n.d(e,"valueAndGrads",function(){return Mi}),n.d(e,"variableGrads",function(){return Ni}),n.d(e,"customGrad",function(){return Li});var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function o(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}function a(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})}function s(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function u(t){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]}}function l(t,e,n){p(t instanceof wi,"Argument '"+e+"' passed to '"+n+"' must be a Tensor, but got "+typeof t+".")}function c(t,e){var n=function(n){var r=t[n];Array.isArray(r)?r.forEach(function(t,r){l(t,n+"["+r+"]",e)}):l(r,n,e)};for(var r in t)n(r)}function f(t){for(var e=t.length,n=0,r=0;e>0;)r=Math.random()*e|0,n=t[--e],t[e]=t[r],t[r]=n}function h(t,e,n){return Math.max(t,Math.min(e,n))}function d(t,e){return Math.random()*(e-t)+t}function p(t,e){if(!t)throw new Error(e)}function v(t,e,n){void 0===n&&(n=""),p(w(t,e),n+" Shapes "+t+" and "+e+" must match")}function g(t,e){p(t.dtype===e.dtype," The dtypes of the first("+t.dtype+") and second("+e.dtype+") input must match")}function m(t,e){if(void 0===e&&(e=[]),Array.isArray(t))for(var n=0;n<t.length;++n)m(t[n],e);else e.push(t);return e}function y(t){if(M(t))return[t.length];if(!Array.isArray(t))return[];for(var e=[];t instanceof Array;)e.push(t.length),t=t[0];return e}function b(t){if(0===t.length)return 1;for(var e=t[0],n=1;n<t.length;n++)e*=t[n];return e}function w(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function x(t){return t%1==0}function _(t){if(null!=Math.tanh)return Math.tanh(t);if(t===1/0)return 1;if(t===-1/0)return-1;var e=Math.exp(2*t);return(e-1)/(e+1)}function C(t){for(var e=Math.floor(Math.sqrt(t));e>1;--e)if(t%e==0)return[e,t/e];return[1,t]}function S(t,e){return e<=t.length?t:t+" ".repeat(e-t.length)}function D(t,e,n){return void 0===e&&(e=function(t){return 0}),new Promise(function(r,i){var o=0,a=function(){if(t())r();else{var s=e(++o);null!=n&&o>=n?i():setTimeout(a,s)}};a()})}function P(t){var e={};return t.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return function(t,e,n){t[decodeURIComponent(e)]=decodeURIComponent(n||"")}(e,n[0],n[1]),n.join("=")}),e}function A(t,e){for(var n=1,r=-1,i=0;i<t.length;++i)if(t[i]>0)n*=t[i];else if(-1===t[i]){if(-1!==r)throw Error("Shapes can only have 1 implicit size. Found - 1 at dim "+r+" and dim "+i);r=i}else if(t[i]<=0)throw Error("Shapes can not be <= 0. Found "+t[i]+" at dim "+i);if(-1===r){if(e>0&&e!==n)throw Error("Size("+e+") must match the product of shape "+t);return t}if(e%n!=0)throw Error("The implicit shape can't be a fractional number. Got "+e+" / "+n);var o=t.slice();return o[r]=e/n,o}function T(t,e){for(var n=[],r=[],i=0,o=0;o<t.length;++o){if(null!=e){if(e[i]===o&&t[o]>1)throw new Error("Can't squeeze axis "+o+" since its dim '"+t[o]+"' is not 1");(null==e[i]||e[i]>o)&&1===t[o]&&(n.push(t[o]),r.push(o)),e[i]<=o&&i++}t[o]>1&&(n.push(t[o]),r.push(o))}return{newShape:n,keptDims:r}}function E(t,e){var n=null;if(null==t||"float32"===t)n=new Float32Array(e);else if("int32"===t)n=new Int32Array(e);else{if("bool"!==t)throw new Error("Unknown data type "+t);n=new Uint8Array(e)}return n}function O(t,e){for(var n=0;n<e.length;n++)if(e[n].id===t.id)return!0;return!1}function k(t,e,n){if("float32"===e)for(var r=0;r<t.length;r++)if(isNaN(t[r]))throw Error("The result of the '"+n+"' has NaNs.")}function R(t,e){return!("float32"===e||"int32"===e&&"float32"!==t||"bool"===e&&"bool"===t)}function I(t,e){if(null==e||"float32"===e)return new Float32Array(t);if("int32"===e)return new Int32Array(t);if("bool"===e){for(var n=new Uint8Array(t.length),r=0;r<n.length;++r)0!==Math.round(t[r])&&(n[r]=1);return n}throw new Error("Unknown data type "+e)}function M(t){return t instanceof Float32Array||t instanceof Int32Array||t instanceof Uint8Array}function N(t){if("float32"===t||"int32"===t)return 4;if("bool"===t)return 1;throw new Error("Unknown dtype "+t)}function L(t){return!!(t&&t.constructor&&t.call&&t.apply)}function F(t){var e=[];return function t(e,n,r){if(null!=e)if(e instanceof wi)n.push(e);else if(function(t){return Array.isArray(t)||"object"==typeof t}(e)){var i=e;for(var o in i){var a=i[o];r.has(a)||(r.add(a),t(a,n,r))}}}(t,e,new Set),e}function j(t,e){for(var n=e;n<t;++n)if(t%n==0)return n;return t}var V=Object.freeze({assertArgumentsAreTensors:c,shuffle:f,clamp:h,randUniform:d,distSquared:function(t,e){for(var n=0,r=0;r<t.length;r++){var i=Number(t[r])-Number(e[r]);n+=i*i}return n},assert:p,assertShapesMatch:v,assertTypesMatch:g,flatten:m,inferShape:y,sizeFromShape:b,isScalarShape:function(t){return 0===t.length},arraysEqual:w,isInt:x,tanh:_,sizeToSquarishShape:C,createShuffledIndices:function(t){for(var e=new Uint32Array(t),n=0;n<t;++n)e[n]=n;return f(e),e},rightPad:S,repeatedTry:D,getQueryParams:P,inferFromImplicitShape:A,squeezeShape:T,getTypedArrayFromDType:E,isTensorInList:O,checkForNaN:k,flattenNameArrayMap:function(t,e){var n=[];if(t instanceof wi)n.push(t);else for(var r=t,i=0;i<e.length;i++)n.push(r[e[i]]);return n},unflattenToNameArrayMap:function(t,e){if(t.length!==e.length)throw new Error("Cannot unflatten Tensor[], keys and arrays are not of same length.");for(var n={},r=0;r<t.length;r++)n[t[r]]=e[r];return n},hasEncodingLoss:R,copyTypedArray:I,isTypedArray:M,bytesPerElement:N,isFunction:L,getTensorsInContainer:F,nearestDivisor:j}),z=20,B=3,W=7;function H(t,e){var n=t.dataSync(),r=function(t){var e=t.dataSync(),n=t.size,r=t.strides[t.strides.length-1],i=new Array(r).fill(0);if(t.rank>1)for(var o=0;o<n/r;o++)for(var a=o*r,s=0;s<r;s++)i[s]=Math.max(i[s],X(e[a+s],0).length);return i}(t),i=function t(e,n,r,i,o){void 0===o&&(o=!0);var a=n[0],s=n.length;if(0===s)return[e[0].toString()];if(1===s){if(a>z){var u=Array.from(e.subarray(0,B)),l=Array.from(e.subarray(a-B,a));return["["+u.map(function(t,e){return X(t,i[e])}).join(", ")+", ..., "+l.map(function(t,e){return X(t,i[a-B+e])}).join(", ")+"]"]}return["["+Array.from(e).map(function(t,e){return X(t,i[e])}).join(", ")+"]"]}var c=n.slice(1),f=r.slice(1),h=r[0],d=[];if(a>z){for(var p=0;p<B;p++){var v=(g=p*h)+h;d.push.apply(d,t(e.subarray(g,v),c,f,i,!1))}for(d.push("..."),p=a-B;p<a;p++)v=(g=p*h)+h,d.push.apply(d,t(e.subarray(g,v),c,f,i,p===a-1))}else for(p=0;p<a;p++){var g;v=(g=p*h)+h,d.push.apply(d,t(e.subarray(g,v),c,f,i,p===a-1))}var m=2===s?",":"";for(d[0]="["+d[0]+m,p=1;p<d.length-1;p++)d[p]=" "+d[p]+m;var y=",\n";for(p=2;p<s;p++)y+="\n";return d[d.length-1]=" "+d[d.length-1]+"]"+(o?"":y),d}(n,t.shape,t.strides,r),o=["Tensor"];return e&&(o.push("  dtype: "+t.dtype),o.push("  rank: "+t.rank),o.push("  shape: ["+t.shape+"]"),o.push("  values:")),o.push(i.map(function(t){return"    "+t}).join("\n")),o.join("\n")}function X(t,e){return S(parseFloat(t.toFixed(W)).toString(),e)}function q(t,e){for(var n=0;n<t.length;++n)if(t[t.length-n-1]!==e-1-n)return!1;return!0}function U(t,e){for(var n=[],r=t.length,i=0;i<r;i++)-1===e.indexOf(i)&&n.push(t[i]);return[n,e.map(function(e){return t[e]})]}function G(t,e){return function(t,e,n){for(var r=t.length+e.length,i=[],o=0,a=0,s=0;s<r;s++)-1===n.indexOf(s)?i.push(t[o++]):i.push(e[a++]);return i}(t,e.map(function(t){return 1}),e)}function Y(t,e){var n=e.length;return p((t=null==t?e.map(function(t,e){return e}):[].concat(t)).every(function(t){return t>=-n&&t<n}),"All values in axis param must be in range [-"+n+", "+n+") but got axis "+t),p(t.every(function(t){return x(t)}),"All values in axis param must be integers but got axis "+t),t.map(function(t){return t<0?n+t:t})}function K(t,e,n){p(q(e,n),t+" supports only inner-most axes for now. Got axes "+e+" and rank-"+n+" input.")}function Z(t,e){if(q(t,e))return null;for(var n=[],r=0;r<e;++r)-1===t.indexOf(r)&&n.push(r);return t.forEach(function(t){return n.push(t)}),n}function J(t){return t.map(function(t,e){return[e,t]}).sort(function(t,e){return t[1]-e[1]}).map(function(t){return t[0]})}function Q(t,e){for(var n=[],r=e-t;r<e;++r)n.push(r);return n}function $(t,e,n){p(t.length===e.length,"x1 and x2 should have the same rank.");var r=t.slice();return r[n]+=e[n],r}function tt(t,e,n){var r=n.value;return n.value=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Ai(e,function(){return r.apply(void 0,t)})},n}var et=function(){function t(){}return t.concat1d=function(e){return t.concat(e,0)},t.concat2d=function(e,n){return t.concat(e,n)},t.concat3d=function(e,n){return t.concat(e,n)},t.concat4d=function(e,n){return t.concat(e,n)},t.concat=function(t,e){void 0===e&&(e=0),p(t.length>=1,"Pass at least one tensor to concat"),c({tensors:t},"concat");var n=t[0];if(1===t.length)return n;for(var r=Y(e,n.shape),i=1;i<t.length;++i)n=nt(n,t[i],r[0]);return n},o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"concat",null),t}();function nt(t,e,n){!function(t,e,n){var r=t.length;p(t.length===e.length,"Error in concat"+r+"D: rank of x1 ("+r+") and x2 ("+e.length+") must be the same."),p(n>=0&&n<r,"Error in concat"+r+"D: axis must be between 0 and "+(r-1)+".");for(var i=0;i<r;i++)p(i===n||t[i]===e[i],"Error in concat"+r+"D: Shape ("+t+") does not match ("+e+") along the non-concatenated axis "+i+".")}(t.shape,e.shape,n);var r=$(t.shape,e.shape,n),i=t.as2D(-1,b(t.shape.slice(n))),o=e.as2D(-1,b(e.shape.slice(n))),a=function(t,e){return{aBegin:[0,0],aSize:t,bBegin:[0,t[1]],bSize:o.shape}}(i.shape),s=a.aBegin,u=a.aSize,l=a.bBegin,c=a.bSize;return Ki.engine.runKernel(function(t){return t.concat(i,o)},{a:i,b:o},function(t){return{a:function(){return t.slice(s,u)},b:function(){return t.slice(l,c)}}}).reshape(r)}function rt(t,e){return t(e={exports:{}},e.exports),e.exports}"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var it=rt(function(t){!function(t,e,n){function r(t,e){return e.c=t.c,e.s0=t.s0,e.s1=t.s1,e.s2=t.s2,e}function i(t,e){var n=new function(t){var e,n=this,r=(e=4022871197,function(t){t=t.toString();for(var n=0;n<t.length;n++){var r=.02519603282416938*(e+=t.charCodeAt(n));r-=e=r>>>0,e=(r*=e)>>>0,e+=4294967296*(r-=e)}return 2.3283064365386963e-10*(e>>>0)});n.next=function(){var t=2091639*n.s0+2.3283064365386963e-10*n.c;return n.s0=n.s1,n.s1=n.s2,n.s2=t-(n.c=0|t)},n.c=1,n.s0=r(" "),n.s1=r(" "),n.s2=r(" "),n.s0-=r(t),n.s0<0&&(n.s0+=1),n.s1-=r(t),n.s1<0&&(n.s1+=1),n.s2-=r(t),n.s2<0&&(n.s2+=1),r=null}(t),i=e&&e.state,o=n.next;return o.int32=function(){return 4294967296*n.next()|0},o.double=function(){return o()+1.1102230246251565e-16*(2097152*o()|0)},o.quick=o,i&&("object"==typeof i&&r(i,n),o.state=function(){return r(n,{})}),o}e&&e.exports?e.exports=i:this.alea=i}(0,t)}),ot=rt(function(t){!function(t,e,n){function r(t,e){return e.x=t.x,e.y=t.y,e.z=t.z,e.w=t.w,e}function i(t,e){var n=new function(t){var e=this,n="";e.x=0,e.y=0,e.z=0,e.w=0,e.next=function(){var t=e.x^e.x<<11;return e.x=e.y,e.y=e.z,e.z=e.w,e.w^=e.w>>>19^t^t>>>8},t===(0|t)?e.x=t:n+=t;for(var r=0;r<n.length+64;r++)e.x^=0|n.charCodeAt(r),e.next()}(t),i=e&&e.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},o.int32=n.next,o.quick=o,i&&("object"==typeof i&&r(i,n),o.state=function(){return r(n,{})}),o}e&&e.exports?e.exports=i:this.xor128=i}(0,t)}),at=rt(function(t){!function(t,e,n){function r(t,e){return e.x=t.x,e.y=t.y,e.z=t.z,e.w=t.w,e.v=t.v,e.d=t.d,e}function i(t,e){var n=new function(t){var e=this,n="";e.next=function(){var t=e.x^e.x>>>2;return e.x=e.y,e.y=e.z,e.z=e.w,e.w=e.v,(e.d=e.d+362437|0)+(e.v=e.v^e.v<<4^t^t<<1)|0},e.x=0,e.y=0,e.z=0,e.w=0,e.v=0,t===(0|t)?e.x=t:n+=t;for(var r=0;r<n.length+64;r++)e.x^=0|n.charCodeAt(r),r==n.length&&(e.d=e.x<<10^e.x>>>4),e.next()}(t),i=e&&e.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},o.int32=n.next,o.quick=o,i&&("object"==typeof i&&r(i,n),o.state=function(){return r(n,{})}),o}e&&e.exports?e.exports=i:this.xorwow=i}(0,t)}),st=rt(function(t){!function(t,e,n){function r(t,e){return e.x=t.x.slice(),e.i=t.i,e}function i(t,e){null==t&&(t=+new Date);var n=new function(t){var e=this;e.next=function(){var t,n,r=e.x,i=e.i;return t=r[i],n=(t^=t>>>7)^t<<24,n^=(t=r[i+1&7])^t>>>10,n^=(t=r[i+3&7])^t>>>3,n^=(t=r[i+4&7])^t<<7,t=r[i+7&7],n^=(t^=t<<13)^t<<9,r[i]=n,e.i=i+1&7,n},function(t,e){var n,r=[];if(e===(0|e))r[0]=e;else for(e=""+e,n=0;n<e.length;++n)r[7&n]=r[7&n]<<15^e.charCodeAt(n)+r[n+1&7]<<13;for(;r.length<8;)r.push(0);for(n=0;n<8&&0===r[n];++n);for(8==n&&(r[7]=-1),t.x=r,t.i=0,n=256;n>0;--n)t.next()}(e,t)}(t),i=e&&e.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},o.int32=n.next,o.quick=o,i&&(i.x&&r(i,n),o.state=function(){return r(n,{})}),o}e&&e.exports?e.exports=i:this.xorshift7=i}(0,t)}),ut=rt(function(t){!function(t,e,n){function r(t,e){return e.i=t.i,e.w=t.w,e.X=t.X.slice(),e}function i(t,e){null==t&&(t=+new Date);var n=new function(t){var e=this;e.next=function(){var t,n,r=e.w,i=e.X,o=e.i;return e.w=r=r+1640531527|0,n=i[o+34&127],t=i[o=o+1&127],n^=n<<13,t^=t<<17,n=i[o]=(n^=n>>>15)^(t^=t>>>12),e.i=o,n+(r^r>>>16)|0},function(t,e){var n,r,i,o,a,s=[],u=128;for(e===(0|e)?(r=e,e=null):(e+="\0",r=0,u=Math.max(u,e.length)),i=0,o=-32;o<u;++o)e&&(r^=e.charCodeAt((o+32)%e.length)),0===o&&(a=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,o>=0&&(i=0==(n=s[127&o]^=r+(a=a+1640531527|0))?i+1:0);for(i>=128&&(s[127&(e&&e.length||0)]=-1),i=127,o=512;o>0;--o)r=s[i+34&127],n=s[i=i+1&127],r^=r<<13,n^=n<<17,s[i]=(r^=r>>>15)^(n^=n>>>12);t.w=a,t.X=s,t.i=i}(e,t)}(t),i=e&&e.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},o.int32=n.next,o.quick=o,i&&(i.X&&r(i,n),o.state=function(){return r(n,{})}),o}e&&e.exports?e.exports=i:this.xor4096=i}(0,t)}),lt=rt(function(t){!function(t,e,n){function r(t,e){return e.a=t.a,e.b=t.b,e.c=t.c,e.d=t.d,e}function i(t,e){var n=new function(t){var e=this,n="";e.next=function(){var t=e.b,n=e.c,r=e.d,i=e.a;return t=t<<25^t>>>7^n,n=n-r|0,r=r<<24^r>>>8^i,i=i-t|0,e.b=t=t<<20^t>>>12^n,e.c=n=n-r|0,e.d=r<<16^n>>>16^i,e.a=i-t|0},e.a=0,e.b=0,e.c=-1640531527,e.d=1367130551,t===Math.floor(t)?(e.a=t/4294967296|0,e.b=0|t):n+=t;for(var r=0;r<n.length+20;r++)e.b^=0|n.charCodeAt(r),e.next()}(t),i=e&&e.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},o.int32=n.next,o.quick=o,i&&("object"==typeof i&&r(i,n),o.state=function(){return r(n,{})}),o}e&&e.exports?e.exports=i:this.tychei=i}(0,t)}),ct=rt(function(t){!function(e,r){var i,o=this,a=256,s=6,u="random",l=r.pow(a,s),c=r.pow(2,52),f=2*c,h=a-1;function d(t,n,d){var m=[],y=v(function t(e,n){var r,i=[],o=typeof e;if(n&&"object"==o)for(r in e)try{i.push(t(e[r],n-1))}catch(t){}return i.length?i:"string"==o?e:e+"\0"}((n=1==n?{entropy:!0}:n||{}).entropy?[t,g(e)]:null==t?function(){try{var t;return i&&(t=i.randomBytes)?t=t(a):(t=new Uint8Array(a),(o.crypto||o.msCrypto).getRandomValues(t)),g(t)}catch(t){var n=o.navigator,r=n&&n.plugins;return[+new Date,o,r,o.screen,g(e)]}}():t,3),m),b=new function(t){var e,n=t.length,r=this,i=0,o=r.i=r.j=0,s=r.S=[];for(n||(t=[n++]);i<a;)s[i]=i++;for(i=0;i<a;i++)s[i]=s[o=h&o+t[i%n]+(e=s[i])],s[o]=e;(r.g=function(t){for(var e,n=0,i=r.i,o=r.j,s=r.S;t--;)e=s[i=h&i+1],n=n*a+s[h&(s[i]=s[o=h&o+e])+(s[o]=e)];return r.i=i,r.j=o,n})(a)}(m),w=function(){for(var t=b.g(s),e=l,n=0;t<c;)t=(t+n)*a,e*=a,n=b.g(1);for(;t>=f;)t/=2,e/=2,n>>>=1;return(t+n)/e};return w.int32=function(){return 0|b.g(4)},w.quick=function(){return b.g(4)/4294967296},w.double=w,v(g(b.S),e),(n.pass||d||function(t,e,n,i){return i&&(i.S&&p(i,b),t.state=function(){return p(b,{})}),n?(r[u]=t,e):t})(w,y,"global"in n?n.global:this==r,n.state)}function p(t,e){return e.i=t.i,e.j=t.j,e.S=t.S.slice(),e}function v(t,e){for(var n,r=t+"",i=0;i<r.length;)e[h&i]=h&(n^=19*e[h&i])+r.charCodeAt(i++);return g(e)}function g(t){return String.fromCharCode.apply(0,t)}if(r["seed"+u]=d,v(r.random(),e),t.exports){t.exports=d;try{i=n(!function(){var t=new Error('Cannot find module "crypto"');throw t.code="MODULE_NOT_FOUND",t}())}catch(t){}}}([],Math)});ct.alea=it,ct.xor128=ot,ct.xorwow=at,ct.xorshift7=st,ct.xor4096=ut,ct.tychei=lt;var ft,ht,dt,pt,vt,gt,mt=ct.alea,yt=function(){function t(t,e,n,r,i){this.mean=t,this.stdDev=e,this.dtype=n,this.nextVal=NaN,this.truncated=r,this.truncated&&(this.upper=this.mean+2*this.stdDev,this.lower=this.mean-2*this.stdDev);var o=i||Math.random();this.random=mt(o.toString())}return t.prototype.nextValue=function(){if(!isNaN(this.nextVal)){var t=this.nextVal;return this.nextVal=NaN,t}for(var e,n,r=!1;!r;){var i=void 0,o=void 0,a=void 0;do{a=(i=2*this.random()-1)*i+(o=2*this.random()-1)*o}while(a>=1||0===a);var s=Math.sqrt(-2*Math.log(a)/a);e=this.mean+this.stdDev*i*s,n=this.mean+this.stdDev*o*s,this.truncated&&!this.isValidTruncated(e)||(r=!0)}return this.truncated&&!this.isValidTruncated(n)||(this.nextVal=this.convertValue(n)),this.convertValue(e)},t.prototype.convertValue=function(t){return null==this.dtype||"float32"===this.dtype?t:Math.round(t)},t.prototype.isValidTruncated=function(t){return t<=this.upper&&t>=this.lower},t}();(gt=ft||(ft={})).float32="float32",gt.int32="int32",gt.bool="bool",function(t){t.R0="R0",t.R1="R1",t.R2="R2",t.R3="R3",t.R4="R4",t.R5="R5",t.R6="R6"}(ht||(ht={})),function(t){t.float32="float32",t.int32="int32",t.bool="int32"}(dt||(dt={})),function(t){t.float32="float32",t.int32="int32",t.bool="bool"}(pt||(pt={})),function(t){t.float32="float32",t.int32="float32",t.bool="float32"}(vt||(vt={}));var bt={float32:vt,int32:dt,bool:pt};function wt(t,e){return bt[t][e]}function xt(t){return wt(t,"int32")}function _t(t,e){for(var n=t.length,r=[],i=0;i<n;i++){var o=n-1-i;(e[e.length-1-i]||1)>1&&1===(t[o]||1)&&r.unshift(o)}return r}function Ct(t,e){for(var n=[],r=0;r<e.length;r++){var i=t[t.length-r-1],o=e.length-r-1;(null==i||1===i&&e[o]>1)&&n.unshift(o)}return n}function St(t,e){for(var n=[],r="Operands could not be broadcast together with shapes "+t+" and "+e+".",i=Math.max(t.length,e.length),o=0;o<i;o++){var a=t[t.length-o-1]||1,s=e[e.length-o-1]||1;if(a>1&&s>1&&a!==s)throw Error(r);n.unshift(Math.max(a,s))}return n}var Dt=function(){function t(){}return t.add=function(t,e){c({a:t,b:e},"add"),g(t,e);var n=St(t.shape,e.shape);return Ki.engine.runKernel(function(n){return n.add(t,e)},{a:t,b:e},function(r){return{a:function(){var e=r,i=Ct(t.shape,n);return i.length>0&&(e=e.sum(i)),e.reshape(t.shape)},b:function(){var t=r,i=Ct(e.shape,n);return i.length>0&&(t=t.sum(i)),t.reshape(e.shape)}}})},t.addStrict=function(t,e){return v(t.shape,e.shape,"Error in addStrict: "),t.add(e)},t.sub=function(t,e){c({a:t,b:e},"sub"),g(t,e);var n=St(t.shape,e.shape);return Ki.engine.runKernel(function(n){return n.subtract(t,e)},{a:t,b:e},function(r){return{a:function(){var e=r,i=Ct(t.shape,n);return i.length>0&&(e=e.sum(i)),e.reshape(t.shape)},b:function(){var t=r,i=Ct(e.shape,n);return i.length>0&&(t=t.sum(i)),t.neg().reshape(e.shape)}}})},t.subStrict=function(t,e){return v(t.shape,e.shape,"Error in subStrict: "),t.sub(e)},t.pow=function(t,e){c({base:t,exp:e},"pow");var n=St(t.shape,e.shape);return t=t.cast(wt(t.dtype,e.dtype)),e=e.cast(wt(t.dtype,e.dtype)),Ki.engine.runKernel(function(n,r){return r(n.pow(t,e))},{base:t,exp:e},function(r,i){var o=i[0];return{base:function(){var i=r.mul(e.toFloat().mul(o.div(t))),a=Ct(t.shape,n);return a.length>0&&(i=i.sum(a)),i.reshape(t.shape)},exp:function(){var i=r.mul(o.mul(t.log()).toFloat()),a=Ct(e.shape,n);return a.length>0&&(i=i.sum(a)),i.reshape(e.shape)}}})},t.powStrict=function(t,e){return v(t.shape,e.shape,"Error in powStrict: "),t.pow(e)},t.mul=function(t,e){c({a:t,b:e},"mul"),g(t,e);var n=St(t.shape,e.shape);return Ki.engine.runKernel(function(n){return n.multiply(t,e)},{a:t,b:e},function(r){return{a:function(){var i=r.mul(e.toFloat()),o=Ct(t.shape,n);return o.length>0?i.sum(o).reshape(t.shape):i},b:function(){var i=r.mul(t.toFloat()),o=Ct(e.shape,n);return o.length>0?i.sum(o).reshape(e.shape):i}}})},t.mulStrict=function(t,e){return v(t.shape,e.shape,"Error in multiplyStrict: "),t.mul(e)},t.div=function(e,n){var r;if(c({a:e,b:n},"div"),g(e,n),"int32"===e.dtype&&"int32"===n.dtype)return t.floorDiv(e,n);r=function(t){return t.realDivide(e,n)};var i=St(e.shape,n.shape);return Ki.engine.runKernel(r,{a:e,b:n},function(t){return{a:function(){var r=t.div(n.toFloat()),o=Ct(e.shape,i);return o.length>0?r.sum(o).reshape(e.shape):r},b:function(){var r=t.mul(e.toFloat()),o=Ct(n.shape,i);o.length>0&&(r=r.sum(o).reshape(n.shape));var a=n.square();return r.div(a.toFloat()).neg()}}})},t.floorDiv=function(t,e){c({a:t,b:e},"floorDiv"),g(t,e);var n=St(t.shape,e.shape);return Ki.engine.runKernel(function(n){return n.floorDiv(t,e)},{a:t,b:e},function(r){return{a:function(){var i=r.div(e.toFloat()),o=Ct(t.shape,n);return o.length>0?i.sum(o).reshape(t.shape):i},b:function(){var i=r.mul(t.toFloat()),o=Ct(e.shape,n);o.length>0&&(i=i.sum(o).reshape(e.shape));var a=e.square();return i.div(a.toFloat()).neg()}}})},t.divStrict=function(t,e){return v(t.shape,e.shape,"Error in divideStrict: "),t.div(e)},t.mod=function(t,e){c({a:t,b:e},"mod"),g(t,e);var n=St(t.shape,e.shape);return Ki.engine.runKernel(function(n){return n.mod(t,e)},{a:t,b:e},function(r){return{a:function(){var e=Ct(t.shape,n);return e.length>0?r.sum(e).reshape(t.shape):r},b:function(){var i=r.mul(t.div(e).floor().neg()),o=Ct(e.shape,n);return o.length>0?i.sum(o).reshape(e.shape):i}}})},t.modStrict=function(t,e){return v(t.shape,e.shape,"Error in modStrict: "),t.mod(e)},t.minimum=function(t,e){return c({a:t,b:e},"minimum"),g(t,e),"bool"===t.dtype&&(t=t.toInt()),"bool"===e.dtype&&(e=e.toInt()),St(t.shape,e.shape),Ki.engine.runKernel(function(n){return n.minimum(t,e)},{a:t,b:e},function(n){return{a:function(){return n.mul(t.lessEqual(e).toFloat())},b:function(){return n.mul(t.greater(e).toFloat())}}})},t.minimumStrict=function(t,e){return v(t.shape,e.shape,"Error in minimumStrict: "),t.minimum(e)},t.maximum=function(t,e){return c({a:t,b:e},"maximum"),g(t,e),"bool"===t.dtype&&(t=t.toInt()),"bool"===e.dtype&&(e=e.toInt()),St(t.shape,e.shape),Ki.engine.runKernel(function(n){return n.maximum(t,e)},{a:t,b:e},function(n){return{a:function(){return n.mul(t.greaterEqual(e).toFloat())},b:function(){return n.mul(t.less(e).toFloat())}}})},t.maximumStrict=function(t,e){return v(t.shape,e.shape,"Error in minimumStrict: "),t.maximum(e)},t.squaredDifference=function(t,e){return c({a:t,b:e},"squaredDifference"),g(t,e),St(t.shape,e.shape),Ki.engine.runKernel(function(n){return n.squaredDifference(t,e)},{a:t,b:e},function(n){var r=Ur(2);return{a:function(){return n.mul(t.sub(e).mul(r))},b:function(){return n.mul(e.sub(t).mul(r))}}})},t.squaredDifferenceStrict=function(t,e){return v(t.shape,e.shape,"Error in squaredDifferenceStrict: "),t.squaredDifference(e)},t.atan2=function(e,n){c({a:e,b:n},"atan2"),g(e,n);var r=St(e.shape,n.shape);return Ki.engine.runKernel(function(t){return t.atan2(e,n)},{a:e,b:n},function(i){return{a:function(){var o=t.add(Zn(e),Zn(n)),a=i.mul(n.div(o)),s=Ct(e.shape,r);return s.length>0&&(a=a.sum(s)),a.reshape(e.shape)},b:function(){var o=t.add(Zn(e),Zn(n)),a=jn(i.mul(e.div(o))),s=Ct(n.shape,r);return s.length>0&&(a=a.sum(s)),a.reshape(n.shape)}}})},o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"add",null),o([tt],t,"addStrict",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"sub",null),o([tt],t,"subStrict",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"pow",null),o([tt],t,"powStrict",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"mul",null),o([tt],t,"mulStrict",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"div",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"floorDiv",null),o([tt],t,"divStrict",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"mod",null),o([tt],t,"modStrict",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"minimum",null),o([tt],t,"minimumStrict",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"maximum",null),o([tt],t,"maximumStrict",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"squaredDifference",null),o([tt],t,"squaredDifferenceStrict",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"atan2",null),t}(),Pt=function(){function t(){}return t.notEqual=function(t,e){return c({a:t,b:e},"notEqual"),g(t,e),St(t.shape,e.shape),Ki.engine.runKernel(function(n){return n.notEqual(t,e)},{a:t,b:e})},t.notEqualStrict=function(t,e){return v(t.shape,e.shape,"Error in notEqualStrict: "),t.notEqual(e)},t.less=function(t,e){return c({a:t,b:e},"less"),g(t,e),St(t.shape,e.shape),Ki.engine.runKernel(function(n){return n.less(t,e)},{a:t,b:e})},t.lessStrict=function(t,e){return v(t.shape,e.shape,"Error in lessStrict: "),t.less(e)},t.equal=function(t,e){return c({a:t,b:e},"equal"),g(t,e),St(t.shape,e.shape),Ki.engine.runKernel(function(n){return n.equal(t,e)},{a:t,b:e})},t.equalStrict=function(t,e){return v(t.shape,e.shape,"Error in equalStrict: "),t.equal(e)},t.lessEqual=function(t,e){return c({a:t,b:e},"lessEqual"),g(t,e),St(t.shape,e.shape),Ki.engine.runKernel(function(n){return n.lessEqual(t,e)},{a:t,b:e})},t.lessEqualStrict=function(t,e){return v(t.shape,e.shape,"Error in lessEqualStrict: "),t.lessEqual(e)},t.greater=function(t,e){return c({a:t,b:e},"greater"),g(t,e),St(t.shape,e.shape),Ki.engine.runKernel(function(n){return n.greater(t,e)},{a:t,b:e})},t.greaterStrict=function(t,e){return v(t.shape,e.shape,"Error in greaterStrict: "),t.greater(e)},t.greaterEqual=function(t,e){return c({a:t,b:e},"greaterEqual"),g(t,e),St(t.shape,e.shape),Ki.engine.runKernel(function(n){return n.greaterEqual(t,e)},{a:t,b:e})},t.greaterEqualStrict=function(t,e){return v(t.shape,e.shape,"Error in greaterEqualStrict: "),t.greaterEqual(e)},o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"notEqual",null),o([tt],t,"notEqualStrict",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"less",null),o([tt],t,"lessStrict",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"equal",null),o([tt],t,"equalStrict",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"lessEqual",null),o([tt],t,"lessEqualStrict",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"greater",null),o([tt],t,"greaterStrict",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"greaterEqual",null),o([tt],t,"greaterEqualStrict",null),t}(),At=function(){function t(){}return t.logicalNot=function(t){return c({x:t},"logicalNot"),p("bool"===t.dtype,"Error Array must be of type bool."),Ki.engine.runKernel(function(e){return e.logicalNot(t)},{x:t})},t.logicalAnd=function(t,e){return c({a:t,b:e},"logicalAnd"),p("bool"===t.dtype&&"bool"===e.dtype,"Error Array must be of type bool."),St(t.shape,e.shape),Ki.engine.runKernel(function(n){return n.logicalAnd(t,e)},{a:t,b:e})},t.logicalOr=function(t,e){return c({a:t,b:e},"logicalOr"),p("bool"===t.dtype&&"bool"===e.dtype,"Error Array must be of type bool."),St(t.shape,e.shape),Ki.engine.runKernel(function(n){return n.logicalOr(t,e)},{a:t,b:e})},t.logicalXor=function(e,n){return c({a:e,b:n},"logicalXor"),p("bool"===e.dtype&&"bool"===n.dtype,"Error Array must be of type bool."),St(e.shape,n.shape),t.logicalOr(e,n).logicalAnd(t.logicalAnd(e,n).logicalNot())},t.where=function(t,e,n){c({condition:t,a:e,b:n},"where"),p("bool"===t.dtype,"Error Condition must be of type bool."),v(e.shape,n.shape,"Error in where: "),1===t.rank?p(t.shape[0]===e.shape[0],"The first dimension of `a` must match the size of `condition`."):v(t.shape,n.shape,"Error in where: ");var r=wt(e.dtype,n.dtype);return Ki.engine.runKernel(function(i){return i.where(t,e,n,r)},{condition:t,a:e,b:n},function(r){return{condition:function(){return Er(t)},a:function(){return r.mul(t.cast(e.dtype))},b:function(){return r.mul(t.logicalNot().cast(n.dtype))}}})},o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"logicalNot",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"logicalAnd",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"logicalOr",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"logicalXor",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"where",null),t}(),Tt=function(){function t(){}return t.unsortedSegmentSum=function(t,e,n){return c({x:t,segmentIds:e},"unsortedSegmentSum"),p("int32"===e.dtype,"segmentIds must be of dtype `int32`"),p(x(n),"numSegments must be of dtype int"),Ki.engine.runKernel(function(r){return r.unsortedSegmentSum(t,e,n)},{x:t},function(t){return{x:function(){return function(t,e){for(var n=Dt.maximum(e,Et.zerosLike(e)),r=Et.gather(t,n),i=Pt.greaterEqual(e,Et.scalar(0,"int32")),o=r.rank-i.rank,a=0;a<o;++a)i=Et.expandDims(i,a+1);i=At.logicalAnd(i,Et.ones(r.shape,"bool"));var s=Et.zerosLike(r);return At.where(i,r,s)}(t,e)}}})},o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"unsortedSegmentSum",null),t}(),Et=function(){function t(){}return t.tensor=function(t,e,n){void 0===n&&(n="float32");var r=y(t);return null!=e&&1!==r.length&&v(e,r,"Error creating a new Tensor. Inferred shape ("+r+") does not match the provided shape ("+e+"). "),M(t)||Array.isArray(t)||(t=[t]),wi.make(e=e||r,{values:function(t,e){return function(t,e){return t instanceof Float32Array&&"float32"===e||t instanceof Int32Array&&"int32"===e||t instanceof Uint8Array&&"bool"===e}(t,e)?t:(Array.isArray(t)&&(t=m(t)),I(t,e))}(t,n)},n)},t.scalar=function(e,n){if(void 0===n&&(n="float32"),M(e)||Array.isArray(e))throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean)");return t.tensor(e,[],n)},t.tensor1d=function(e,n){void 0===n&&(n="float32");var r=y(e);if(1!==r.length)throw new Error("tensor1d() requires values to be a flat/TypedArray");return t.tensor(e,r,n)},t.tensor2d=function(e,n,r){if(void 0===r&&(r="float32"),null!=n&&2!==n.length)throw new Error("tensor2d() requires shape to have two numbers");var i=y(e);if(2!==i.length&&1!==i.length)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(1===i.length&&null==n)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return t.tensor(e,n=n||i,r)},t.tensor3d=function(e,n,r){if(void 0===r&&(r="float32"),null!=n&&3!==n.length)throw new Error("tensor3d() requires shape to have three numbers");var i=y(e);if(3!==i.length&&1!==i.length)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(1===i.length&&null==n)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return t.tensor(e,n=n||i,r)},t.tensor4d=function(e,n,r){if(void 0===r&&(r="float32"),null!=n&&4!==n.length)throw new Error("tensor4d() requires shape to have four numbers");var i=y(e);if(4!==i.length&&1!==i.length)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(1===i.length&&null==n)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return t.tensor(e,n=n||i,r)},t.tensor5d=function(e,n,r){if(void 0===r&&(r="float32"),null!=n&&5!==n.length)throw new Error("tensor5d() requires shape to have five numbers");var i=y(e);if(5!==i.length&&1!==i.length)throw new Error("tensor5d() requires values to be            number[][][][][] or flat/TypedArray");if(1===i.length&&null==n)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return t.tensor(e,n=n||i,r)},t.tensor6d=function(e,n,r){if(void 0===r&&(r="float32"),null!=n&&6!==n.length)throw new Error("tensor6d() requires shape to have six numbers");var i=y(e);if(6!==i.length&&1!==i.length)throw new Error("tensor6d() requires values to be number[][][][] or flat/TypedArray");if(1===i.length&&null==n)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return t.tensor(e,n=n||i,r)},t.ones=function(t,e){void 0===e&&(e="float32");var n=function(t,e){for(var n=Ot(t,e),r=0;r<n.length;r++)n[r]=1;return n}(b(t),e);return wi.make(t,{values:n},e)},t.zeros=function(t,e){void 0===e&&(e="float32");var n=Ot(b(t),e);return wi.make(t,{values:n},e)},t.fill=function(t,e,n){void 0===n&&(n="float32");var r=E(n,b(t));return r.fill(e),wi.make(t,{values:r},n)},t.onesLike=function(e){return c({x:e},"onesLike"),t.ones(e.shape,e.dtype)},t.zerosLike=function(e){return c({x:e},"zerosLike"),t.zeros(e.shape,e.dtype)},t.clone=function(t){return c({x:t},"clone"),Ki.engine.runKernel(function(e){return wi.make(t.shape,{dataId:t.dataId},t.dtype)},{x:t},function(t){return{x:function(){return t.toFloat()}}})},t.eye=function(e,n,r,i){void 0===i&&(i="float32"),null==n&&(n=e);for(var o=t.buffer([e,n],i),a=e<=n?e:n,s=0;s<a;++s)o.set(1,s,s);var u=o.toTensor().as2D(e,n);if(null==r)return u;if(1===r.length)return t.tile(t.expandDims(u,0),[r[0],1,1]);if(2===r.length)return t.tile(t.expandDims(t.expandDims(u,0),0),[r[0],r[1],1,1]);throw new Error("eye() currently supports only 1D and 2D batchShapes, but received "+r.length+"D.")},t.randomNormal=function(e,n,r,i,o){if(void 0===n&&(n=0),void 0===r&&(r=1),null!=i&&"bool"===i)throw new Error("Unsupported data type "+i);for(var a=new yt(n,r,i,!1,o),s=t.buffer(e,i),u=0;u<s.values.length;u++)s.values[u]=a.nextValue();return s.toTensor()},t.truncatedNormal=function(e,n,r,i,o){if(void 0===n&&(n=0),void 0===r&&(r=1),null!=i&&"bool"===i)throw new Error("Unsupported data type "+i);for(var a=new yt(n,r,i,!0,o),s=t.buffer(e,i),u=0;u<s.values.length;u++)s.values[u]=a.nextValue();return s.toTensor()},t.randomUniform=function(e,n,r,i){void 0===n&&(n=0),void 0===r&&(r=1),void 0===i&&(i="float32");for(var o=t.buffer(e,i),a=0;a<o.values.length;a++)o.values[a]=d(n,r);return o.toTensor()},t.rand=function(t,e,n){var r=b(t),i=null;if(null==n||"float32"===n)i=new Float32Array(r);else if("int32"===n)i=new Int32Array(r);else{if("bool"!==n)throw new Error("Unknown data type "+n);i=new Uint8Array(r)}for(var o=0;o<r;o++)i[o]=e();return wi.make(t,{values:i},n)},t.multinomial=function(t,e,n,r){void 0===r&&(r=!1),c({logits:t},"multinomial");var i=t.size,o=t.rank;if(i<2)throw new Error("Error in multinomial: you need at least 2 outcomes, but got "+i+".");if(o>2)throw new Error("Rank of probabilities must be 1 or 2, but is "+o);n=n||Math.random();var a=1===o?t.as2D(1,-1):t,s=Ki.engine.runKernel(function(t){return t.multinomial(a,r,e,n)},{logits2D:a});return 1===o?s.as1D():s},t.oneHot=function(t,e,n,r){if(void 0===n&&(n=1),void 0===r&&(r=0),p("int32"===t.dtype,"Indices must be of dtype `int32`"),e<2)throw new Error("Error in oneHot: depth must be >=2, but it is "+e);return Ki.engine.runKernel(function(i){return i.oneHot(t,e,n,r)},{indices:t})},t.fromPixels=function(t,e){if(void 0===e&&(e=3),e>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");return Ki.engine.fromPixels(t,e)},t.toPixels=function(t,e){return a(this,void 0,void 0,function(){var n,r,i,o,a,u,l,f,h,d,p,v,g,m,y,b,w,x,_;return s(this,function(s){switch(s.label){case 0:if(c({img:t},"toPixels"),2!==t.rank&&3!==t.rank)throw new Error("toPixels only supports rank 2 or 3 tensors, got rank "+t.rank+".");if(n=t.shape.slice(0,2),r=n[0],i=n[1],(o=2===t.rank?1:t.shape[2])>4||2===o)throw new Error("toPixels only supports depth of size 1, 3 or 4 but got "+o);return a=t.min(),u=t.max(),[4,a.data()];case 1:return l=s.sent()[0],[4,u.data()];case 2:if(f=s.sent()[0],a.dispose(),u.dispose(),"float32"===t.dtype){if(l<0||f>1)throw new Error("Tensor values for a float32 Tensor must be in the range [0 - 1] but got range ["+l+" - "+f+"].")}else{if("int32"!==t.dtype)throw new Error("Unsupported type for toPixels: "+t.dtype+". Please use float32 or int32 tensors.");if(l<0||f>255)throw new Error("Tensor values for a int32 Tensor must be in the range [0 - 255] but got range ["+l+" - "+f+"].")}return[4,t.data()];case 3:for(h=s.sent(),d="float32"===t.dtype?255:1,p=new Uint8ClampedArray(i*r*4),v=0;v<r*i;++v)g=void 0,m=void 0,y=void 0,b=void 0,1===o?(g=h[v]*d,m=h[v]*d,y=h[v]*d,b=255):3===o?(g=h[3*v]*d,m=h[3*v+1]*d,y=h[3*v+2]*d,b=255):4===o&&(g=h[4*v]*d,m=h[4*v+1]*d,y=h[4*v+2]*d,b=h[4*v+3]*d),p[0+(w=4*v)]=Math.round(g),p[w+1]=Math.round(m),p[w+2]=Math.round(y),p[w+3]=Math.round(b);return null!=e&&(e.width=i,e.height=r,x=e.getContext("2d"),_=new ImageData(p,i,r),x.putImageData(_,0,0)),[2,p]}})})},t.reshape=function(t,e){return c({x:t},"reshape"),e=A(e,t.size),p(t.size===b(e),"new shape and old shape must have the same number of elements."),Ki.engine.runKernel(function(n){return n.reshape(t,e)},{x:t},function(e){return{x:function(){return e.reshape(t.shape)}}})},t.squeeze=function(e,n){return c({x:e},"squeeze"),t.reshape(e,T(e.shape,n).newShape)},t.cast=function(t,e){return c({x:t},"cast"),Ki.engine.runKernel(function(n){return n.cast(t,e)},{x:t},function(t){return{x:function(){return t.clone()}}})},t.tile=function(e,n){return c({x:e},"tile"),p(e.rank===n.length,"Error in transpose: rank of input "+e.rank+" must match length of reps "+n+"."),Ki.engine.runKernel(function(t){return t.tile(e,n)},{x:e},function(r){return{x:function(){var i=t.zerosLike(e);if(1===e.rank)for(var o=0;o<n[0];++o)i=i.add(r.slice([o*e.shape[0]],[e.shape[0]]));else if(2===e.rank)for(o=0;o<n[0];++o)for(var a=0;a<n[1];++a)i=i.add(r.slice([o*e.shape[0],a*e.shape[1]],[e.shape[0],e.shape[1]]));else if(3===e.rank)for(o=0;o<n[0];++o)for(a=0;a<n[1];++a)for(var s=0;s<n[2];++s)i=i.add(r.slice([o*e.shape[0],a*e.shape[1],s*e.shape[2]],[e.shape[0],e.shape[1],e.shape[2]]));else{if(4!==e.rank)throw new Error("Gradient for tile operation is not implemented for rank-"+e.rank+" tensors yet.");for(o=0;o<n[0];++o)for(a=0;a<n[1];++a)for(s=0;s<n[2];++s)for(var u=0;u<n[3];++u)i=i.add(r.slice([o*e.shape[0],a*e.shape[1],s*e.shape[2],u*e.shape[3]],[e.shape[0],e.shape[1],e.shape[2],e.shape[3]]))}return i}}})},t.gather=function(t,e,n){return void 0===n&&(n=0),c({x:t,indices:e},"gather"),p("int32"===e.dtype,"Indices must be of dtype `int32`"),n=Y(n,t.shape)[0],Ki.engine.runKernel(function(r){return r.gather(t,e,n)},{x:t},function(r){return{x:function(){if(0===n)return Tt.unsortedSegmentSum(r,e,t.shape[n]);var i=t.shape,o=e.size,a=i.slice(0,n),s=a.length,u=i.slice(n,i.length).slice(1),l=u.length,c=kt(0,s),f=kt(s+1,s+1+l),h=Rt([a,[o],u]),d=r.reshape(h),p=e.reshape([o]),v=Rt([[s],c,f]),g=d.transpose(v),m=Tt.unsortedSegmentSum(g,p,t.shape[n]),y=J(v);return m.transpose(y)}}})},t.pad1d=function(e,n,r){return void 0===r&&(r=0),p(2===n.length,"Invalid number of paddings. Must be length of 2."),t.pad(e,[n],r)},t.pad2d=function(e,n,r){return void 0===r&&(r=0),p(2===n.length&&2===n[0].length&&2===n[1].length,"Invalid number of paddings. Must be length of 2 each."),t.pad(e,n,r)},t.pad3d=function(e,n,r){return void 0===r&&(r=0),p(3===n.length&&2===n[0].length&&2===n[1].length&&2===n[2].length,"Invalid number of paddings. Must be length of 2 each."),t.pad(e,n,r)},t.pad4d=function(e,n,r){return void 0===r&&(r=0),p(4===n.length&&2===n[0].length&&2===n[1].length&&2===n[2].length&&2===n[3].length,"Invalid number of paddings. Must be length of 2 each."),t.pad(e,n,r)},t.pad=function(t,e,n){if(void 0===n&&(n=0),c({x:t},"pad"),0===t.rank)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");var r=e.map(function(t){return t[0]});return Ki.engine.runKernel(function(r){return r.pad(t,e,n)},{x:t},function(e){return{x:function(){return e.slice(r,t.shape)}}})},t.stack=function(t,e){if(void 0===e&&(e=0),c({tensors:t},"stack"),p(t.length>=1,"Pass at least one tensor to tf.stack"),1===t.length)return t[0].expandDims(e);var n=t[0].shape,r=t[0].dtype;p(e<=t[0].rank,"Axis must be <= rank of the tensor"),t.forEach(function(t){v(n,t.shape,"All tensors passed to stack must have matching shapes")}),t.forEach(function(t){p(r===t.dtype,"All tensors passed to stack must have matching dtypes")});var i=t.map(function(t){return t.expandDims(e)});return et.concat(i,e)},t.unstack=function(t,e){void 0===e&&(e=0);for(var n,r=t.shape[e],i=Array(t.rank-1).fill(0),o=0,a=0;a<t.rank;a++)a!==e&&(i[o]=t.shape[a],o++);n=Array(r).fill(1);var s=Array(t.rank).fill(0),u=t.shape.slice();return n.map(function(n){u[e]=n;var r=t.slice(s,u);return s[e]+=n,r.reshape(i)})},t.split=function(t,e,n){var r;void 0===n&&(n=0),c({x:t},"split"),n=Y(n,t.shape)[0],"number"==typeof e?(p(t.shape[n]%e==0,"Number of splits must evenly divide the axis."),r=Array(e).fill(t.shape[n]/e)):(p(t.shape[n]===e.reduce(function(t,e){return t+e}),"The sum of sizes must match the size of the axis dimension."),r=e);var i=Array(t.rank).fill(0),o=t.shape.slice();return r.map(function(e){o[n]=e;var r=t.slice(i,o);return i[n]+=e,r})},t.cumsum=function(t,e,n,r){void 0===e&&(e=0),void 0===n&&(n=!1),void 0===r&&(r=!1),c({x:t},"cumsum");var i=Z([e|=0],t.rank),o=t;null!=i&&(o=t.transpose(i));var a=Q(1,t.rank)[0],s=Ki.engine.runKernel(function(t){return t.cumsum(o,a,n,r)},{permutedX:o},function(t){return{permutedX:function(){return t.cumsum(e,n,!r)}}});return null!=i&&(s=s.transpose(i)),s},t.expandDims=function(e,n){void 0===n&&(n=0),c({x:e},"expandDims"),p(n<=e.rank,"Axis must be <= rank of the tensor");var r=e.shape.slice();return r.splice(n,0,1),t.reshape(e,r)},t.linspace=function(e,n,r){if(0===r)throw new Error("Cannot request zero samples");var i=(n-e)/(r-1),o=Ot(r,"float32");o[0]=e;for(var a=1;a<o.length;a++)o[a]=o[a-1]+i;return t.tensor1d(o,"float32")},t.range=function(e,n,r,i){if(void 0===r&&(r=1),void 0===i&&(i="float32"),0===r)throw new Error("Cannot have a step of zero");if(e===n||e<n&&r<0||n<e&&r>1)return t.zeros([0],i);var o=Ot(Math.abs(Math.ceil((n-e)/r)),i);n<e&&1===r&&(r=-1),o[0]=e;for(var a=1;a<o.length;a++)o[a]=o[a-1]+r;return t.tensor1d(o,i)},t.buffer=function(t,e,n){return void 0===e&&(e="float32"),new bi(t,e,n)},t.print=function(t,e){void 0===e&&(e=!1),console.log(H(t,e))},o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]}],t,"tensor",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]}],t,"scalar",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]}],t,"tensor1d",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]}],t,"tensor2d",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]}],t,"tensor3d",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]}],t,"tensor4d",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]}],t,"tensor5d",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]}],t,"tensor6d",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"ones",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"zeros",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"fill",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"onesLike",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"zerosLike",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"clone",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"eye",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"randomNormal",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"truncatedNormal",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"randomUniform",null),o([tt],t,"rand",null),o([tt],t,"multinomial",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"oneHot",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"fromPixels",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]}],t,"toPixels",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"reshape",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]}],t,"squeeze",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"cast",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"tile",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"gather",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"pad",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"stack",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"unstack",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"split",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]}],t,"cumsum",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"expandDims",null),o([tt,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]}],t,"linspace",null),o([tt,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]}],t,"range",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]}],t,"buffer",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]}],t,"print",null),t}();function Ot(t,e){if(null==e||"float32"===e)return new Float32Array(t);if("int32"===e)return new Int32Array(t);if("bool"===e)return new Uint8Array(t);throw new Error("Unknown data type $ {dtype}")}function kt(t,e){for(var n=[],r=t;r<e;++r)n.push(r);return n}function Rt(t){for(var e=[],n=0;n<t.length;++n)for(var r=0;r<t[n].length;++r)e.push(t[n][r]);return e}var It=function(){function t(){}return t.batchNormalization2d=function(e,n,r,i,o,a){return void 0===i&&(i=.001),p(2===e.rank,"Error in batchNormalization3D: x must be rank 3 but got rank "+e.rank+"."),p(2===n.rank||1===n.rank,"Error in batchNormalization2D: mean must be rank 2 or rank 1 but got rank "+n.rank+"."),p(2===r.rank||1===r.rank,"Error in batchNormalization2D: variance must be rank 2 or rank 1 but got rank "+r.rank+"."),null!=o&&p(2===o.rank||1===o.rank,"Error in batchNormalization2D: scale must be rank 2 or rank 1 but got rank "+o.rank+"."),null!=a&&p(2===a.rank||1===a.rank,"Error in batchNormalization2D: offset must be rank 2 or rank 1 but got rank "+a.rank+"."),t.batchNormalization(e,n,r,i,o,a)},t.batchNormalization3d=function(e,n,r,i,o,a){return void 0===i&&(i=.001),p(3===e.rank,"Error in batchNormalization3D: x must be rank 3 but got rank "+e.rank+"."),p(3===n.rank||1===n.rank,"Error in batchNormalization3D: mean must be rank 3 or rank 1 but got rank "+n.rank+"."),p(3===r.rank||1===r.rank,"Error in batchNormalization3D: variance must be rank 3 or rank 1 but got rank "+r.rank+"."),null!=o&&p(3===o.rank||1===o.rank,"Error in batchNormalization3D: scale must be rank 3 or rank 1 but got rank "+o.rank+"."),null!=a&&p(3===a.rank||1===a.rank,"Error in batchNormalization3D: offset must be rank 3 or rank 1 but got rank "+a.rank+"."),t.batchNormalization(e,n,r,i,o,a)},t.batchNormalization4d=function(e,n,r,i,o,a){return void 0===i&&(i=.001),p(4===e.rank,"Error in batchNormalization4D: x must be rank 4 but got rank "+e.rank+"."),p(4===n.rank||1===n.rank,"Error in batchNormalization4D: mean must be rank 4 or rank 1 but got rank "+n.rank+"."),p(4===r.rank||1===r.rank,"Error in batchNormalization4D: variance must be rank 4 or rank 1 but got rank "+r.rank+"."),null!=o&&p(4===o.rank||1===o.rank,"Error in batchNormalization4D: scale must be rank 4 or rank 1 but got rank "+o.rank+"."),null!=a&&p(4===a.rank||1===a.rank,"Error in batchNormalization4D: offset must be rank 4 or rank 1 but got rank "+a.rank+"."),t.batchNormalization(e,n,r,i,o,a)},t.batchNormalization=function(t,e,n,r,i,o){var a;return void 0===r&&(r=.001),c({x:t,mean:e,variance:n},"batchNormalization"),null!=i&&c({scale:i},"batchNormalization"),null!=o&&c({offset:o},"batchNormalization"),p(e.rank===n.rank,"Batch normalization gradient requires mean and variance to have equal ranks."),p(null==o||e.rank===o.rank,"Batch normalization gradient requires mean and offset to have equal ranks."),p(null==i||e.rank===i.rank,"Batch normalization gradient requires mean and scale to have equal ranks."),a=0===t.rank||1===t.rank?t.as4D(1,1,1,t.size):2===t.rank?t.as4D(1,1,t.shape[0],t.shape[1]):3===t.rank?t.as4D(1,t.shape[0],t.shape[1],t.shape[2]):t,Ki.engine.runKernel(function(t){return t.batchNormalization(a,Mt(e),Mt(n),r,Mt(i),Mt(o))},{x:t,mean:e,variance:n,scale:i,offset:o},function(o){var s=null==i?Et.scalar(1):i,u=Ct(e.shape,a.shape),l=[];if(1===e.rank){for(var c=0;c<a.shape.length-1;++c)l.push(a.shape[c]);l.push(1)}var f=t.sub(e),h=o.mul(s),d=Kn(n.add(Et.scalar(r))),p=d.mul(d).mul(d).mul(Et.scalar(-.5));return{x:function(){return 1===e.rank?o.mul(Et.tile(d.as4D(1,1,1,e.shape[0]),l)).mul(s).reshape(t.shape):o.mul(d).mul(s).reshape(t.shape)},mean:function(){var t=d.mul(Et.scalar(-1)).mul(h);return 1===e.rank&&(t=t.sum(u)),t.reshape(e.shape)},variance:function(){var t=p.mul(f).mul(h);return 1===e.rank&&(t=t.sum(u)),t.reshape(e.shape)},scale:function(){var t=f.mul(d),n=o.mul(t);return 1===e.rank&&(n=n.sum(u)),n.reshape(e.shape)},offset:function(){var t=o;return 1===e.rank&&(t=t.sum(u)),t.reshape(e.shape)}}}).reshape(t.shape)},o([tt],t,"batchNormalization2d",null),o([tt],t,"batchNormalization3d",null),o([tt],t,"batchNormalization4d",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]}],t,"batchNormalization",null),t}();function Mt(t){return null==t?null:0===t.rank?t.as1D():1===t.rank?t:2===t.rank?t.as4D(1,1,t.shape[0],t.shape[1]):3===t.rank?t.as4D(1,t.shape[0],t.shape[1],t.shape[2]):t}function Nt(t,e,n,r,i,o){void 0===o&&(o="channelsLast");var a,s=Ft(e),u=s[0],l=s[1];if("channelsLast"===o)a=[u,l,t[3],t[3]];else{if("channelsFirst"!==o)throw new Error("Unknown dataFormat "+o);a=[u,l,t[1],t[1]]}return Lt(t,a,n,1,r,i,!1,o)}function Lt(t,e,n,r,i,o,a,s){void 0===a&&(a=!1),void 0===s&&(s="channelsLast");var u=[-1,-1,-1,-1],l=u[0],c=u[1],f=u[2],h=u[3];if("channelsLast"===s)l=t[0],c=t[1],f=t[2],h=t[3];else{if("channelsFirst"!==s)throw new Error("Unknown dataFormat "+s);l=t[0],h=t[1],c=t[2],f=t[3]}var d,v=e[0],g=e[1],m=e[3],y=Ft(n),b=y[0],w=y[1],_=Ft(r),C=_[0],S=_[1],D=function(t,e,n,r,i,o,a,s){var u,l,c;if("number"==typeof t){u={top:t,bottom:t,left:t,right:t,type:0===t?"VALID":"NUMBER"};var f=function(t,e,n,r,i,o){null==i&&(i=function(t,e,n,r){void 0===r&&(r=1);var i=jt(e,r);return Math.floor((t[0]*(n-1)-n+i)/2)}(t,e,r));var a=t[1],s=Vt((t[0]-e+2*i)/r+1,o);p(x(s),"The output # of rows ("+s+") must be an integer. Change the stride and/or zero pad parameters");var u=Vt((a-e+2*i)/r+1,o);return p(x(u),"The output # of columns ("+u+") must be an integer. Change the stride and/or zero pad parameters"),[s,u,1]}([e,n,1],o,0,r,t,s);l=f[0],c=f[1]}else if("same"===t){var h=((l=Math.ceil(e/r))-1)*r+o-e,d=((c=Math.ceil(n/i))-1)*i+a-n,v=Math.floor(h/2),g=h-v,m=Math.floor(d/2);u={top:v,bottom:g,left:m,right:d-m,type:"SAME"}}else{if("valid"!==t)throw Error("Unknown padding parameter: "+t);u={top:0,bottom:0,left:0,right:0,type:"VALID"},l=Math.ceil((e-o+1)/r),c=Math.ceil((n-a+1)/i)}return{padInfo:u,outHeight:l,outWidth:c}}(i,c,f,b,w,jt(v,C),jt(g,S),o),P=D.outHeight,A=D.outWidth,T=a?m*h:m;return"channelsFirst"===s?d=[l,T,P,A]:"channelsLast"===s&&(d=[l,P,A,T]),{batchSize:l,dataFormat:s,inHeight:c,inWidth:f,inChannels:h,outHeight:P,outWidth:A,outChannels:T,padInfo:D.padInfo,strideHeight:b,strideWidth:w,filterHeight:v,filterWidth:g,dilationHeight:C,dilationWidth:S,inShape:t,outShape:d,filterShape:e}}function Ft(t){return"number"==typeof t?[t,t]:t}function jt(t,e){return e<=1?t:t+(t-1)*(e-1)}function Vt(t,e){if(!e)return t;switch(e){case"round":return Math.round(t);case"ceil":return Math.ceil(t);case"floor":return Math.floor(t);default:throw new Error("Unknown roundingMode "+e)}}var zt=function(){function t(){}return t.conv1d=function(e,n,r,i,o,a,s){void 0===o&&(o="NWC"),void 0===a&&(a=1),c({x:e,filter:n},"conv1d");var u=e,l=!1;2===e.rank&&(l=!0,u=e.as3D(1,e.shape[0],e.shape[1])),p(3===u.rank,"Error in conv1d: input must be rank 3, but got rank "+u.rank+"."),p(3===n.rank,"Error in conv1d: filter must be rank 3, but got rank "+n.rank+"."),null!=s&&p(x(i),"Error in conv1d: pad must be an integer when using, dimRoundingMode "+s+" but got pad "+i+"."),p(u.shape[2]===n.shape[1],"Error in conv1d: depth of input ("+u.shape[2]+") must match input depth for filter "+n.shape[1]+"."),p(Wt(r,a),"Error in conv1D: Either stride or dilation must be 1. Got stride "+r+" and dilation '"+a+"'"),p("NWC"===o,"Error in conv1d: got dataFormat of "+o+" but only NWC is currently supported.");var f=n.as4D(1,n.shape[0],n.shape[1],n.shape[2]),h=u.as4D(u.shape[0],1,u.shape[1],u.shape[2]),d=t.conv2d(h,f,[1,r],i,"NHWC",[1,a],s);return l?d.as2D(d.shape[2],d.shape[3]):d.as3D(d.shape[0],d.shape[2],d.shape[3])},t.conv2d=function(e,n,r,i,o,a,s){void 0===o&&(o="NHWC"),void 0===a&&(a=[1,1]),c({x:e,filter:n},"conv2d");var u=e,l=!1;3===e.rank&&(l=!0,u=e.as4D(1,e.shape[0],e.shape[1],e.shape[2])),p(4===u.rank,"Error in conv2d: input must be rank 4, but got rank "+u.rank+"."),p(4===n.rank,"Error in conv2d: filter must be rank 4, but got rank "+n.rank+"."),null!=s&&p(x(i),"Error in conv2d: pad must be an integer when using, dimRoundingMode "+s+" but got pad "+i+"."),p(u.shape[3]===n.shape[2],"Error in conv2d: depth of input ("+u.shape[3]+") must match input depth for filter "+n.shape[2]+"."),p(Wt(r,a),"Error in conv2D: Either strides or dilations must be 1. Got strides "+r+" and dilations '"+a+"'"),p("NHWC"===o,"Error in conv2d: got dataFormat of "+o+" but only NHWC is currently supported.");var f=Lt(u.shape,n.shape,r,a,i,s),h=Ki.engine.runKernel(function(t){return t.conv2d(u,n,f)},{x:u,filter:n},function(e){return p(Bt(a),"Error in gradient of conv2D: dilation rates greater than 1 are notyet supported in gradients. Got dilations '"+a+"'"),{x:function(){return t.conv2dDerInput(u.shape,e,n,r,i)},filter:function(){return t.conv2dDerFilter(u,e,n.shape,r,i)}}});return l?h.as3D(h.shape[1],h.shape[2],h.shape[3]):h},t.conv2dDerInput=function(t,e,n,r,i,o){c({dy:e,filter:n},"conv2dDerInput"),p(t.length===e.rank,"Length of inShape ("+t.length+") and rank of dy ("+e.rank+") must match");var a=t,s=e,u=!1;3===e.rank&&(u=!0,s=e.as4D(1,e.shape[0],e.shape[1],e.shape[2]),a=[1,t[0],t[1],t[2]]);var l=a[3],f=s.shape[3];p(4===a.length,"Error in conv2dDerInput: inShape must be length 4, but got length "+a.length+"."),p(4===s.rank,"Error in conv2dDerInput: dy must be rank 4, but got rank "+s.rank),p(4===n.rank,"Error in conv2dDerInput: filter must be rank 4, but got rank "+n.rank),p(l===n.shape[2],"Error in conv2dDerInput: depth of input ("+l+") must match input depth for filter "+n.shape[2]+"."),p(f===n.shape[3],"Error in conv2dDerInput: depth of output ("+f+") must match output depth for filter "+n.shape[3]+"."),null!=o&&p(x(i),"Error in conv2dDerInput: pad must be an integer when using, dimRoundingMode "+o+" but got pad "+i+".");var h=Lt(a,n.shape,r,1,i,o),d=Ki.engine.runKernel(function(t){return t.conv2dDerInput(s,n,h)},{dy4D:s});return u?d.as3D(d.shape[1],d.shape[2],d.shape[3]):d},t.conv2dDerFilter=function(t,e,n,r,i,o){c({x:t,dy:e},"conv2dDerFilter");var a=t;3===t.rank&&(a=t.as4D(1,t.shape[0],t.shape[1],t.shape[2]));var s=e;3===s.rank&&(s=e.as4D(1,e.shape[0],e.shape[1],e.shape[2])),p(4===a.rank,"Error in conv2dDerFilter: input must be rank 4, but got shape "+a.shape+"."),p(4===s.rank,"Error in conv2dDerFilter: dy must be rank 4, but got shape "+s.shape+"."),p(4===n.length,"Error in conv2dDerFilter: filterShape must be length 4, but got "+n+"."),p(a.shape[3]===n[2],"Error in conv2dDerFilter: depth of input "+a.shape[3]+") must match input depth in filter ("+n[2]+"."),p(s.shape[3]===n[3],"Error in conv2dDerFilter: depth of dy ("+s.shape[3]+") must match output depth for filter ("+n[3]+")."),null!=o&&p(x(i),"Error in conv2dDerFilter: pad must be an integer when using, dimRoundingMode "+o+" but got pad "+i+".");var u=Lt(a.shape,n,r,1,i,o);return Ki.engine.runKernel(function(t){return t.conv2dDerFilter(a,s,u)},{x4D:a,dy4D:s})},t.conv2dTranspose=function(e,n,r,i,o,a){return c({x:e,filter:n},"conv2dTranspose"),t.conv2dDerInput(r,e,n,i,o,a)},t.depthwiseConv2d=function(t,e,n,r,i,o,a){void 0===i&&(i="NHWC"),void 0===o&&(o=[1,1]),c({x:t,filter:e},"depthwiseConv2d");var s=t,u=!1;3===t.rank&&(u=!0,s=t.as4D(1,t.shape[0],t.shape[1],t.shape[2])),p(4===s.rank,"Error in depthwiseConv2d: input must be rank 4, but got rank "+s.rank+"."),p(4===e.rank,"Error in depthwiseConv2d: filter must be rank 4, but got rank "+e.rank+"."),p(s.shape[3]===e.shape[2],"Error in depthwiseConv2d: number of input channels ("+s.shape[3]+") must match the inChannels dimension in filter "+e.shape[2]+"."),null==o&&(o=[1,1]),p(Wt(n,o),"Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+o+"'"),null!=a&&p(x(r),"Error in depthwiseConv2d: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+r+".");var l=Lt(s.shape,e.shape,n,o,r,a,!0),f=Ki.engine.runKernel(function(t){return t.depthwiseConv2D(s,e,l)},{x:s,filter:e},function(t){return p(Bt(o),"Error in gradient of depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '"+o+"'"),{x:function(){return function(t,e,n,r){var i=e,o=!1;3===e.rank&&(o=!0,i=e.as4D(1,e.shape[0],e.shape[1],e.shape[2]));var a=Ki.engine.runKernel(function(t){return t.depthwiseConv2DDerInput(i,n,r)},{dy4D:i});return o?a.as3D(a.shape[1],a.shape[2],a.shape[3]):a}(0,t,e,l)},filter:function(){return function(t,e,n,r){var i=s;3===s.rank&&(i=s.as4D(1,s.shape[0],s.shape[1],s.shape[2]));var o=e;return 3===o.rank&&(o=e.as4D(1,e.shape[0],e.shape[1],e.shape[2])),Ki.engine.runKernel(function(t){return t.depthwiseConv2DDerFilter(i,o,r)},{x4D:i,dy4D:o})}(0,t,0,l)}}});return u?f.as3D(f.shape[1],f.shape[2],f.shape[3]):f},t.separableConv2d=function(e,n,r,i,o,a,s){void 0===a&&(a=[1,1]),void 0===s&&(s="NHWC"),c({x:e,depthwiseFilter:n,pointwiseFilter:r},"separableConv2d");var u=e,l=!1;if(3===e.rank&&(l=!0,u=e.as4D(1,e.shape[0],e.shape[1],e.shape[2])),"NCHW"===s)throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");p(4===u.rank,"Error in separableConv2d: input must be rank 4, but got rank "+u.rank+"."),p(4===n.rank,"Error in separableConv2d: depthwise filter must be rank 4, but got rank "+n.rank+"."),p(4===r.rank,"Error in separableConv2d: pointwise filter must be rank 4, but got rank "+n.rank+"."),p(1===r.shape[0],"Error in separableConv2d: the first dimension of pointwise filter  must be 1, but got "+r.shape[0]+"."),p(1===r.shape[1],"Error in separableConv2d: the second dimension of pointwise filter  must be 1, but got "+r.shape[1]+".");var f=n.shape[2],h=n.shape[3];p(r.shape[2]===f*h,"Error in separableConv2d: the third dimension of pointwise filter must be "+f*h+", but got "+r.shape[2]+".");var d=t.depthwiseConv2d(u,n,i,o,s,a),v=t.conv2d(d,r,1,"valid",s);return l?v.as3D(v.shape[1],v.shape[2],v.shape[3]):v},o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"conv1d",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"conv2d",null),o([tt],t,"conv2dDerInput",null),o([tt],t,"conv2dDerFilter",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"conv2dTranspose",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"depthwiseConv2d",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"separableConv2d",null),t}();function Bt(t){var e=function(t){return"number"==typeof t?[t,t]:t}(t);return 1===e[0]&&1===e[1]}function Wt(t,e){return Bt(t)||Bt(e)}var Ht,Xt=function(){function t(){}return t.resizeBilinear=function(t,e,n){void 0===n&&(n=!1),c({images:t},"resizeBilinear"),p(3===t.rank||4===t.rank,"Error in resizeBilinear: x must be rank 3 or 4, but got rank "+t.rank+"."),p(2===e.length,"Error in resizeBilinear: new shape must 2D, but got shape "+e+".");var r=t,i=!1;3===t.rank&&(i=!0,r=t.as4D(1,t.shape[0],t.shape[1],t.shape[2]));var o=e[0],a=e[1],s=Ki.engine.runKernel(function(t,e){return t.resizeBilinear(r,o,a,n)},{batchImages:r},function(t,e){return{batchImages:function(){return Ki.engine.runKernel(function(e){return e.resizeBilinearBackprop(t,r,n)},{})}}});return i?s.as3D(s.shape[1],s.shape[2],s.shape[3]):s},t.resizeNearestNeighbor=function(t,e,n){void 0===n&&(n=!1),c({images:t},"resizeNearestNeighbor"),p(3===t.rank||4===t.rank,"Error in resizeNearestNeighbor: x must be rank 3 or 4, but got rank "+t.rank+"."),p(2===e.length,"Error in resizeNearestNeighbor: new shape must 2D, but got shape "+e+"."),p("float32"===t.dtype||"int32"===t.dtype,"`images` must have `int32` or `float32` as dtype");var r=t,i=!1;3===t.rank&&(i=!0,r=t.as4D(1,t.shape[0],t.shape[1],t.shape[2]));var o=e[0],a=e[1],s=Ki.engine.runKernel(function(t){return t.resizeNearestNeighbor(r,o,a,n)},{batchImages:r});return i?s.as3D(s.shape[1],s.shape[2],s.shape[3]):s},o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"resizeBilinear",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"resizeNearestNeighbor",null),t}(),qt=function(){function t(){}return t.tidy=function(t,e,n){void 0===n&&(n=!1);var r=null;if(null==e){if("function"!=typeof t)throw new Error("Please provide a function to tidy()");e=t}else{if("string"!=typeof t&&!(t instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if("function"!=typeof e)throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");r=t}Ki.engine.startScope(r,n);var i=e();return i instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),Ki.engine.endScope(i,n),i},t.dispose=function(t){F(t).forEach(function(t){return t.dispose()})},t.keep=function(t){return Ki.engine.keep(t)},t.time=function(t){return Ki.engine.time(t)},o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]}],t,"tidy",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]}],t,"dispose",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]}],t,"keep",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]}],t,"time",null),t}(),Ut=function(){function t(){}return t.gramSchmidt=function(t){var e;if(Array.isArray(t)){e=!1,p(null!=t&&t.length>0,"Gram-Schmidt process: input must not be null, undefined, or empty");for(var n=t[0].shape[0],r=1;r<t.length;++r)p(t[r].shape[0]===n,"Gram-Schmidt: Non-unique lengths found in the input vectors: ("+t[r].shape[0]+" vs. "+n+")")}else e=!0,t=ri(t,t.shape[0],0).map(function(t){return Fr(t,[0])});p(t.length<=t[0].shape[0],"Gram-Schmidt: Number of vectors ("+t.length+") exceeds number of dimensions ("+t[0].shape[0]+").");var i=[],o=t,a=function(t){i.push(qt.tidy(function(){var e=o[t];if(t>0)for(var n=0;n<t;++n){var r=Qe(i[n].mulStrict(e)).mul(i[n]);e=e.sub(r)}return e.div(xr(e,"euclidean"))}))};for(r=0;r<t.length;++r)a(r);return e?ei(i,0):i},o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"gramSchmidt",null),t}();!function(t){t[t.NONE=0]="NONE",t[t.MEAN=1]="MEAN",t[t.SUM=2]="SUM",t[t.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"}(Ht||(Ht={}));var Gt=function(){function t(){}return t.computeWeightedLoss=function(t,e,n){void 0===n&&(n=Ht.SUM_BY_NONZERO_WEIGHTS),c({losses:t},"computeWeightedLoss"),null!=e&&c({weights:e},"computeWeightedLoss");var r=null==e?t:t.mul(e);if(n===Ht.NONE)return r;if(n===Ht.SUM)return r.sum();if(n===Ht.MEAN)return null==e?r.mean():r.sum().div(e.sum());if(n===Ht.SUM_BY_NONZERO_WEIGHTS){if(null==e)return r.sum().div(Ur(t.size));var i=e.notEqual(Ur(0)).sum().toFloat();return r.sum().div(i)}throw Error("Unknown reduction: "+n)},t.absoluteDifference=function(e,n,r,i){void 0===i&&(i=Ht.SUM_BY_NONZERO_WEIGHTS),c({labels:e,predictions:n},"absoluteDifference"),null!=r&&c({weights:r},"absoluteDifference"),v(e.shape,n.shape,"Error in absoluteDifference: ");var o=e.sub(n).abs();return t.computeWeightedLoss(o,r,i)},t.meanSquaredError=function(e,n,r,i){void 0===i&&(i=Ht.SUM_BY_NONZERO_WEIGHTS),c({labels:e,predictions:n},"meanSquaredError"),null!=r&&c({weights:r},"meanSquaredError"),v(e.shape,n.shape,"Error in meanSquaredError: ");var o=e.squaredDifference(n);return t.computeWeightedLoss(o,r,i)},t.cosineDistance=function(e,n,r,i,o){void 0===o&&(o=Ht.SUM_BY_NONZERO_WEIGHTS),c({labels:e,predictions:n},"cosineDistance"),null!=i&&c({weights:i},"cosineDistance"),v(e.shape,n.shape,"Error in cosineDistance: ");var a=Ur(1).sub(e.mul(n).sum(r,!0));return t.computeWeightedLoss(a,i,o)},t.hingeLoss=function(e,n,r,i){void 0===i&&(i=Ht.SUM_BY_NONZERO_WEIGHTS),c({labels:e,predictions:n},"hingeLoss"),null!=r&&c({weights:r},"hingeLoss"),v(e.shape,n.shape,"Error in hingeLoss: ");var o=Ur(1);e=Ur(2).mul(e).sub(o);var a=o.sub(e.mul(n)).relu();return t.computeWeightedLoss(a,r,i)},t.logLoss=function(e,n,r,i,o){void 0===i&&(i=1e-7),void 0===o&&(o=Ht.SUM_BY_NONZERO_WEIGHTS),c({labels:e,predictions:n},"logLoss"),null!=r&&c({weights:r},"logLoss"),v(e.shape,n.shape,"Error in logLoss: ");var a=Ur(1),s=Ur(i),u=e.mul(n.add(s).log()).neg().sub(a.sub(e).mul(a.sub(n).add(s).log()));return t.computeWeightedLoss(u,r,o)},t.huberLoss=function(e,n,r,i,o){void 0===i&&(i=1),void 0===o&&(o=Ht.SUM_BY_NONZERO_WEIGHTS),c({labels:e,predictions:n},"huberLoss"),null!=r&&c({weights:r},"huberLoss"),v(e.shape,n.shape,"Error in huberLoss: ");var a=Ur(i),s=n.sub(e).abs(),u=lr(s,a),l=s.sub(u),f=Ur(.5).mul(u.square()).add(a.mul(l));return t.computeWeightedLoss(f,r,o)},o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"computeWeightedLoss",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"absoluteDifference",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"meanSquaredError",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"cosineDistance",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"hingeLoss",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"logLoss",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"huberLoss",null),t}(),Yt=function(){function t(){}return t.localResponseNormalization=function(t,e,n,r,i){void 0===e&&(e=5),void 0===n&&(n=1),void 0===r&&(r=1),void 0===i&&(i=.5),c({x:t},"localResponseNormalization"),p(4===t.rank||3===t.rank,"Error in localResponseNormalization: x must be rank 3 or 4 but got\n               rank "+t.rank+"."),p(x(e),"Error in localResponseNormalization: depthRadius must be an integer\n                     but got depthRadius "+e+".");var o=t,a=!1;3===t.rank&&(a=!0,o=t.as4D(1,t.shape[0],t.shape[1],t.shape[2]));var s=Ki.engine.runKernel(function(t){return t.localResponseNormalization4D(o,e,n,r,i)},{x4D:o});return a?s.as3D(s.shape[1],s.shape[2],s.shape[3]):s},o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"localResponseNormalization",null),t}(),Kt=function(){function t(){}return t.multiRNNCell=function(t,e,n,r){c({data:e,c:n,h:r},"multiRNNCell");for(var i=e,o=[],a=0;a<t.length;a++){var s=t[a](i,n[a],r[a]);o.push(s[0]),o.push(s[1]),i=s[1]}var u=[],l=[];for(a=0;a<o.length;a+=2)u.push(o[a]),l.push(o[a+1]);return[u,l]},t.basicLSTMCell=function(t,e,n,r,i,o){c({forgetBias:t,lstmKernel:e,lstmBias:n,data:r,c:i,h:o},"basicLSTMCell");var a=r.concat(o,1).matMul(e).add(n),s=a.shape[1]/4,u=[a.shape[0],s],l=a.slice([0,0],u),f=a.slice([0,s],u),h=a.slice([0,2*s],u),d=a.slice([0,3*s],u),p=l.sigmoid().mulStrict(f.tanh()).addStrict(i.mulStrict(t.add(h).sigmoid()));return[p,p.tanh().mulStrict(d.sigmoid())]},o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"multiRNNCell",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"basicLSTMCell",null),t}(),Zt=function(){function t(){}return t.matMul=function(t,e,n,r){void 0===n&&(n=!1),void 0===r&&(r=!1),c({a:t,b:e},"matMul");var i=n?t.shape[0]:t.shape[1],o=r?e.shape[1]:e.shape[0];return p(2===t.rank&&2===e.rank,"Error in matMul: inputs must be rank 2, got ranks "+t.rank+" and "+e.rank+"."),p(i===o,"Error in matMul: inner shapes ("+i+") and ("+o+") of Tensors with shapes "+t.shape+" and "+e.shape+" and transposeA="+n+" and transposeB="+r+" must match."),Ki.engine.runKernel(function(i){return i.matMul(t,e,n,r)},{a:t,b:e},function(i){return n||r?!n&&r?{a:function(){return i.matMul(e.toFloat(),!1,!1)},b:function(){return i.matMul(t.toFloat(),!0,!1)}}:n&&!r?{a:function(){return e.toFloat().matMul(i,!1,!0)},b:function(){return t.toFloat().matMul(i,!1,!1)}}:{a:function(){return e.toFloat().matMul(i,!0,!0)},b:function(){return i.matMul(t.toFloat(),!0,!0)}}:{a:function(){return i.matMul(e.toFloat(),!1,!0)},b:function(){return t.toFloat().matMul(i,!0,!1)}}})},t.vectorTimesMatrix=function(t,e){return p(1===t.rank,"Error in vectorTimesMatrix: first input must be rank 1, but got rank "+t.rank+"."),p(2===e.rank,"Error in vectorTimesMatrix: second input must be rank 2, but got rank "+e.rank+"."),p(t.size===e.shape[0],"Error in vectorTimesMatrix: size of vector ("+t.size+") must match first dimension of matrix ("+e.shape[0]+")"),t.as2D(1,-1).matMul(e).as1D()},t.matrixTimesVector=function(t,e){return p(1===e.rank,"Error in matrixTimesVector: second input must rank 1, but got rank "+e.rank+"."),p(2===t.rank,"Error in matrixTimesVector: first input must be a rank 2, but got rank "+t.rank+"."),p(e.size===t.shape[1],"Error in matrixTimesVector: size of first rank 1 input "+e.size+" must match inner dimension of second rank 2 input, but got shape "+t.shape+"."),t.matMul(e.as2D(-1,1)).as1D()},t.dotProduct=function(t,e){return p(1===t.rank&&1===e.rank,"Error in dotProduct: inputs must be rank 1, but got ranks "+t.rank+" and "+e.rank+"."),p(t.size===e.size,"Error in dotProduct: size of inputs ("+t.size+") and ("+e.size+") must match."),t.as2D(1,-1).matMul(e.as2D(-1,1)).asScalar()},t.outerProduct=function(t,e){return p(1===t.rank&&1===e.rank,"Error in outerProduct: inputs must be rank 1, but got ranks "+t.rank+" and "+e.rank+"."),t.as2D(-1,1).matMul(e.as2D(1,-1))},t.dot=function(t,e){p(!(1!==t.rank&&2!==t.rank||1!==e.rank&&2!==e.rank),"Error in dot: inputs must all be rank 1 or 2, but got ranks "+t.rank+" and "+e.rank+".");var n=1===t.rank?t.size:t.shape[1],r=1===e.rank?e.size:e.shape[0];return p(n===r,"Error in dot: inner dimensions of inputs must match, but got "+n+" and "+r+"."),1===t.rank&&1===e.rank?t.as2D(1,-1).matMul(e.as2D(-1,1)).asScalar():1===t.rank&&2===e.rank?t.as2D(1,-1).matMul(e.as2D(e.shape[0],e.shape[1])).as1D():2===t.rank&&1===e.rank?t.matMul(e.as2D(-1,1)).as1D():t.matMul(e.as2D(e.shape[0],e.shape[1]))},o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"matMul",null),o([tt],t,"vectorTimesMatrix",null),o([tt],t,"matrixTimesVector",null),o([tt],t,"dotProduct",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"outerProduct",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"dot",null),t}(),Jt=function(){function t(){}return t.movingAverage=function(t,e,n,r,i){void 0===i&&(i=!0),c({v:t,x:e},"movingAverage"),g(t,e),p(w(t.shape,e.shape),"Shape mismatch in v and x");var o=Et.scalar(1);n="number"==typeof n?Et.scalar(n):n;var a=o.sub(n),s=e.sub(t).mul(a);return i&&(p(null!=r,"When using zeroDebias: true, step is required."),r="number"==typeof r?Et.scalar(r):r,s=s.div(o.sub(Dt.pow(n,r)))),t.add(s)},o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"movingAverage",null),t}(),Qt=function(){function t(){}return t.norm=function(t,e,n,r){void 0===e&&(e="euclidean"),void 0===n&&(n=null),void 0===r&&(r=!1),c({x:t},"norm");var i=function t(e,n,r){if(void 0===r&&(r=null),0===e.rank)return e.abs();if(1!==e.rank&&null===r)return t(e.reshape([-1]),n,r);if(1===e.rank||"number"==typeof r||r instanceof Array&&1===r.length){if(1===n)return e.abs().sum(r);if(n===1/0)return e.abs().max(r);if(n===-1/0)return e.abs().min(r);if("euclidean"===n||2===n)return e.abs().pow(Ur(2,"int32")).sum(r).sqrt();throw new Error("Error in norm: invalid ord value: "+n)}if(r instanceof Array&&2===r.length){if(1===n)return e.abs().sum(r[0]).max(r[1]-1);if(n===1/0)return e.abs().sum(r[1]).max(r[0]);if(n===-1/0)return e.abs().sum(r[1]).min(r[0]);if("fro"===n||"euclidean"===n)return e.square().sum(r).sqrt();throw new Error("Error in norm: invalid ord value: "+n)}throw new Error("Error in norm: invalid axis: "+r)}(t,e,n),o=i.shape;if(r){var a=Y(n,t.shape);o=G(i.shape,a)}return i.reshape(o)},o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"norm",null),t}(),$t=function(){function t(){}return t.maxPool=function(e,n,r,i,o){c({x:e},"maxPool");var a=e,s=!1;3===e.rank&&(s=!0,a=e.as4D(1,e.shape[0],e.shape[1],e.shape[2])),p(4===a.rank,"Error in maxPool: input must be rank 4 but got rank "+a.rank+"."),null!=o&&p(x(i),"Error in maxPool: pad must be an integer when using, dimRoundingMode "+o+" but got pad "+i+".");var u=Nt(a.shape,n,r,i,o),l=Ki.engine.runKernel(function(t,e){return e(t.maxPool(a,u))},{x:a},function(e,o){var s=o[0];return{x:function(){return t.maxPoolBackprop(e,a,s,n,r,i)}}});return s?l.as3D(l.shape[1],l.shape[2],l.shape[3]):l},t.maxPoolBackprop=function(t,e,n,r,i,o,a){c({dy:t,input:e,output:n},"maxPoolBackprop"),p(e.rank===t.rank,"Rank of input ("+e.rank+") does not match rank of dy ("+t.rank+")"),p(4===t.rank,"Error in maxPoolBackprop: dy must be rank 4 but got rank "+t.rank+"."),p(4===e.rank,"Error in maxPoolBackprop: input must be rank 4 but got rank "+e.rank+"."),null!=a&&p(x(o),"Error in maxPoolBackprop: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+o+".");var s=Nt(e.shape,r,i,o,a);return Ki.engine.runKernel(function(r){return r.maxPoolBackprop(t,e,n,s)},{dy:t,input:e})},t.avgPool=function(e,n,r,i,o){c({x:e},"avgPool"),p("float32"===e.dtype,"The input dtype to avgPool must be float32");var a=e,s=!1;3===e.rank&&(s=!0,a=e.as4D(1,e.shape[0],e.shape[1],e.shape[2])),p(4===a.rank,"Error in avgPool: x must be rank 4 but got rank "+a.rank+"."),null!=o&&p(x(i),"Error in avgPool: pad must be an integer when using, dimRoundingMode "+o+" but got pad "+i+".");var u=Nt(a.shape,n,r,i),l=Ki.engine.runKernel(function(t){return t.avgPool(a,u)},{x:a},function(e){return{x:function(){return t.avgPoolBackprop(e,a,n,r,i)}}});return l=l.cast(e.dtype),s?l.as3D(l.shape[1],l.shape[2],l.shape[3]):l},t.avgPoolBackprop=function(t,e,n,r,i){c({dy:t,input:e},"avgPoolBackprop"),p(e.rank===t.rank,"Rank of input ("+e.rank+") does not match rank of dy ("+t.rank+")");var o=e,a=t,s=!1;3===e.rank&&(s=!0,o=e.as4D(1,e.shape[0],e.shape[1],e.shape[2]),a=t.as4D(1,t.shape[0],t.shape[1],t.shape[2])),p(4===a.rank,"Error in avgPoolBackprop: dy must be rank 4 but got rank "+a.rank+"."),p(4===o.rank,"Error in avgPoolBackprop: input must be rank 4 but got rank "+o.rank+".");var u=Nt(o.shape,n,r,i),l=Ki.engine.runKernel(function(t){return t.avgPoolBackprop(a,o,u)},{dy4D:a,input4D:o});return s?l.as3D(l.shape[1],l.shape[2],l.shape[3]):l},o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"maxPool",null),o([tt],t,"maxPoolBackprop",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"avgPool",null),o([tt],t,"avgPoolBackprop",null),t}(),te=function(){function t(){}return t.logSumExp=function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=!1),c({x:t},"logSumExp");var r=Y(e,t.shape),i=t.max(r,!0),o=t.sub(i).exp().sum(r).log(),a=i.reshape(o.shape).add(o);if(n){var s=G(a.shape,r);return a.reshape(s)}return a},t.sum=function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=!1),c({x:t},"sum"),"bool"===t.dtype&&(t=t.toInt());var r=Y(e,t.shape);return Li(function(t){var e=Z(r,t.rank),i=r,o=t;null!=e&&(o=t.transpose(e),i=Q(i.length,t.rank));var a=Ki.engine.runKernel(function(t){return t.sum(o,i)},{permutedX:o});if(n){var s=G(a.shape,r);a=a.reshape(s)}return{value:a,gradFunc:function(e){var n=t.shape.slice();return r.forEach(function(t){n[t]=1}),e.reshape(n).mul(Pr(t.shape,"float32"))}}})(t)},t.mean=function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=!1),c({x:t},"mean");var r=Y(e,t.shape),i=b(U(t.shape,r)[1]);return Li(function(t){var o=Ur(i);return{value:(o.dtype===t.dtype?t:t.cast(o.dtype)).div(o).sum(e,n),gradFunc:function(e){var n=t.shape.slice();return r.forEach(function(t){n[t]=1}),e.reshape(n).mul(Pr(t.shape,"float32")).div(o)}}})(t)},t.min=function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=!1),c({x:t},"min");var r=Y(e,t.shape),i=r,o=Z(i,t.rank);null!=o&&(t=t.transpose(o),i=Q(i.length,t.rank));var a=Ki.engine.runKernel(function(e){return e.min(t,i)},{x:t});if(n){var s=G(a.shape,r);return a.reshape(s)}return a},t.max=function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=!1),c({x:t},"max");var r=Y(e,t.shape),i=r,o=Z(i,t.rank);null!=o&&(t=t.transpose(o),i=Q(i.length,t.rank));var a=Ki.engine.runKernel(function(e){return e.max(t,i)},{x:t});if(n){var s=G(a.shape,r);return a.reshape(s)}return a},t.argMin=function(t,e){void 0===e&&(e=0),c({x:t},"argMin"),null==e&&(e=0);var n=Y(e,t.shape),r=Z(n,t.rank);return null!=r&&(t=t.transpose(r),n=Q(n.length,t.rank)),Ki.engine.runKernel(function(e){return e.argMin(t,n[0])},{x:t})},t.argMax=function(t,e){void 0===e&&(e=0),c({x:t},"argMax"),null==e&&(e=0);var n=Y(e,t.shape),r=Z(n,t.rank);return null!=r&&(t=t.transpose(r),n=Q(n.length,t.rank)),Ki.engine.runKernel(function(e){return e.argMax(t,n[0])},{x:t})},t.all=function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=!1),c({x:t},"all"),p("bool"===t.dtype,"Error Array must be of type bool.");var r=Y(e,t.shape),i=r,o=Z(i,t.rank);null!=o&&(t=t.transpose(o),i=Q(i.length,t.rank));var a=Ki.engine.runKernel(function(e){return e.all(t,i)},{x:t});if(n){var s=G(a.shape,r);return a.reshape(s)}return a},t.moments=function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=!1),c({x:t},"moments");var r=Y(e,t.shape),i=t.mean(r,n),o=i.shape;return n||(o=G(i.shape,r)),{mean:i,variance:t.toFloat().sub(i.reshape(o)).square().mean(r,n)}},o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"logSumExp",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"sum",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"mean",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"min",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"max",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"argMin",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"argMax",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"all",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"moments",null),t}(),ee=function(){function t(){}return t.reverse1d=function(e){return p(1===e.rank,"Error in reverse1D: x must be rank 1 but got\n             rank "+e.rank+"."),t.reverse(e,0)},t.reverse2d=function(e,n){return p(2===e.rank,"Error in reverse2D: x must be rank 2 but got\n             rank "+e.rank+"."),t.reverse(e,n)},t.reverse3d=function(e,n){return p(3===e.rank,"Error in reverse3D: x must be rank 3 but got\n             rank "+e.rank+"."),t.reverse(e,n)},t.reverse4d=function(e,n){return p(4===e.rank,"Error in reverse4D: x must be rank 4 but got\n             rank "+e.rank+"."),t.reverse(e,n)},t.reverse=function(t,e){if(c({x:t},"reverse"),0===t.rank)return t.clone();var n=Y(e,t.shape);return Ki.engine.runKernel(function(e){return e.reverse(t,n)},{x:t},function(t){return{x:function(){return t.reverse(n)}}}).reshapeAs(t)},o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"reverse",null),t}(),ne=function(){function t(){}return t.sigmoidCrossEntropyWithLogits=function(t,e){c({labels:t,logits:e},"sigmoidCrossEntropyWithLogits"),v(t.shape,e.shape,"Error in sigmoidCrossEntropyWithLogits: ");var n=e.relu(),r=e.mul(t),i=e.abs().neg().exp().log1p();return n.sub(r).add(i)},o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"sigmoidCrossEntropyWithLogits",null),t}();function re(t,e,n,r,i,o){void 0===i&&(i=0),void 0===o&&(o=0);for(var a=[],s=[],u=0;u<t.length;u++)a[u]=ie(i,e,r,t,u),s[u]=oe(o,n,r,t,u);var l=new Array(t.length).fill(0);return l=l.map(function(t,e){for(var n=0,i=a[e];!(r[e]>0?i>=s[e]:i<=s[e]);i+=r[e])n+=1;return n}),[a,l]}function ie(t,e,n,r,i){var o=e[i];t&1<<i&&(o=n[i]>0?Number.MIN_SAFE_INTEGER:Number.MAX_SAFE_INTEGER);var a=r[i];return o<0&&(o+=a),h(0,o,a-1)}function oe(t,e,n,r,i){var o=e[i];t&1<<i&&(o=n[i]>0?Number.MAX_SAFE_INTEGER:Number.MIN_SAFE_INTEGER);var a=r[i];return o<0&&(o+=a),n[i]>0?h(0,o,a):h(-1,o,a-1)}var ae=function(){function t(){}return t.slice1d=function(e,n,r){return p(1===e.rank,"slice1d expects a rank-1 tensor, but got a rank-"+e.rank+" tensor"),t.slice(e,[n],[r])},t.slice2d=function(e,n,r){return p(2===e.rank,"slice1d expects a rank-2 tensor, but got a rank-"+e.rank+" tensor"),t.slice(e,n,r)},t.slice3d=function(e,n,r){return p(3===e.rank,"slice1d expects a rank-3 tensor, but got a rank-"+e.rank+" tensor"),t.slice(e,n,r)},t.slice4d=function(e,n,r){return p(4===e.rank,"slice1d expects a rank-4 tensor, but got a rank-"+e.rank+" tensor"),t.slice(e,n,r)},t.slice=function(t,e,n){if(c({x:t},"slice"),0===t.rank)throw new Error("Slicing scalar is not possible");var r,i;r="number"==typeof e?[e].concat(new Array(t.rank-1).fill(0)):e.length<t.rank?e.concat(new Array(t.rank-e.length).fill(0)):e,i=(i=null==n?new Array(t.rank).fill(-1):"number"==typeof n?[n].concat(new Array(t.rank-1).fill(-1)):n.length<t.rank?n.concat(new Array(t.rank-n.length).fill(-1)):n).map(function(e,n){return e>=0?e:(p(-1===e,"Bad value in size"),t.shape[n]-r[n])}),function(t,e,n){p(t.rank===e.length,"Error in slice"+t.rank+"D: Length of begin "+e+" must match the rank of the array ("+t.rank+")."),p(t.rank===n.length,"Error in slice"+t.rank+"D: Length of size "+n+" must match the rank of the array ("+t.rank+").");for(var r=0;r<t.rank;++r)p(e[r]+n[r]<=t.shape[r],"Error in slice"+t.rank+"D: begin["+r+"] + size["+r+"] ("+(e[r]+n[r])+") would overflow input.shape["+r+"] ("+t.shape[r]+")")}(t,r,i);var o=t.shape;return Ki.engine.runKernel(function(e){return e.slice(t,r,i)},{x:t},function(t){for(var e=[],n=0;n<t.rank;n++)e.push([r[n],o[n]-r[n]-i[n]]);return{x:function(){return t.pad(e)}}})},o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"slice",null),t}(),se=function(){function t(){}return t.softmax=function(t,e){if(void 0===e&&(e=-1),c({logits:t},"softmax"),-1===e&&(e=t.rank-1),e!==t.rank-1)throw Error("Softmax along a non-last dimension is not yet supported. Logits was rank "+t.rank+" and dim was "+e);return Li(function(t){var n=t.logSumExp([e],!0),r=t.toFloat().sub(n).exp();return{value:r,gradFunc:function(t){var n=t.mul(r);return n.sub(n.sum([e],!0).mul(r))}}})(t)},t.softmaxCrossEntropy=function(t,e,n){if(void 0===n&&(n=-1),c({labels:t,logits:e},"softmaxCrossEntropy"),v(t.shape,e.shape,"Error in softmaxCrossEntropy: "),-1===n&&(n=e.rank-1),n!==e.rank-1)throw Error("Softmax cross entropy along a non-last dimension is not yet supported. Labels / logits was rank "+e.rank+" and dim was "+n);return Li(function(t,e){var r=e.softmax(n);return{value:Ur(1e-5).add(r).log().mul(t).neg().sum([n]),gradFunc:function(e){var i=G(e.shape,[n]);return[e.reshape(i).mul(t.toFloat().sub(r)),e.reshape(i).mul(r.sub(t.toFloat()))]}}})(t,e)},o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"softmax",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"softmaxCrossEntropy",null),t}(),ue=function(){function t(){}return t.stridedSlice=function(t,e,n,r,i,o){return void 0===i&&(i=0),void 0===o&&(o=0),c({x:t},"stridedSlice"),Ki.engine.runKernel(function(a){return a.stridedSlice(t,e,n,r,i,o)},{x:t})},o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"stridedSlice",null),t}(),le=function(){function t(){}return t.transpose=function(t,e){return c({x:t},"transpose"),null==e&&(e=t.shape.map(function(t,e){return e}).reverse()),p(t.rank===e.length,"Error in transpose: rank of input "+t.rank+" must match length of perm "+e+"."),e.forEach(function(n){p(n>=0&&n<t.rank,"All entries in 'perm' must be between 0 and "+(t.rank-1)+" but got "+e)}),t.rank<=1?t.clone():Ki.engine.runKernel(function(n){return n.transpose(t,e)},{x:t},function(t){var n=J(e);return{x:function(){return t.transpose(n)}}})},o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"transpose",null),t}(),ce=function(){function t(){}return t.neg=function(t){return c({x:t},"neg"),Ki.engine.runKernel(function(e){return e.neg(t)},{x:t},function(t){return{x:function(){return t.neg()}}})},t.ceil=function(t){return c({x:t},"ceil"),Ki.engine.runKernel(function(e){return e.ceil(t)},{x:t},function(t){return{x:function(){return Er(t)}}})},t.floor=function(t){return c({x:t},"floor"),Ki.engine.runKernel(function(e){return e.floor(t)},{x:t},function(t){return{x:function(){return Er(t)}}})},t.sign=function(t){return c({x:t},"sign"),Ki.engine.runKernel(function(e){return e.sign(t)},{x:t},function(t){return{x:function(){return Er(t)}}})},t.round=function(t){return c({x:t},"round"),Ki.engine.runKernel(function(e){return e.round(t)},{x:t},function(t){return{x:function(){return Er(t)}}})},t.exp=function(t){return c({x:t},"exp"),Ki.engine.runKernel(function(e,n){return n(e.exp(t))},{x:t},function(t,e){var n=e[0];return{x:function(){return t.mulStrict(n)}}})},t.expm1=function(t){return c({x:t},"expm1"),Ki.engine.runKernel(function(e){return e.expm1(t)},{x:t},function(e){return{x:function(){return e.mulStrict(t.exp())}}})},t.log=function(t){return c({x:t},"log"),Ki.engine.runKernel(function(e){return e.log(t)},{x:t},function(e){return{x:function(){return e.divStrict(t.toFloat())}}})},t.log1p=function(t){return c({x:t},"log1p"),Ki.engine.runKernel(function(e){return e.log1p(t)},{x:t},function(e){return{x:function(){return e.divStrict(t.add(Ur(1)))}}})},t.sqrt=function(t){return c({x:t},"sqrt"),Ki.engine.runKernel(function(e){return e.sqrt(t)},{x:t},function(e){return{x:function(){return e.divStrict(t.toFloat().sqrt().mul(Ur(2)))}}})},t.rsqrt=function(t){return c({x:t},"rsqrt"),Ki.engine.runKernel(function(e){return e.rsqrt(t)},{x:t},function(e){return{x:function(){return e.divStrict(t.pow(Ur(1.5)).mul(Ur(2))).neg()}}})},t.square=function(t){return c({x:t},"square"),Ki.engine.runKernel(function(e){return e.square(t)},{x:t},function(e){return{x:function(){return e.mulStrict(t.toFloat().mul(Ur(2)))}}})},t.reciprocal=function(t){return c({x:t},"reciprocal"),Ki.engine.runKernel(function(e){return e.reciprocal(t)},{x:t},function(e){return{x:function(){return e.divStrict(t.square().neg())}}})},t.abs=function(t){return c({x:t},"abs"),Ki.engine.runKernel(function(e){return e.abs(t)},{x:t},function(e){return{x:function(){return e.mulStrict(t.toFloat().step(-1))}}})},t.clipByValue=function(t,e,n){return c({x:t},"clipByValue"),p(e<=n,"Error in clip: min ("+e+") must be less than or equal to max ("+n+")."),Ki.engine.runKernel(function(r){return r.clip(t,e,n)},{x:t},function(r){return{x:function(){return r.where(t.greaterEqual(Ur(e)).logicalAnd(t.lessEqual(Ur(n))),Er(r))}}})},t.relu=function(t){return c({x:t},"relu"),"bool"===t.dtype?t.toInt():Ki.engine.runKernel(function(e){return e.relu(t)},{x:t},function(e){var n=t.step();return{x:function(){return e.mulStrict(n.toFloat())}}})},t.elu=function(t){return c({x:t},"elu"),Ki.engine.runKernel(function(e,n){return n(e.elu(t))},{x:t},function(t,e){var n=e[0];return{x:function(){return Ki.engine.runKernel(function(e){return e.eluDer(t,n)},{dy:t,y:n})}}})},t.selu=function(t){return c({x:t},"selu"),Ki.engine.runKernel(function(e){return e.selu(t)},{x:t},function(e){return{x:function(){var n=t.greater(Ur(0)),r=Ur(1.7580993408473768),i=Ur(1.0507009873554805),o=e.mul(i),a=e.mul(r).mul(t.toFloat().exp());return mn(n,o,a)}}})},t.leakyRelu=function(t,e){return void 0===e&&(e=.2),c({x:t},"leakyRelu"),sr(Ur(e).mul(t),t)},t.prelu=function(t,e){c({x:t,alpha:e},"prelu");var n=Ur(0);return sr(n,t).add(e.mul(lr(n,t)))},t.sigmoid=function(t){return c({x:t},"sigmoid"),Ki.engine.runKernel(function(e,n){return n(e.sigmoid(t))},{x:t},function(t,e){var n=e[0];return{x:function(){return t.mulStrict(n.mul(Ur(1).sub(n)))}}})},t.logSigmoid=function(t){return c({x:t},"logSigmoid"),Ki.engine.runKernel(function(e){return e.softplus(t.neg()).neg()},{x:t},function(e){return{x:function(){return e.mulStrict(t.neg().sigmoid())}}})},t.softplus=function(t){return c({x:t},"softplus"),Ki.engine.runKernel(function(e){return e.softplus(t)},{x:t},function(e){return{x:function(){return e.mulStrict(t.sigmoid())}}})},t.sin=function(t){return c({x:t},"sin"),Ki.engine.runKernel(function(e){return e.sin(t)},{x:t},function(e){return{x:function(){return t.toFloat().cos().mulStrict(e)}}})},t.cos=function(t){return c({x:t},"cos"),Ki.engine.runKernel(function(e){return e.cos(t)},{x:t},function(e){return{x:function(){return t.toFloat().sin().neg().mulStrict(e)}}})},t.tan=function(t){return c({x:t},"tan"),Ki.engine.runKernel(function(e){return e.tan(t)},{x:t},function(e){return{x:function(){return e.divStrict(t.cos().square())}}})},t.asin=function(e){return c({x:e},"asin"),Ki.engine.runKernel(function(t){return t.asin(e)},{x:e},function(n){return{x:function(){return n.divStrict(t.sqrt(Ur(1).sub(e.toFloat().square())))}}})},t.acos=function(e){return c({x:e},"acos"),Ki.engine.runKernel(function(t){return t.acos(e)},{x:e},function(n){return{x:function(){return n.divStrict(t.sqrt(Ur(1).sub(e.toFloat().square()))).neg()}}})},t.atan=function(t){return c({x:t},"atan"),Ki.engine.runKernel(function(e){return e.atan(t)},{x:t},function(e){return{x:function(){return e.divStrict(Ur(1).add(t.toFloat().square()))}}})},t.sinh=function(t){return c({x:t},"sinh"),Ki.engine.runKernel(function(e){return e.sinh(t)},{x:t},function(e){return{x:function(){return t.toFloat().cosh().mulStrict(e)}}})},t.cosh=function(t){return c({x:t},"cosh"),Ki.engine.runKernel(function(e){return e.cosh(t)},{x:t},function(e){return{x:function(){return t.toFloat().sinh().mulStrict(e)}}})},t.tanh=function(t){return c({x:t},"tanh"),Ki.engine.runKernel(function(e,n){return n(e.tanh(t))},{x:t},function(t,e){var n=e[0];return{x:function(){return Ur(1).sub(n.square()).mulStrict(t)}}})},t.asinh=function(e){return c({x:e},"asinh"),Ki.engine.runKernel(function(t){return t.asinh(e)},{x:e},function(n){return{x:function(){return n.divStrict(t.sqrt(Ur(1).add(e.toFloat().square())))}}})},t.acosh=function(e){return c({x:e},"acosh"),Ki.engine.runKernel(function(t){return t.acosh(e)},{x:e},function(n){return{x:function(){return n.divStrict(t.sqrt(e.toFloat().square().sub(Ur(1))))}}})},t.atanh=function(t){return c({x:t},"atanh"),Ki.engine.runKernel(function(e){return e.atanh(t)},{x:t},function(e){return{x:function(){return e.divStrict(Ur(1).sub(t.toFloat().square()))}}})},t.erf=function(t){return p("int32"===t.dtype||"float32"===t.dtype,"Input dtype must be `int32` or `float32`."),"int32"===t.dtype&&(t=t.toFloat()),Ki.engine.runKernel(function(e){return e.erf(t)},{x:t},function(e){return{x:function(){return e.mulStrict(Ur(2/Math.sqrt(Math.PI)).mul(t.square().neg().exp()))}}})},t.step=function(t,e){return void 0===e&&(e=0),c({x:t},"step"),Ki.engine.runKernel(function(n){return n.step(t,e)},{x:t},function(t){return{x:function(){return Er(t)}}})},o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"neg",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"ceil",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"floor",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"sign",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"round",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"exp",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"expm1",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"log",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"log1p",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"sqrt",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"rsqrt",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"square",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"reciprocal",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"abs",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"clipByValue",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"relu",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"elu",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"selu",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"leakyRelu",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"prelu",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"sigmoid",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"logSigmoid",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"softplus",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"sin",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"cos",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"tan",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"asin",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"acos",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"atan",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"sinh",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"cosh",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"tanh",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"asinh",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"acosh",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"atanh",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"erf",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},tt],t,"step",null),t}(),fe=It.batchNormalization,he=It.batchNormalization2d,de=It.batchNormalization3d,pe=It.batchNormalization4d,ve=et.concat,ge=et.concat1d,me=et.concat2d,ye=et.concat3d,be=et.concat4d,we=zt.conv1d,xe=zt.conv2d,_e=zt.conv2dTranspose,Ce=zt.depthwiseConv2d,Se=zt.separableConv2d,De=Zt.matMul,Pe=Zt.matrixTimesVector,Ae=Zt.outerProduct,Te=Zt.vectorTimesMatrix,Ee=Zt.dot,Oe=$t.avgPool,ke=$t.maxPool,Re=le.transpose,Ie=ee.reverse,Me=ee.reverse1d,Ne=ee.reverse2d,Le=ee.reverse3d,Fe=ee.reverse4d,je=ae.slice,Ve=ae.slice1d,ze=ae.slice2d,Be=ae.slice3d,We=ae.slice4d,He=ue.stridedSlice,Xe=te.argMax,qe=te.argMin,Ue=te.logSumExp,Ge=te.max,Ye=te.mean,Ke=te.min,Ze=te.all,Je=te.moments,Qe=te.sum,$e=Tt.unsortedSegmentSum,tn=Pt.equal,en=Pt.equalStrict,nn=Pt.greater,rn=Pt.greaterStrict,on=Pt.greaterEqual,an=Pt.greaterEqualStrict,sn=Pt.less,un=Pt.lessStrict,ln=Pt.lessEqual,cn=Pt.lessEqualStrict,fn=Pt.notEqual,hn=Pt.notEqualStrict,dn=At.logicalNot,pn=At.logicalAnd,vn=At.logicalOr,gn=At.logicalXor,mn=At.where,yn=ce.abs,bn=ce.acos,wn=ce.acosh,xn=ce.asin,_n=ce.asinh,Cn=ce.atan,Sn=ce.atanh,Dn=ce.ceil,Pn=ce.clipByValue,An=ce.cos,Tn=ce.cosh,En=ce.elu,On=ce.exp,kn=ce.expm1,Rn=ce.floor,In=ce.sign,Mn=ce.leakyRelu,Nn=ce.log,Ln=ce.log1p,Fn=ce.logSigmoid,jn=ce.neg,Vn=ce.prelu,zn=ce.relu,Bn=ce.reciprocal,Wn=ce.round,Hn=ce.selu,Xn=ce.sigmoid,qn=ce.sin,Un=ce.sinh,Gn=ce.softplus,Yn=ce.sqrt,Kn=ce.rsqrt,Zn=ce.square,Jn=ce.step,Qn=ce.tan,$n=ce.tanh,tr=ce.erf,er=Dt.add,nr=Dt.addStrict,rr=Dt.atan2,ir=Dt.div,or=Dt.floorDiv,ar=Dt.divStrict,sr=Dt.maximum,ur=Dt.maximumStrict,lr=Dt.minimum,cr=Dt.minimumStrict,fr=Dt.mod,hr=Dt.modStrict,dr=Dt.mul,pr=Dt.mulStrict,vr=Dt.pow,gr=Dt.powStrict,mr=Dt.sub,yr=Dt.subStrict,br=Dt.squaredDifference,wr=Dt.squaredDifferenceStrict,xr=Qt.norm,_r=Et.cast,Cr=Et.clone,Sr=Et.fromPixels,Dr=Et.toPixels,Pr=Et.ones,Ar=Et.onesLike,Tr=Et.zeros,Er=Et.zerosLike,Or=Et.eye,kr=Et.rand,Rr=Et.randomNormal,Ir=Et.truncatedNormal,Mr=Et.randomUniform,Nr=Et.multinomial,Lr=Et.reshape,Fr=Et.squeeze,jr=Et.tile,Vr=Et.gather,zr=Et.oneHot,Br=Et.linspace,Wr=Et.range,Hr=Et.buffer,Xr=Et.fill,qr=Et.tensor,Ur=Et.scalar,Gr=Et.tensor1d,Yr=Et.tensor2d,Kr=Et.tensor3d,Zr=Et.tensor4d,Jr=Et.tensor5d,Qr=Et.tensor6d,$r=Et.print,ti=Et.expandDims,ei=Et.stack,ni=Et.unstack,ri=Et.split,ii=Et.cumsum,oi=Et.pad,ai=Et.pad1d,si=Et.pad2d,ui=Et.pad3d,li=Et.pad4d,ci=Jt.movingAverage,fi=Kt.basicLSTMCell,hi=Kt.multiRNNCell,di=se.softmax,pi=ne.sigmoidCrossEntropyWithLogits,vi=Yt.localResponseNormalization,gi=Ut,mi={absoluteDifference:Gt.absoluteDifference,computeWeightedLoss:Gt.computeWeightedLoss,cosineDistance:Gt.cosineDistance,hingeLoss:Gt.hingeLoss,huberLoss:Gt.huberLoss,logLoss:Gt.logLoss,meanSquaredError:Gt.meanSquaredError,softmaxCrossEntropy:se.softmaxCrossEntropy},yi={resizeBilinear:Xt.resizeBilinear,resizeNearestNeighbor:Xt.resizeNearestNeighbor},bi=function(){function t(t,e,n){if(this.dtype=e,null!=n){var r=n.length,i=b(t);p(r===i,"Length of values '"+r+"' does not match the size inferred by the shape '"+i+"'")}this.shape=t.slice(),this.values=n||E(e,b(t)),this.strides=Ci(t),this.size=b(t)}return t.prototype.set=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];0===e.length&&(e=[0]),p(e.length===this.rank,"The number of provided coordinates ("+e.length+") must match the rank ("+this.rank+")");var r=this.locToIndex(e);this.values[r]=t},t.prototype.get=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];0===t.length&&(t=[0]);for(var n=t[t.length-1],r=0;r<t.length-1;++r)n+=this.strides[r]*t[r];return this.values[n]},t.prototype.locToIndex=function(t){if(0===this.rank)return 0;if(1===this.rank)return t[0];for(var e=t[t.length-1],n=0;n<t.length-1;++n)e+=this.strides[n]*t[n];return e},t.prototype.indexToLoc=function(t){if(0===this.rank)return[];if(1===this.rank)return[t];for(var e=new Array(this.shape.length),n=0;n<e.length-1;++n)e[n]=Math.floor(t/this.strides[n]),t-=e[n]*this.strides[n];return e[e.length-1]=t,e},Object.defineProperty(t.prototype,"rank",{get:function(){return this.shape.length},enumerable:!0,configurable:!0}),t.prototype.toTensor=function(){return wi.make(this.shape,{values:this.values},this.dtype)},o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]}],t.prototype,"set",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]}],t.prototype,"get",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]}],t.prototype,"toTensor",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]}],t)}(),wi=function(){function t(t,n,r,i){this.isDisposedInternal=!1,this.size=b(t),null!=r&&p(this.size===r.length,"Constructing tensor of shape ("+this.size+") should match the length of values ("+r.length+")"),this.shape=t.slice(),this.dtype=n||"float32",this.strides=Ci(t),this.dataId=null!=i?i:{},this.id=e.nextId++,this.rankType=this.rank<5?this.rank.toString():"higher",Ki.engine.registerTensor(this),null!=r&&Ki.engine.write(this.dataId,r)}return e=t,t.make=function(t,n,r){return new e(t,r,n.values,n.dataId)},t.prototype.flatten=function(){return this.throwIfDisposed(),this.as1D()},t.prototype.asScalar=function(){return this.throwIfDisposed(),p(1===this.size,"The array must have only 1 element."),this.reshape([])},t.prototype.as1D=function(){return this.throwIfDisposed(),this.reshape([this.size])},t.prototype.as2D=function(t,e){return this.throwIfDisposed(),this.reshape([t,e])},t.prototype.as3D=function(t,e,n){return this.throwIfDisposed(),this.reshape([t,e,n])},t.prototype.as4D=function(t,e,n,r){return this.throwIfDisposed(),this.reshape([t,e,n,r])},t.prototype.asType=function(t){return this.throwIfDisposed(),_r(this,t)},Object.defineProperty(t.prototype,"rank",{get:function(){return this.shape.length},enumerable:!0,configurable:!0}),t.prototype.get=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];p(t.length===this.rank,"Number of coordinates in get() must match the rank of the tensor"),this.throwIfDisposed(),0===t.length&&(t=[0]);for(var n=t[t.length-1],r=0;r<t.length-1;++r)n+=this.strides[r]*t[r];return this.dataSync()[n]},t.prototype.buffer=function(){return Hr(this.shape,this.dtype,this.dataSync())},t.prototype.data=function(){return a(this,void 0,void 0,function(){return s(this,function(t){return this.throwIfDisposed(),[2,Ki.engine.read(this.dataId)]})})},t.prototype.dataSync=function(){return this.throwIfDisposed(),Ki.engine.readSync(this.dataId)},t.prototype.dispose=function(){this.isDisposed||(Ki.engine.disposeTensor(this),this.isDisposedInternal=!0)},Object.defineProperty(t.prototype,"isDisposed",{get:function(){return this.isDisposedInternal},enumerable:!0,configurable:!0}),t.prototype.throwIfDisposed=function(){if(this.isDisposed)throw new Error("Tensor is disposed.")},t.prototype.toFloat=function(){return this.asType("float32")},t.prototype.toInt=function(){return this.asType("int32")},t.prototype.toBool=function(){return this.asType("bool")},t.prototype.print=function(t){return void 0===t&&(t=!1),$r(this,t)},t.prototype.reshape=function(t){return this.throwIfDisposed(),Lr(this,t)},t.prototype.reshapeAs=function(t){return this.throwIfDisposed(),this.reshape(t.shape)},t.prototype.expandDims=function(t){return void 0===t&&(t=0),ti(this,t)},t.prototype.cumsum=function(t,e,n){return void 0===t&&(t=0),void 0===e&&(e=!1),void 0===n&&(n=!1),ii(this,t,e,n)},t.prototype.squeeze=function(t){return this.throwIfDisposed(),Fr(this,t)},t.prototype.clone=function(){return this.throwIfDisposed(),Cr(this)},t.prototype.toString=function(t){return void 0===t&&(t=!1),H(this,t)},t.prototype.tile=function(t){return this.throwIfDisposed(),jr(this,t)},t.prototype.gather=function(t,e){return void 0===e&&(e=0),this.throwIfDisposed(),Vr(this,t,e)},t.prototype.matMul=function(t,e,n){return void 0===e&&(e=!1),void 0===n&&(n=!1),this.throwIfDisposed(),De(this,t,e,n)},t.prototype.dot=function(t){return this.throwIfDisposed(),Ee(this,t)},t.prototype.norm=function(t,e,n){return void 0===t&&(t="euclidean"),void 0===e&&(e=null),void 0===n&&(n=!1),this.throwIfDisposed(),xr(this,t,e,n)},t.prototype.slice=function(t,e){return this.throwIfDisposed(),je(this,t,e)},t.prototype.reverse=function(t){return this.throwIfDisposed(),Ie(this,t)},t.prototype.concat=function(t,e){return void 0===e&&(e=0),this.throwIfDisposed(),ve([this,t],e)},t.prototype.stack=function(t,e){return void 0===e&&(e=0),ei([this,t],e)},t.prototype.unstack=function(t,e){return void 0===e&&(e=0),ni(this,e)},t.prototype.pad=function(t,e){return void 0===e&&(e=0),oi(this,t,e)},t.prototype.batchNormalization=function(t,e,n,r,i){return void 0===n&&(n=.001),this.throwIfDisposed(),fe(this,t,e,n,r,i)},t.prototype.all=function(t,e){return void 0===t&&(t=null),void 0===e&&(e=!1),this.throwIfDisposed(),Ze(this,t,e)},t.prototype.logSumExp=function(t,e){return void 0===t&&(t=null),void 0===e&&(e=!1),this.throwIfDisposed(),Ue(this,t,e)},t.prototype.sum=function(t,e){return void 0===t&&(t=null),void 0===e&&(e=!1),this.throwIfDisposed(),Qe(this,t,e)},t.prototype.mean=function(t,e){return void 0===t&&(t=null),void 0===e&&(e=!1),this.throwIfDisposed(),Ye(this,t,e)},t.prototype.min=function(t,e){return void 0===t&&(t=null),void 0===e&&(e=!1),this.throwIfDisposed(),Ke(this,t,e)},t.prototype.max=function(t,e){return void 0===t&&(t=null),void 0===e&&(e=!1),this.throwIfDisposed(),Ge(this,t,e)},t.prototype.argMin=function(t){return void 0===t&&(t=null),this.throwIfDisposed(),qe(this,t)},t.prototype.argMax=function(t){return void 0===t&&(t=null),this.throwIfDisposed(),Xe(this,t)},t.prototype.cast=function(t){return this.throwIfDisposed(),_r(this,t)},t.prototype.add=function(t){return this.throwIfDisposed(),er(this,t)},t.prototype.addStrict=function(t){return this.throwIfDisposed(),nr(this,t)},t.prototype.sub=function(t){return this.throwIfDisposed(),mr(this,t)},t.prototype.subStrict=function(t){return this.throwIfDisposed(),yr(this,t)},t.prototype.pow=function(t){return this.throwIfDisposed(),vr(this,t)},t.prototype.powStrict=function(t){return this.throwIfDisposed(),gr(this,t)},t.prototype.mul=function(t){return this.throwIfDisposed(),dr(this,t)},t.prototype.mulStrict=function(t){return this.throwIfDisposed(),pr(this,t)},t.prototype.div=function(t){return this.throwIfDisposed(),ir(this,t)},t.prototype.floorDiv=function(t){return this.throwIfDisposed(),or(this,t)},t.prototype.divStrict=function(t){return this.throwIfDisposed(),ar(this,t)},t.prototype.minimum=function(t){return this.throwIfDisposed(),lr(this,t)},t.prototype.minimumStrict=function(t){return this.throwIfDisposed(),cr(this,t)},t.prototype.maximum=function(t){return this.throwIfDisposed(),sr(this,t)},t.prototype.maximumStrict=function(t){return this.throwIfDisposed(),ur(this,t)},t.prototype.mod=function(t){return this.throwIfDisposed(),fr(this,t)},t.prototype.modStrict=function(t){return this.throwIfDisposed(),hr(this,t)},t.prototype.squaredDifference=function(t){return this.throwIfDisposed(),br(this,t)},t.prototype.squaredDifferenceStrict=function(t){return this.throwIfDisposed(),wr(this,t)},t.prototype.transpose=function(t){return this.throwIfDisposed(),Re(this,t)},t.prototype.notEqual=function(t){return this.throwIfDisposed(),fn(this,t)},t.prototype.notEqualStrict=function(t){return this.throwIfDisposed(),hn(this,t)},t.prototype.less=function(t){return this.throwIfDisposed(),sn(this,t)},t.prototype.lessStrict=function(t){return this.throwIfDisposed(),un(this,t)},t.prototype.equal=function(t){return this.throwIfDisposed(),tn(this,t)},t.prototype.equalStrict=function(t){return this.throwIfDisposed(),en(this,t)},t.prototype.lessEqual=function(t){return this.throwIfDisposed(),ln(this,t)},t.prototype.lessEqualStrict=function(t){return this.throwIfDisposed(),cn(this,t)},t.prototype.greater=function(t){return this.throwIfDisposed(),nn(this,t)},t.prototype.greaterStrict=function(t){return this.throwIfDisposed(),rn(this,t)},t.prototype.greaterEqual=function(t){return this.throwIfDisposed(),on(this,t)},t.prototype.greaterEqualStrict=function(t){return this.throwIfDisposed(),an(this,t)},t.prototype.logicalAnd=function(t){return this.throwIfDisposed(),pn(this,t)},t.prototype.logicalOr=function(t){return this.throwIfDisposed(),vn(this,t)},t.prototype.logicalNot=function(){return this.throwIfDisposed(),dn(this)},t.prototype.logicalXor=function(t){return this.throwIfDisposed(),gn(this,t)},t.prototype.where=function(t,e){return this.throwIfDisposed(),mn(t,this,e)},t.prototype.neg=function(){return this.throwIfDisposed(),jn(this)},t.prototype.ceil=function(){return this.throwIfDisposed(),Dn(this)},t.prototype.floor=function(){return this.throwIfDisposed(),Rn(this)},t.prototype.sign=function(){return this.throwIfDisposed(),In(this)},t.prototype.exp=function(){return this.throwIfDisposed(),On(this)},t.prototype.expm1=function(){return this.throwIfDisposed(),kn(this)},t.prototype.log=function(){return this.throwIfDisposed(),Nn(this)},t.prototype.log1p=function(){return this.throwIfDisposed(),Ln(this)},t.prototype.sqrt=function(){return this.throwIfDisposed(),Yn(this)},t.prototype.rsqrt=function(){return this.throwIfDisposed(),Kn(this)},t.prototype.square=function(){return this.throwIfDisposed(),Zn(this)},t.prototype.reciprocal=function(){return this.throwIfDisposed(),Bn(this)},t.prototype.abs=function(){return this.throwIfDisposed(),yn(this)},t.prototype.clipByValue=function(t,e){return this.throwIfDisposed(),Pn(this,t,e)},t.prototype.relu=function(){return this.throwIfDisposed(),zn(this)},t.prototype.elu=function(){return this.throwIfDisposed(),En(this)},t.prototype.selu=function(){return this.throwIfDisposed(),Hn(this)},t.prototype.leakyRelu=function(t){return void 0===t&&(t=.2),this.throwIfDisposed(),Mn(this,t)},t.prototype.prelu=function(t){return this.throwIfDisposed(),Vn(this,t)},t.prototype.sigmoid=function(){return this.throwIfDisposed(),Xn(this)},t.prototype.logSigmoid=function(){return this.throwIfDisposed(),Fn(this)},t.prototype.softplus=function(){return this.throwIfDisposed(),Gn(this)},t.prototype.sin=function(){return this.throwIfDisposed(),qn(this)},t.prototype.cos=function(){return this.throwIfDisposed(),An(this)},t.prototype.tan=function(){return this.throwIfDisposed(),Qn(this)},t.prototype.asin=function(){return this.throwIfDisposed(),xn(this)},t.prototype.acos=function(){return this.throwIfDisposed(),bn(this)},t.prototype.atan=function(){return this.throwIfDisposed(),Cn(this)},t.prototype.sinh=function(){return this.throwIfDisposed(),Un(this)},t.prototype.cosh=function(){return this.throwIfDisposed(),Tn(this)},t.prototype.tanh=function(){return this.throwIfDisposed(),$n(this)},t.prototype.asinh=function(){return this.throwIfDisposed(),_n(this)},t.prototype.acosh=function(){return this.throwIfDisposed(),wn(this)},t.prototype.atanh=function(){return this.throwIfDisposed(),Sn(this)},t.prototype.erf=function(){return this.throwIfDisposed(),tr(this)},t.prototype.round=function(){return this.throwIfDisposed(),Wn(this)},t.prototype.step=function(t){return void 0===t&&(t=0),this.throwIfDisposed(),Jn(this,t)},t.prototype.softmax=function(t){return void 0===t&&(t=-1),this.throwIfDisposed(),di(this,t)},t.prototype.resizeBilinear=function(t,e){return void 0===e&&(e=!1),this.throwIfDisposed(),yi.resizeBilinear(this,t,e)},t.prototype.resizeNearestNeighbor=function(t,e){return void 0===e&&(e=!1),this.throwIfDisposed(),yi.resizeNearestNeighbor(this,t,e)},t.prototype.conv1d=function(t,e,n,r,i,o){return void 0===r&&(r="NWC"),void 0===i&&(i=1),this.throwIfDisposed(),we(this,t,e,n,r,i,o)},t.prototype.conv2d=function(t,e,n,r,i,o){return void 0===r&&(r="NHWC"),void 0===i&&(i=[1,1]),this.throwIfDisposed(),xe(this,t,e,n,r,i,o)},t.prototype.conv2dTranspose=function(t,e,n,r,i){return this.throwIfDisposed(),_e(this,t,e,n,r,i)},t.prototype.depthwiseConv2D=function(t,e,n,r,i,o){return void 0===r&&(r="NHWC"),void 0===i&&(i=[1,1]),this.throwIfDisposed(),Ce(this,t,e,n,r,i,o)},t.prototype.avgPool=function(t,e,n,r){return this.throwIfDisposed(),Oe(this,t,e,n,r)},t.prototype.maxPool=function(t,e,n,r){return this.throwIfDisposed(),ke(this,t,e,n,r)},t.prototype.localResponseNormalization=function(t,e,n,r){return void 0===t&&(t=5),void 0===e&&(e=1),void 0===n&&(n=1),void 0===r&&(r=.5),vi(this,t,e,n,r)},t.prototype.variable=function(t,e,n){return void 0===t&&(t=!0),this.throwIfDisposed(),xi.variable(this,t,e,n)},t.prototype.unsortedSegmentSum=function(t,e){return this.throwIfDisposed(),$e(this,t,e)},t.nextId=0,o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]}],t.prototype,"flatten",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]}],t.prototype,"asScalar",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]}],t.prototype,"as1D",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]}],t.prototype,"as2D",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]}],t.prototype,"as3D",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]}],t.prototype,"as4D",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]}],t.prototype,"asType",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]}],t.prototype,"buffer",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]}],t.prototype,"data",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]}],t.prototype,"dataSync",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]}],t.prototype,"dispose",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]}],t.prototype,"toFloat",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]}],t.prototype,"toInt",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]}],t.prototype,"toBool",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]}],t.prototype,"print",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]}],t.prototype,"reshape",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]}],t.prototype,"reshapeAs",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]}],t.prototype,"expandDims",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]}],t.prototype,"cumsum",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]}],t.prototype,"squeeze",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]}],t.prototype,"clone",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]}],t.prototype,"toString",null),e=o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]}],t);var e}(),xi=function(t){function e(e,r,i){void 0===r&&(r=!0);var o=t.call(this,e.shape,e.dtype,null,e.dataId)||this;return o.trainable=r,o.name=i,null==o.name&&(o.name=n.nextVarId.toString(),n.nextVarId++),Ki.engine.registerVariable(o),o}return i(e,t),n=e,e.variable=function(t,e,r,i){return void 0===e&&(e=!0),null!=i&&i!==t.dtype&&(t=t.asType(i)),new n(t,e,r)},e.prototype.assign=function(t){if(t.dtype!==this.dtype)throw new Error("dtype of the new value ("+t.dtype+") and previous value ("+this.dtype+") must match");if(!w(t.shape,this.shape))throw new Error("shape of the new value ("+t.shape+") and previous value ("+this.shape+") must match");Ki.engine.disposeTensor(this),this.dataId=t.dataId,Ki.engine.registerTensor(this)},e.nextVarId=0,o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]}],e.prototype,"assign",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]}],e,"variable",null),n=o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]}],e);var n}(wi),_i=xi.variable;function Ci(t){var e=t.length;if(e<2)return[];var n=new Array(e-1);n[e-2]=t[e-1];for(var r=e-3;r>=0;--r)n[r]=n[r+1]*t[r+1];return n}var Si=function(){function t(){}return t.gradScope=function(t,e){return Ai(t,e,!0)},t.grad=function(t){return p(L(t),"The f passed in grad(f) must be a function"),function(e,n){return p(e instanceof wi,"The x passed in grad(f)(x) must be a tensor"),p(null==n||n instanceof wi,"The dy passed in grad(f)(x, dy) must be a tensor"),Ai(function(){var r=Ki.engine.gradients(function(){return t(e)},[e],n),i=r.grads;return null!=n&&v(r.value.shape,n.shape,"The shape of dy passed in grad(f)(x, dy) must match the shape returned by f(x)"),Di(i),i[0]})}},t.grads=function(t){return p(L(t),"The f passed in grads(f) must be a function"),function(e,n){return p(Array.isArray(e)&&e.every(function(t){return t instanceof wi}),"The args passed in grads(f)(args) must be an array of tensors"),p(null==n||n instanceof wi,"The dy passed in grads(f)(args, dy) must be a tensor"),Ai(function(){var r=Ki.engine.gradients(function(){return t.apply(void 0,e)},e,n),i=r.grads;return null!=n&&v(r.value.shape,n.shape,"The shape of dy passed in grads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),Di(i),i})}},t.valueAndGrad=function(t){return p(L(t),"The f passed in valueAndGrad(f) must be a function"),function(e,n){p(e instanceof wi,"The x passed in valueAndGrad(f)(x) must be a tensor"),p(null==n||n instanceof wi,"The dy passed in valueAndGrad(f)(x, dy) must be a tensor");var r=Ki.engine.gradients(function(){return t(e)},[e],n),i=r.grads,o=r.value;return Di(i),{grad:i[0],value:o}}},t.valueAndGrads=function(t){return p(L(t),"The f passed in valueAndGrads(f) must be a function"),function(e,n){p(Array.isArray(e)&&e.every(function(t){return t instanceof wi}),"The args passed in valueAndGrads(f)(args) must be array of tensors"),p(null==n||n instanceof wi,"The dy passed in valueAndGrads(f)(args, dy) must be a tensor");var r=Ki.engine.gradients(function(){return t.apply(void 0,e)},e,n);return null!=n&&v(r.value.shape,n.shape,"The shape of dy passed in valueAndGrads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),Di(r.grads),r}},t.variableGrads=function(t,e){if(p(L(t),"The f passed in variableGrads(f) must be a function"),p(null==e||Array.isArray(e)&&e.every(function(t){return t instanceof xi}),"The varList passed in variableGrads(f, varList) must be an array of variables"),null==e)for(var n in e=[],Ki.engine.registeredVariables)e.push(Ki.engine.registeredVariables[n]);var r=e.length;p((e=e.filter(function(t){return t.trainable})).length>0,"variableGrads() expects at least one of the input variables to be trainable, but none of the "+r+" variables is trainable.");var i=Ki.engine.gradients(t,e,null,!0),o=i.value,a=i.grads;p(a.some(function(t){return null!=t}),"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize()."),p(0===o.rank,"The f passed in variableGrads(f) must return a scalar, but it returned a rank-"+o.rank+" tensor");var s={};return e.forEach(function(t,e){null!=a[e]&&(s[t.name]=a[e])}),{value:o,grads:s}},t.customGrad=function(t){return Ki.engine.customGrad(t)},o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]}],t,"grad",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]}],t,"grads",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]}],t,"valueAndGrad",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]}],t,"valueAndGrads",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]}],t,"variableGrads",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]}],t,"customGrad",null),t}();function Di(t){if(t.filter(function(t){return null==t}).length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that\n    the f you passed encloses all operations that lead from x to y.")}var Pi,Ai=qt.tidy,Ti=qt.keep,Ei=qt.dispose,Oi=qt.time,ki=Si.grad,Ri=Si.valueAndGrad,Ii=Si.grads,Mi=Si.valueAndGrads,Ni=Si.variableGrads,Li=Si.customGrad,Fi=function(){function t(t,e){this.backendTimer=t,this.logger=e,null==e&&(this.logger=new ji)}return t.prototype.profileKernel=function(t,e){var n,r=this,i=this.backendTimer.time(function(){n=e()}),o=n.dataSync();return k(o,n.dtype,t),i.then(function(e){r.logger.logKernelProfile(t,n,o,e.kernelMs)}),n},t}(),ji=function(){function t(){}return t.prototype.logKernelProfile=function(t,e,n,r){var i=S(r+"ms",9),o=S(t,25),a=e.rank,s=e.size,u=S(e.shape.toString(),14);console.log("%c"+o+"\t%c"+i+"\t%c"+a+"D "+u+"\t%c"+s,"font-weight:bold","color:red","color:blue","color: orange")},t}(),Vi=function(){function t(t,e){this.backend=t,this.safeMode=e,this.registeredVariables={},this.refCounter=new WeakMap,this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numDataBuffers=0,this.gradientScopeCount=0,this.customGradientDepth=0,this.keepTensors=new Set,this.activeScope={track:[]},this.scopeStack=[this.activeScope],this.profiler=new Fi(t)}return t.prototype.runKernel=function(t,e,n){var r,i=this,o=[],a=function(t){return o.push(t),t},s=this.activeScope.name;if(this.customGradientDepth++,r=Ki.get("DEBUG")?this.profiler.profileKernel(s,function(){return t(i.backend,a)}):t(this.backend,a),this.customGradientDepth--,this.shouldRecord()){var u={id:this.nextTapeNodeId++,name:s,inputs:e,output:r};null!=n&&(u.gradient=function(t){return n(t,o)}),this.activeTape.push(u)}return r},t.prototype.registerTensor=function(t){var e=this.refCounter.has(t.dataId)?this.refCounter.get(t.dataId):0;this.numTensors++,0===e&&(this.numDataBuffers++,this.numBytes+=b(t.shape)*N(t.dtype),this.backend.register(t.dataId,t.shape,t.dtype)),this.refCounter.set(t.dataId,e+1),t instanceof xi||this.track(t)},t.prototype.registerVariable=function(t){if(null!=this.registeredVariables[t.name])throw new Error("Variable with name "+t.name+" was already registered");this.registeredVariables[t.name]=t},t.prototype.disposeTensor=function(t){if(this.refCounter.has(t.dataId)){this.keepTensors.has(t.id)&&this.keepTensors.delete(t.id),this.numTensors--;var e=this.refCounter.get(t.dataId);e<=1?(this.refCounter.delete(t.dataId),this.backend.disposeData(t.dataId),this.numDataBuffers--,this.numBytes-=b(t.shape)*N(t.dtype)):this.refCounter.set(t.dataId,e-1)}},t.prototype.disposeVariables=function(){for(var t in this.registeredVariables)this.disposeTensor(this.registeredVariables[t]),delete this.registeredVariables[t]},t.prototype.memory=function(){var t=this.backend.memory();return t.numTensors=this.numTensors,t.numDataBuffers=this.numDataBuffers,t.numBytes=this.numBytes,t},t.prototype.shouldRecord=function(){return null!=this.activeTape&&0===this.customGradientDepth},t.prototype.addTapeNode=function(t,e,n){var r={};t.forEach(function(t,e){r[e]=t});var i={id:this.nextTapeNodeId++,name:this.activeScope.name,inputs:r,output:e,gradient:function(t){var e={};return n(t).forEach(function(t,n){e[n]=function(){return t}}),e}};this.activeTape.push(i)},t.prototype.keep=function(t){if(1===this.scopeStack.length&&Ki.engine.safeMode)throw new Error("Safe mode is ON. Enclose all tensor operations inside tf.tidy(): tf.tidy(() => {...}) to avoid memory leaks.");return this.keepTensors.add(t.id),t},t.prototype.startScope=function(t,e){void 0===e&&(e=!1),e&&0===this.gradientScopeCount&&(this.activeTape=[]),e&&this.gradientScopeCount++;var n={track:[]};t&&(n.name=t),this.scopeStack.push(n),this.activeScope=n},t.prototype.endScope=function(t,e){var n=this;void 0===e&&(e=!1),e&&(this.gradientScopeCount--,0===this.gradientScopeCount&&(this.activeTape=null));var r=new Set(this.keepTensors),i=F(t);i.forEach(function(t){return r.add(t.id)});for(var o=0;o<this.activeScope.track.length;o++){var a=this.activeScope.track[o];r.has(a.id)||(null!=this.activeTape?i.push(a):a.dispose())}var s=this.scopeStack.pop();this.activeScope=0===this.scopeStack.length?{track:[]}:this.scopeStack[this.scopeStack.length-1],i.forEach(function(t){!n.keepTensors.has(t.id)&&O(t,s.track)&&n.track(t)})},t.prototype.gradients=function(t,e,n,r){var i=this;return void 0===r&&(r=!1),p(e.length>0,"gradients() received an empty list of xs."),Ai("gradients",function(){var o=t();p(o instanceof wi,"The result y returned by f() must be a tensor.");var a=function(t,e,n){for(var r={},i={},o=0;o<e.length;o++)r[e[o].id]=!0;for(o=0;o<t.length;o++){var a=(v=t[o]).inputs;for(var s in a){for(var u=a[s],l=!1,c=0;c<e.length;c++)if(r[u.id]){r[v.output.id]=!0,l=!0,i[v.id]=!0;break}if(l)break}}var f={};f[n.id]=!0;var h={};for(o=t.length-1;o>=0;o--){a=(v=t[o]).inputs;var d=[];for(d.push(v.output),c=0;c<d.length;c++)if(f[d[c].id]){for(var s in a)f[a[s].id]=!0,h[v.id]=!0;break}}var p=[];for(o=0;o<t.length;o++){var v;if(i[(v=t[o]).id]&&h[v.id]){var g={};for(var s in v.inputs){var m=v.inputs[s];r[m.id]&&(g[s]=m)}var y=Object.assign({},v);y.inputs=g,y.output=v.output,p.push(y)}}return p}(i.activeTape,e,o);if(!r&&0===a.length&&e.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");var s={};return s[o.id]=null==n?Pr(o.shape):n,function(t,e){for(var n=e.length-1;n>=0;n--){var r=e[n],i=t[r.output.id];if(null==r.gradient)throw new Error("Cannot compute gradient: gradient function not found for "+r.name+".");var o=r.gradient(i);for(var a in r.inputs){if(!(a in o))throw new Error("Cannot backprop through input "+a+". Available gradients found: "+Object.keys(o)+".");var s=o[a](),u=r.inputs[a];if(!w(s.shape,u.shape))throw new Error("Error in gradient for op "+r.name+". The gradient of input '"+a+"' has shape '"+s.shape+"', which does not match the shape of the input '"+u.shape+"'");if(null==t[u.id])t[u.id]=s;else{var l=t[u.id];t[u.id]=l.add(s),l.dispose()}}}}(s,a),{value:o,grads:e.map(function(t){return s[t.id]})}},!0)},t.prototype.customGrad=function(t){var e=this;return p(L(t),"The f passed in customGrad(f) must be a function."),function(){for(var n,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];p(r.every(function(t){return t instanceof wi}),"The args passed in customGrad(f)(x1, x2,...) must all be tensors"),e.customGradientDepth++;var o=Ai(t.name,function(){var e=t.apply(void 0,r),i=e.value,o=e.gradFunc;return p(i instanceof wi,"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"),p(L(o),"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."),n=o,i},!0);return e.customGradientDepth--,e.shouldRecord()&&e.addTapeNode(r,o,function(t){var e=n(t),i=Array.isArray(e)?e:[e];return p(i.length===r.length,"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."),p(i.every(function(t){return t instanceof wi}),"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors."),i}),o}},t.prototype.write=function(t,e){this.backend.write(t,e)},t.prototype.readSync=function(t){return this.backend.readSync(t)},t.prototype.read=function(t){return this.backend.read(t)},t.prototype.fromPixels=function(t,e){return this.backend.fromPixels(t,e)},t.prototype.time=function(t){return a(this,void 0,void 0,function(){var e,n;return s(this,function(r){switch(r.label){case 0:return e=performance.now(),[4,this.backend.time(t)];case 1:return(n=r.sent()).wallMs=performance.now()-e,[2,n]}})})},t.prototype.track=function(t){if(1===this.scopeStack.length&&this.safeMode)throw new Error("Safe mode is ON. Enclose all tensor operations inside tf.tidy(): tf.tidy(() => {op();...}); to avoid memory leaks.");return this.activeScope.track.push(t),t},t}();!function(t){t[t.NUMBER=0]="NUMBER",t[t.BOOLEAN=1]="BOOLEAN",t[t.STRING=2]="STRING"}(Pi||(Pi={}));var zi=[{name:"DEBUG",type:Pi.BOOLEAN},{name:"IS_BROWSER",type:Pi.BOOLEAN},{name:"WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",type:Pi.NUMBER},{name:"WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",type:Pi.BOOLEAN},{name:"WEBGL_VERSION",type:Pi.NUMBER},{name:"WEBGL_RENDER_FLOAT32_ENABLED",type:Pi.BOOLEAN},{name:"WEBGL_DOWNLOAD_FLOAT_ENABLED",type:Pi.BOOLEAN},{name:"WEBGL_GET_BUFFER_SUB_DATA_ASYNC_EXTENSION_ENABLED",type:Pi.BOOLEAN},{name:"BACKEND",type:Pi.STRING}];function Bi(t,e){return null!=t.getExtension(e)}function Wi(t){if(0===t||!Ki.get("IS_BROWSER"))throw new Error("Cannot get WebGL rendering context, WebGL is disabled.");var e=document.createElement("canvas");return 1===t?e.getContext("webgl")||e.getContext("experimental-webgl"):e.getContext("webgl2")}function Hi(t){if(null!=t){var e=t.getExtension("WEBGL_lose_context");if(null==e)throw new Error("Extension WEBGL_lose_context not supported on this browser.");e.loseContext()}}function Xi(t){var e;try{e=Wi(t)}catch(t){return!1}return null!=e&&(Hi(e),!0)}function qi(t,e){var n=t.createFramebuffer(),r=t.createTexture();t.bindTexture(t.TEXTURE_2D,r),t.texImage2D(t.TEXTURE_2D,0,2===e?t.RGBA32F:t.RGBA,1,1,0,t.RGBA,t.FLOAT,null),t.bindFramebuffer(t.FRAMEBUFFER,n),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,r,0)}var Ui=function(){function t(t){this.features={},this.registry={},null!=t&&(this.features=t),this.get("DEBUG")&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")}return t.setBackend=function(t,e){if(void 0===e&&(e=!1),!(t in Ki.registry))throw new Error("Backend type '"+t+"' not found in registry");Ki.initBackend(t,e)},t.getBackend=function(){return Ki.initDefaultBackend(),Ki.currentBackend},t.disposeVariables=function(){Ki.engine.disposeVariables()},t.memory=function(){return Ki.engine.memory()},t.prototype.get=function(t){return t in this.features?this.features[t]:(this.features[t]=this.evaluateFeature(t),this.features[t])},t.prototype.getFeatures=function(){return this.features},t.prototype.set=function(t,e){this.features[t]=e},t.prototype.getBestBackendType=function(){var t=this;if(0===Object.keys(this.registry).length)throw new Error("No backend found in registry.");return Object.keys(this.registry).map(function(e){return{name:e,entry:t.registry[e]}}).sort(function(t,e){return e.entry.priority-t.entry.priority})[0].name},t.prototype.evaluateFeature=function(t){if("DEBUG"===t)return!1;if("IS_BROWSER"===t)return"undefined"!=typeof window;if("IS_NODE"===t)return"undefined"!=typeof process&&void 0!==process.versions.node;if("IS_CHROME"===t)return null!=navigator&&null!=navigator.userAgent&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor);if("BACKEND"===t)return this.getBestBackendType();if("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"===t){var e=this.get("WEBGL_VERSION");return 0===e?0:function(t){if(0===t)return 0;var e,n=Wi(t);return e=Bi(n,"EXT_disjoint_timer_query_webgl2")&&2===t?2:Bi(n,"EXT_disjoint_timer_query")?1:0,null!=n&&Hi(n),e}(e)}if("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE"===t)return this.get("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&!function(){var t=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4))}();if("WEBGL_VERSION"===t)return Xi(2)?2:Xi(1)?1:0;if("WEBGL_RENDER_FLOAT32_ENABLED"===t)return function(t){if(0===t)return!1;var e=Wi(t);if(1===t){if(!Bi(e,"OES_texture_float"))return!1}else if(!Bi(e,"EXT_color_buffer_float"))return!1;qi(e,t);var n=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return Hi(e),n}(this.get("WEBGL_VERSION"));if("WEBGL_DOWNLOAD_FLOAT_ENABLED"===t)return function(t){if(0===t)return!1;var e=Wi(t);if(1===t){if(!Bi(e,"OES_texture_float"))return!1}else if(!Bi(e,"EXT_color_buffer_float"))return!1;qi(e,t),e.readPixels(0,0,1,1,e.RGBA,e.FLOAT,new Float32Array(4));var n=e.getError()===e.NO_ERROR;return Hi(e),n}(this.get("WEBGL_VERSION"));if("WEBGL_GET_BUFFER_SUB_DATA_ASYNC_EXTENSION_ENABLED"===t)return function(t){if(t>0)return!1;if(2!==t)return!1;var e=Wi(t),n=Bi(e,"WEBGL_get_buffer_sub_data_async");return Hi(e),n}(this.get("WEBGL_VERSION"));if("TEST_EPSILON"===t)return this.get("WEBGL_RENDER_FLOAT32_ENABLED")?.001:.1;throw new Error("Unknown feature "+t+".")},t.prototype.setFeatures=function(t){this.features=t},t.prototype.reset=function(){this.features=Yi(),null!=this.globalEngine&&(this.globalEngine=null)},t.prototype.initBackend=function(t,e){void 0===e&&(e=!1),this.currentBackend=t;var n=Ki.findBackend(t);this.globalEngine=new Vi(n,e)},t.prototype.findBackend=function(t){return t in this.registry?this.registry[t].backend:null},t.prototype.registerBackend=function(t,e,n){void 0===n&&(n=1),t in this.registry&&console.warn(t+" backend was already registered");try{var r=e();return this.registry[t]={backend:r,priority:n},!0}catch(e){return console.warn("Registration of backend "+t+" failed"),console.warn(e.stack||e.message),!1}},t.prototype.removeBackend=function(t){if(!(t in this.registry))throw new Error(t+" backend not found in registry");this.registry[t].backend.dispose(),delete this.registry[t]},Object.defineProperty(t.prototype,"engine",{get:function(){return this.initDefaultBackend(),this.globalEngine},enumerable:!0,configurable:!0}),t.prototype.initDefaultBackend=function(){null==this.globalEngine&&this.initBackend(Ki.get("BACKEND"),!1)},o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]}],t,"setBackend",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]}],t,"getBackend",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]}],t,"disposeVariables",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]}],t,"memory",null),t}(),Gi="tfjsflags";function Yi(){var t={};if("undefined"==typeof window||void 0===window.location)return t;var e=P(window.location.search);if(Gi in e){var n={};e[Gi].split(",").forEach(function(t){var e=t.split(":");n[e[0]]=e[1]}),zi.forEach(function(e){e.name in n&&(console.log("Setting feature override from URL "+e.name+": "+n[e.name]),e.type===Pi.NUMBER?t[e.name]=+n[e.name]:e.type===Pi.BOOLEAN?t[e.name]="true"===n[e.name]:e.type===Pi.STRING?t[e.name]=n[e.name]:console.warn("Unknown URL param: "+e.name+"."))})}return t}var Ki=function(){var t=function(){var t;if("undefined"!=typeof window)t=window;else{if("undefined"==typeof global)throw new Error("Could not find a global object");t=global}return t}();return t.ENV=t.ENV||new Ui(Yi()),t.ENV}(),Zi=Object.freeze({get Type(){return Pi},URL_PROPERTIES:zi,Environment:Ui,ENV:Ki}),Ji=30;function Qi(t){return t<=Ji?t:j(t,Math.floor(Math.sqrt(t)))}function $i(t,e,n){if(!R(t.dtype,e))return wi.make(t.shape,{dataId:t.dataId},e);if("int32"===e)return n.int(t);if("bool"===e)return n.notEqual(t,Et.scalar(0,t.dtype));throw new Error("Error in Cast: unknown dtype argument ("+e+")")}function to(t,e){return wi.make(e,{dataId:t.dataId},t.dtype)}var eo=function(t,e,n){this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.outputShape=St(e,n),this.userCode="\n      float binaryOperation(float a, float b) {\n        "+t+"\n      }\n\n      void main() {\n        float a = getAAtOutCoords();\n        float b = getBAtOutCoords();\n        setOutput(binaryOperation(a, b));\n      }\n    "};var no,ro,io="\n  float sampleTexture(sampler2D textureSampler, vec2 uv) {\n    return texture2D(textureSampler, uv).r;\n  }\n",oo="\n  void setOutput(float val) {\n    gl_FragColor = vec4(val, 0, 0, 0);\n  }\n",ao="\n  precision highp float;\n  precision highp int;\n  varying vec2 resultUV;\n  const vec2 halfCR = vec2(0.5, 0.5);\n\n  struct ivec5\n  {\n    int x;\n    int y;\n    int z;\n    int w;\n    int u;\n  };\n\n  struct ivec6\n  {\n    int x;\n    int y;\n    int z;\n    int w;\n    int u;\n    int v;\n  };\n\n  bool isNaN(float val) {\n    return (val < 0.0 || 0.0 < val || val == 0.0) ? false : true;\n  }\n\n  bool hasNaN(vec4 values) {\n    vec4 v1 = values * values;\n    vec4 v2 = values * values;\n    return any(notEqual(v1, v2));\n  }\n\n  float getNaN(vec4 values) {\n    return dot(vec4(1), values);\n  }\n\n  int round(float value) {\n    return int(floor(value + 0.5));\n  }\n\n  int imod(int x, int y) {\n    return x - y * (x / y);\n  }\n\n  //Based on the work of Dave Hoskins\n  //https://www.shadertoy.com/view/4djSRW\n  #define HASHSCALE1 443.8975\n  float random(float seed){\n    vec2 p = resultUV * seed;\n    vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);\n    p3 += dot(p3, p3.yzx + 19.19);\n    return fract((p3.x + p3.y) * p3.z);\n  }\n\n  \nvec2 UVfrom1D(int texNumR, int texNumC, int index) {\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n\n  \nvec2 UVfrom2D(int texNumR, int texNumC, int numC, int row, int col) {\n  int index = row * numC + col;\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n\n  \nvec2 UVfrom3D(int texNumR, int texNumC, int stride0,\n    int stride1, int row, int col, int depth) {\n  // Explicitly use integer operations as dot() only works on floats.\n  int index = row * stride0 + col * stride1 + depth;\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n\n  \nvec2 UVfrom4D(int texNumR, int texNumC, int stride0,\n    int stride1, int stride2, int row, int col, int depth,\n    int depth2) {\n  // Explicitly use integer operations as dot() only works on floats.\n  int index = row * stride0 + col * stride1 + depth * stride2 + depth2;\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n\n  \nvec2 UVfrom5D(int texNumR, int texNumC, int stride0,\n    int stride1, int stride2, int stride3, int row, int col, int depth,\n    int depth2, int depth3) {\n  // Explicitly use integer operations as dot() only works on floats.\n  int index = row * stride0 + col * stride1 +\n              depth * stride2 + depth2 * stride3 + depth3;\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n\n  \nvec2 UVfrom6D(int texNumR, int texNumC, int stride0,\n    int stride1, int stride2, int stride3, int stride4,\n    int row, int col, int depth, int depth2, int depth3, int depth4) {\n  // Explicitly use integer operations as dot() only works on floats.\n  int index = row * stride0 + col * stride1 + depth * stride2 + depth2 *\n    stride3 + depth3 * stride4 + depth4;\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n\n";function so(t){if(t<=1)return"int";if(2===t)return"ivec2";if(3===t)return"ivec3";if(4===t)return"ivec4";if(5===t)return"ivec5";if(6===t)return"ivec6";throw Error("GPU for rank "+t+" is not yet supported")}function uo(t,e){var n=JSON.parse(JSON.stringify(t));return n.shapeInfo.logicalShape=e,n}function lo(t,e){return e.map(function(e){return t[e]}).join(", ")}function co(t,e){if(1===t)return""+e;if(2===t)return e+".y";if(3===t)return e+".z";if(4===t)return e+".w";throw Error("Cumulative sum for rank "+t+" is not yet supported")}function fo(t,e){return[e,t]}function ho(t,e){return t*e}function po(t,e,n){var r=function(t,e){if(t%e!=0)throw new Error("unpackedSize ("+t+") must be a multiple of "+e);return t/e}(t.length,n);if(e.length<r)throw new Error("matrix length ("+e.length+") must be >= "+r);for(var i=0,o=0;o<t.length;o+=n)e[i++]=t[o]}function vo(t,e){return[Math.ceil(e/2),Math.ceil(t/2)]}function go(t,e){var n=vo(t,e);return n[0]*n[1]*4}!function(t){t[t.RENDER=0]="RENDER",t[t.UPLOAD=1]="UPLOAD",t[t.PIXELS=2]="PIXELS",t[t.DOWNLOAD=3]="DOWNLOAD"}(no||(no={})),function(t){t[t.FLOAT16=0]="FLOAT16",t[t.FLOAT32=1]="FLOAT32",t[t.UNSIGNED_BYTE=2]="UNSIGNED_BYTE"}(ro||(ro={}));var mo=null;function yo(t){var e=document.createElement("canvas");return e.width=1,e.height=1,bo(e,t)}function bo(t,e){var n,r=Ki.get("WEBGL_VERSION");if(2===r?n=t.getContext("webgl2",e):1===r&&(n=t.getContext("webgl",e)||t.getContext("experimental-webgl",e)),0===r||null==n)throw new Error("This browser does not support WebGL.");return n}function wo(t,e){var n=e();return Co(t),n}var xo=!1;function _o(t){xo=t}function Co(t){if(xo){var e=t.getError();if(e!==t.NO_ERROR)throw new Error("WebGL Error: "+So(t,e))}}function So(t,e){switch(e){case t.NO_ERROR:return"NO_ERROR";case t.INVALID_ENUM:return"INVALID_ENUM";case t.INVALID_VALUE:return"INVALID_VALUE";case t.INVALID_OPERATION:return"INVALID_OPERATION";case t.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case t.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case t.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return"Unknown error code "+e}}function Do(t,e){return Yo(t,function(){return t.getExtension(e)},'Extension "'+e+'" not supported on this browser.')}function Po(t,e){var n=Yo(t,function(){return t.createShader(t.VERTEX_SHADER)},"Unable to create vertex WebGLShader.");if(wo(t,function(){return t.shaderSource(n,e)}),wo(t,function(){return t.compileShader(n)}),!1===t.getShaderParameter(n,t.COMPILE_STATUS))throw console.log(t.getShaderInfoLog(n)),new Error("Failed to compile vertex shader.");return n}function Ao(t,e){var n=Yo(t,function(){return t.createShader(t.FRAGMENT_SHADER)},"Unable to create fragment WebGLShader.");if(wo(t,function(){return t.shaderSource(n,e)}),wo(t,function(){return t.compileShader(n)}),!1===t.getShaderParameter(n,t.COMPILE_STATUS))throw function(t,e){var n=To.exec(e);if(null==n)return console.log("Couldn't parse line number in error: "+e),void console.log(t);for(var r=+n[1],i=t.split("\n"),o=i.length.toString().length+2,a=i.map(function(t,e){return S((e+1).toString(),o)+t}),s=0,u=0;u<a.length;u++)s=Math.max(a[u].length,s);var l=a.slice(0,r-1),c=a.slice(r-1,r),f=a.slice(r);console.log(l.join("\n")),console.log(e.split("\n")[0]),console.log("%c "+S(c[0],s),"border:1px solid red; background-color:#e3d2d2; color:#a61717"),console.log(f.join("\n"))}(e,t.getShaderInfoLog(n)),new Error("Failed to compile fragment shader.");return n}var To=/ERROR: [0-9]+:([0-9]+):/g;function Eo(t){return Yo(t,function(){return t.createProgram()},"Unable to create WebGLProgram.")}function Oo(t,e){if(wo(t,function(){return t.linkProgram(e)}),!1===t.getProgramParameter(e,t.LINK_STATUS))throw console.log(t.getProgramInfoLog(e)),new Error("Failed to link vertex and fragment shaders.")}function ko(t,e){if(wo(t,function(){return t.validateProgram(e)}),!1===t.getProgramParameter(e,t.VALIDATE_STATUS))throw console.log(t.getProgramInfoLog(e)),new Error("Shader program validation failed.")}function Ro(t,e){var n=Yo(t,function(){return t.createBuffer()},"Unable to create WebGLBuffer");return wo(t,function(){return t.bindBuffer(t.ARRAY_BUFFER,n)}),wo(t,function(){return t.bufferData(t.ARRAY_BUFFER,e,t.STATIC_DRAW)}),n}function Io(t,e){var n=Yo(t,function(){return t.createBuffer()},"Unable to create WebGLBuffer");return wo(t,function(){return t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,n)}),wo(t,function(){return t.bufferData(t.ELEMENT_ARRAY_BUFFER,e,t.STATIC_DRAW)}),n}function Mo(t){return null!=mo?mo:mo=wo(t,function(){return t.getParameter(t.MAX_TEXTURE_SIZE)})}function No(){return 2===Ki.get("WEBGL_VERSION")?1:4}function Lo(t){return Yo(t,function(){return t.createTexture()},"Unable to create WebGLTexture.")}function Fo(t,e,n){var r=Mo(t);if(e<=0||n<=0){var i="["+e+"x"+n+"]";throw new Error("Requested texture size "+i+" is invalid.")}if(e>r||n>r)throw i="["+e+"x"+n+"]",new Error("Requested texture size "+i+" greater than WebGL maximum on this browser / GPU ["+r+"x"+r+"].")}function jo(t){return Yo(t,function(){return t.createFramebuffer()},"Unable to create WebGLFramebuffer.")}function Vo(t,e,n,r,i,o,a){var s=t.getAttribLocation(e,n);return-1!==s&&(wo(t,function(){return t.bindBuffer(t.ARRAY_BUFFER,r)}),wo(t,function(){return t.vertexAttribPointer(s,i,t.FLOAT,!1,o,a)}),wo(t,function(){return t.enableVertexAttribArray(s)}),!0)}function zo(t,e,n){Ko(t,n),wo(t,function(){return t.activeTexture(t.TEXTURE0+n)}),wo(t,function(){return t.bindTexture(t.TEXTURE_2D,e)})}function Bo(t,e,n){return Yo(t,function(){return t.getUniformLocation(e,n)},'uniform "'+n+'" not present in program.')}function Wo(t,e,n){return t.getUniformLocation(e,n)}function Ho(t,e,n,r,i){wo(t,function(){return zo(t,n,i)}),wo(t,function(){return t.uniform1i(r,i)})}function Xo(t,e,n){wo(t,function(){return t.bindFramebuffer(t.FRAMEBUFFER,n)}),wo(t,function(){return t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e,0)})}function qo(t,e){wo(t,function(){return t.bindFramebuffer(t.FRAMEBUFFER,e)}),wo(t,function(){return t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,null,0)})}function Uo(t){var e=t.checkFramebufferStatus(t.FRAMEBUFFER);if(e!==t.FRAMEBUFFER_COMPLETE)throw new Error("Error binding framebuffer: "+Go(t,e))}function Go(t,e){switch(e){case t.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case t.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case t.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case t.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return"unknown error "+e}}function Yo(t,e,n){var r=wo(t,function(){return e()});if(null==r)throw new Error(n);return r}function Ko(t,e){var n=t.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,r=e+t.TEXTURE0;if(r<t.TEXTURE0||r>n)throw new Error("textureUnit must be in [gl.TEXTURE0, gl.TEXTURE"+n+"].")}function Zo(t,e){2!==e.length&&(e=T(e).newShape);var n=Mo(t),r=b(e);return e.length<=1&&r<=n?[r,1]:2===e.length&&e[0]<=n&&e[1]<=n?e:3===e.length&&e[0]<=n&&e[1]*e[2]<=n?[e[0],e[1]*e[2]]:4===e.length&&e[0]<=n&&e[1]*e[2]*e[3]<=n?[e[0],e[1]*e[2]*e[3]]:C(r)}var Jo=Object.freeze({createWebGLRenderingContext:yo,createWebGLRenderingContextFromCanvas:bo,callAndCheck:wo,enableDebugWebGLErrorChecking:_o,checkWebGLError:Co,getWebGLErrorMessage:So,getExtensionOrThrow:Do,createVertexShader:Po,createFragmentShader:Ao,createProgram:Eo,linkProgram:Oo,validateProgram:ko,createStaticVertexBuffer:Ro,createStaticIndexBuffer:Io,queryMaxTextureSize:Mo,getNumChannels:No,createTexture:Lo,validateTextureSize:Fo,createFramebuffer:jo,bindVertexBufferToProgramAttribute:Vo,bindTextureUnit:zo,unbindTextureUnit:function(t,e){Ko(t,e),wo(t,function(){return t.activeTexture(t.TEXTURE0+e)}),wo(t,function(){return t.bindTexture(t.TEXTURE_2D,null)})},getProgramUniformLocationOrThrow:Bo,getProgramUniformLocation:Wo,bindTextureToProgramUniformSampler:Ho,bindCanvasToFramebuffer:function(t){wo(t,function(){return t.bindFramebuffer(t.FRAMEBUFFER,null)}),wo(t,function(){return t.viewport(0,0,t.canvas.width,t.canvas.height)}),wo(t,function(){return t.scissor(0,0,t.canvas.width,t.canvas.height)})},bindColorTextureToFramebuffer:Xo,unbindColorTextureFromFramebuffer:qo,validateFramebuffer:Uo,getFramebufferErrorMessage:Go,getTextureShapeFromLogicalShape:Zo});function Qo(t){var e,n={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};return wo(e=null!=t?bo(t,n):yo(n),function(){return e.disable(e.DEPTH_TEST)}),wo(e,function(){return e.disable(e.STENCIL_TEST)}),wo(e,function(){return e.disable(e.BLEND)}),wo(e,function(){return e.disable(e.DITHER)}),wo(e,function(){return e.disable(e.POLYGON_OFFSET_FILL)}),wo(e,function(){return e.disable(e.SAMPLE_COVERAGE)}),wo(e,function(){return e.enable(e.SCISSOR_TEST)}),wo(e,function(){return e.enable(e.CULL_FACE)}),wo(e,function(){return e.cullFace(e.BACK)}),e}function $o(t){return Po(t,"\n    precision highp float;\n    attribute vec3 clipSpacePos;\n    attribute vec2 uv;\n    varying vec2 resultUV;\n\n    void main() {\n      gl_Position = vec4(clipSpacePos, 1);\n      resultUV = uv;\n    }")}function ta(t){return Ro(t,new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]))}function ea(t){return Io(t,new Uint16Array([0,1,2,2,1,3]))}function na(t,e){var n,r,i,o,a,s,u,l=t;return 2===Ki.get("WEBGL_VERSION")?(n=l.R32F,r=l.R16F,i=l.RGBA32F,o=l.RED,a=4,s=1,u=l.HALF_FLOAT):(n=t.RGBA,r=t.RGBA,i=l.RGBA,o=t.RGBA,a=4,s=4,u=null!=e?e.HALF_FLOAT_OES:null),{internalFormatFloat:n,internalFormatHalfFloat:r,internalFormatPackedFloat:i,textureFormatFloat:o,downloadTextureFormat:t.RGBA,downloadUnpackNumChannels:a,defaultNumChannels:s,textureTypeHalfFloat:u}}function ra(t,e,n,r,i,o){Fo(t,e,n);var a=Lo(t),s=t.TEXTURE_2D;return wo(t,function(){return t.bindTexture(s,a)}),wo(t,function(){return t.texParameteri(s,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE)}),wo(t,function(){return t.texParameteri(s,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)}),wo(t,function(){return t.texParameteri(s,t.TEXTURE_MIN_FILTER,t.NEAREST)}),wo(t,function(){return t.texParameteri(s,t.TEXTURE_MAG_FILTER,t.NEAREST)}),wo(t,function(){return t.texImage2D(s,0,r,e,n,0,i,o,null)}),wo(t,function(){return t.bindTexture(t.TEXTURE_2D,null)}),a}function ia(t,e,n,r){var i=fo(e,n);return ra(t,i[0],i[1],r.internalFormatFloat,r.textureFormatFloat,t.FLOAT)}function oa(t,e,n,r){var i=fo(e,n);return ra(t,i[0],i[1],r.internalFormatFloat,r.textureFormatFloat,r.textureTypeHalfFloat)}function aa(t,e,n,r){var i=fo(e,n);return ra(t,i[0],i[1],t.RGBA,t.RGBA,t.UNSIGNED_BYTE)}function sa(t,e,n,r){var i=vo(e,n);return ra(t,i[0],i[1],r.internalFormatPackedFloat,t.RGBA,t.FLOAT)}function ua(t,e,n){return wo(t,function(){return t.bindBuffer(t.ARRAY_BUFFER,n)}),Vo(t,e,"clipSpacePos",n,3,20,0)&&Vo(t,e,"uv",n,2,20,12)}function la(t,e,n){wo(t,function(){return t.bindTexture(t.TEXTURE_2D,e)}),wo(t,function(){return t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,n)}),wo(t,function(){return t.bindTexture(t.TEXTURE_2D,null)})}function ca(t,e,n,r,i,o){Fo(t,n,r),wo(t,function(){return t.bindTexture(t.TEXTURE_2D,e)}),wo(t,function(){return t.texSubImage2D(t.TEXTURE_2D,0,0,0,n,r,o,t.FLOAT,i)}),wo(t,function(){return t.bindTexture(t.TEXTURE_2D,null)})}function fa(t,e,n,r,i,o,a){var s,u=fo(n,r),l=u[0],c=u[1];1===a.defaultNumChannels?s=i:function(t,e,n){var r=ho(t.length,n);if(e.length<r)throw new Error("unpackedArray length ("+e.length+") must be >= "+r);for(var i=0,o=0;o<t.length;++o)e[i]=t[o],i+=n}(i,s=new Float32Array(ho(i.length,o)),o),ca(t,e,l,c,s,a.textureFormatFloat)}function ha(t,e,n,r,i,o){var a=vo(n,r),s=a[0],u=a[1],l=new Float32Array(go(n,r));(function(t,e,n,r){var i=go(e,n);if(r.length<i)throw new Error("packedRGBA length ("+r.length+") must be >= "+i);for(var o=vo(e,n),a=o[0],s=o[1],u=n%2==1,l=e%2==1,c=Math.floor(n/2),f=Math.floor(e/2),h=u?4:0,d=n,p=0,v=0;v<f;++v){for(var g=2*v*n,m=0;m<c;++m){var y=g+2*m;r[p]=t[y],r[p+1]=t[y+1],r[p+2]=t[y+d],r[p+3]=t[y+d+1],p+=4}p+=h}if(u){y=n-1,p=4*(a-1);var b=2*n;for(h=4*a,v=0;v<f;++v)r[p]=t[y],r[p+2]=t[y+n],y+=b,p+=h}if(l)for(y=(e-1)*n,p=(s-1)*a*4,m=0;m<c;++m)r[p++]=t[y++],r[p++]=t[y++],p+=2;u&&l&&(r[r.length-4]=t[t.length-1])})(i,n,r,l),ca(t,e,s,u,l,t.RGBA)}function da(t,e,n,r,i){return a(this,void 0,void 0,function(){var o,a,u,l,c;return s(this,function(s){switch(s.label){case 0:return o=t,a=new Float32Array(ho(n*r,i.downloadUnpackNumChannels)),u=a instanceof Float32Array?4*a.length:a,l=t.createBuffer(),wo(t,function(){return t.bindBuffer(o.PIXEL_PACK_BUFFER,l)}),wo(t,function(){return t.bufferData(o.PIXEL_PACK_BUFFER,u,t.STATIC_DRAW)}),wo(t,function(){return o.readPixels(0,0,r,n,t.RGBA,t.FLOAT,0)}),[4,e.getBufferSubDataAsync(o.PIXEL_PACK_BUFFER,0,a)];case 1:return s.sent(),c=new Float32Array(n*r),po(a,c,i.downloadUnpackNumChannels),[2,c]}})})}function pa(t,e,n,r){var i=fo(e,n),o=i[0],a=i[1],s=new Float32Array(ho(e*n,r.downloadUnpackNumChannels));wo(t,function(){return t.readPixels(0,0,o,a,r.downloadTextureFormat,t.FLOAT,s)});var u=new Float32Array(e*n);return po(s,u,r.downloadUnpackNumChannels),u}function va(t,e,n,r){var i=fo(e,n),o=i[0],a=i[1],s=new Uint8Array(ho(e*n,4));return wo(t,function(){return t.readPixels(0,0,o,a,r.downloadTextureFormat,t.UNSIGNED_BYTE,s)}),new Float32Array(s.buffer)}function ga(t,e,n,r){var i=vo(e,n),o=i[0],a=i[1],s=new Float32Array(go(e,n));wo(t,function(){return t.readPixels(0,0,o,a,t.RGBA,t.FLOAT,s)});var u=new Float32Array(e*n);return function(t,e,n,r){var i=e*n;if(i<r.length)throw new Error("matrix length ("+r.length+") must be >= "+i);for(var o=n%2==1,a=e%2==1,s=Math.floor(n/2),u=Math.floor(e/2),l=vo(e,n),c=l[0],f=l[1],h=o?4:0,d=n+(o?1:0),p=0,v=0,g=n,m=0;m<u;++m){for(var y=0;y<s;++y)r[v++]=t[p++],r[v++]=t[p++],r[g++]=t[p++],r[g++]=t[p++];p+=h,v+=d,g+=d}if(o){p=4*(c-1);var b=n-1;for(h=4*c,d=2*n,m=0;m<u;++m)r[b]=t[p],r[b+n]=t[p+2],p+=h,b+=d}if(a)for(p=(f-1)*c*4,b=(e-1)*n,y=0;y<s;++y)r[b++]=t[p++],r[b++]=t[p++],p+=2;return o&&a&&(r[r.length-1]=t[t.length-4]),r}(s,e,n,u)}var ma=Object.freeze({getWebGLContextAttributes:function(){return{alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0}},createWebGLContext:Qo,createVertexShader:$o,createVertexBuffer:ta,createIndexBuffer:ea,getTextureConfig:na,createFloat32MatrixTexture:ia,createFloat16MatrixTexture:oa,createUnsignedBytesMatrixTexture:aa,createPackedMatrixTexture:sa,bindVertexProgramAttributeStreams:ua,uploadPixelDataToTexture:la,uploadMatrixToTexture:fa,uploadMatrixToPackedTexture:ha,downloadMatrixFromOutputTextureAsync:da,downloadFloat32MatrixFromOutputTexture:pa,downloadByteEncodedFloatMatrixFromOutputTexture:va,downloadMatrixFromPackedOutputTexture:ga}),ya=function(){function t(t){this.outputTexture=null,this.program=null,this.disposed=!1,this.autoDebugValidate=!1,this.vertexAttrsAreBound=!1,this.itemsToPoll=[],this.gl=null!=t?t:Qo(),1===Ki.get("WEBGL_VERSION")?(this.textureFloatExtension=Do(this.gl,"OES_texture_float"),this.colorBufferFloatExtension=this.gl.getExtension("WEBGL_color_buffer_float"),Ki.get("WEBGL_RENDER_FLOAT32_ENABLED")||(this.textureHalfFloatExtension=Do(this.gl,"OES_texture_half_float"),this.colorBufferHalfFloatExtension=this.gl.getExtension("EXT_color_buffer_half_float"))):this.colorBufferFloatExtension=Do(this.gl,"EXT_color_buffer_float"),this.loseContextExtension=Do(this.gl,"WEBGL_lose_context"),Ki.get("WEBGL_GET_BUFFER_SUB_DATA_ASYNC_EXTENSION_ENABLED")&&(this.getBufferSubDataAsyncExtension=this.gl.getExtension("WEBGL_get_buffer_sub_data_async")),this.vertexBuffer=ta(this.gl),this.indexBuffer=ea(this.gl),this.framebuffer=jo(this.gl),this.textureConfig=na(this.gl,this.textureHalfFloatExtension)}return t.prototype.dispose=function(){var t=this;if(!this.disposed){null!=this.program&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."),null!=this.outputTexture&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");var e=this.gl;wo(e,function(){return e.finish()}),wo(e,function(){return e.bindFramebuffer(e.FRAMEBUFFER,null)}),wo(e,function(){return e.deleteFramebuffer(t.framebuffer)}),wo(e,function(){return e.bindBuffer(e.ARRAY_BUFFER,null)}),wo(e,function(){return e.deleteBuffer(t.vertexBuffer)}),wo(e,function(){return e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null)}),wo(e,function(){return e.deleteBuffer(t.indexBuffer)}),this.loseContextExtension.loseContext(),this.disposed=!0}},t.prototype.enableAutomaticDebugValidation=function(t){this.autoDebugValidate=t,_o(t)},t.prototype.createFloat32MatrixTexture=function(t,e){return this.throwIfDisposed(),ia(this.gl,t,e,this.textureConfig)},t.prototype.createFloat16MatrixTexture=function(t,e){return this.throwIfDisposed(),oa(this.gl,t,e,this.textureConfig)},t.prototype.createUnsignedBytesMatrixTexture=function(t,e){return this.throwIfDisposed(),aa(this.gl,t,e)},t.prototype.uploadPixelDataToTexture=function(t,e){this.throwIfDisposed(),la(this.gl,t,e)},t.prototype.createPackedMatrixTexture=function(t,e){return this.throwIfDisposed(),sa(this.gl,t,e,this.textureConfig)},t.prototype.deleteMatrixTexture=function(t){var e=this;this.throwIfDisposed(),this.outputTexture===t&&(qo(this.gl,this.framebuffer),this.outputTexture=null),wo(this.gl,function(){return e.gl.deleteTexture(t)})},t.prototype.uploadMatrixToTexture=function(t,e,n,r){this.throwIfDisposed();var i=No();return fa(this.gl,t,e,n,r,i,this.textureConfig)},t.prototype.uploadMatrixToPackedTexture=function(t,e,n,r){return this.throwIfDisposed(),ha(this.gl,t,e,n,r)},t.prototype.downloadFloat32MatrixFromOutputTexture=function(t,e,n){var r=this;return this.downloadMatrixDriver(t,function(){return pa(r.gl,e,n,r.textureConfig)})},t.prototype.downloadByteEncodedFloatMatrixFromOutputTexture=function(t,e,n){var r=this;return this.downloadMatrixDriver(t,function(){return va(r.gl,e,n,r.textureConfig)})},t.prototype.downloadMatrixFromTextureAsync=function(t,e,n){return a(this,void 0,void 0,function(){var r=this;return s(this,function(i){if(null==this.getBufferSubDataAsyncExtension)throw new Error("Cannot download matrix from output texture asynchronously, WEBGL_get_buffer_sub_data_async is not enabled.");return[2,this.downloadMatrixDriverAsync(t,function(){return da(r.gl,r.getBufferSubDataAsyncExtension,e,n,r.textureConfig)})]})})},t.prototype.downloadMatrixFromPackedTexture=function(t,e,n){var r=this;return this.downloadMatrixDriver(t,function(){return ga(r.gl,e,n)})},t.prototype.createProgram=function(t){this.throwIfDisposed();var e=this.gl,n=Ao(e,t),r=$o(e),i=Eo(e);return wo(e,function(){return e.attachShader(i,r)}),wo(e,function(){return e.attachShader(i,n)}),Oo(e,i),this.autoDebugValidate&&ko(e,i),this.vertexAttrsAreBound||(this.setProgram(i),this.vertexAttrsAreBound=ua(e,this.program,this.vertexBuffer)),i},t.prototype.deleteProgram=function(t){var e=this;this.throwIfDisposed(),t===this.program&&(this.program=null),null!=t&&wo(this.gl,function(){return e.gl.deleteProgram(t)})},t.prototype.setProgram=function(t){var e=this;this.throwIfDisposed(),this.program=t,null!=this.program&&this.autoDebugValidate&&ko(this.gl,this.program),wo(this.gl,function(){return e.gl.useProgram(t)})},t.prototype.getUniformLocation=function(t,e,n){return void 0===n&&(n=!0),this.throwIfDisposed(),n?Bo(this.gl,t,e):Wo(this.gl,t,e)},t.prototype.getAttributeLocation=function(t,e){var n=this;return this.throwIfDisposed(),wo(this.gl,function(){return n.gl.getAttribLocation(t,e)})},t.prototype.getUniformLocationNoThrow=function(t,e){return this.throwIfDisposed(),this.gl.getUniformLocation(t,e)},t.prototype.setInputMatrixTexture=function(t,e,n){this.throwIfDisposed(),this.throwIfNoProgram(),Ho(this.gl,0,t,e,n)},t.prototype.setOutputMatrixTexture=function(t,e,n){this.setOutputMatrixTextureDriver(t,n,e)},t.prototype.setOutputPackedMatrixTexture=function(t,e,n){this.throwIfDisposed();var r=vo(e,n);this.setOutputMatrixTextureDriver(t,r[0],r[1])},t.prototype.setOutputMatrixWriteRegion=function(t,e,n,r){this.setOutputMatrixWriteRegionDriver(n,t,r,e)},t.prototype.setOutputPackedMatrixWriteRegion=function(t,e,n,r){throw new Error("setOutputPackedMatrixWriteRegion not implemented.")},t.prototype.debugValidate=function(){null!=this.program&&ko(this.gl,this.program),Uo(this.gl)},t.prototype.executeProgram=function(){this.throwIfDisposed(),this.throwIfNoProgram();var t=this.gl;this.autoDebugValidate&&this.debugValidate(),wo(t,function(){return t.drawElements(t.TRIANGLES,6,t.UNSIGNED_SHORT,0)})},t.prototype.blockUntilAllProgramsCompleted=function(){var t=this;this.throwIfDisposed(),wo(this.gl,function(){return t.gl.finish()})},t.prototype.getQueryTimerExtension=function(){return null==this.disjointQueryTimerExtension&&(this.disjointQueryTimerExtension=Do(this.gl,2===Ki.get("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension},t.prototype.getQueryTimerExtensionWebGL2=function(){return this.getQueryTimerExtension()},t.prototype.getQueryTimerExtensionWebGL1=function(){return this.getQueryTimerExtension()},t.prototype.runQuery=function(t){var e=this.beginQuery();return t(),this.endQuery(),this.pollQueryTime(e)},t.prototype.beginQuery=function(){if(2===Ki.get("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){var t=this.gl,e=this.getQueryTimerExtensionWebGL2(),n=t.createQuery();return t.beginQuery(e.TIME_ELAPSED_EXT,n),n}var r=this.getQueryTimerExtensionWebGL1(),i=r.createQueryEXT();return r.beginQueryEXT(r.TIME_ELAPSED_EXT,i),i},t.prototype.endQuery=function(){if(2!==Ki.get("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){var t=this.getQueryTimerExtensionWebGL1();t.endQueryEXT(t.TIME_ELAPSED_EXT)}else{var e=this.gl,n=this.getQueryTimerExtensionWebGL2();e.endQuery(n.TIME_ELAPSED_EXT)}},t.prototype.isQueryAvailable=function(t,e){if(0===e)return!0;if(2===e){var n=this.gl,r=this.getQueryTimerExtensionWebGL2(),i=n.getQueryParameter(t,n.QUERY_RESULT_AVAILABLE);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(r.GPU_DISJOINT_EXT)),i&&!this.disjoint}return i=(r=this.getQueryTimerExtensionWebGL1()).getQueryObjectEXT(t,r.QUERY_RESULT_AVAILABLE_EXT),null==this.disjoint&&(this.disjoint=this.gl.getParameter(r.GPU_DISJOINT_EXT)),i&&!this.disjoint},t.prototype.pollQueryTime=function(t){var e=this;return new Promise(function(n){var r=Ki.get("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION");e.addItemToPoll(function(){return e.isQueryAvailable(t,r)},function(){return n(e.getQueryTime(t,r))})})},t.prototype.pollItems=function(){for(var t=function(t){for(var e=0,n=t.length-1,r=-1;e<=n;){var i=e+n>>1;t[i]()?(r=i,e=i+1):n=i-1}return r}(this.itemsToPoll.map(function(t){return t.isDoneFn})),e=0;e<=t;++e)(0,this.itemsToPoll[e].resolveFn)();this.itemsToPoll=this.itemsToPoll.slice(t+1)},t.prototype.addItemToPoll=function(t,e){var n=this;this.itemsToPoll.push({isDoneFn:t,resolveFn:e}),this.itemsToPoll.length>1||D(function(){return n.pollItems(),0===n.itemsToPoll.length})},t.prototype.getQueryTime=function(t,e){if(0===e)return null;if(2===e){var n=this.gl;return n.getQueryParameter(t,n.QUERY_RESULT)/1e6}var r=this.getQueryTimerExtensionWebGL1();return r.getQueryObjectEXT(t,r.QUERY_RESULT_EXT)/1e6},t.prototype.downloadMatrixDriverSetup=function(t){this.throwIfDisposed(),Xo(this.gl,t,this.framebuffer),this.autoDebugValidate&&Uo(this.gl)},t.prototype.downloadMatrixDriverTeardown=function(){null!=this.outputTexture?(Xo(this.gl,this.outputTexture,this.framebuffer),this.autoDebugValidate&&Uo(this.gl)):qo(this.gl,this.framebuffer)},t.prototype.downloadMatrixDriver=function(t,e){this.downloadMatrixDriverSetup(t);var n=e();return this.downloadMatrixDriverTeardown(),n},t.prototype.downloadMatrixDriverAsync=function(t,e){return a(this,void 0,void 0,function(){var n;return s(this,function(r){switch(r.label){case 0:return this.downloadMatrixDriverSetup(t),[4,e()];case 1:return n=r.sent(),this.downloadMatrixDriverTeardown(),[2,n]}})})},t.prototype.setOutputMatrixTextureDriver=function(t,e,n){this.throwIfDisposed();var r=this.gl;Xo(r,t,this.framebuffer),this.autoDebugValidate&&Uo(r),this.outputTexture=t,wo(r,function(){return r.viewport(0,0,e,n)}),wo(r,function(){return r.scissor(0,0,e,n)})},t.prototype.setOutputMatrixWriteRegionDriver=function(t,e,n,r){var i=this;this.throwIfDisposed(),wo(this.gl,function(){return i.gl.scissor(t,e,n,r)})},t.prototype.throwIfDisposed=function(){if(this.disposed)throw new Error("Attempted to use disposed GPGPUContext.")},t.prototype.throwIfNoProgram=function(){if(null==this.program)throw new Error("No GPU program is currently set.")},t}();function ba(t,e){if(t.length!==e.length)throw Error("Binary was compiled with "+t.length+" inputs, but was executed with "+e.length+" inputs");t.forEach(function(t,n){var r=t.logicalShape,i=e[n],o=i.tensor.shape;if(!w(r,o))throw Error("Binary was compiled with different shapes than the current args. Shapes "+r+" and "+o+" must match");if(!t.isUniform||!i.isUniform){var a=t.texShape,s=i.isUniform?null:i.texData.texShape;if(!w(a,s))throw Error("Binary was compiled with different texture shapes than the current args. Shape "+a+" and "+s+" must match")}})}var wa=function(){function t(t,e,n){this.variableNames=["probs"],this.outputShape=[t,n],this.userCode="\n      uniform float seed;\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n\n        float r = random(seed);\n        float cdf = 0.0;\n\n        for (int i = 0; i < "+(e-1)+"; i++) {\n          cdf += getProbs(batch, i);\n\n          if (r < cdf) {\n            setOutput(float(i));\n            return;\n          }\n        }\n\n        // If no other event happened, last event happened.\n        setOutput(float("+(e-1)+"));\n      }\n    "}return t.prototype.getCustomSetupFunc=function(t){var e=this;return function(n,r){null==e.seedLoc&&(e.seedLoc=n.getUniformLocation(r,"seed")),n.gl.uniform1f(e.seedLoc,t)}},t}(),xa=function(t,e,n){if(this.variableNames=["x"],"avg"===e&&n)throw new Error("Cannot compute positions for average pool.");var r=t.filterHeight,i=t.filterWidth,o=t.strideHeight,a=t.strideWidth,s=t.padInfo.top,u=t.padInfo.left;this.outputShape=t.outShape;var l="avg"===e,c="0.0";if(l||(c="-1.0 / 0.0"),n)this.userCode="\n        const ivec2 strides = ivec2("+o+", "+a+");\n        const ivec2 pads = ivec2("+s+", "+u+");\n\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int batch = coords[0];\n          int d = coords[3];\n\n          ivec2 xRCCorner = coords.yz * strides - pads;\n          int xRCorner = xRCCorner.x;\n          int xCCorner = xRCCorner.y;\n\n          // max/min x(?, ?, d) to get y(yR, yC, d).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n          float avgValue = 0.0;\n\n          for (int wR = 0; wR < "+r+"; wR++) {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= "+t.inHeight+") {\n              continue;\n            }\n\n            for (int wC = 0; wC < "+i+"; wC++) {\n              int xC = xCCorner + wC;\n\n              if (xC < 0 || xC >= "+t.inWidth+") {\n                continue;\n              }\n\n              float value = getX(batch, xR, xC, d);\n\n              // If a min / max value has already been found, use it. If not,\n              // use the current value.\n              float currMinMaxValue = mix(\n                  value, minMaxValue, minMaxValueFound);\n              if (value >= currMinMaxValue) {\n                minMaxValue = value;\n                minMaxValueFound = 1.0;\n                minMaxPosition = wR * "+i+" + wC;\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      ";else{var f=e+"("+e+"("+e+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"avg"===e&&(f="avgValue / count");var h=4*Math.floor(i/4),d=i%4,p="\n      if ("+l+") {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = max(values, minMaxValue);\n      }\n    ";this.userCode="\n      const ivec2 strides = ivec2("+o+", "+a+");\n      const ivec2 pads = ivec2("+s+", "+u+");\n      const float initializationValue = "+c+";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xR, int xC, int d) {\n        if (xC < 0 || xC >= "+t.inWidth+") {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xR, xC, d);\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d = coords[3];\n\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // max/min x(?, ?, d) to get y(yR, yC, d).\n        // ? = to be determined\n        vec4 minMaxValue = vec4("+c+");\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wR = 0; wR < "+r+"; wR++) {\n          int xR = xRCorner + wR;\n\n          if (xR < 0 || xR >= "+t.inHeight+") {\n            continue;\n          }\n\n          for (int wC = 0; wC < "+h+"; wC += 4) {\n            int xC = xCCorner + wC;\n\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + 1, d),\n              getValue(batch, xR, xC + 2, d),\n              getValue(batch, xR, xC + 3, d)\n            );\n\n            "+p+"\n          }\n\n          int xC = xCCorner + "+h+";\n          if ("+(1===d)+") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              initializationValue,\n              initializationValue,\n              initializationValue\n            );\n\n            "+p+"\n          } else if ("+(2===d)+") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + 1, d),\n              initializationValue,\n              initializationValue\n            );\n\n            "+p+"\n          } else if ("+(3===d)+") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + 1, d),\n              getValue(batch, xR, xC + 2, d),\n              initializationValue\n            );\n\n            "+p+"\n          }\n        }\n        setOutput("+f+");\n      }\n    "}},_a=function(){function t(t){this.variableNames=["source"],this.outputShape=t,this.rank=t.length;var e=so(this.rank),n=function(t){if(1===t)return"sourceLoc";if(2===t)return"sourceLoc.x, sourceLoc.y";if(3===t)return"sourceLoc.x, sourceLoc.y, sourceLoc.z";if(4===t)return"sourceLoc.x, sourceLoc.y, sourceLoc.z, sourceLoc.w";throw Error("Slicing for rank "+t+" is not yet supported")}(this.rank);this.userCode="\n      uniform "+e+" start;\n\n      void main() {\n        "+e+" sourceLoc = start + getOutputCoords();\n        setOutput(getSource("+n+"));\n      }\n    "}return t.prototype.getCustomSetupFunc=function(t){var e=this;if(t.length!==this.rank)throw Error("The rank ("+this.rank+") of the program must match the length of start ("+t.length+")");return function(n,r){if(null!=e.startLoc||(e.startLoc=n.getUniformLocationNoThrow(r,"start"),null!=e.startLoc))if(1===e.rank)n.gl.uniform1i(e.startLoc,t[0]);else if(2===e.rank)n.gl.uniform2i(e.startLoc,t[0],t[1]);else if(3===e.rank)n.gl.uniform3i(e.startLoc,t[0],t[1],t[2]);else{if(4!==e.rank)throw Error("Slicing for rank "+e.rank+" is not yet supported");n.gl.uniform4i(e.startLoc,t[0],t[1],t[2],t[3])}}},t}(),Ca=function(){function t(t){this.gpgpu=t,this.numUsedTextures=0,this.numFreeTextures=0,this.freeTextures={},this.logEnabled=!1,this.usedTextures={}}return t.prototype.acquireTexture=function(t,e){var n,r=Sa(e),i=Da(t,r);if(i in this.freeTextures||(this.freeTextures[i]=[]),i in this.usedTextures||(this.usedTextures[i]=[]),this.freeTextures[i].length>0){this.numFreeTextures--,this.numUsedTextures++,this.log();var o=this.freeTextures[i].shift();return this.usedTextures[i].push(o),o}return this.numUsedTextures++,this.log(),r===ro.FLOAT32?n=this.gpgpu.createFloat32MatrixTexture(t[0],t[1]):r===ro.FLOAT16?n=this.gpgpu.createFloat16MatrixTexture(t[0],t[1]):r===ro.UNSIGNED_BYTE&&(n=this.gpgpu.createUnsignedBytesMatrixTexture(t[0],t[1])),this.usedTextures[i].push(n),n},t.prototype.releaseTexture=function(t,e,n){var r=Da(e,Sa(n));r in this.freeTextures||(this.freeTextures[r]=[]),this.freeTextures[r].push(t),this.numFreeTextures++,this.numUsedTextures--;var i=this.usedTextures[r],o=i.indexOf(t);if(o<0)throw new Error("Cannot release a texture that was never provided by this texture manager");i.splice(o,1),this.log()},t.prototype.log=function(){this.logEnabled&&console.log("Free/Used",this.numFreeTextures+" / "+this.numUsedTextures,"("+(this.numFreeTextures+this.numUsedTextures)+")")},t.prototype.getNumUsedTextures=function(){return this.numUsedTextures},t.prototype.getNumFreeTextures=function(){return this.numFreeTextures},t.prototype.dispose=function(){var t=this;if(null!=this.freeTextures){for(var e in this.freeTextures)this.freeTextures[e].forEach(function(e){t.gpgpu.deleteMatrixTexture(e)});for(var e in this.usedTextures)this.usedTextures[e].forEach(function(e){t.gpgpu.deleteMatrixTexture(e)});this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0}},t}();function Sa(t){if(t===no.DOWNLOAD||t===no.PIXELS)return ro.UNSIGNED_BYTE;if(t===no.UPLOAD)return ro.FLOAT32;if(t===no.RENDER)return Ki.get("WEBGL_RENDER_FLOAT32_ENABLED")?ro.FLOAT32:ro.FLOAT16;throw new Error("Unknown logical texture type "+t)}function Da(t,e){return t[0]+"_"+t[1]+"_"+e}var Pa=function(t,e){this.variableNames=["A"],this.outputShape=t,this.userCode="\n      float unaryOperation(float x) {\n        "+e+"\n      }\n\n      void main() {\n        float x = getAAtOutCoords();\n        float y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    "},Aa=300,Ta=function(){function t(t,e){if(void 0===e&&(e=!0),this.gpgpu=t,this.delayedStorage=e,this.texData=new WeakMap,this.pendingRead=new WeakMap,this.pendingDisposal=new WeakSet,this.lruDataGPU=[],this.numBytesInGPU=0,this.uploadWaitMs=0,this.downloadWaitMs=0,this.binaryCache={},this.disposed=!1,Ki.get("WEBGL_VERSION")<1)throw new Error("WebGL is not supported on this device");Ki.get("IS_BROWSER")&&(this.canvas=document.createElement("canvas")),null==t?(this.gpgpu=new ya(Qo(this.canvas)),this.gpgpuCreatedLocally=!0):this.gpgpuCreatedLocally=!1,this.NUM_BYTES_BEFORE_PAGING=window.screen.height*window.screen.width*window.devicePixelRatio*Aa,this.textureManager=new Ca(this.gpgpu)}return t.prototype.register=function(t,e,n){if(this.texData.has(t))throw new Error("Data buffer is already registered");this.texData.set(t,{shape:e,dtype:n,values:null,texture:null,texShape:null,usage:no.RENDER})},t.prototype.fromPixels=function(t,e){if(null==t)throw new Error("MathBackendWebGL.writePixels(): pixels can not be null");var n=[t.height,t.width],r=[t.height,t.width,e];if(t instanceof HTMLVideoElement){if(null==this.fromPixelsCanvas){if(!Ki.get("IS_BROWSER"))throw new Error("Can't read pixels from HTMLImageElement outside the browser.");if("complete"!==document.readyState)throw new Error("The DOM is not ready yet. Please call tf.fromPixels() once the DOM is ready. One way to do that is to add an event listener for `DOMContentLoaded` on the document object");this.fromPixelsCanvas=document.createElement("canvas")}this.fromPixelsCanvas.width=t.width,this.fromPixelsCanvas.height=t.height,this.fromPixelsCanvas.getContext("2d").drawImage(t,0,0,t.width,t.height),t=this.fromPixelsCanvas}var i=wi.make(n,{},"int32");this.texData.get(i.dataId).usage=no.PIXELS,this.gpgpu.uploadPixelDataToTexture(this.getTexture(i.dataId),t);var o=new function(t){this.variableNames=["A"];var e=t[0],n=t[1];this.outputShape=t,this.userCode="\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2("+n+".0, "+e+".0);\n\n        vec4 values = texture2D(A, uv);\n        float value;\n        if (depth == 0) {\n          value = values.r;\n        } else if (depth == 1) {\n          value = values.g;\n        } else if (depth == 2) {\n          value = values.b;\n        } else if (depth == 3) {\n          value = values.a;\n        }\n\n        setOutput(floor(value * 255.0 + 0.5));\n      }\n    "}(r),a=this.compileAndRun(o,[i]);return i.dispose(),a},t.prototype.write=function(t,e){if(null==e)throw new Error("MathBackendWebGL.write(): values can not be null");this.throwIfNoData(t);var n=this.texData.get(t),r=n.texture;null!=r&&(this.releaseTexture(t,r,n.texShape,n.usage),n.texture=null,n.texShape=null),n.usage=no.UPLOAD,n.values=e,this.delayedStorage||this.uploadToGPU(t)},t.prototype.readSync=function(t){this.throwIfNoData(t);var e=this.texData.get(t),n=e.shape,r=e.texture,i=e.values,o=e.texShape,a=e.dtype;if(null!=i)return this.cacheOnCPU(t),i;var s,u,l=null!=this.activeTimers;if(l&&(s=performance.now()),Ki.get("WEBGL_DOWNLOAD_FLOAT_ENABLED"))u=this.gpgpu.downloadFloat32MatrixFromOutputTexture(r,o[0],o[1]);else{var c=wi.make(n,{});this.texData.get(c.dataId).usage=no.DOWNLOAD;var f=wi.make(n,{dataId:t},a),h=new function(t){this.variableNames=["A"],this.outputShape=t,this.userCode="\n      const float FLOAT_MAX = 1.70141184e38;\n      const float FLOAT_MIN = 1.17549435e-38;\n\n      lowp vec4 encode_float(highp float v) {\n        if (isNaN(v)) {\n          return vec4(255, 255, 255, 255);\n        }\n\n        highp float av = abs(v);\n\n        if(av < FLOAT_MIN) {\n          return vec4(0.0, 0.0, 0.0, 0.0);\n        } else if(v > FLOAT_MAX) {\n          return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;\n        } else if(v < -FLOAT_MAX) {\n          return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;\n        }\n\n        highp vec4 c = vec4(0,0,0,0);\n\n        highp float e = floor(log2(av));\n        highp float m = exp2(fract(log2(av))) - 1.0;\n\n        c[2] = floor(128.0 * m);\n        m -= c[2] / 128.0;\n        c[1] = floor(32768.0 * m);\n        m -= c[1] / 32768.0;\n        c[0] = floor(8388608.0 * m);\n\n        highp float ebias = e + 127.0;\n        c[3] = floor(ebias / 2.0);\n        ebias -= c[3] * 2.0;\n        c[2] += floor(ebias) * 128.0;\n\n        c[3] += 128.0 * step(0.0, -v);\n\n        return c / 255.0;\n      }\n\n      void main() {\n        float x = getAAtOutCoords();\n        gl_FragColor = encode_float(x);\n      }\n    "}(n),d=this.compileAndRun(h,[f],c),p=this.texData.get(c.dataId);u=this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(p.texture,p.texShape[0],p.texShape[1]),d.dispose(),f.dispose(),c.dispose()}return l&&(this.downloadWaitMs+=performance.now()-s),this.cacheOnCPU(t,u),e.values},t.prototype.read=function(t){return a(this,void 0,void 0,function(){var e,n,r,i,o,a,u,l;return s(this,function(s){switch(s.label){case 0:return this.pendingRead.has(t)?(e=this.pendingRead.get(t),[2,new Promise(function(t){return e.push(t)})]):(this.throwIfNoData(t),n=this.texData.get(t),r=n.texture,o=n.texShape,null!=(i=n.values)?(this.cacheOnCPU(t),[2,i]):Ki.get("WEBGL_GET_BUFFER_SUB_DATA_ASYNC_EXTENSION_ENABLED")?[4,this.gpgpu.downloadMatrixFromTextureAsync(r,o[0],o[1])]:[3,2]);case 1:return a=s.sent(),this.cacheOnCPU(t,a),[2,n.values];case 2:return 0===Ki.get("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")?[2,this.readSync(t)]:(this.pendingRead.set(t,[]),[4,this.gpgpu.runQuery(function(){})]);case 3:return s.sent(),u=this.pendingRead.get(t),this.pendingRead.delete(t),l=this.readSync(t),u.forEach(function(t){return t(l)}),this.pendingDisposal.has(t)&&(this.pendingDisposal.delete(t),this.disposeData(t)),[2,l]}})})},t.prototype.time=function(t){return a(this,void 0,void 0,function(){var e,n,r,i,o,a;return s(this,function(s){switch(s.label){case 0:return e=this.activeTimers,n=[],r=!1,null==this.programTimersStack?(this.programTimersStack=n,r=!0):this.activeTimers.push(n),this.activeTimers=n,t(),i=m(this.activeTimers),this.activeTimers=e,r&&(this.programTimersStack=null),[4,Promise.all(i).then(function(t){var e=0;return t.forEach(function(t){return e+=t}),e})];case 1:return o=s.sent(),a={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:o,wallMs:null},this.uploadWaitMs=0,this.downloadWaitMs=0,[2,a]}})})},t.prototype.memory=function(){return{unreliable:!1,numBytesInGPU:this.numBytesInGPU}},t.prototype.startTimer=function(){return Ki.get("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?this.gpgpu.beginQuery():{startMs:performance.now(),endMs:null}},t.prototype.endTimer=function(t){return Ki.get("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(this.gpgpu.endQuery(),t):(t.endMs=performance.now(),t)},t.prototype.getQueryTime=function(t){return a(this,void 0,void 0,function(){var e;return s(this,function(n){return Ki.get("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?[2,this.gpgpu.pollQueryTime(t)]:[2,(e=t).endMs-e.startMs]})})},t.prototype.disposeData=function(t){if(!this.pendingDisposal.has(t))if(this.pendingRead.has(t))this.pendingDisposal.add(t);else if(this.texData.has(t)){var e=this.texData.get(t),n=e.texture;null!=n&&this.releaseTexture(t,n,e.texShape,e.usage),this.texData.delete(t)}},t.prototype.getTexture=function(t){return this.uploadToGPU(t),this.texData.get(t).texture},t.prototype.getGPGPUContext=function(){return this.gpgpu},t.prototype.getCanvas=function(){return this.canvas},t.prototype.slice=function(t,e,n){var r=new _a(n),i=r.getCustomSetupFunc(e);return this.compileAndRun(r,[t],null,i)},t.prototype.stridedSlice=function(t,e,n,r,i,o){var a=re(t.shape,e,n,r,i,o),s=a[0],u=a[1];if(u.some(function(t){return 0===t}))return qr([],u);var l=new function(t,e,n){this.variableNames=["x"],this.outputShape=n,this.rank=n.length;var r,i=so(this.rank);r=1===this.rank?"coords * strides + begin":n.map(function(t,e){return"coords["+e+"] * strides["+e+"] + begin["+e+"]"}).join(","),this.userCode="\n      "+i+" begin = "+i+"("+t+");\n      "+i+" strides = "+i+"("+e+");\n\n      void main() {\n        "+i+" coords = getOutputCoords();\n        setOutput(getX("+r+"));\n      }\n    "}(s,r,u);return this.compileAndRun(l,[t])},t.prototype.reverse=function(t,e){var n=new function(t,e){this.variableNames=["x"];var n=t.length;if(n>4)throw new Error("WebGL backend: Reverse of rank-"+n+" tensor is not yet supported");if(this.outputShape=t,1!==n){var r=t.map(function(n,r){return function(n){return-1!==e.indexOf(n)&&1!==t[n]?t[n]+" - coords["+n+"] - 1":"coords["+n+"]"}(r)}).join(","),i=so(n);this.userCode="\n      void main() {\n        "+i+" coords = getOutputCoords();\n        setOutput(getX("+r+"));\n      }\n    "}else this.userCode="\n        void main() {\n          int coord = getOutputCoords();\n          setOutput(getX("+t[0]+" - coord - 1));\n        }\n      "}(t.shape,e);return this.compileAndRun(n,[t])},t.prototype.concat=function(t,e){var n=new function(t,e){this.variableNames=["A","B"],this.outputShape=[],this.outputShape=$(t,e,1),this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int yR = coords.x;\n        int yC = coords.y;\n\n        float value = 0.0;\n        if (yC < "+t[1]+") {\n          value = getA(yR, yC);\n        } else {\n          yC -= "+t[1]+";\n          value = getB(yR, yC);\n        }\n\n        setOutput(value);\n      }\n    "}(t.shape,e.shape);return this.compileAndRun(n,[t,e])},t.prototype.neg=function(t){var e=new Pa(t.shape,"return -x;");return this.compileAndRun(e,[t])},t.prototype.matMul=function(t,e,n,r){var i=new function(t,e,n,r){void 0===n&&(n=!1),void 0===r&&(r=!1),this.variableNames=["matrixA","matrixB"];var i=n?t[0]:t[1];this.outputShape=[n?t[1]:t[0],r?e[0]:e[1]];var o=function(t,e){return n?e+" + "+t+", aRow":"aRow, "+e+" + "+t},a=function(t,e){return r?"bCol, "+e+" + "+t:e+" + "+t+", bCol"},s=4*Math.floor(i/4),u=i%4;this.userCode=" float dotARowBCol(int aRow, int bCol) {\n      float result = 0.0;\n      for (int i = 0; i < "+s+"; i += 4) {\n        vec4 a = vec4(\n          getMatrixA("+o(0,"i")+"),\n          getMatrixA("+o(1,"i")+"),\n          getMatrixA("+o(2,"i")+"),\n          getMatrixA("+o(3,"i")+")\n        );\n        vec4 b = vec4(\n          getMatrixB("+a(0,"i")+"),\n          getMatrixB("+a(1,"i")+"),\n          getMatrixB("+a(2,"i")+"),\n          getMatrixB("+a(3,"i")+")\n        );\n\n        result += dot(a, b);\n      }\n\n      if ("+(1===u)+") {\n        result += getMatrixA("+o(0,s)+") *\n          getMatrixB("+a(0,s)+");\n      } else if ("+(2===u)+") {\n        vec2 a = vec2(\n          getMatrixA("+o(0,s)+"),\n          getMatrixA("+o(1,s)+")\n        );\n        vec2 b = vec2(\n          getMatrixB("+a(0,s)+"),\n          getMatrixB("+a(1,s)+")\n        );\n        result += dot(a, b);\n      } else if ("+(3===u)+") {\n        vec3 a = vec3(\n          getMatrixA("+o(0,s)+"),\n          getMatrixA("+o(1,s)+"),\n          getMatrixA("+o(2,s)+")\n        );\n        vec3 b = vec3(\n          getMatrixB("+a(0,s)+"),\n          getMatrixB("+a(1,s)+"),\n          getMatrixB("+a(2,s)+")\n        );\n        result += dot(a, b);\n      }\n\n      return result;\n    }\n\n    void main() {\n      ivec2 resRC = getOutputCoords();\n      setOutput(dotARowBCol(resRC.x, resRC.y));\n    }\n    "}(t.shape,e.shape,n,r);return this.compileAndRun(i,[t,e])},t.prototype.multiply=function(t,e){var n=new eo("return a * b;",t.shape,e.shape),r=this.makeOutputArray(n.outputShape,wt(t.dtype,e.dtype));return this.compileAndRun(n,[t,e],r)},t.prototype.batchNormalization=function(t,e,n,r,i,o){var a=[t,e,n],s=null;null!=o&&(s=o.shape,a.push(o));var u=null;null!=i&&(u=i.shape,a.push(i));var l=new function(t,e,n,r,i,o){this.outputShape=[],this.supportsBroadcasting=!0,this.variableNames=["x","mean","variance"],St(t,e),St(t,n);var a="0.0";null!=r&&(St(t,r),this.variableNames.push("offset"),a="getOffsetAtOutCoords()");var s="1.0";null!=i&&(St(t,i),this.variableNames.push("scale"),s="getScaleAtOutCoords()"),this.outputShape=t,this.userCode="\n      void main() {\n        float x = getXAtOutCoords();\n        float mean = getMeanAtOutCoords();\n        float variance = getVarianceAtOutCoords();\n        float offset = "+a+";\n        float scale = "+s+";\n        float inv = scale * inversesqrt(variance + float("+o+"));\n        setOutput((x - mean) * inv + offset);\n      }\n    "}(t.shape,e.shape,n.shape,s,u,r);return this.compileAndRun(l,a)},t.prototype.localResponseNormalization4D=function(t,e,n,r,i){var o=new function(t,e,n,r,i){this.variableNames=["x"],this.outputShape=[];var o=e,a=t[3]-1;this.outputShape=t;var s="float("+n+") + float("+r+") * sum";this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n        int d = coords[3];\n        float x = getX(b, r, c, d);\n        float sum = 0.0;\n        for (int j = -"+o+"; j <= "+o+"; j++) {\n          int idx = d + j;\n          if (idx >= 0 && idx <=  "+a+") {\n            float z = getX(b, r, c, idx);\n            sum += z * z;\n          }\n        }\n        float val = x * "+(.5===i?"inversesqrt("+s+")":1===i?"1.0/("+s+")":"exp(log("+s+") * float(-"+i+"));")+";\n        setOutput(val);\n      }\n    "}(t.shape,e,n,r,i);return this.compileAndRun(o,[t])},t.prototype.tile=function(t,e){var n=new function(t,e){this.variableNames=["A"];for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t[r]*e[r];this.outputShape=n,this.rank=n.length;var i=so(this.rank),o=function(t){var e=t.length;if(e>5)throw Error("Tile for rank "+e+" is not yet supported");if(1===e)return"imod(resRC, "+t[0]+")";for(var n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u"],r=[],i=0;i<t.length;i++)r.push("imod("+n[i]+", "+t[i]+")");return r.join()}(t);this.userCode="\n      void main() {\n        "+i+" resRC = getOutputCoords();\n        setOutput(getA("+o+"));\n      }\n    "}(t.shape,e);return this.compileAndRun(n,[t])},t.prototype.pad=function(t,e,n){var r=new function(t,e,n){this.variableNames=["x"],this.outputShape=e.map(function(e,n){return e[0]+t[n]+e[1]});var r=t.length,i=so(r),o=e.map(function(t){return t[0]}).join(","),a=e.map(function(e,n){return e[0]+t[n]}).join(","),s=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,r);this.userCode=1!==r?"\n      "+i+" start = "+i+"("+o+");\n      "+i+" end = "+i+"("+a+");\n\n      void main() {\n        "+i+" outC = getOutputCoords();\n        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {\n          setOutput(float("+n+"));\n        } else {\n          "+i+" coords = outC - start;\n          setOutput(getX("+s+"));\n        }\n      }\n    ":"\n        int start = "+o+";\n        int end = "+a+";\n\n        void main() {\n          int outC = getOutputCoords();\n          if (outC < start || outC >= end) {\n            setOutput(float("+n+"));\n          } else {\n            setOutput(getX(outC - start));\n          }\n        }\n      "}(t.shape,e,n);return this.compileAndRun(r,[t])},t.prototype.transpose=function(t,e){var n=new function(t,e){this.variableNames=["A"];for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t[e[r]];this.outputShape=n,this.rank=n.length;var i=so(this.rank),o=function(t){var e=t.length;if(e>6)throw Error("Transpose for rank "+e+" is not yet supported");for(var n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u","resRC.v"],r=new Array(e),i=0;i<t.length;i++)r[t[i]]=n[i];return r.join()}(e);this.userCode="\n    void main() {\n      "+i+" resRC = getOutputCoords();\n      setOutput(getA("+o+"));\n    }\n    "}(t.shape,e);return this.compileAndRun(n,[t])},t.prototype.gather=function(t,e,n){var r=new function(t,e,n){this.variableNames=["A","indices"];var r=t.slice();r[n]=e,this.outputShape=r,this.rank=r.length;var i=so(this.rank),o=function(t,e){var n=t.length;if(n>4)throw Error("Gather for rank "+n+" is not yet supported");if(1===n)return"int(getIndices(resRC))";for(var r=["resRC.x","resRC.y","resRC.z","resRC.w"],i=[],o=0;o<t.length;o++)i.push(o===e?"int(getIndices("+r[o]+"))":""+r[o]);return i.join()}(t,n);this.userCode="\n      void main() {\n        "+i+" resRC = getOutputCoords();\n        setOutput(getA("+o+"));\n      }\n    "}(t.shape,e.size,n);return this.compileAndRun(r,[t,e])},t.prototype.reduce=function(t,e,n){var r=t.shape[0],i=t.shape[1],o=new function(t,e){this.variableNames=["x"];var n=t.windowSize,r=t.batchSize,i=t.inSize,o=Math.ceil(i/n);this.outputShape=[r,o];var a="0.0",s="";"min"===e?(a="1.0 / 0.0",s="min"):"max"===e&&(a="-1.0 / 0.0",s="max");var u=e+"("+e+"("+e+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"sum"===e?u="sumValue":"all"===e&&(u="allValue");var l=4*Math.floor(n/4),c=n%4,f="\n      if ("+("sum"===e)+") {\n        sumValue += dot(values, ones);\n      } else {\n        minMaxValue = "+s+"(values, minMaxValue);\n      }\n    ",h="vec4";"all"===e&&(a="1.0",f="\n        bool reducedAllValue = all(values);\n        float floatedReducedAllValue = float(reducedAllValue);\n        allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);\n      ",h="bvec4");var d="";i%n>0&&(d="\n        if (inIdx < 0 || inIdx >= "+i+") {\n          return initializationValue;\n        }\n      "),this.userCode="\n      const float initializationValue = "+a+";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int inIdx) {\n        "+d+"\n        return getX(batch, inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * "+n+";\n\n        vec4 minMaxValue = vec4("+a+");\n        float sumValue = 0.0;\n        float allValue = 1.0;\n\n        for (int i = 0; i < "+l+"; i += 4) {\n          int inIdx = inOffset + i;\n          "+h+" values = "+h+"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          "+f+"\n        }\n\n        int inIdx = inOffset + "+l+";\n        if ("+(1===c)+") {\n          "+h+" values = "+h+"(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          "+f+"\n        } else if ("+(2===c)+") {\n          "+h+" values = "+h+"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          "+f+"\n        } else if ("+(3===c)+") {\n          "+h+" values = "+h+"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          "+f+"\n        }\n        setOutput("+u+");\n      }\n    "}({windowSize:Qi(i),inSize:i,batchSize:r},e),a=o.outputShape,s=this.makeOutputArray([a[0],a[1]],n);return this.compileAndRun(o,[t],s),1===s.shape[1]?s:this.reduce(s,e,n)},t.prototype.argReduce=function(t,e,n){void 0===n&&(n=null);var r=t.shape[0],i=t.shape[1];null!=n&&(r=n.shape[0],i=n.shape[1]);var o=new function(t,e,n){this.variableNames=["A"];var r=t.windowSize,i=t.batchSize,o=Math.ceil(t.inSize/r);n||this.variableNames.push("bestIndicesA"),this.outputShape=[i,o],this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * "+r+";\n\n        int bestIndex = 0;\n        float bestValue = getA(batch, inOffset);\n\n        for (int i = 0; i < "+r+"; i++) {\n          int inIdx = "+(n?"inOffset + i;":"round(getBestIndicesA(batch, inOffset + i));")+";\n          float candidate = getA(batch, inIdx);\n          if (candidate "+("max"===e?">":"<")+" bestValue) {\n            bestValue = candidate;\n            bestIndex = inIdx;\n          }\n        }\n        setOutput(float(bestIndex));\n      }\n    "}({windowSize:Qi(i),inSize:i,batchSize:r},e,null==n),a=o.outputShape,s=this.makeOutputArray([a[0],a[1]],"int32"),u=[t];return null!=n&&u.push(n),this.compileAndRun(o,u,s),1===s.shape[1]?s:this.argReduce(t,e,s)},t.prototype.sum=function(t,e){K("sum",e,t.rank);var n=U(t.shape,e),r=n[0],i=b(n[1]),o=t.as2D(-1,i),a=xt(t.dtype);return this.reduce(o,"sum",a).reshape(r)},t.prototype.unsortedSegmentSum=function(t,e,n){var r=0,i=Z([r],t.rank),o=t;null!=i&&(o=t.transpose(i),r=Q(1,t.rank)[0]);var a=function(t,e,n){for(var r=[],i=t.length,o=0;o<i;o++)r.push(o!==e?t[o]:n);return r}(o.shape,r,n),s=b([o.shape[r]]),u=o.as2D(-1,s),l=xt(t.dtype),c=this.segOpCompute(u,"unsortedSegmentSum",e,l,n).reshape(a);return null!=i&&(c=c.transpose(J(i))),c},t.prototype.segOpCompute=function(t,e,n,r,i){var o=t.shape[0],a=t.shape[1],s=function(t,e){var n,r=!1;for(t<=Ji?(n=t,r=!0):n=j(t,Math.floor(Math.sqrt(t)));!r;){if(n>e||n===t){r=!0;break}n=j(t,n+1)}return n}(a,i),u=new function(t,e){this.variableNames=["x","segmentIds"];var n=t.windowSize,r=t.batchSize,i=t.inSize,o=t.numSegments,a=o*Math.ceil(i/n);this.outputShape=[r,a];var s=4*Math.floor(n/4),u=n%4,l="\n        sumValue += dot(values, filter);\n    ",c="";i%n>0&&(c="\n        if (inIdx < 0 || inIdx >= "+i+") {\n          return initializationValue;\n        }\n      ");var f="";i%n>0&&(f="\n        if (inIdx < 0 || inIdx >= "+i+") {\n          return -1.0;\n        }\n      "),this.userCode="\n      const float initializationValue = 0.0;\n\n      float getValue(int batch, int inIdx) {\n        "+c+"\n        return getX(batch, inIdx);\n      }\n\n      float getSegmentIdAtIndex(int inIdx) {\n        "+f+"\n        return getSegmentIds(inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = int(floor(float(outIdx) / float(\n          "+o+")) * float("+n+"));\n        int currentSeg = int(mod(float(outIdx), float("+o+")));\n\n        float sumValue = 0.0;\n\n        for (int i = 0; i < "+s+"; i += 4) {\n          int inIdx = inOffset + i;\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          vec4 filter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 3)) == currentSeg ? 1 : 0\n          );\n\n          "+l+"\n        }\n\n        int inIdx = inOffset + "+s+";\n        if ("+(1===u)+") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          int inIdxSeg = int(getSegmentIdAtIndex(inIdx));\n\n          vec4 filter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            0,\n            0,\n            0\n          );\n\n          "+l+"\n        } else if ("+(2===u)+") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          vec4 filter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n              0,\n              0\n          );\n\n          "+l+"\n        } else if ("+(3===u)+") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          vec4 filter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            0\n          );\n\n          "+l+"\n        }\n        setOutput(sumValue);\n      }\n    "}({windowSize:s,inSize:a,batchSize:o,numSegments:i},e),l=u.outputShape,c=this.makeOutputArray([l[0],l[1]],r);return this.compileAndRun(u,[t,n],c),c.shape[1]===i?c:(n=Wr(0,i).tile([a/s]),this.segOpCompute(c,e,n,r,i))},t.prototype.argMin=function(t,e){var n=[e];K("argMin",n,t.rank);var r=U(t.shape,n),i=r[0],o=b(r[1]),a=t.as2D(-1,o);return this.argReduce(a,"min").reshape(i)},t.prototype.argMax=function(t,e){var n=[e];K("argMax",n,t.rank);var r=U(t.shape,n),i=r[0],o=b(r[1]),a=t.as2D(-1,o);return this.argReduce(a,"max").reshape(i)},t.prototype.cumsum=function(t,e,n,r){if(e!==t.rank-1)throw new Error("WebGL cumsum shader expects an inner-most axis="+(t.rank-1)+" but got axis="+e);var i=new function(t,e,n){this.variableNames=["x"],this.outputShape=t;var r=t.length,i=t[t.length-1],o=n?"<":">";this.userCode="\n      int getIndex(int i) {\n        "+(n?"return "+i+" -i - 1;":"return i;")+"\n      }\n\n      void main() {\n        "+so(r)+" coords = getOutputCoords();\n        int end = "+co(r,"coords")+";\n        float val = 0.0;\n        for (int i = "+i+" - 1; i >= 0; i -= 1) {\n          int idx = getIndex(i);\n          if (idx "+o+" end) {\n            continue;\n          }\n          if (idx == end && "+e+") {\n            continue;\n          }\n          "+co(r,"coords")+" = idx;\n          val += getX("+function(t,e){if(1===t)return""+e;if(2===t)return e+".x, "+e+".y";if(3===t)return e+".x, "+e+".y, "+e+".z";if(4===t)return e+".x, "+e+".y, "+e+".z, "+e+".w";throw Error("Cumulative sum for rank "+t+" is not yet supported")}(r,"coords")+");\n        }\n        setOutput(val);\n      }\n    "}(t.shape,n,r);return this.compileAndRun(i,[t])},t.prototype.equal=function(t,e){var n=new eo("return float(a == b);",t.shape,e.shape),r=this.makeOutputArray(n.outputShape,"bool");return this.compileAndRun(n,[t,e],r)},t.prototype.notEqual=function(t,e){var n=new eo("return float(a != b);",t.shape,e.shape),r=this.makeOutputArray(n.outputShape,"bool");return this.compileAndRun(n,[t,e],r)},t.prototype.less=function(t,e){var n=new eo("return float(a < b);",t.shape,e.shape),r=this.makeOutputArray(n.outputShape,"bool");return this.compileAndRun(n,[t,e],r)},t.prototype.lessEqual=function(t,e){var n=new eo("return float(a <= b);",t.shape,e.shape),r=this.makeOutputArray(n.outputShape,"bool");return this.compileAndRun(n,[t,e],r)},t.prototype.greater=function(t,e){var n=new eo("return float(a > b);",t.shape,e.shape),r=this.makeOutputArray(n.outputShape,"bool");return this.compileAndRun(n,[t,e],r)},t.prototype.greaterEqual=function(t,e){var n=new eo("return float(a >= b);",t.shape,e.shape),r=this.makeOutputArray(n.outputShape,"bool");return this.compileAndRun(n,[t,e],r)},t.prototype.logicalNot=function(t){var e=new Pa(t.shape,"return float(!(x >= 1.0));");return this.compileAndRun(e,[t])},t.prototype.logicalAnd=function(t,e){var n=new eo("return float(a >= 1.0 && b >= 1.0);",t.shape,e.shape),r=this.makeOutputArray(n.outputShape,"bool");return this.compileAndRun(n,[t,e],r)},t.prototype.logicalOr=function(t,e){var n=new eo("return float(a >= 1.0 || b >= 1.0);",t.shape,e.shape),r=this.makeOutputArray(n.outputShape,"bool");return this.compileAndRun(n,[t,e],r)},t.prototype.where=function(t,e,n,r){var i=new function(t,e,n){var r,i;if(this.variableNames=["c","a","b"],this.outputShape=e,n>4)throw Error("Where for rank "+n+" is not yet supported");if(1===n)i="resRC",r="resRC";else{for(var o=["resRC.x","resRC.y","resRC.z","resRC.w"],a=[],s=[],u=0;u<e.length;u++)s.push(""+o[u]),u<t&&a.push(""+o[u]);r=a.join(),i=s.join()}var l=so(n);this.userCode="\n      void main() {\n        "+l+" resRC = getOutputCoords();\n        float cVal = getC("+r+");\n        if (cVal >= 1.0) {\n          setOutput(getA("+i+"));\n        } else {\n          setOutput(getB("+i+"));\n        }\n      }\n    "}(t.rank,e.shape,e.rank),o=this.makeOutputArray(i.outputShape,r);return this.compileAndRun(i,[t,e,n],o)},t.prototype.topKValues=function(t,e){throw new Error("topKValues GPU not yet implemented!")},t.prototype.topKIndices=function(t,e){throw new Error("topKIndices GPU not yet implemented!")},t.prototype.min=function(t,e){K("min",e,t.rank);var n=U(t.shape,e),r=n[0],i=b(n[1]),o=t.as2D(-1,i);return this.reduce(o,"min",o.dtype).reshape(r)},t.prototype.minimum=function(t,e){var n=new eo("\n  if (isNaN(a)) return a;\n  if (isNaN(b)) return b;\n\n  return min(a, b);\n",t.shape,e.shape);return this.compileAndRun(n,[t,e])},t.prototype.mod=function(t,e){var n=new eo("return mod(a, b);",t.shape,e.shape);return this.compileAndRun(n,[t,e])},t.prototype.max=function(t,e){K("max",e,t.rank);var n=U(t.shape,e),r=n[0],i=b(n[1]),o=t.as2D(-1,i);return this.reduce(o,"max",o.dtype).reshape(r)},t.prototype.maximum=function(t,e){var n=new eo("\n  if (isNaN(a)) return a;\n  if (isNaN(b)) return b;\n\n  return max(a, b);\n",t.shape,e.shape);return this.compileAndRun(n,[t,e])},t.prototype.all=function(t,e){K("all",e,t.rank);var n=U(t.shape,e),r=n[0],i=b(n[1]),o=t.as2D(-1,i);return this.reduce(o,"all",o.dtype).reshape(r)},t.prototype.squaredDifference=function(t,e){var n=new eo("return (a - b) * (a - b);",t.shape,e.shape);return this.compileAndRun(n,[t,e])},t.prototype.realDivide=function(t,e){var n=new eo("return a / b;",t.shape,e.shape),r=this.makeOutputArray(n.outputShape,"float32");return this.compileAndRun(n,[t,e],r)},t.prototype.floorDiv=function(t,e){var n=new eo("\n  float resultSign = sign(a) * sign(b);\n  int ia = round(a);\n  int ib = round(b);\n  int result = ia / ib;\n  int amodb = ia - ib * result;\n\n  if (resultSign < 0.0 && amodb != 0) {\n    result -= 1;\n  }\n  return float(result);\n",t.shape,e.shape),r=this.makeOutputArray(n.outputShape,"int32");return this.compileAndRun(n,[t,e],r)},t.prototype.add=function(t,e){var n=new eo("return a + b;",t.shape,e.shape),r=this.makeOutputArray(n.outputShape,wt(t.dtype,e.dtype));return this.compileAndRun(n,[t,e],r)},t.prototype.subtract=function(t,e){var n=new eo("return a - b;",t.shape,e.shape),r=this.makeOutputArray(n.outputShape,wt(t.dtype,e.dtype));return this.compileAndRun(n,[t,e],r)},t.prototype.pow=function(t,e){var n=new eo("\n  return (round(mod(b, 2.0)) == 0 || round(mod(b, 2.0)) == 2) ?\n      pow(abs(a), b) : sign(a) * pow(abs(a), b);\n",t.shape,e.shape),r=this.makeOutputArray(n.outputShape,wt(t.dtype,e.dtype));return this.compileAndRun(n,[t,e],r)},t.prototype.ceil=function(t){var e=new Pa(t.shape,"return ceil(x);");return this.compileAndRun(e,[t])},t.prototype.floor=function(t){var e=new Pa(t.shape,"return floor(x);");return this.compileAndRun(e,[t])},t.prototype.sign=function(t){var e=new Pa(t.shape,"\n  if (isNaN(x)) { return 0.0; }\n  return sign(x);\n");return this.compileAndRun(e,[t])},t.prototype.round=function(t){var e=new Pa(t.shape,"\n  // OpenGL ES does not support round function.\n  // The algorithm is based on banker's rounding.\n  float base = floor(x);\n  if ((x - base) < 0.5) {\n    return floor(x);\n  } else if ((x - base) > 0.5) {\n    return ceil(x);\n  } else {\n    if (mod(base, 2.0) == 0.0) {\n      return base;\n    } else {\n      return base + 1.0;\n    }\n  }\n");return this.compileAndRun(e,[t])},t.prototype.exp=function(t){var e=new Pa(t.shape,"return exp(x);");return this.compileAndRun(e,[t])},t.prototype.expm1=function(t){var e=new Pa(t.shape,"return exp(x) - 1.0;");return this.compileAndRun(e,[t])},t.prototype.log=function(t){var e=new Pa(t.shape,"return log(x);");return this.compileAndRun(e,[t])},t.prototype.log1p=function(t){var e=new Pa(t.shape,"return log(1.0 + x);");return this.compileAndRun(e,[t])},t.prototype.sqrt=function(t){var e=new Pa(t.shape,"return sqrt(x);");return this.compileAndRun(e,[t])},t.prototype.rsqrt=function(t){var e=new Pa(t.shape,"return inversesqrt(x);");return this.compileAndRun(e,[t])},t.prototype.square=function(t){var e=new Pa(t.shape,"return x * x;");return this.compileAndRun(e,[t])},t.prototype.reciprocal=function(t){var e=new Pa(t.shape,"return 1.0 / x;");return this.compileAndRun(e,[t])},t.prototype.relu=function(t){var e=new Pa(t.shape,"if (isNaN(x)) return x;\n  return (x < 0.0) ? 0.0 : x;\n");return this.compileAndRun(e,[t])},t.prototype.elu=function(t){var e=new Pa(t.shape,"return (x >= 0.0) ? x : (exp(x) - 1.0);");return this.compileAndRun(e,[t])},t.prototype.eluDer=function(t,e){var n=new eo("return (b >= 1.0) ? a : a * (b + 1.0);",t.shape,e.shape);return this.compileAndRun(n,[t,e])},t.prototype.selu=function(t){var e=new Pa(t.shape,"\n  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.\n  // see: https://arxiv.org/abs/1706.02515\n  float scaleAlpha = 1.7580993408473768;\n  float scale = 1.0507009873554805;\n  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);\n");return this.compileAndRun(e,[t])},t.prototype.int=function(t){var e=new Pa(t.shape,"return float(int(x));"),n=this.makeOutputArray(e.outputShape,"int32");return this.compileAndRun(e,[t],n)},t.prototype.clip=function(t,e,n){var r=new function(t,e,n){this.variableNames=["A"],this.outputShape=t;var r=e.toFixed(20),i=n.toFixed(20);this.userCode="\n      void main() {\n        float value = getAAtOutCoords();\n        if (isNaN(value)) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, "+r+", "+i+"));\n      }\n    "}(t.shape,e,n);return this.compileAndRun(r,[t])},t.prototype.abs=function(t){var e=new Pa(t.shape,"return abs(x);");return this.compileAndRun(e,[t])},t.prototype.sigmoid=function(t){var e=new Pa(t.shape,"return 1.0 / (1.0 + exp(-1.0 * x));");return this.compileAndRun(e,[t])},t.prototype.softplus=function(t){var e=new Pa(t.shape,"\n  float epsilon = 1.1920928955078125e-7;\n  float threshold = log(epsilon) + 2.0;\n\n  bool too_large = x > -threshold;\n  bool too_small = x < threshold;\n\n  float result;\n  float exp_x = exp(x);\n\n  if (too_large){\n    result = x;\n  }\n  else if (too_small){\n    result = exp_x;\n  }\n  else{\n    result = log(exp_x + 1.0);\n  }\n  return result;\n");return this.compileAndRun(e,[t])},t.prototype.sin=function(t){var e=new Pa(t.shape,"if (isNaN(x)) return x;\n  return sin(x);\n");return this.compileAndRun(e,[t])},t.prototype.cos=function(t){var e=new Pa(t.shape,"if (isNaN(x)) return x;\n  return cos(x);\n");return this.compileAndRun(e,[t])},t.prototype.tan=function(t){var e=new Pa(t.shape,"return tan(x);");return this.compileAndRun(e,[t])},t.prototype.asin=function(t){var e=new Pa(t.shape,"return asin(x);");return this.compileAndRun(e,[t])},t.prototype.acos=function(t){var e=new Pa(t.shape,"return acos(x);");return this.compileAndRun(e,[t])},t.prototype.atan=function(t){var e=new Pa(t.shape,"if (isNaN(x)) return x;\n  return atan(x);\n");return this.compileAndRun(e,[t])},t.prototype.atan2=function(t,e){var n=new eo("\n  if (isNaN(a)) return a;\n  if (isNaN(b)) return b;\n\n  return atan(a, b);\n",t.shape,e.shape);return this.compileAndRun(n,[t,e])},t.prototype.sinh=function(t){var e=new Pa(t.shape,"\n  float e2x = exp(x);\n  return (e2x - 1.0 / e2x) / 2.0;\n");return this.compileAndRun(e,[t])},t.prototype.cosh=function(t){var e=new Pa(t.shape,"\n  float e2x = exp(-x);\n  return (e2x + 1.0 / e2x) / 2.0;\n");return this.compileAndRun(e,[t])},t.prototype.tanh=function(t){var e=new Pa(t.shape,"\n  float e2x = exp(-2.0 * abs(x));\n  return sign(x) * (1.0 - e2x) / (1.0 + e2x);\n");return this.compileAndRun(e,[t])},t.prototype.asinh=function(t){var e=new Pa(t.shape,"return log(x + sqrt(x * x + 1.0));");return this.compileAndRun(e,[t])},t.prototype.acosh=function(t){var e=new Pa(t.shape,"return log(x + sqrt(x * x - 1.0));");return this.compileAndRun(e,[t])},t.prototype.atanh=function(t){var e=new Pa(t.shape,"return (log(1.0 + x) - log(1.0 - x)) / 2.0;");return this.compileAndRun(e,[t])},t.prototype.erf=function(t){var e=new Pa(t.shape,'\n  // Error function is calculated approximately with elementary function.\n  // See "Handbook of Mathematical Functions with Formulas,\n  // Graphs, and Mathematical Tables", Abramowitz and Stegun.\n  float p = 0.3275911;\n  float a1 = 0.254829592;\n  float a2 = -0.284496736;\n  float a3 = 1.421413741;\n  float a4 = -1.453152027;\n  float a5 = 1.061405429;\n\n  float t = 1.0 / (1.0 + p * x);\n  return 1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x);\n');return this.compileAndRun(e,[t])},t.prototype.step=function(t,e){var n=new Pa(t.shape,function(t){return void 0===t&&(t=0),"if (isNaN(x)) return x;\n    return x > 0.0 ? 1.0 : float("+t+");\n  "}(e));return this.compileAndRun(n,[t])},t.prototype.conv2d=function(t,e,n){var r=new function(t){this.variableNames=["x","W"],this.outputShape=t.outShape;var e=t.padInfo.top,n=t.padInfo.left,r=t.strideHeight,i=t.strideWidth,o=t.dilationHeight,a=t.dilationWidth,s=t.filterHeight,u=t.filterWidth,l=4*Math.floor(t.inChannels/4),c=t.inChannels%4;this.userCode="\n      const ivec2 strides = ivec2("+r+", "+i+");\n      const ivec2 pads = ivec2("+e+", "+n+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d2 = coords[3];\n\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+s+"; wR++) {\n          int xR = xRCorner + wR * "+o+";\n\n          if (xR < 0 || xR >= "+t.inHeight+") {\n            continue;\n          }\n\n          for (int wC = 0; wC < "+u+"; wC++) {\n            int xC = xCCorner + wC * "+a+";\n\n            if (xC < 0 || xC >= "+t.inWidth+") {\n              continue;\n            }\n\n            for (int d1 = 0; d1 < "+l+"; d1 += 4) {\n              vec4 xValues = vec4(\n                getX(batch, xR, xC, d1),\n                getX(batch, xR, xC, d1 + 1),\n                getX(batch, xR, xC, d1 + 2),\n                getX(batch, xR, xC, d1 + 3)\n              );\n              vec4 wValues = vec4(\n                getW(wR, wC, d1, d2),\n                getW(wR, wC, d1 + 1, d2),\n                getW(wR, wC, d1 + 2, d2),\n                getW(wR, wC, d1 + 3, d2)\n              );\n\n              dotProd += dot(xValues, wValues);\n            }\n\n            if ("+(1===c)+") {\n              dotProd +=\n                getX(batch, xR, xC, "+l+") *\n                getW(wR, wC, "+l+", d2);\n            } else if ("+(2===c)+") {\n              vec2 xValues = vec2(\n                getX(batch, xR, xC, "+l+"),\n                getX(batch, xR, xC, "+l+" + 1)\n              );\n              vec2 wValues = vec2(\n                getW(wR, wC, "+l+", d2),\n                getW(wR, wC, "+l+" + 1, d2)\n              );\n              dotProd += dot(xValues, wValues);\n            } else if ("+(3===c)+") {\n              vec3 xValues = vec3(\n                getX(batch, xR, xC, "+l+"),\n                getX(batch, xR, xC, "+l+" + 1),\n                getX(batch, xR, xC, "+l+" + 2)\n              );\n              vec3 wValues = vec3(\n                getW(wR, wC, "+l+", d2),\n                getW(wR, wC, "+l+" + 1, d2),\n                getW(wR, wC, "+l+" + 2, d2)\n              );\n              dotProd += dot(xValues, wValues);\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "}(n);return this.compileAndRun(r,[t,e])},t.prototype.conv2dDerInput=function(t,e,n){var r=new function(t){this.variableNames=["dy","W"],this.outputShape=t.inShape;var e=t.filterHeight,n=t.filterWidth;this.userCode="\n      const ivec2 pads = ivec2("+(e-1-t.padInfo.top)+", "+(n-1-t.padInfo.left)+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[3];\n\n        ivec2 dyCorner = coords.yz - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+e+"; wR++) {\n          float dyR = float(dyRCorner + wR) / "+t.strideHeight+".0;\n\n          if (dyR < 0.0 || dyR >= "+t.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = "+e+" - 1 - wR;\n\n          for (int wC = 0; wC < "+n+"; wC++) {\n            float dyC = float(dyCCorner + wC) / "+t.strideWidth+".0;\n\n            if (dyC < 0.0 || dyC >= "+t.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = "+n+" - 1 - wC;\n\n            for (int d2 = 0; d2 < "+t.outChannels+"; d2++) {\n              float xValue = getDy(batch, idyR, idyC, d2);\n              float wValue = getW(wRPerm, wCPerm, d1, d2);\n              dotProd += xValue * wValue;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "}(n);return this.compileAndRun(r,[t,e])},t.prototype.conv2dDerFilter=function(t,e,n){var r=new function(t){this.variableNames=["x","dy"],this.outputShape=t.filterShape,this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int d2 = coords.w;\n\n        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int b = 0; b < "+t.batchSize+"; b++) {\n          for (int yR = 0; yR < "+t.outHeight+"; yR++) {\n            int xR = wR + yR * "+t.strideHeight+" - "+t.padInfo.top+";\n\n            if (xR < 0 || xR >= "+t.inHeight+") {\n              continue;\n            }\n\n            for (int yC = 0; yC < "+t.outWidth+"; yC++) {\n              int xC = wC + yC * "+t.strideWidth+" - "+t.padInfo.left+";\n\n              if (xC < 0 || xC >= "+t.inWidth+") {\n                continue;\n              }\n\n              float dyValue = getDy(b, yR, yC, d2);\n              float xValue = getX(b, xR, xC, d1);\n              dotProd += (xValue * dyValue);\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "}(n);return this.compileAndRun(r,[t,e])},t.prototype.depthwiseConv2D=function(t,e,n){var r=new function(t){this.variableNames=["x","W"],this.outputShape=t.outShape;var e=t.outChannels/t.inChannels;this.userCode="\n      const ivec2 strides = ivec2("+t.strideHeight+", "+t.strideWidth+");\n      const ivec2 pads = ivec2("+t.padInfo.top+", "+t.padInfo.left+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2 / "+e+";\n        int q = d2 - d1 * "+e+";\n\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        // TODO(dsmilkov): Flatten the two for loops and vec4 the operations.\n        for (int wR = 0; wR < "+t.filterHeight+"; wR++) {\n          int xR = xRCorner + wR * "+t.dilationHeight+";\n\n          if (xR < 0 || xR >= "+t.inHeight+") {\n            continue;\n          }\n\n          for (int wC = 0; wC < "+t.filterWidth+"; wC++) {\n            int xC = xCCorner + wC * "+t.dilationWidth+";\n\n            if (xC < 0 || xC >= "+t.inWidth+") {\n              continue;\n            }\n\n            float xVal = getX(batch, xR, xC, d1);\n            float wVal = getW(wR, wC, d1, q);\n            dotProd += xVal * wVal;\n          }\n        }\n        setOutput(dotProd);\n      }\n    "}(n);return this.compileAndRun(r,[t,e])},t.prototype.depthwiseConv2DDerInput=function(t,e,n){var r=new function(t){this.variableNames=["dy","W"],this.outputShape=t.inShape;var e=t.filterHeight,n=t.filterWidth,r=t.outChannels/t.inChannels;this.userCode="\n      const ivec2 pads = ivec2("+(e-1-t.padInfo.top)+", "+(n-1-t.padInfo.left)+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[3];\n        ivec2 dyCorner = coords.yz - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        float dotProd = 0.0;\n\n        for (int wR = 0; wR < "+e+"; wR++) {\n          float dyR = float(dyRCorner + wR) / "+t.strideHeight+".0;\n\n          if (dyR < 0.0 || dyR >= "+t.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = "+e+" - 1 - wR;\n\n          for (int wC = 0; wC < "+n+"; wC++) {\n            float dyC = float(dyCCorner + wC) / "+t.strideWidth+".0;\n\n            if (dyC < 0.0 || dyC >= "+t.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = "+n+" - 1 - wC;\n\n            // TODO: Vec4 over the channelMul\n            for (int dm = 0; dm < "+r+"; dm++) {\n              int d2 = d1 * "+r+" + dm;\n              float xValue = getDy(batch, idyR, idyC, d2);\n              float wValue = getW(wRPerm, wCPerm, d1, dm);\n              dotProd += xValue * wValue;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "}(n);return this.compileAndRun(r,[t,e])},t.prototype.depthwiseConv2DDerFilter=function(t,e,n){var r=new function(t){this.variableNames=["x","dy"],this.outputShape=t.filterShape,this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int dm = coords.w;\n        int d2 = d1 * "+t.outChannels/t.inChannels+" + dm;\n\n        float dotProd = 0.0;\n\n        // TODO: Vec4 over the batch size\n        for (int b = 0; b < "+t.batchSize+"; b++) {\n          for (int yR = 0; yR < "+t.outHeight+"; yR++) {\n            int xR = wR + yR * "+t.strideHeight+" - "+t.padInfo.top+";\n\n            if (xR < 0 || xR >= "+t.inHeight+") {\n              continue;\n            }\n\n            for (int yC = 0; yC < "+t.outWidth+"; yC++) {\n              int xC = wC + yC * "+t.strideWidth+" - "+t.padInfo.left+";\n\n              if (xC < 0 || xC >= "+t.inWidth+") {\n                continue;\n              }\n\n              float dyValue = getDy(b, yR, yC, d2);\n              float xValue = getX(b, xR, xC, d1);\n              dotProd += (xValue * dyValue);\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "}(n);return this.compileAndRun(r,[t,e])},t.prototype.maxPool=function(t,e){var n=new xa(e,"max",!1),r=this.makeOutputArray(n.outputShape,t.dtype);return this.compileAndRun(n,[t],r)},t.prototype.avgPool=function(t,e){var n=new xa(e,"avg",!1),r=this.makeOutputArray(n.outputShape,"float32");return this.compileAndRun(n,[t],r)},t.prototype.maxPoolBackprop=function(t,e,n,r){var i=new xa(r,"max",!0),o=this.compileAndRun(i,[e]),a=new function(t){this.variableNames=["dy","maxPos"],this.outputShape=t.inShape;var e=t.filterHeight,n=t.filterWidth;this.userCode="\n      const ivec2 pads = ivec2("+(e-1-t.padInfo.top)+", "+(n-1-t.padInfo.left)+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+e+"; wR++) {\n          float dyR = float(dyRCorner + wR) / "+t.strideHeight+".0;\n\n          if (dyR < 0.0 || dyR >= "+t.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < "+n+"; wC++) {\n            float dyC = float(dyCCorner + wC) / "+t.strideWidth+".0;\n\n            if (dyC < 0.0 || dyC >= "+t.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n            int maxPosValue = "+(e*n-1)+" - int(getMaxPos(b, idyR, idyC, d));\n\n            // Get the current value, check it against the value from the\n            // position matrix.\n            int curPosValue = wR * "+n+" + wC;\n            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n            dotProd += dyValue * mask;\n          }\n        }\n        setOutput(dotProd);\n      }\n    "}(r),s=this.makeOutputArray(a.outputShape,e.dtype),u=this.compileAndRun(a,[t,o],s);return o.dispose(),u},t.prototype.avgPoolBackprop=function(t,e,n){var r=new function(t){this.variableNames=["dy"],this.outputShape=t.inShape;var e=t.filterHeight,n=t.filterWidth;this.userCode="\n      const ivec2 pads = ivec2("+(e-1-t.padInfo.top)+", "+(n-1-t.padInfo.left)+");\n      const float avgMultiplier = float("+1/(e*n)+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+e+"; wR++) {\n          float dyR = float(dyRCorner + wR) / "+t.strideHeight+".0;\n\n          if (dyR < 0.0 || dyR >= "+t.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < "+n+"; wC++) {\n            float dyC = float(dyCCorner + wC) / "+t.strideWidth+".0;\n\n            if (dyC < 0.0 || dyC >= "+t.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n\n            dotProd += dyValue * avgMultiplier;\n          }\n        }\n        setOutput(dotProd);\n      }\n    "}(n),i=this.makeOutputArray(r.outputShape,e.dtype);return this.compileAndRun(r,[t],i)},t.prototype.cast=function(t,e){return $i(t,e,this)},t.prototype.reshape=function(t,e){return to(t,e)},t.prototype.resizeBilinear=function(t,e,n,r){var i=new function(t,e,n,r){this.variableNames=["A"],this.outputShape=[];var i=t[1],o=t[2];this.outputShape=[t[0],e,n,t[3]];var a=[r&&e>1?i-1:i,r&&n>1?o-1:o],s=[r&&e>1?e-1:e,r&&n>1?n-1:n];this.userCode="\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          "+a[0]/s[0]+",\n          "+a[1]/s[1]+");\n      const vec2 inputShapeRC = vec2("+i+".0, "+o+".0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = vec2(yRC) * effectiveInputOverOutputRatioRC;\n\n        // Compute the four integer indices.\n        ivec2 sourceFloorRC = ivec2(sourceFracIndexRC);\n        ivec2 sourceCeilRC = ivec2(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);\n        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);\n        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);\n        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);\n\n        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);\n\n        float top = topLeft + (topRight - topLeft) * fracRC.y;\n        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;\n        float newValue = top + (bottom - top) * fracRC.x;\n\n        setOutput(newValue);\n      }\n    "}(t.shape,e,n,r);return this.compileAndRun(i,[t])},t.prototype.resizeBilinearBackprop=function(t,e,n){var r=new function(t,e,n){this.variableNames=["dy"],this.outputShape=[],this.outputShape=e.shape;var r=e.shape,i=r[1],o=r[2],a=t.shape,s=a[1],u=a[2],l=[n&&s>1?i-1:i,n&&u>1?o-1:o],c=[n&&s>1?s-1:s,n&&u>1?u-1:u],f=l[0]/c[0],h=l[1]/c[1],d=1/f,p=1/h,v=2*Math.ceil(d)+2,g=2*Math.ceil(p)+2;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float("+f+");\n        const float widthScale = float("+h+");\n\n        const float invHeightScale = float("+d+");\n        const float invWidthScale = float("+p+");\n\n        const int winHeight = int("+v+");\n        const int winWidth = int("+g+");\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(startRLerp - float(winHeight / 2));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(startCLerp - float(winWidth / 2));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= "+s+") {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= "+u+") {\n              continue;\n            }\n\n            float dxR = float(dyR) * heightScale;\n            int topDxRIndex = int(floor(dxR));\n            int bottomDxRIndex = int(min(ceil(dxR), "+(i-1)+".0));\n            float dxRLerp = dxR - float(topDxRIndex);\n            float inverseDxRLerp = 1.0 - dxRLerp;\n\n            float dxC = float(dyC) * widthScale;\n            int leftDxCIndex = int(floor(dxC));\n            int rightDxCIndex = int(min(ceil(dxC), "+(o-1)+".0));\n            float dxCLerp = dxC - float(leftDxCIndex);\n            float inverseDxCLerp = 1.0 - dxCLerp;\n\n            if (r == topDxRIndex && c == leftDxCIndex) {\n              // topLeft\n              accumulator +=\n                getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;\n            }\n\n            if (r == topDxRIndex && c == rightDxCIndex) {\n              // topRight\n              accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == leftDxCIndex) {\n              // bottomLeft\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == rightDxCIndex) {\n              // bottomRight\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    "}(t,e,n);return this.compileAndRun(r,[t])},t.prototype.resizeNearestNeighbor=function(t,e,n,r){var i=new function(t,e,n,r){this.variableNames=["A"],this.outputShape=[];var i=t[1],o=t[2];this.outputShape=[t[0],e,n,t[3]];var a=r?[i-1,o-1]:[i,o],s=r?[e-1,n-1]:[e,n];this.userCode="\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          "+a[0]/s[0]+",\n          "+a[1]/s[1]+");\n      const vec2 inputShapeRC = vec2("+i+".0, "+o+".0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = vec2(yRC) * effectiveInputOverOutputRatioRC;\n\n        // Compute the coordinators of nearest neighbor point.\n        ivec2 sourceNearestRC = ivec2(\n          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + "+(r?"0.5":"0.0")+")));\n\n        float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);\n\n        setOutput(newValue);\n      }\n    "}(t.shape,e,n,r);return this.compileAndRun(i,[t])},t.prototype.multinomial=function(t,e,n,r){var i=e?t:di(t),o=new wa(i.shape[0],i.shape[1],n),a=this.makeOutputArray(o.outputShape,"int32"),s=o.getCustomSetupFunc(r);return this.compileAndRun(o,[i],a,s)},t.prototype.oneHot=function(t,e,n,r){var i=new function(t,e,n,r){this.variableNames=["indices"],this.outputShape=[t,e],this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int index = round(getIndices(coords.x));\n        setOutput(mix(float("+r+"), float("+n+"),\n                      float(index == coords.y)));\n      }\n    "}(t.size,e,n,r);return this.compileAndRun(i,[t])},t.prototype.makeOutputArray=function(t,e){return wi.make(t,{},e)},t.prototype.compileAndRun=function(t,e,n,r){var i=this;null==n&&(n=this.makeOutputArray(t.outputShape,e[0].dtype));var o=e.map(function(t){var e=i.texData.get(t.dataId);return null==e.texture&&t.size<=32?{tensor:t,texData:null,isUniform:!0}:(i.uploadToGPU(t.dataId),{tensor:t,texData:e,isUniform:!1})});this.uploadToGPU(n.dataId);var a,s={tensor:n,texData:this.texData.get(n.dataId),isUniform:!1},u=function(t,e,n){var r="";e.concat(s).forEach(function(t){r+=t.tensor.shape+"_"+(t.isUniform?"uniform":t.texData.texShape)});var i=t.userCode,o=(!0===t.supportsBroadcasting).toString();return t.constructor.name+"_"+o+"_"+r+"_"+i}(t,o),l=this.getAndSaveBinary(u,function(){return function(t,e,n,r){for(var i=e.userCode,o=n.map(function(t,n){return{name:e.variableNames[n],shapeInfo:{logicalShape:t.tensor.shape,texShape:t.isUniform?null:t.texData.texShape,isUniform:t.isUniform}}}),a=o.map(function(t){return t.shapeInfo}),s={logicalShape:r.tensor.shape,texShape:r.texData.texShape,isUniform:!1},u=function(t,e,n,r){var i=t.map(function(t){var e=b(t.shapeInfo.logicalShape);return t.shapeInfo.isUniform?"uniform float "+t.name+(e>1?"["+e+"]":"")+";":"uniform sampler2D "+t.name+";"});i=i.join("\n");var o=t.map(function(t){return function(t,e,n){var r=function(t){var e=t.name,n="get"+e.charAt(0).toUpperCase()+e.slice(1)+"Flat",r=b(t.shapeInfo.logicalShape);if(t.shapeInfo.isUniform)return 1===r?"float "+n+"(int index) {return "+e+";}":"\n      float "+n+"(int index) {\n        for (int i = 0; i < "+r+"; i++) {\n          if (i == index) {\n            return "+e+"[i];\n          }\n        }\n      }\n    ";var i=t.shapeInfo.texShape,o=i[0],a=i[1];return 1===a&&1===o?"\n      float "+n+"(int index) {\n        return sampleTexture("+e+", halfCR);\n      }\n    ":1===a?"\n      float "+n+"(int index) {\n        vec2 uv = vec2(0.5, (float(index) + 0.5) / "+o+".0);\n        return sampleTexture("+e+", uv);\n      }\n    ":1===o?"\n      float "+n+"(int index) {\n        vec2 uv = vec2((float(index) + 0.5) / "+a+".0, 0.5);\n        return sampleTexture("+e+", uv);\n      }\n    ":"\n    float "+n+"(int index) {\n      vec2 uv = UVfrom1D("+o+", "+a+", index);\n      return sampleTexture("+e+", uv);\n    }\n  "}(t);return r+=function t(e){var n=e.shapeInfo.logicalShape;switch(n.length){case 0:return function(t){var e=t.name,n="get"+e.charAt(0).toUpperCase()+e.slice(1);return t.shapeInfo.isUniform?"float "+n+"() {return "+e+";}":"\n    float "+n+"() {\n      return sampleTexture("+e+", halfCR);\n    }\n  "}(e);case 1:return function(t){var e=t.name,n="get"+e.charAt(0).toUpperCase()+e.slice(1);return"\n    float "+n+"(int index) {\n      return "+n+"Flat(index);\n    }\n  "}(e);case 2:return function(e){var n=e.shapeInfo.logicalShape,r=e.name,i="get"+r.charAt(0).toUpperCase()+r.slice(1),o=e.shapeInfo.texShape;if(null!=o&&w(n,o))return"\n    float "+i+"(int row, int col) {\n      vec2 uv = (vec2(col, row) + halfCR) / vec2("+o[1]+".0, "+o[0]+".0);\n      return sampleTexture("+r+", uv);\n    }\n  ";var a=T(n),s=a.newShape,u=a.keptDims;if(s.length<n.length)return"\n      "+t(uo(e,s))+"\n      float "+i+"(int row, int col) {\n        return "+i+"("+lo(["row","col"],u)+");\n      }\n    ";if(e.shapeInfo.isUniform)return"\n      float "+i+"(int row, int col) {\n        int index = row * "+n[1]+" + col;\n        return "+i+"Flat(index);\n      }\n    ";var l=o[0],c=o[1];return 1===c?"\n    float "+i+"(int row, int col) {\n      int index = row * "+n[1]+" + col;\n      vec2 uv = vec2(0.5, (float(index) + 0.5) / "+l+".0);\n      return sampleTexture("+r+", uv);\n    }\n  ":1===l?"\n    float "+i+"(int row, int col) {\n      int index = row * "+n[1]+" + col;\n      vec2 uv = vec2((float(index) + 0.5) / "+c+".0, 0.5);\n      return sampleTexture("+r+", uv);\n    }\n  ":"\n  float "+i+"(int row, int col) {\n    vec2 uv = UVfrom2D("+l+", "+c+", "+n[1]+", row, col);\n    return sampleTexture("+r+", uv);\n  }\n"}(e);case 3:return function(e){var n=e.shapeInfo.logicalShape,r=e.name,i="get"+r.charAt(0).toUpperCase()+r.slice(1),o=n[1]*n[2],a=n[2],s=T(n),u=s.newShape,l=s.keptDims;if(u.length<n.length)return"\n        "+t(uo(e,u))+"\n        float "+i+"(int row, int col, int depth) {\n          return "+i+"("+lo(["row","col","depth"],l)+");\n        }\n      ";if(e.shapeInfo.isUniform)return"\n      float "+i+"(int row, int col, int depth) {\n        int index = row * "+o+" + col * "+a+" + depth;\n        return "+i+"Flat(index);\n      }\n    ";var c=e.shapeInfo.texShape,f=c[0],h=c[1];return h===o?"\n        float "+i+"(int row, int col, int depth) {\n          int texR = row;\n          int texC = col * "+a+" + depth;\n          vec2 uv = (vec2(texC, texR) + halfCR) /\n                     vec2("+h+".0, "+f+".0);\n          return sampleTexture("+r+", uv);\n        }\n      ":h===a?"\n    float "+i+"(int row, int col, int depth) {\n      int texR = row * "+n[1]+" + col;\n      int texC = depth;\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2("+h+".0, "+f+".0);\n      return sampleTexture("+r+", uv);\n    }\n  ":"\n      float "+i+"(int row, int col, int depth) {\n        vec2 uv = UVfrom3D(\n            "+f+", "+h+", "+o+", "+a+", row, col, depth);\n        return sampleTexture("+r+", uv);\n      }\n  "}(e);case 4:return function(e){var n=e.shapeInfo.logicalShape,r=e.name,i="get"+r.charAt(0).toUpperCase()+r.slice(1),o=n[3],a=n[2]*o,s=n[1]*a,u=T(n),l=u.newShape,c=u.keptDims;if(l.length<n.length)return"\n      "+t(uo(e,l))+"\n      float "+i+"(int row, int col, int depth, int depth2) {\n        return "+i+"("+lo(["row","col","depth","depth2"],c)+");\n      }\n    ";if(e.shapeInfo.isUniform)return"\n      float "+i+"(int row, int col, int depth, int depth2) {\n        int index = row * "+s+" + col * "+a+" +\n            depth * "+o+" + depth2;\n        return "+i+"Flat(index);\n      }\n    ";var f=e.shapeInfo.texShape,h=f[0],d=f[1];return d===s?"\n      float "+i+"(int row, int col, int depth, int depth2) {\n        int texR = row;\n        int texC = col * "+a+" + depth * "+o+" + depth2;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2("+d+".0, "+h+".0);\n        return sampleTexture("+r+", uv);\n      }\n    ":d===o?"\n      float "+i+"(int row, int col, int depth, int depth2) {\n        int texR = row * "+n[1]*n[2]+" + col * "+n[2]+" + depth;\n        int texC = depth2;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2("+d+".0, "+h+".0);\n        return sampleTexture("+r+", uv);\n      }\n    ":"\n    float "+i+"(int row, int col, int depth, int depth2) {\n      vec2 uv = UVfrom4D("+h+", "+d+", "+s+", "+a+",\n          "+o+", row, col, depth, depth2);\n      return sampleTexture("+r+", uv);\n    }\n  "}(e);case 5:return function(e){var n=e.shapeInfo.logicalShape,r=e.name,i="get"+r.charAt(0).toUpperCase()+r.slice(1),o=n[4],a=n[3]*o,s=n[2]*a,u=n[1]*s,l=T(n),c=l.newShape,f=l.keptDims;if(c.length<n.length)return"\n      "+t(uo(e,c))+"\n      float "+i+"(int row, int col, int depth, int depth2, int depth3) {\n        return "+i+"("+lo(["row","col","depth","depth2","depth3"],f)+");\n      }\n    ";if(e.shapeInfo.isUniform)return"\n      float "+i+"(int row, int col, int depth, int depth2, int depth3) {\n        int index = row * "+u+" + col * "+s+" +\n            depth * "+a+" + depth2 * "+o+" + depth3;\n        return "+i+"Flat(index);\n      }\n    ";var h=e.shapeInfo.texShape,d=h[0],p=h[1];return p===u?"\n      float "+i+"(int row, int col, int depth, int depth2, int depth3) {\n        int texR = row;\n        int texC = col * "+s+" + depth * "+a+" +\n                   depth2 * "+o+" + depth3;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2("+p+".0, "+d+".0);\n        return sampleTexture("+r+", uv);\n      }\n    ":p===o?"\n      float "+i+"(int row, int col, int depth, int depth2, int depth3) {\n        int texR = row * "+n[1]*n[2]+" + col * "+n[2]+" +\n                   depth * "+n[3]+" + depth2;\n        int texC = depth3;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2("+p+".0, "+d+".0);\n        return sampleTexture("+r+", uv);\n      }\n    ":"\n    float "+i+"(int row, int col, int depth, int depth2, int depth3) {\n      vec2 uv = UVfrom5D("+d+", "+p+", "+u+", "+s+",\n          "+a+", "+o+", row, col, depth, depth2, depth3);\n      return sampleTexture("+r+", uv);\n    }\n  "}(e);case 6:return function(e){var n=e.shapeInfo.logicalShape,r=e.name,i="get"+r.charAt(0).toUpperCase()+r.slice(1),o=n[5],a=n[4]*o,s=n[3]*a,u=n[2]*s,l=n[1]*u,c=T(n),f=c.newShape,h=c.keptDims;if(f.length<n.length)return"\n      "+t(uo(e,f))+"\n      float "+i+"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        return "+i+"("+lo(["row","col","depth","depth2","depth3","depth4"],h)+");\n      }\n    ";if(e.shapeInfo.isUniform)return"\n      float "+i+"(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n        int index = row * "+l+" + col * "+u+" +\n            depth * "+s+" + depth2 * "+a+" + depth3 * "+a+"\n            + depth4\n        return "+i+"Flat(index);\n      }\n    ";var d=e.shapeInfo.texShape,p=d[0],v=d[1];return v===l?"\n      float "+i+"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        int texR = row;\n        int texC = col * "+u+" + depth * "+s+" + depth2;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2("+v+".0, "+p+".0);\n        return sampleTexture("+r+", uv);\n      }\n    ":v===o?"\n      float "+i+"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        int texR = row * "+n[1]*n[2]+" + col * "+n[2]+" + depth;\n        int texC = depth4;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2("+v+".0, "+p+".0);\n        return sampleTexture("+r+", uv);\n      }\n    ":"\n    float "+i+"(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n      vec2 uv = UVfrom6D("+p+", "+v+", "+l+", "+u+",\n          "+s+", "+a+", "+o+"\n          ,row, col, depth, depth2, depth3, depth4);\n      return sampleTexture("+r+", uv);\n    }\n  "}(e);default:throw new Error(n.length+"-D input sampling is not yet supported")}}(t),(n||w(t.shapeInfo.logicalShape,e.logicalShape))&&(r+=function(t,e,n){var r=t.name,i=r.charAt(0).toUpperCase()+r.slice(1),o="get"+i+"AtOutCoords",a=_t(t.shapeInfo.logicalShape,e.logicalShape),s=n&&(e.logicalShape.length>t.shapeInfo.logicalShape.length||a.length>0),u=function(t){for(var e=0;e<t.length;e++)if(t[e]!==e)return!1;return!0}(a),l=t.shapeInfo.isUniform;if(s&&!u)return function(t,e,n,r){var i=t.shapeInfo.logicalShape.length,o=e.logicalShape.length,a="int";2===o?a="ivec2":3===o?a="ivec3":4===o&&(a="ivec4");var s=_t(t.shapeInfo.logicalShape,e.logicalShape),u=o-i;return"\n    float "+r+"() {\n      "+a+" coords = getOutputCoords();\n      "+(0===i?"":o<2&&s.length>=1?"coords = 0;":s.map(function(t){return"coords["+(t+u)+"] = 0;"}).join("\n"))+"\n      return get"+n+"("+(o<2&&i>0?"coords":t.shapeInfo.logicalShape.map(function(t,e){return"coords["+(e+u)+"]"}).join(", "))+");\n    }\n  "}(t,e,i,o);var c=b(t.shapeInfo.logicalShape),f="";s&&u&&(f="\n        int mainPart = index / "+c+";\n        index -= mainPart * "+c+";\n      ");var h=e.texShape;if(l)return 1===c?"float "+o+"() {return "+r+";}":"\n      float "+o+"() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                              vec2("+h[0]+", "+h[1]+"));\n        int index = resTexRC.x * "+h[1]+" + resTexRC.y;\n        "+f+"\n        return get"+i+"Flat(index);\n      }\n    ";var d=t.shapeInfo.texShape;return w(d,h)?"\n      float "+o+"() {\n        return sampleTexture("+r+", resultUV);\n      }\n    ":"\n    float "+o+"() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+h[0]+", "+h[1]+"));\n      int index = resTexRC.x * "+h[1]+" + resTexRC.y;\n      "+f+"\n      int texR = index / "+d[1]+";\n      int texC = index - texR * "+d[1]+";\n      vec2 uv = (vec2(texC, texR) + halfCR) /\n                 vec2("+d[1]+".0, "+d[0]+".0);\n\n      return sampleTexture("+r+", uv);\n    }\n  "}(t,e,n)),r}(t,e,r)}).join("\n"),a=function(t,e){switch(t.length){case 0:return"\n    int getOutputCoords() {\n      return 0;\n    }\n  ";case 1:return function(t,e){return 1===e[0]?"\n      int getOutputCoords() {\n        return int(resultUV.x * "+e[1]+".0);\n      }\n    ":1===e[1]?"\n      int getOutputCoords() {\n        return int(resultUV.y * "+e[0]+".0);\n      }\n    ":"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+e[0]+", "+e[1]+"));\n      return resTexRC.x * "+e[1]+" + resTexRC.y;\n    }\n  "}(0,e);case 2:return function(t,e){return w(t,e)?"\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2("+e[0]+", "+e[1]+"));\n      }\n    ":1===t[1]?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2("+e[0]+", "+e[1]+"));\n        int index = resTexRC.x * "+e[1]+" + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    ":1===t[0]?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2("+e[0]+", "+e[1]+"));\n        int index = resTexRC.x * "+e[1]+" + resTexRC.y;\n        return ivec2(0, index);\n      }\n    ":"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+e[0]+", "+e[1]+"));\n      int index = resTexRC.x * "+e[1]+" + resTexRC.y;\n      int r = index / "+t[1]+";\n      int c = index - r * "+t[1]+";\n      return ivec2(r, c);\n    }\n  "}(t,e);case 3:return function(t,e){var n=t[1]*t[2],r=t[2];return"\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+e[0]+", "+e[1]+"));\n      int index = resTexRC.x * "+e[1]+" + resTexRC.y;\n      int r = index / "+n+";\n      index -= r * "+n+";\n      int c = index / "+r+";\n      int d = index - c * "+r+";\n      return ivec3(r, c, d);\n    }\n  "}(t,e);case 4:return function(t,e){var n=t[3],r=t[2]*n,i=t[1]*r;return"\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2("+e[0]+", "+e[1]+"));\n      int index = resTexRC.x * "+e[1]+" + resTexRC.y;\n\n      int r = index / "+i+";\n      index -= r * "+i+";\n\n      int c = index / "+r+";\n      index -= c * "+r+";\n\n      int d = index / "+n+";\n      int d2 = index - d * "+n+";\n\n      return ivec4(r, c, d, d2);\n    }\n  "}(t,e);case 5:return function(t,e){var n=t[4],r=t[3]*n,i=t[2]*r,o=t[1]*i;return"\n    ivec5 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx * vec2("+e[0]+",\n                             "+e[1]+"));\n\n      int index = resTexRC.x * "+e[1]+" + resTexRC.y;\n\n      int r = index / "+o+";\n      index -= r * "+o+";\n\n      int c = index / "+i+";\n      index -= c * "+i+";\n\n      int d = index / "+r+";\n      index -= d * "+r+";\n\n      int d2 = index  / "+n+";\n      int d3 = index - d2 * "+n+";\n\n      ivec5 outShape = ivec5(r, c, d, d2, d3);\n      return outShape;\n    }\n  "}(t,e);case 6:return function(t,e){var n=t[5],r=t[4]*n,i=t[3]*r,o=t[2]*i,a=t[1]*o;return"\n    ivec6 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2("+e[0]+", "+e[1]+"));\n      int index = resTexRC.x * "+e[1]+" + resTexRC.y;\n\n      int r = index / "+a+";\n      index -= r * "+a+";\n\n      int c = index / "+o+";\n      index -= c * "+o+";\n\n      int d = index / "+i+";\n      index -= d * "+i+";\n\n      int d2 = index / "+r+";\n      index -= d2 * "+r+";\n\n      int d3 = index / "+n+";\n      int d4 = index - d3 * "+n+";\n\n      ivec6 result = ivec6(r, c, d, d2, d3, d4);\n      return result;\n    }\n  "}(t,e);default:throw new Error(t.length+"-D output sampling is not yet supported")}}(e.logicalShape,e.texShape);return[ao,io,oo,i,a,o,n].join("\n")}(o,s,i,!0===e.supportsBroadcasting),l=t.createProgram(u),c={},f=0;f<e.variableNames.length;f++){var h=e.variableNames[f];c[h]=t.getUniformLocation(l,h,!1)}return{program:e,source:u,webGLProgram:l,uniformLocations:c,gpgpu:t,inShapeInfos:a,outShapeInfo:s}}(i.gpgpu,t,o,s)}),c=null!=this.activeTimers;if(c&&(a=this.startTimer()),function(t,e,n,r){ba(t.inShapeInfos,e),ba([t.outShapeInfo],[n]);var i=n.texData.texShape,o=t.gpgpu;o.setOutputMatrixTexture(n.texData.texture,i[0],i[1]),o.setProgram(t.webGLProgram),e.forEach(function(e,n){var r=t.uniformLocations[t.program.variableNames[n]];if(null!=r){if(e.isUniform){if(1===e.tensor.size)o.gl.uniform1f(r,e.tensor.dataSync()[0]);else{var i=e.tensor.dataSync();i instanceof Float32Array||(i=new Float32Array(i)),o.gl.uniform1fv(r,i)}return}o.setInputMatrixTexture(e.texData.texture,r,n)}}),null!=r&&r(o,t.webGLProgram),o.executeProgram()}(l,o,s,r),this.numBytesInGPU>this.NUM_BYTES_BEFORE_PAGING)for(var f=this.numBytesInGPU-this.NUM_BYTES_BEFORE_PAGING;f>0;){var h=this.lruDataGPU.shift(),d=this.texData.get(h);f-=this.computeBytes(d.shape,d.dtype),this.read(h)}return c&&(a=this.endTimer(a),this.activeTimers.push(this.getQueryTime(a))),n},t.prototype.getAndSaveBinary=function(t,e){return t in this.binaryCache||(this.binaryCache[t]=e()),this.binaryCache[t]},t.prototype.getTextureManager=function(){return this.textureManager},t.prototype.dispose=function(){if(!this.disposed){for(var t in this.binaryCache)this.gpgpu.deleteProgram(this.binaryCache[t].webGLProgram);this.textureManager.dispose(),this.canvas.remove(),null!=this.fromPixelsCanvas&&this.fromPixelsCanvas.remove(),this.gpgpuCreatedLocally&&this.gpgpu.dispose(),this.disposed=!0}},t.prototype.throwIfNoData=function(t){if(!this.texData.has(t))throw new Error("WebGL backend: No data found for this tensor. Did you change your backend in the middle of the program? New backends can't use Tensors created with previous backends")},t.prototype.uploadToGPU=function(t){this.throwIfNoData(t);var e=this.texData.get(t),n=e.shape,r=e.values,i=e.usage;if(null!=e.texture)return this.lruDataGPU.splice(this.lruDataGPU.indexOf(t),1),void this.lruDataGPU.push(t);var o,a=null!=this.activeTimers;a&&(o=performance.now());var s=Zo(this.gpgpu.gl,n);e.texShape=s;var u=this.acquireTexture(t,s,i);e.texture=u,null!=r&&(this.gpgpu.uploadMatrixToTexture(u,s[0],s[1],r instanceof Float32Array?r:new Float32Array(r)),e.values=null,a&&(this.uploadWaitMs+=performance.now()-o))},t.prototype.cacheOnCPU=function(t,e){var n=this.delayedStorage,r=this.texData.get(t),i=r.texture,o=r.dtype;n&&null!=i&&(this.releaseTexture(t,i,r.texShape,r.usage),r.texture=null,r.texShape=null),null!=e&&(r.values=function(t,e){if("float32"===e)return t;if("int32"===e||"bool"===e){for(var n="int32"===e?new Int32Array(t.length):new Uint8Array(t.length),r=0;r<n.length;++r)n[r]=Math.round(t[r]);return n}throw new Error("Unknown dtype "+e)}(e,o))},t.prototype.releaseTexture=function(t,e,n,r){var i=this.texData.get(t),o=i.shape,a=i.dtype,s=this.lruDataGPU.indexOf(t);s>=0&&this.lruDataGPU.splice(s,1),this.numBytesInGPU-=this.computeBytes(o,a),this.textureManager.releaseTexture(e,n,r)},t.prototype.acquireTexture=function(t,e,n){var r=this.texData.get(t),i=r.shape,o=r.dtype;return this.lruDataGPU.push(t),this.numBytesInGPU+=this.computeBytes(i,o),this.textureManager.acquireTexture(e,n)},t.prototype.computeBytes=function(t,e){return b(t)*N(e)},t}();Ki.get("IS_BROWSER")&&Ki.registerBackend("webgl",function(){return new Ta},2);var Ea=function(){function t(){this.data=new WeakMap,this.firstUse=!0,Ki.get("IS_BROWSER")&&(this.canvas=document.createElement("canvas"))}return t.prototype.register=function(t,e,n){if(this.firstUse&&(this.firstUse=!1,Ki.get("IS_NODE")&&console.warn("\n============================\nHi there \ud83d\udc4b. Looks like you are running TensorFlow.js in Node.js. To speed things up dramatically, install our node backend, which binds to TensorFlow C++, by running npm i @tensorflow/tfjs-node, or npm i @tensorflow/tfjs-node-gpu if you have CUDA. Then call require('tensorflow/tfjs-node'); (-gpu suffix for CUDA) at the start of your program. Visit https://github.com/tensorflow/tfjs-node for more details.\n============================\n")),this.data.has(t))throw new Error("Data buffer is already registered");this.data.set(t,null)},t.prototype.write=function(t,e){if(null==e)throw new Error("MathBackendCPU.write(): values can not be null");this.throwIfNoData(t),this.data.set(t,e)},t.prototype.fromPixels=function(t,e){if(null==t)throw new Error("MathBackendCPU.writePixels(): pixels can not be null");var n,r;if(t instanceof ImageData)n=t.data;else if(t instanceof HTMLCanvasElement)n=t.getContext("2d").getImageData(0,0,t.width,t.height).data;else{if(!(t instanceof HTMLImageElement||t instanceof HTMLVideoElement))throw new Error("pixels is of unknown type: "+t.constructor.name);if(null==this.canvas)throw new Error("Can't read pixels from HTMLImageElement outside the browser.");this.canvas.width=t.width,this.canvas.height=t.height,this.canvas.getContext("2d").drawImage(t,0,0,t.width,t.height),n=this.canvas.getContext("2d").getImageData(0,0,t.width,t.height).data}if(4===e)r=new Int32Array(n);else{var i=t.width*t.height;r=new Int32Array(i*e);for(var o=0;o<i;o++)for(var a=0;a<e;++a)r[o*e+a]=n[4*o+a]}return Kr(r,[t.height,t.width,e],"int32")},t.prototype.read=function(t){return a(this,void 0,void 0,function(){return s(this,function(e){return[2,this.readSync(t)]})})},t.prototype.readSync=function(t){return this.throwIfNoData(t),this.data.get(t)},t.prototype.disposeData=function(t){this.data.has(t)&&this.data.delete(t)},t.prototype.time=function(t){return a(this,void 0,void 0,function(){var e;return s(this,function(n){return e=performance.now(),t(),[2,{kernelMs:performance.now()-e}]})})},t.prototype.memory=function(){return{unreliable:!0}},t.prototype.throwIfNoData=function(t){if(!this.data.has(t))throw new Error("CPU backend: No data found for this tensor. Did you change your backend in the middle of the program? New backends can't use Tensors created with previous backends")},t.prototype.slice=function(t,e,n){for(var r=Hr(n,t.dtype),i=0;i<r.size;++i){var o=r.indexToLoc(i),a=o.map(function(t,n){return t+e[n]});r.set.apply(r,[t.get.apply(t,a)].concat(o))}return r.toTensor()},t.prototype.stridedSlice=function(t,e,n,r,i,o){var a=re(t.shape,e,n,r,i,o),s=a[0],u=a[1];if(u.some(function(t){return 0===t}))return qr([],u);for(var l=Hr(u,t.dtype),c=0;c<l.size;c++){for(var f=l.indexToLoc(c),h=new Array(f.length),d=0;d<h.length;d++)h[d]=f[d]*r[d]+s[d];l.set.apply(l,[t.get.apply(t,h)].concat(f))}return l.toTensor()},t.prototype.reverse=function(t,e){for(var n=Hr(t.shape,t.dtype),r=t.buffer(),i=function(i){var o=n.indexToLoc(i),a=o.slice();e.forEach(function(e){return a[e]=t.shape[e]-1-a[e]}),n.set.apply(n,[r.get.apply(r,a)].concat(o))},o=0;o<n.size;o++)i(o);return n.toTensor()},t.prototype.concat=function(t,e){var n=$(t.shape,e.shape,1),r=Hr(n,t.dtype);if(1===t.shape[0]&&1===e.shape[0]){var i=t.dataSync(),o=e.dataSync(),a=r.values;return a.set(i,0),a.set(o,t.size),r.toTensor()}for(var s=0;s<n[0];++s){for(var u=0;u<t.shape[1];++u)r.set(t.get(s,u),s,u);for(u=0;u<e.shape[1];++u)r.set(e.get(s,u),s,u+t.shape[1])}return r.toTensor()},t.prototype.neg=function(t){return this.multiply(Ur(-1),t)},t.prototype.add=function(t,e){return this.broadcastedBinaryOp(t,e,wt(t.dtype,e.dtype),function(t,e){return t+e})},t.prototype.subtract=function(t,e){return this.broadcastedBinaryOp(t,e,wt(t.dtype,e.dtype),function(t,e){return t-e})},t.prototype.pow=function(t,e){return this.broadcastedBinaryOp(t,e,t.dtype,function(t,e){return Math.pow(t,e)})},t.prototype.matMul=function(t,e,n,r){for(var i=n?t.shape[0]:t.shape[1],o=n?t.shape[1]:t.shape[0],a=r?e.shape[0]:e.shape[1],s=t.dataSync(),u=e.dataSync(),l=n?[1,t.strides[0]]:[t.strides[0],1],c=l[0],f=l[1],h=r?[e.strides[0],1]:[1,e.strides[0]],d=h[0],p=h[1],v=o*c,g=a*d,m=new Float32Array(o*a),y=0,b=0;b<v;b+=c)for(var w=0;w<g;w+=d){for(var x=b,_=w,C=0,S=0;S<i;++S)C+=s[x]*u[_],x+=f,_+=p;m[y++]=C}return Yr(m,[o,a])},t.prototype.multiply=function(t,e){return this.broadcastedBinaryOp(t,e,wt(t.dtype,e.dtype),function(t,e){return t*e})},t.prototype.realDivide=function(t,e){return this.broadcastedBinaryOp(t,e,"float32",function(t,e){return t/e})},t.prototype.floorDiv=function(t,e){return this.broadcastedBinaryOp(t,e,"int32",function(t,e){return Math.floor(t/e)})},t.prototype.sum=function(t,e){K("sum",e,t.rank);for(var n=U(t.shape,e),r=n[0],i=n[1],o=wt(t.dtype,"int32"),a=Tr(r,o),s=b(i),u=a.dataSync(),l=t.dataSync(),c=0;c<u.length;++c){for(var f=c*s,h=0,d=0;d<s;++d)h+=l[f+d];u[c]=h}return a},t.prototype.unsortedSegmentSum=function(t,e,n){for(var r=[],i=t.rank-e.rank,o=0;o<i;++o)e=e.expandDims(o+1);for(o=0;o<n;++o){var a=Ur(o,"int32"),s=tn(a,e).asType("float32").mul(t).sum(0);r.push(s)}return ei(r)},t.prototype.argMin=function(t,e){var n=[e];K("argMin",n,t.rank);for(var r=U(t.shape,n),i=r[1],o=Tr(r[0],"int32"),a=b(i),s=o.dataSync(),u=t.dataSync(),l=0;l<s.length;++l){for(var c=l*a,f=u[c],h=0,d=0;d<a;++d){var p=u[c+d];p<f&&(f=p,h=d)}s[l]=h}return o},t.prototype.argMax=function(t,e){var n=[e];K("argMax",n,t.rank);for(var r=U(t.shape,n),i=r[1],o=Tr(r[0],"int32"),a=b(i),s=o.dataSync(),u=t.dataSync(),l=0;l<s.length;++l){for(var c=l*a,f=u[c],h=0,d=0;d<a;++d){var p=u[c+d];p>f&&(f=p,h=d)}s[l]=h}return o},t.prototype.cumsum=function(t,e,n,r){if(e!==t.rank-1)throw new Error("backend.cumsum in CPU expects an inner-most axis="+(t.rank-1)+" but got axis="+e);for(var i=wt(t.dtype,"int32"),o=Tr(t.shape,i),a=o.dataSync(),s=t.dataSync(),u=t.shape[t.rank-1],l=r?function(t,e){return t+u-e-1}:function(t,e){return t+e},c=0;c<s.length;c+=u)for(var f=0;f<u;f++){var h=l(c,f);if(0===f)a[h]=n?0:s[h];else{var d=l(c,f-1);a[h]=n?s[d]+a[d]:s[h]+a[d]}}return o},t.prototype.equal=function(t,e){return this.broadcastedBinaryOp(t,e,"bool",function(t,e){return t===e?1:0})},t.prototype.notEqual=function(t,e){return this.broadcastedBinaryOp(t,e,"bool",function(t,e){return t!==e?1:0})},t.prototype.less=function(t,e){return this.broadcastedBinaryOp(t,e,"bool",function(t,e){return t<e?1:0})},t.prototype.lessEqual=function(t,e){return this.broadcastedBinaryOp(t,e,"bool",function(t,e){return t<=e?1:0})},t.prototype.greater=function(t,e){return this.broadcastedBinaryOp(t,e,"bool",function(t,e){return t>e?1:0})},t.prototype.greaterEqual=function(t,e){return this.broadcastedBinaryOp(t,e,"bool",function(t,e){return t>=e?1:0})},t.prototype.logicalNot=function(t){for(var e=t.dataSync(),n=new Int32Array(e.length),r=0;r<e.length;++r)n[r]=e[r]?0:1;return wi.make(t.shape,{values:n},"bool")},t.prototype.logicalAnd=function(t,e){return this.broadcastedBinaryOp(t,e,"bool",function(t,e){return t&&e})},t.prototype.logicalOr=function(t,e){return this.broadcastedBinaryOp(t,e,"bool",function(t,e){return t||e})},t.prototype.where=function(t,e,n,r){for(var i=t.dataSync(),o=e.dataSync(),a=n.dataSync(),s=Tr(e.shape,r),u=s.dataSync(),l=0,c=0===t.rank||t.rank>1||1===e.rank?1:e.shape[1],f=0;f<i.length;f++)for(var h=0;h<c;h++)u[l++]=1===i[f]?o[f]:a[f];return s},t.prototype.topKValues=function(t,e){return this.topK(t,e).values},t.prototype.topKIndices=function(t,e){return this.topK(t,e).indices},t.prototype.topK=function(t,e){for(var n=t.dataSync(),r=[],i=0;i<n.length;i++)r.push({value:n[i],index:i});r.sort(function(t,e){return e.value-t.value});var o=E(t.dtype,e),a=new Int32Array(e);for(i=0;i<e;i++)o[i]=r[i].value,a[i]=r[i].index;return{values:Gr(o,t.dtype),indices:Gr(a,"int32")}},t.prototype.min=function(t,e){K("min",e,t.rank);for(var n=U(t.shape,e),r=n[1],i=Tr(n[0],t.dtype),o=b(r),a=i.dataSync(),s=t.dataSync(),u=0;u<a.length;++u){for(var l=u*o,c=s[l],f=0;f<o;++f){var h=s[l+f];h<c&&(c=h)}a[u]=c}return i},t.prototype.minimum=function(t,e){return this.broadcastedBinaryOp(t,e,t.dtype,function(t,e){return Math.min(t,e)})},t.prototype.mod=function(t,e){return this.broadcastedBinaryOp(t,e,t.dtype,function(t,e){var n=t%e;return t<0&&e<0||t>=0&&e>=0?n:(n+e)%e})},t.prototype.max=function(t,e){K("max",e,t.rank);for(var n=U(t.shape,e),r=n[1],i=Tr(n[0],t.dtype),o=b(r),a=i.dataSync(),s=t.dataSync(),u=0;u<a.length;++u){for(var l=u*o,c=s[l],f=0;f<o;++f){var h=s[l+f];h>c&&(c=h)}a[u]=c}return i},t.prototype.maximum=function(t,e){return this.broadcastedBinaryOp(t,e,t.dtype,function(t,e){return Math.max(t,e)})},t.prototype.all=function(t,e){K("all",e,t.rank);for(var n=U(t.shape,e),r=n[1],i=Tr(n[0],t.dtype),o=b(r),a=i.dataSync(),s=t.dataSync(),u=0;u<a.length;++u){for(var l=u*o,c=s[l],f=0;f<o;++f)c=c&&s[l+f];a[u]=c}return i},t.prototype.squaredDifference=function(t,e){return this.broadcastedBinaryOp(t,e,t.dtype,function(t,e){var n=t-e;return n*n})},t.prototype.ceil=function(t){for(var e=t.dataSync(),n=new Float32Array(e.length),r=0;r<e.length;++r)n[r]=Math.ceil(e[r]);return wi.make(t.shape,{values:n})},t.prototype.floor=function(t){for(var e=t.dataSync(),n=new Float32Array(e.length),r=0;r<e.length;++r)n[r]=Math.floor(e[r]);return wi.make(t.shape,{values:n})},t.prototype.sign=function(t){for(var e=t.dataSync(),n=new Float32Array(e.length),r=0;r<e.length;++r)n[r]=e[r]<0?-1:e[r]>0?1:0;return wi.make(t.shape,{values:n})},t.prototype.round=function(t){for(var e=t.dataSync(),n=new Float32Array(e.length),r=0;r<e.length;++r){var i=Math.floor(e[r]);n[r]=e[r]-i<.5?Math.floor(e[r]):e[r]-i>.5?Math.ceil(e[r]):i%2==0?i:i+1}return wi.make(t.shape,{values:n})},t.prototype.exp=function(t){for(var e=t.dataSync(),n=new Float32Array(e.length),r=0;r<e.length;++r)n[r]=Math.exp(e[r]);return wi.make(t.shape,{values:n})},t.prototype.expm1=function(t){for(var e=t.dataSync(),n=new Float32Array(e.length),r=0;r<e.length;++r)n[r]=Math.expm1(e[r]);return wi.make(t.shape,{values:n})},t.prototype.log=function(t){for(var e=t.dataSync(),n=new Float32Array(e.length),r=0;r<e.length;++r)n[r]=Math.log(e[r]);return wi.make(t.shape,{values:n})},t.prototype.log1p=function(t){for(var e=t.dataSync(),n=new Float32Array(e.length),r=0;r<e.length;++r)n[r]=Math.log1p(e[r]);return wi.make(t.shape,{values:n})},t.prototype.sqrt=function(t){for(var e=t.dataSync(),n=new Float32Array(e.length),r=0;r<e.length;++r)n[r]=Math.sqrt(e[r]);return wi.make(t.shape,{values:n})},t.prototype.rsqrt=function(t){for(var e=t.dataSync(),n=new Float32Array(e.length),r=0;r<e.length;++r)n[r]=1/Math.sqrt(e[r]);return wi.make(t.shape,{values:n})},t.prototype.square=function(t){for(var e=t.dataSync(),n=new Float32Array(e.length),r=0;r<e.length;++r){var i=e[r];n[r]=i*i}return wi.make(t.shape,{values:n})},t.prototype.reciprocal=function(t){for(var e=t.dataSync(),n=new Float32Array(e.length),r=0;r<e.length;++r)n[r]=1/e[r];return wi.make(t.shape,{values:n})},t.prototype.relu=function(t){for(var e=Tr(t.shape,t.dtype),n=e.dataSync(),r=t.dataSync(),i=0;i<r.length;++i)n[i]=Math.max(0,r[i]);return e},t.prototype.elu=function(t){for(var e=new Float32Array(t.size),n=t.dataSync(),r=0;r<n.length;++r){var i=n[r];e[r]=i>=0?i:Math.exp(i)-1}return wi.make(t.shape,{values:e})},t.prototype.eluDer=function(t,e){for(var n=new Float32Array(e.size),r=e.dataSync(),i=t.dataSync(),o=0;o<r.length;++o){var a=r[o];n[o]=a>=1?i[o]:i[o]*(a+1)}return wi.make(e.shape,{values:n})},t.prototype.selu=function(t){for(var e=new Float32Array(t.size),n=t.dataSync(),r=0;r<n.length;++r){var i=n[r];e[r]=i>=0?1.0507009873554805*i:1.7580993408473768*(Math.exp(i)-1)}return wi.make(t.shape,{values:e})},t.prototype.clip=function(t,e,n){for(var r=new Float32Array(t.size),i=t.dataSync(),o=0;o<i.length;++o)r[o]=Math.min(n,Math.max(e,i[o]));return wi.make(t.shape,{values:r})},t.prototype.abs=function(t){for(var e=new Float32Array(t.size),n=t.dataSync(),r=0;r<n.length;++r)e[r]=Math.abs(n[r]);return wi.make(t.shape,{values:e})},t.prototype.int=function(t){for(var e=new Int32Array(t.size),n=t.dataSync(),r=0;r<n.length;++r)e[r]=n[r];return wi.make(t.shape,{values:e},"int32")},t.prototype.sigmoid=function(t){for(var e=new Float32Array(t.size),n=t.dataSync(),r=0;r<n.length;++r)e[r]=1/(1+Math.exp(-n[r]));return wi.make(t.shape,{values:e})},t.prototype.softplus=function(t){for(var e=Math.log(1.1920928955078125e-7)+2,n=new Float32Array(t.size),r=t.dataSync(),i=0;i<r.length;++i){var o,a=r[i]>-e,s=r[i]<e,u=Math.exp(r[i]);o=s?u:a?r[i]:Math.log(1+u),n[i]=o}return wi.make(t.shape,{values:n})},t.prototype.sin=function(t){for(var e=new Float32Array(t.size),n=t.dataSync(),r=0;r<n.length;++r)e[r]=Math.sin(n[r]);return wi.make(t.shape,{values:e})},t.prototype.cos=function(t){for(var e=new Float32Array(t.size),n=t.dataSync(),r=0;r<n.length;++r)e[r]=Math.cos(n[r]);return wi.make(t.shape,{values:e})},t.prototype.tan=function(t){for(var e=new Float32Array(t.size),n=t.dataSync(),r=0;r<n.length;++r)e[r]=Math.tan(n[r]);return wi.make(t.shape,{values:e})},t.prototype.asin=function(t){for(var e=new Float32Array(t.size),n=t.dataSync(),r=0;r<n.length;++r)e[r]=Math.asin(n[r]);return wi.make(t.shape,{values:e})},t.prototype.acos=function(t){for(var e=new Float32Array(t.size),n=t.dataSync(),r=0;r<n.length;++r)e[r]=Math.acos(n[r]);return wi.make(t.shape,{values:e})},t.prototype.atan=function(t){for(var e=new Float32Array(t.size),n=t.dataSync(),r=0;r<n.length;++r)e[r]=Math.atan(n[r]);return wi.make(t.shape,{values:e})},t.prototype.atan2=function(t,e){return this.broadcastedBinaryOp(t,e,t.dtype,function(t,e){return Math.atan2(t,e)})},t.prototype.sinh=function(t){for(var e=new Float32Array(t.size),n=t.dataSync(),r=0;r<n.length;++r)e[r]=Math.sinh(n[r]);return wi.make(t.shape,{values:e})},t.prototype.cosh=function(t){for(var e=new Float32Array(t.size),n=t.dataSync(),r=0;r<n.length;++r)e[r]=Math.cosh(n[r]);return wi.make(t.shape,{values:e})},t.prototype.tanh=function(t){for(var e=new Float32Array(t.size),n=t.dataSync(),r=0;r<n.length;++r)e[r]=_(n[r]);return wi.make(t.shape,{values:e})},t.prototype.asinh=function(t){for(var e=new Float32Array(t.size),n=t.dataSync(),r=0;r<n.length;++r)e[r]=Math.asinh(n[r]);return wi.make(t.shape,{values:e})},t.prototype.acosh=function(t){for(var e=new Float32Array(t.size),n=t.dataSync(),r=0;r<n.length;++r)e[r]=Math.acosh(n[r]);return wi.make(t.shape,{values:e})},t.prototype.atanh=function(t){for(var e=new Float32Array(t.size),n=t.dataSync(),r=0;r<n.length;++r)e[r]=Math.atanh(n[r]);return wi.make(t.shape,{values:e})},t.prototype.erf=function(t){for(var e=new Float32Array(t.size),n=t.dataSync(),r=0;r<n.length;++r){var i=n[r],o=1/(1+.3275911*i);e[r]=1-((((1.061405429*o-1.453152027)*o+1.421413741)*o-.284496736)*o+.254829592)*o*Math.exp(-i*i)}return wi.make(t.shape,{values:e})},t.prototype.step=function(t,e){void 0===e&&(e=0);for(var n=new Float32Array(t.size),r=t.dataSync(),i=0;i<r.length;++i){var o=r[i];n[i]=isNaN(o)?NaN:o>0?1:e}return wi.make(t.shape,{values:n})},t.prototype.conv2d=function(t,e,n){for(var r=n.filterHeight,i=n.filterWidth,o=n.dilationHeight,a=n.dilationWidth,s=n.padInfo.left,u=n.padInfo.top,l=Hr(n.outShape,t.dtype),c=0;c<n.batchSize;++c)for(var f=0;f<n.outChannels;++f)for(var h=0;h<n.outHeight;++h)for(var d=h*n.strideHeight-s,p=0;p<n.outWidth;++p){for(var v=p*n.strideWidth-u,g=0,m=0;m<r;m++){var y=d+m*o;if(!(y<0||y>=n.inHeight))for(var b=0;b<i;b++){var w=v+b*a;if(!(w<0||w>=n.inWidth))for(var x=0;x<n.inChannels;++x)g+=t.get(c,y,w,x)*e.get(m,b,x,f)}}l.set(g,c,h,p,f)}return l.toTensor()},t.prototype.conv2dDerInput=function(t,e,n){for(var r=Hr(n.inShape,"float32"),i=r.values,o=r.strides,a=o[0],s=o[1],u=o[2],l=t.dataSync(),c=t.strides,f=c[0],h=c[1],d=c[2],p=e.dataSync(),v=e.strides,g=v[0],m=v[1],y=v[2],b=n.batchSize,w=n.filterHeight,x=n.filterWidth,_=n.inChannels,C=n.inHeight,S=n.inWidth,D=n.outChannels,P=n.outHeight,A=n.outWidth,T=n.strideHeight,E=n.strideWidth,O=w-1-n.padInfo.top,k=x-1-n.padInfo.left,R=0;R<b;++R)for(var I=0;I<_;++I)for(var M=0;M<C;++M)for(var N=M-O,L=Math.max(0,Math.ceil(N/T)),F=Math.min(P,(w+N)/T),j=0;j<S;++j){for(var V=j-k,z=Math.max(0,Math.ceil(V/E)),B=Math.min(A,(x+V)/E),W=0,H=L;H<F;++H)for(var X=H*T-N,q=z;q<B;++q)for(var U=f*R+h*H+d*q,G=g*(w-1-X)+m*(x-1-(q*E-V))+y*I,Y=0;Y<D;++Y)W+=l[U+Y]*p[G+Y];i[a*R+s*M+u*j+I]=W}return r.toTensor()},t.prototype.conv2dDerFilter=function(t,e,n){for(var r=n.strideHeight,i=n.strideWidth,o=n.filterHeight,a=n.filterWidth,s=Hr(n.filterShape,"float32"),u=n.padInfo.left,l=n.padInfo.top,c=0;c<o;++c)for(var f=Math.max(0,Math.ceil((l-c)/r)),h=Math.min(n.outHeight,(n.inHeight+l-c)/r),d=0;d<a;++d)for(var p=Math.max(0,Math.ceil((u-d)/i)),v=Math.min(n.outWidth,(n.inWidth+u-d)/i),g=0;g<n.inChannels;++g)for(var m=0;m<n.outChannels;++m){for(var y=0,b=0;b<n.batchSize;++b)for(var w=f;w<h;++w)for(var x=c+w*r-l,_=p;_<v;++_)y+=t.get(b,x,d+_*i-u,g)*e.get(b,w,_,m);s.set(y,c,d,g,m)}return s.toTensor()},t.prototype.depthwiseConv2D=function(t,e,n){for(var r=n.filterHeight,i=n.filterWidth,o=n.dilationHeight,a=n.dilationWidth,s=n.padInfo.left,u=n.padInfo.top,l=n.outChannels/n.inChannels,c=Hr(n.outShape,t.dtype),f=0;f<n.batchSize;++f)for(var h=0;h<n.inChannels;++h)for(var d=0;d<n.outHeight;++d)for(var p=d*n.strideHeight-s,v=0;v<n.outWidth;++v)for(var g=v*n.strideWidth-u,m=0;m<l;++m){for(var y=0,b=0;b<r;++b){var w=p+b*o;if(!(w<0||w>=n.inHeight))for(var x=0;x<i;++x){var _=g+x*a;_<0||_>=n.inWidth||(y+=t.get(f,w,_,h)*e.get(b,x,h,m))}}c.set(y,f,d,v,h*l+m)}return c.toTensor()},t.prototype.depthwiseConv2DDerInput=function(t,e,n){for(var r=Hr(n.inShape,"float32"),i=r.values,o=r.strides,a=o[0],s=o[1],u=o[2],l=t.dataSync(),c=t.strides,f=c[0],h=c[1],d=c[2],p=e.dataSync(),v=e.strides,g=v[0],m=v[1],y=v[2],b=n.batchSize,w=n.filterHeight,x=n.filterWidth,_=n.inChannels,C=n.inHeight,S=n.inWidth,D=n.outHeight,P=n.outWidth,A=n.strideHeight,T=n.strideWidth,E=w-1-n.padInfo.top,O=x-1-n.padInfo.left,k=n.outChannels/_,R=0;R<b;++R)for(var I=0;I<_;++I)for(var M=0;M<C;++M)for(var N=M-E,L=Math.max(0,Math.ceil(N/A)),F=Math.min(D,(w+N)/A),j=0;j<S;++j){for(var V=j-O,z=Math.max(0,Math.ceil(V/T)),B=Math.min(P,(x+V)/T),W=0,H=L;H<F;++H)for(var X=H*A-N,q=z;q<B;++q)for(var U=f*R+h*H+d*q,G=g*(w-1-X)+m*(x-1-(q*T-V))+y*I,Y=0;Y<k;++Y)W+=l[U+(I*k+Y)]*p[G+Y];i[a*R+s*M+u*j+I]=W}return r.toTensor()},t.prototype.depthwiseConv2DDerFilter=function(t,e,n){for(var r=n.strideHeight,i=n.strideWidth,o=n.filterHeight,a=n.filterWidth,s=Hr(n.filterShape,"float32"),u=n.padInfo.left,l=n.padInfo.top,c=n.outChannels/n.inChannels,f=0;f<o;++f)for(var h=Math.max(0,Math.ceil((l-f)/r)),d=Math.min(n.outHeight,(n.inHeight+l-f)/r),p=0;p<a;++p)for(var v=Math.max(0,Math.ceil((u-p)/i)),g=Math.min(n.outWidth,(n.inWidth+u-p)/i),m=0;m<n.outChannels;++m){for(var y=Math.trunc(m/c),b=m%c,w=0,x=0;x<n.batchSize;++x)for(var _=h;_<d;++_)for(var C=f+_*r-l,S=v;S<g;++S)w+=t.get(x,C,p+S*i-u,y)*e.get(x,_,S,m);s.set(w,f,p,y,b)}return s.toTensor()},t.prototype.tile=function(t,e){for(var n=new Array(t.rank),r=0;r<n.length;r++)n[r]=t.shape[r]*e[r];var i=Hr(n,t.dtype),o=t.buffer();for(r=0;r<i.values.length;++r){for(var a=i.indexToLoc(r),s=new Array(t.rank),u=0;u<s.length;u++)s[u]=a[u]%t.shape[u];var l=o.locToIndex(s);i.values[r]=o.values[l]}return i.toTensor()},t.prototype.pad=function(t,e,n){var r=e.map(function(e,n){return e[0]+t.shape[n]+e[1]}),i=e.map(function(t){return t[0]}),o=t.buffer(),a=Hr(r,t.dtype);0!==n&&a.values.fill(n);for(var s=0;s<t.size;s++){var u=o.indexToLoc(s),l=u.map(function(t,e){return t+i[e]});a.set.apply(a,[t.get.apply(t,u)].concat(l))}return a.toTensor()},t.prototype.transpose=function(t,e){for(var n=new Array(t.rank),r=0;r<n.length;r++)n[r]=t.shape[e[r]];var i=t.dataSync(),o=Hr(n,t.dtype),a=t.buffer();for(r=0;r<t.size;++r){for(var s=a.indexToLoc(r),u=new Array(s.length),l=0;l<u.length;l++)u[l]=s[e[l]];var c=o.locToIndex(u);o.values[c]=i[r]}return o.toTensor()},t.prototype.gather=function(t,e,n){var r=t.shape.slice(),i=e.dataSync();r[n]=i.length;for(var o=Hr(r,t.dtype),a=t.buffer(),s=0;s<o.size;++s){var u=o.indexToLoc(s),l=u.slice();l[n]=i[u[n]];var c=a.locToIndex(l);o.values[s]=a.values[c]}return o.toTensor()},t.prototype.pool=function(t,e,n){for(var r=e.strideHeight,i=e.strideWidth,o=e.filterHeight,a=e.filterWidth,s=Hr(e.outShape,"float32"),u=e.padInfo.top,l=e.padInfo.left,c=0;c<e.batchSize;++c)for(var f=0;f<e.inChannels;++f)for(var h=0;h<e.outHeight;++h)for(var d=h*r-u,p=Math.max(0,d),v=Math.min(e.inHeight,o+d),g=0;g<e.outWidth;++g){for(var m=g*i-l,y=Math.max(0,m),b=Math.min(e.inWidth,a+m),w="max"===n?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,x=0,_=0,C=p;C<v;++C){for(var S=y;S<b;++S){var D=t.get(c,C,S,f);"max"===n&&D>w?w=D:"avg"===n&&(x+=D,_++)}if(isNaN(w))break}s.set("avg"===n?x/_:w,c,h,g,f)}return s.toTensor()},t.prototype.maxPool=function(t,e){return this.pool(t,e,"max")},t.prototype.maxPoolPositions=function(t,e){for(var n=Hr(e.outShape,"int32"),r=e.strideHeight,i=e.strideWidth,o=e.filterHeight,a=e.filterWidth,s=e.padInfo.top,u=e.padInfo.left,l=0;l<e.batchSize;++l)for(var c=0;c<e.inChannels;++c)for(var f=0;f<e.outHeight;++f)for(var h=f*r-s,d=Math.max(0,h),p=Math.min(e.inHeight,o+h),v=0;v<e.outWidth;++v){for(var g=v*i-u,m=Math.max(0,g),y=Math.min(e.inWidth,a+g),b=Number.NEGATIVE_INFINITY,w=-1,x=d;x<p;++x)for(var _=x-h,C=m;C<y;++C){var S=C-g,D=t.get(l,x,C,c);D>b&&(b=D,w=_*a+S)}n.set(w,l,f,v,c)}return n.toTensor()},t.prototype.maxPoolBackprop=function(t,e,n,r){for(var i=this.maxPoolPositions(e,r),o=r.strideHeight,a=r.strideWidth,s=r.filterHeight,u=r.filterWidth,l=u-1-r.padInfo.left,c=s-1-r.padInfo.top,f=Hr(e.shape,"float32"),h=0;h<r.batchSize;++h)for(var d=0;d<r.inChannels;++d)for(var p=0;p<r.inHeight;++p)for(var v=0;v<r.inWidth;++v){for(var g=p-c,m=v-l,y=0,b=0;b<s;++b){var w=(g+b)/o;if(!(w<0||w>=r.outHeight||Math.floor(w)!==w))for(var x=0;x<u;++x){var _=(m+x)/a;if(!(_<0||_>=r.outWidth||Math.floor(_)!==_)){var C=s*u-1-i.get(h,w,_,d)===b*u+x?1:0;0!==C&&(y+=t.get(h,w,_,d)*C)}}}f.set(y,h,p,v,d)}return f.toTensor()},t.prototype.avgPoolBackprop=function(t,e,n){for(var r=n.strideHeight,i=n.strideWidth,o=n.filterHeight,a=n.filterWidth,s=a-1-n.padInfo.left,u=o-1-n.padInfo.top,l=Hr(e.shape,"float32"),c=1/(o*a),f=0;f<n.batchSize;++f)for(var h=0;h<n.inChannels;++h)for(var d=0;d<n.inHeight;++d)for(var p=0;p<n.inWidth;++p){for(var v=d-u,g=p-s,m=0,y=0;y<o;++y){var b=(v+y)/r;if(!(b<0||b>=n.outHeight||Math.floor(b)!==b))for(var w=0;w<a;++w){var x=(g+w)/i;x<0||x>=n.outWidth||Math.floor(x)!==x||(m+=t.get(f,b,x,h))}}l.set(m*c,f,d,p,h)}return l.toTensor()},t.prototype.cast=function(t,e){return $i(t,e,this)},t.prototype.reshape=function(t,e){return to(t,e)},t.prototype.avgPool=function(t,e){return this.pool(t,e,"avg").toFloat()},t.prototype.resizeBilinear=function(t,e,n,r){for(var i=t.shape,o=i[0],a=i[1],s=i[2],u=i[3],l=Hr([o,e,n,u],t.dtype),c=[r&&e>1?a-1:a,r&&n>1?s-1:s],f=[r&&e>1?e-1:e,r&&n>1?n-1:n],h=0;h<o;h++)for(var d=0;d<e;d++)for(var p=0;p<n;p++)for(var v=0;v<u;v++){var g=c[0]*d/f[0],m=c[1]*p/f[1],y=Math.floor(g),b=Math.min(a-1,Math.ceil(g)),w=Math.floor(m),x=Math.min(s-1,Math.ceil(m)),_=t.get(h,y,w,v),C=t.get(h,b,w,v),S=m-w,D=_+(t.get(h,y,x,v)-_)*S,P=D+(C+(t.get(h,b,x,v)-C)*S-D)*(g-y);l.set(P,h,d,p,v)}return l.toTensor()},t.prototype.resizeBilinearBackprop=function(t,e,n){for(var r=e.shape,i=r[0],o=r[1],a=r[2],s=r[3],u=t.shape,l=u[1],c=u[2],f=Hr([i,o,a,s],e.dtype),h=[n&&l>1?o-1:o,n&&c>1?a-1:a],d=[n&&l>1?l-1:l,n&&c>1?c-1:c],p=h[0]/d[0],v=h[1]/d[1],g=0;g<i;g++)for(var m=0;m<l;m++)for(var y=m*p,b=Math.floor(y),w=Math.min(Math.ceil(y),o-1),x=y-b,_=1-x,C=0;C<c;C++)for(var S=C*v,D=Math.floor(S),P=Math.min(Math.ceil(S),a-1),A=S-D,T=1-A,E=0;E<s;E++){var O=t.get(g,m,C,E),k=f.get(g,b,D,E);f.set(k+=O*_*T,g,b,D,E);var R=f.get(g,b,P,E);f.set(R+=O*_*A,g,b,P,E);var I=f.get(g,w,D,E);f.set(I+=O*x*T,g,w,D,E);var M=f.get(g,w,P,E);f.set(M+=O*x*A,g,w,P,E)}return f.toTensor()},t.prototype.resizeNearestNeighbor=function(t,e,n,r){for(var i=t.shape,o=i[0],a=i[1],s=i[2],u=i[3],l=Hr([o,e,n,u],t.dtype),c=r?[a-1,s-1]:[a,s],f=r?[e-1,n-1]:[e,n],h=0;h<o;h++)for(var d=0;d<e;d++)for(var p=0;p<n;p++)for(var v=0;v<u;v++){var g=c[0]*d/f[0],m=c[1]*p/f[1],y=Math.min(a-1,r?Math.round(g):Math.floor(g)),b=Math.min(s-1,r?Math.round(m):Math.floor(m)),w=t.get(h,y,b,v);l.set(w,h,d,p,v)}return l.toTensor()},t.prototype.batchNormalization=function(t,e,n,r,i,o){for(var a=t.dataSync(),s=e.dataSync(),u=n.dataSync(),l=i?i.dataSync():new Float32Array([1]),c=o?o.dataSync():new Float32Array([0]),f=new Float32Array(a.length),h=0;h<a.length;h++)f[h]=c[h%c.length]+(a[h]-s[h%s.length])*l[h%l.length]/Math.sqrt(u[h%u.length]+r);return Zr(f,t.shape)},t.prototype.localResponseNormalization4D=function(t,e,n,r,i){var o=Hr(t.shape,"float32"),a=e,s=o.shape[3]-1;function u(e,n,r,i){for(var o=0,u=Math.max(0,i-a);u<=Math.min(i+a,s);u++){var l=t.get(e,n,r,u);o+=l*l}return o}for(var l=0;l<o.shape[0];l++)for(var c=0;c<=o.shape[1];c++)for(var f=0;f<o.shape[2];f++)for(var h=0;h<o.shape[3];h++){var d=u(l,c,f,h),p=t.get(l,c,f,h)*Math.pow(n+r*d,-i);o.set(p,l,c,f,h)}return o.toTensor()},t.prototype.multinomial=function(t,e,n,r){for(var i=e?t:di(t),o=i.shape[0],a=i.shape[1],s=Tr([o,n],"int32"),u=s.dataSync(),l=i.dataSync(),c=0;c<o;++c){var f=c*a,h=new Float32Array(a-1);h[0]=l[f];for(var d=1;d<h.length;++d)h[d]=h[d-1]+l[f+d];for(var p=mt(r.toString()),v=c*n,g=0;g<n;++g){var m=p();u[v+g]=h.length;for(var y=0;y<h.length;y++)if(m<h[y]){u[v+g]=y;break}}}return s},t.prototype.oneHot=function(t,e,n,r){var i=new Float32Array(t.size*e);i.fill(r);for(var o=0;o<t.size;++o)t.get(o)>=0&&t.get(o)<e&&(i[o*e+t.get(o)]=n);return Yr(i,[t.size,e],"int32")},t.prototype.broadcastedBinaryOp=function(t,e,n,r){for(var i=St(t.shape,e.shape),o=Hr(i,n),a=t.dataSync(),s=e.dataSync(),u=_t(t.shape,i),l=_t(e.shape,i),c=t.buffer(),f=e.buffer(),h=function(n){var i=o.indexToLoc(n),h=i.slice(-t.rank);u.forEach(function(t){return h[t]=0});var d=c.locToIndex(h),p=i.slice(-e.rank);l.forEach(function(t){return p[t]=0});var v=f.locToIndex(p);o.values[n]=r(a[d],s[v])},d=0;d<o.values.length;++d)h(d);return o.toTensor()},t.prototype.dispose=function(){},t}();Ki.registerBackend("cpu",function(){return new Ea},1);var Oa=function(){function t(){}return t.nextFrame=function(){return new Promise(function(t){return requestAnimationFrame(function(){return t()})})},o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]}],t,"nextFrame",null),t}(),ka={float32:4,int32:4,uint16:2,uint8:1,bool:1};function Ra(t){return new Blob([t]).size}function Ia(t){var e=0;t.forEach(function(t){e+=t.byteLength});var n=new Uint8Array(e),r=0;return t.forEach(function(t){n.set(new Uint8Array(t),r),r+=t.byteLength}),n.buffer}function Ma(t){for(t=t.trim();t.endsWith("/");)t=t.slice(0,t.length-1);var e=t.split("/");return e[e.length-1]}function Na(t){if(t.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:null==t.modelTopology?0:Ra(JSON.stringify(t.modelTopology)),weightSpecsBytes:null==t.weightSpecs?0:Ra(JSON.stringify(t.weightSpecs)),weightDataBytes:null==t.weightData?0:t.weightData.byteLength}}var La=function(){function t(){this.saveRouters=[],this.loadRouters=[]}return t.getInstance=function(){return null==t.instance&&(t.instance=new t),t.instance},t.registerSaveRouter=function(e){t.getInstance().saveRouters.push(e)},t.registerLoadRouter=function(e){t.getInstance().loadRouters.push(e)},t.getSaveHandlers=function(e){return t.getHandlers(e,"save")},t.getLoadHandlers=function(e){return t.getHandlers(e,"load")},t.getHandlers=function(t,e){var n=[];return("load"===e?this.getInstance().loadRouters:this.getInstance().saveRouters).forEach(function(e){var r=e(t);null!==r&&n.push(r)}),n},t}(),Fa="://",ja=function(){function t(){this.managers={}}return t.getInstance=function(){return null==t.instance&&(t.instance=new t),t.instance},t.registerManager=function(e,n){p(null!=e,"scheme must not be undefined or null."),e.endsWith(Fa)&&(e=e.slice(0,e.indexOf(Fa))),p(e.length>0,"scheme must not be an empty string.");var r=t.getInstance();p(null==r.managers[e],"A model store manager is already registered for scheme '"+e+"'."),r.managers[e]=n},t.getManager=function(t){var e=this.getInstance().managers[t];if(null==e)throw new Error("Cannot find model manager for scheme '"+t+"'");return e},t.getSchemes=function(){return Object.keys(this.getInstance().managers)},t}();function Va(t){if(-1===t.indexOf(Fa))throw new Error("The url string provided does not contain a scheme. Supported schemes are: "+ja.getSchemes().join(","));return{scheme:t.split(Fa)[0],path:t.split(Fa)[1]}}function za(t,e,n){return void 0===n&&(n=!1),a(this,void 0,void 0,function(){var r,i,o,a,u,l,c,f,h;return s(this,function(s){switch(s.label){case 0:return p(t!==e,"Old path and new path are the same: '"+t+"'"),p((r=La.getLoadHandlers(t)).length>0,"Copying failed because no load handler is found for source URL "+t+"."),p(r.length<2,"Copying failed because more than one ("+r.length+") load handlers for source URL "+t+"."),i=r[0],p((o=La.getSaveHandlers(e)).length>0,"Copying failed because no save handler is found for destination URL "+e+"."),p(o.length<2,"Copying failed because more than one ("+r.length+") save handlers for destination URL "+e+"."),a=o[0],u=Va(t).scheme,l=Va(t).path,c=u===Va(t).scheme,[4,i.load()];case 1:return f=s.sent(),n&&c?[4,ja.getManager(u).removeModel(l)]:[3,3];case 2:s.sent(),s.label=3;case 3:return[4,a.save(f)];case 4:return h=s.sent(),!n||c?[3,6]:[4,ja.getManager(u).removeModel(l)];case 5:s.sent(),s.label=6;case 6:return[2,h.modelArtifactsInfo]}})})}var Ba=function(){function t(){}return t.listModels=function(){return a(this,void 0,void 0,function(){var t,e,n,r,i,o,a;return s(this,function(s){switch(s.label){case 0:t=ja.getSchemes(),e={},n=0,r=t,s.label=1;case 1:return n<r.length?[4,ja.getManager(i=r[n]).listModels()]:[3,4];case 2:for(a in o=s.sent())e[i+Fa+a]=o[a];s.label=3;case 3:return n++,[3,1];case 4:return[2,e]}})})},t.removeModel=function(t){return a(this,void 0,void 0,function(){var e;return s(this,function(n){switch(n.label){case 0:return e=Va(t),[4,ja.getManager(e.scheme).removeModel(e.path)];case 1:return[2,n.sent()]}})})},t.copyModel=function(t,e){return a(this,void 0,void 0,function(){return s(this,function(n){switch(n.label){case 0:return[4,za(t,e,!1)];case 1:return[2,n.sent()]}})})},t.moveModel=function(t,e){return a(this,void 0,void 0,function(){return s(this,function(n){switch(n.label){case 0:return[4,za(t,e,!0)];case 1:return[2,n.sent()]}})})},o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]}],t,"listModels",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]}],t,"removeModel",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]}],t,"copyModel",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]}],t,"moveModel",null),t}(),Wa="models_store",Ha="model_info_store";function Xa(){if(!Ki.get("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");var t=window,e=t.indexedDB||t.mozIndexedDB||t.webkitIndexedDB||t.msIndexedDB||t.shimIndexedDB;if(null==e)throw new Error("The current browser does not appear to support IndexedDB.");return e}function qa(t){var e=t.result;e.createObjectStore(Wa,{keyPath:"modelPath"}),e.createObjectStore(Ha,{keyPath:"modelPath"})}var Ua=function(){function t(t){if(this.indexedDB=Xa(),null==t||!t)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=t}return t.prototype.save=function(t){return a(this,void 0,void 0,function(){return s(this,function(e){if(t.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return[2,this.databaseAction(this.modelPath,t)]})})},t.prototype.load=function(){return a(this,void 0,void 0,function(){return s(this,function(t){return[2,this.databaseAction(this.modelPath)]})})},t.prototype.databaseAction=function(t,e){var n=this;return new Promise(function(t,r){var i=n.indexedDB.open("tensorflowjs",1);i.onupgradeneeded=function(){return qa(i)},i.onsuccess=function(){var o=i.result;if(null==e){var a=o.transaction(Wa,"readonly"),s=a.objectStore(Wa).get(n.modelPath);s.onsuccess=function(){if(null==s.result)return o.close(),r(new Error("Cannot find model with path '"+n.modelPath+"' in IndexedDB."));t(s.result.modelArtifacts)},s.onerror=function(t){return o.close(),r(s.error)},a.oncomplete=function(){return o.close()}}else{var u,l=Na(e),c=o.transaction(Ha,"readwrite"),f=c.objectStore(Ha),h=f.put({modelPath:n.modelPath,modelArtifactsInfo:l});h.onsuccess=function(){var i=(u=o.transaction(Wa,"readwrite")).objectStore(Wa).put({modelPath:n.modelPath,modelArtifacts:e,modelArtifactsInfo:l});i.onsuccess=function(){return t({modelArtifactsInfo:l})},i.onerror=function(t){var e=(f=c.objectStore(Ha)).delete(n.modelPath);e.onsuccess=function(){return o.close(),r(i.error)},e.onerror=function(t){return o.close(),r(i.error)}}},h.onerror=function(t){return o.close(),r(h.error)},c.oncomplete=function(){null==u?o.close():u.oncomplete=function(){return o.close()}}}},i.onerror=function(t){return r(i.error)}})},t.URL_SCHEME="indexeddb://",t}(),Ga=function(t){return Ki.get("IS_BROWSER")&&t.startsWith(Ua.URL_SCHEME)?function(t){return new Ua(t)}(t.slice(Ua.URL_SCHEME.length)):null};La.registerSaveRouter(Ga),La.registerLoadRouter(Ga);var Ya=function(){function t(){this.indexedDB=Xa()}return t.prototype.listModels=function(){return a(this,void 0,void 0,function(){var t=this;return s(this,function(e){return[2,new Promise(function(e,n){var r=t.indexedDB.open("tensorflowjs",1);r.onupgradeneeded=function(){return qa(r)},r.onsuccess=function(){var t=r.result,i=t.transaction(Ha,"readonly"),o=i.objectStore(Ha).getAll();o.onsuccess=function(){for(var t={},n=0,r=o.result;n<r.length;n++){var i=r[n];t[i.modelPath]=i.modelArtifactsInfo}e(t)},o.onerror=function(e){return t.close(),n(o.error)},i.oncomplete=function(){return t.close()}},r.onerror=function(t){return n(r.error)}})]})})},t.prototype.removeModel=function(t){return a(this,void 0,void 0,function(){var e=this;return s(this,function(n){return t=function(t){return t.startsWith(Ua.URL_SCHEME)?t.slice(Ua.URL_SCHEME.length):t}(t),[2,new Promise(function(n,r){var i=e.indexedDB.open("tensorflowjs",1);i.onupgradeneeded=function(){return qa(i)},i.onsuccess=function(){var e,o=i.result,a=o.transaction(Ha,"readwrite"),s=a.objectStore(Ha),u=s.get(t);u.onsuccess=function(){if(null==u.result)return o.close(),r(new Error("Cannot find model with path '"+t+"' in IndexedDB."));var i=s.delete(t),a=function(){var i=(e=o.transaction(Wa,"readwrite")).objectStore(Wa).delete(t);i.onsuccess=function(){return n(u.result.modelArtifactsInfo)},i.onerror=function(t){return r(u.error)}};i.onsuccess=a,i.onerror=function(t){return a(),o.close(),r(u.error)}},u.onerror=function(t){return o.close(),r(u.error)},a.oncomplete=function(){null==e?o.close():e.oncomplete=function(){return o.close()}}},i.onerror=function(t){return r(i.error)}})]})})},t}();if(Ki.get("IS_BROWSER"))try{ja.registerManager(Ua.URL_SCHEME,new Ya)}catch(gt){}var Ka="/",Za="tensorflowjs_models",Ja="info",Qa="model_topology",$a="weight_specs",ts="weight_data";function es(t){return{info:[Za,t,Ja].join(Ka),topology:[Za,t,Qa].join(Ka),weightSpecs:[Za,t,$a].join(Ka),weightData:[Za,t,ts].join(Ka)}}function ns(t){var e=t.split(Ka);if(e.length<3)throw new Error("Invalid key format: "+t);return e.slice(1,e.length-1).join(Ka)}var rs=function(){function t(t){if(!Ki.get("IS_BROWSER")||void 0===window.localStorage)throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,null==t||!t)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=t,this.keys=es(this.modelPath)}return t.prototype.save=function(t){return a(this,void 0,void 0,function(){var e,n,r,i;return s(this,function(o){if(t.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");e=JSON.stringify(t.modelTopology),n=JSON.stringify(t.weightSpecs),r=Na(t);try{return this.LS.setItem(this.keys.info,JSON.stringify(r)),this.LS.setItem(this.keys.topology,e),this.LS.setItem(this.keys.weightSpecs,n),this.LS.setItem(this.keys.weightData,function(t){return btoa(String.fromCharCode.apply(null,new Uint8Array(t)))}(t.weightData)),[2,{modelArtifactsInfo:r}]}catch(t){for(i in this.keys)this.LS.removeItem(this.keys[i]);throw new Error("Failed to save model '"+this.modelPath+"' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes="+r.modelTopologyBytes+", weightSpecsBytes="+r.weightSpecsBytes+", weightDataBytes="+r.weightDataBytes+".")}return[2]})})},t.prototype.load=function(){return a(this,void 0,void 0,function(){var t,e,n,r,i;return s(this,function(o){if(null==(t=JSON.parse(this.LS.getItem(this.keys.info))))throw new Error("In local storage, there is no model with name '"+this.modelPath+"'");if("JSON"!==t.modelTopologyType)throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");if(e={},null==(n=JSON.parse(this.LS.getItem(this.keys.topology))))throw new Error("In local storage, the topology of model '"+this.modelPath+"' is missing.");if(e.modelTopology=n,null==(r=JSON.parse(this.LS.getItem(this.keys.weightSpecs))))throw new Error("In local storage, the weight specs of model '"+this.modelPath+"' are missing.");if(e.weightSpecs=r,null==(i=this.LS.getItem(this.keys.weightData)))throw new Error("In local storage, the binary weight values of model '"+this.modelPath+"' are missing.");return e.weightData=function(t){for(var e=atob(i),n=new Uint8Array(e.length),r=0;r<e.length;++r)n.set([e.charCodeAt(r)],r);return n.buffer}(),[2,e]})})},t.URL_SCHEME="localstorage://",t}(),is=function(t){return Ki.get("IS_BROWSER")&&t.startsWith(rs.URL_SCHEME)?function(t){return new rs(t)}(t.slice(rs.URL_SCHEME.length)):null};La.registerSaveRouter(is),La.registerLoadRouter(is);var os=function(){function t(){p(Ki.get("IS_BROWSER"),"Current environment is not a web browser"),p(void 0!==window.localStorage,"Current browser does not appear to support localStorage"),this.LS=window.localStorage}return t.prototype.listModels=function(){return a(this,void 0,void 0,function(){var t,e,n,r,i,o;return s(this,function(a){for(t={},e=Za+Ka,n=Ka+Ja,r=0;r<this.LS.length;++r)(i=this.LS.key(r)).startsWith(e)&&i.endsWith(n)&&(o=ns(i),t[o]=JSON.parse(this.LS.getItem(i)));return[2,t]})})},t.prototype.removeModel=function(t){return a(this,void 0,void 0,function(){var e,n;return s(this,function(r){if(t=function(t){return t.startsWith(rs.URL_SCHEME)?t.slice(rs.URL_SCHEME.length):t}(t),e=es(t),null==this.LS.getItem(e.info))throw new Error("Cannot find model at path '"+t+"'");return n=JSON.parse(this.LS.getItem(e.info)),this.LS.removeItem(e.info),this.LS.removeItem(e.topology),this.LS.removeItem(e.weightSpecs),this.LS.removeItem(e.weightData),[2,n]})})},t}();if(Ki.get("IS_BROWSER"))try{ja.registerManager(rs.URL_SCHEME,new os)}catch(gt){}var as="model",ss=".json",us=".weights.bin",ls=function(){function t(e){if(!Ki.get("IS_BROWSER"))throw new Error("triggerDownloads() cannot proceed because the current environment is not a browser.");e.startsWith(t.URL_SCHEME)&&(e=e.slice(t.URL_SCHEME.length)),null!=e&&0!==e.length||(e=as),this.modelTopologyFileName=e+ss,this.weightDataFileName=e+us}return t.prototype.save=function(t){return a(this,void 0,void 0,function(){var e,n,r,i;return s(this,function(o){if(e=window.URL.createObjectURL(new Blob([t.weightData],{type:"application/octet-stream"})),t.modelTopology instanceof ArrayBuffer)throw new Error("DownloadTrigger.save() does not support saving model topology in binary formats yet.");return n=window.URL.createObjectURL(new Blob([JSON.stringify({modelTopology:t.modelTopology,weightsManifest:[{paths:["./"+this.weightDataFileName],weights:t.weightSpecs}]})],{type:"application/json"})),(r=null==this.jsonAnchor?document.createElement("a"):this.jsonAnchor).download=this.modelTopologyFileName,r.href=n,r.click(),null!=t.weightData&&((i=null==this.weightDataAnchor?document.createElement("a"):this.weightDataAnchor).download=this.weightDataFileName,i.href=e,i.click()),[2,{modelArtifactsInfo:Na(t)}]})})},t.URL_SCHEME="downloads://",t}(),cs=function(){function t(t){if(null==t||t.length<1)throw new Error("When calling browserFiles, at least 1 file is required, but received "+t);this.files=t}return t.prototype.load=function(){return a(this,void 0,void 0,function(){var t,e,n=this;return s(this,function(r){return t=this.files[0],e=this.files.slice(1),[2,new Promise(function(r,i){var o=new FileReader;o.onload=function(o){var a=JSON.parse(o.target.result),s=a.modelTopology;if(null!=s){0===e.length&&r({modelTopology:s});var u=a.weightsManifest;if(null!=u){var l;try{l=n.checkManifestAndWeightFiles(u,e)}catch(t){return void i(t)}var c=[],f=[],h=[];u.forEach(function(t){t.paths.forEach(function(t){f.push(t),h.push(null)}),c.push.apply(c,t.weights)}),u.forEach(function(t){t.paths.forEach(function(t){var e=new FileReader;e.onload=function(e){var n=e.target.result,i=f.indexOf(t);h[i]=n,-1===h.indexOf(null)&&r({modelTopology:s,weightSpecs:c,weightData:Ia(h)})},e.onerror=function(e){i("Failed to weights data from file of path '"+t+"'.")},e.readAsArrayBuffer(l[t])})})}else i(new Error("weightManifest field is missing from file "+t.name))}else i(new Error("modelTopology field is missing from file "+t.name))},o.onerror=function(e){i("Failed to read model topology and weights manifest JSON from file '"+t.name+"'. BrowserFiles supports loading Keras-style tf.Model artifacts only.")},o.readAsText(t)})]})})},t.prototype.checkManifestAndWeightFiles=function(t,e){for(var n=[],r=e.map(function(t){return Ma(t.name)}),i={},o=0,a=t;o<a.length;o++)a[o].paths.forEach(function(t){var o=Ma(t);if(-1!==n.indexOf(o))throw new Error("Duplicate file basename found in weights manifest: '"+o+"'");if(n.push(o),-1===r.indexOf(o))throw new Error("Weight file with basename '"+o+"' is not provided.");i[t]=e[r.indexOf(o)]});if(n.length!==e.length)throw new Error("Mismatch in the number of files in weights manifest ("+n.length+") and the number of weight files provided ("+e.length+").");return i},t}();function fs(t,e){return a(this,void 0,void 0,function(){var n,r;return s(this,function(i){switch(i.label){case 0:return n=t.map(function(t){return fetch(t,e)}),[4,Promise.all(n)];case 1:return r=i.sent(),[4,Promise.all(r.map(function(t){return t.arrayBuffer()}))];case 2:return[2,i.sent()]}})})}La.registerSaveRouter(function(t){return Ki.get("IS_BROWSER")&&t.startsWith(ls.URL_SCHEME)?function(t){return void 0===t&&(t="model"),new ls(t)}(t.slice(ls.URL_SCHEME.length)):null});var hs=function(){function t(t,e){if(this.DEFAULT_METHOD="POST",!Ki.get("IS_BROWSER"))throw new Error("browserHTTPRequest is not supported outside the web browser.");if(p(null!=t&&t.length>0,"URL path for browserHTTPRequest must not be null, undefined or empty."),this.path=t,null!=e&&null!=e.body)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=e||{}}return t.prototype.save=function(t){return a(this,void 0,void 0,function(){var e,n;return s(this,function(r){switch(r.label){case 0:if(t.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");return(e=Object.assign({method:this.DEFAULT_METHOD},this.requestInit)).body=new FormData,e.body.append("model.json",new Blob([JSON.stringify({modelTopology:t.modelTopology,weightsManifest:[{paths:["./model.weights.bin"],weights:t.weightSpecs}]})],{type:"application/json"}),"model.json"),null!=t.weightData&&e.body.append("model.weights.bin",new Blob([t.weightData],{type:"application/octet-stream"}),"model.weights.bin"),[4,fetch(this.path,e)];case 1:if(200===(n=r.sent()).status)return[2,{modelArtifactsInfo:Na(t),responses:[n]}];throw new Error("BrowserHTTPRequest.save() failed due to HTTP response status "+n.status+".")}})})},t.prototype.load=function(){return a(this,void 0,void 0,function(){var t,e,n,r,i,o,a,u,l,c,f;return s(this,function(s){switch(s.label){case 0:return[4,fetch(this.path,this.requestInit)];case 1:return[4,s.sent().json()];case 2:if(t=s.sent(),n=t.weightsManifest,null==(e=t.modelTopology)&&null==n)throw new Error("The JSON from HTTP path "+this.path+" contains neither model topology or manifest for weights.");if(null==n)return[3,4];for(r=[],a=0,u=o=t.weightsManifest;a<u.length;a++)r.push.apply(r,u[a].weights);return(l=this.path.substring(0,this.path.lastIndexOf("/"))).endsWith("/")||(l+="/"),c=[],o.forEach(function(t){t.paths.forEach(function(t){c.push(l+t)})}),f=Ia,[4,fs(c,this.requestInit)];case 3:i=f.apply(void 0,[s.sent()]),s.label=4;case 4:return[2,{modelTopology:e,weightSpecs:r,weightData:i}]}})})},t.URL_SCHEMES=["http://","https://"],t}(),ds=function(t){if(Ki.get("IS_BROWSER")){for(var e=0,n=hs.URL_SCHEMES;e<n.length;e++)if(t.startsWith(n[e]))return ps(t);return null}return null};function ps(t,e){return new hs(t,e)}La.registerSaveRouter(ds),La.registerLoadRouter(ds);var vs=Object.freeze({browserFiles:function(t){return new cs(t)},browserHTTPRequest:ps,concatenateArrayBuffers:Ia,copyModel:Ba.copyModel,decodeWeights:function(t,e){for(var n={},r=0,i=0,o=e;i<o.length;i++){var a=o[i],s=a.name,u=a.dtype,l=a.shape;if(null!=a.quantization)throw new Error("decodeWeights does not support quantization yet, but encountered weight '"+s+" with quantization.'");var c=b(l),f=void 0;if("float32"===u)f=Et.tensor(new Float32Array(t,r,c),l,"float32");else if("int32"===u)f=Et.tensor(new Int32Array(t,r,c),l,"int32");else{if("bool"!==u)throw new Error("Unsupported dtype in weight '"+s+"': "+u);f=Et.tensor(new Uint8Array(t,r,c),l,"bool")}n[s]=f,r+=c*ka[u]}return n},encodeWeights:function(t){return a(this,void 0,void 0,function(){var e,n,r,i;return s(this,function(o){switch(o.label){case 0:for(r in e=[],n=[],t){if("float32"!==(i=t[r]).dtype&&"int32"!==i.dtype&&"bool"!==i.dtype)throw new Error("Unsupported dtype in weight '"+r+"': "+i.dtype);e.push({name:r,shape:i.shape,dtype:i.dtype}),n.push(i.data())}return[4,Promise.all(n)];case 1:return[2,{data:function(t){if(null===t)throw new Error("Invalid input value: "+JSON.stringify(t));var e=0;t.forEach(function(t){if(t instanceof Float32Array||t instanceof Int32Array)e+=t.buffer.byteLength;else{if(!(t instanceof Uint8Array))throw new Error("Unsupported TypedArray subtype: "+t.constructor.name);e+=t.buffer.byteLength}});var n=new Uint8Array(e),r=0;return t.forEach(function(t){n.set(new Uint8Array(t.buffer),r),r+=t.buffer.byteLength}),n.buffer}(o.sent()),specs:e}]}})})},getLoadHandlers:La.getLoadHandlers,getModelArtifactsInfoForJSON:Na,getSaveHandlers:La.getSaveHandlers,listModels:Ba.listModels,loadWeights:function(t,e,n,r){return void 0===e&&(e=""),a(this,void 0,void 0,function(){var i,o,a,u,l,c,f,h,d,p;return s(this,function(s){switch(s.label){case 0:if(i=t.map(function(){return!1}),o={},a=null!=n?n.map(function(){return!1}):[],u=[],t.forEach(function(t,e){var r=0;t.weights.forEach(function(t){var s=ka["quantization"in t?t.quantization.dtype:t.dtype]*b(t.shape),l=function(){i[e]=!0,null==o[e]&&(o[e]=[]),o[e].push({manifestEntry:t,groupOffset:r,sizeBytes:s})};null!=n?n.forEach(function(e,n){e===t.name&&(l(),a[n]=!0)}):l(),u.push(t.name),r+=s})}),!a.every(function(t){return t}))throw l=n.filter(function(t,e){return!a[e]}),new Error("Could not find weights in manifest with names: "+l.join(", ")+". \nManifest JSON has weights with names: "+u.join(", ")+".");return c=i.reduce(function(t,e,n){return e&&t.push(n),t},[]),f=[],c.forEach(function(n){t[n].paths.forEach(function(t){var n=e+(e.endsWith("/")?"":"/")+t;f.push(n)})}),[4,fs(f,r)];case 1:return h=s.sent(),d={},p=0,c.forEach(function(e){for(var n=t[e].paths.length,r=0,i=0;i<n;i++)r+=h[p+i].byteLength;for(var a=new ArrayBuffer(r),s=new Uint8Array(a),u=0,l=0;l<n;l++){var c=new Uint8Array(h[p+l]);s.set(c,u),u+=c.byteLength}o[e].forEach(function(t){var e,n=a.slice(t.groupOffset,t.groupOffset+t.sizeBytes),r=t.manifestEntry.dtype;if("quantization"in t.manifestEntry){var i=t.manifestEntry.quantization;if("uint8"!==i.dtype&&"uint16"!==i.dtype)throw new Error("Weight "+t.manifestEntry.name+" has unknown quantization dtype "+i.dtype+".");var o="uint8"===i.dtype?new Uint8Array(n):new Uint16Array(n);if("float32"===r)e=Float32Array.from(o,function(t){return t*i.scale+i.min});else{if("int32"!==r)throw new Error("Weight "+t.manifestEntry.name+" has a dtype not supported by quantization: "+r);e=Int32Array.from(o,function(t){return Math.round(t*i.scale+i.min)})}}else if("float32"===r)e=new Float32Array(n);else{if("int32"!==r)throw new Error("Weight "+t.manifestEntry.name+" has unknown dtype "+r+".");e=new Int32Array(n)}var s=t.manifestEntry.name;if(null!=d[s])throw new Error("Duplicate weight with name "+s+". Please make sure weights names are unique in the manifest JSON.");d[s]=qr(e,t.manifestEntry.shape,t.manifestEntry.dtype)}),p+=n}),[2,d]}})})},moveModel:Ba.moveModel,registerLoadRouter:La.registerLoadRouter,registerSaveRouter:La.registerSaveRouter,removeModel:Ba.removeModel}),gs=function(){function t(){}return t.prototype.getClassName=function(){return this.constructor.className},t.fromConfig=function(t,e){return new t(e)},t}(),ms=function(){function t(){this.classNameMap={}}return t.getMap=function(){return null==t.instance&&(t.instance=new t),t.instance},t.register=function(t){this.getMap().classNameMap[t.className]=[t,t.fromConfig]},t}(),ys=Object.freeze({Serializable:gs,SerializationMap:ms}),bs=[{BACKEND:"test-webgl",WEBGL_RENDER_FLOAT32_ENABLED:!0,WEBGL_DOWNLOAD_FLOAT_ENABLED:!0,WEBGL_VERSION:1},{BACKEND:"test-webgl",WEBGL_RENDER_FLOAT32_ENABLED:!0,WEBGL_DOWNLOAD_FLOAT_ENABLED:!0,WEBGL_VERSION:2}],ws=[{BACKEND:"test-cpu"}],xs={},_s=bs.concat(ws),Cs=[xs].concat(_s);function Ss(t,e,n){if(null==n&&(n=Ki.get("TEST_EPSILON")),t instanceof wi||e instanceof wi){if(t instanceof wi&&e instanceof wi){if(t.dtype!==e.dtype)throw new Error("Arrays are of different type actual: "+t.dtype+" vs expected: "+e.dtype+".");if(!w(t.shape,e.shape))throw new Error("Arrays are of different shape actual: "+t.shape+" vs expected: "+e.shape+".")}}else{var r=t.constructor.name,i=e.constructor.name;if(r!==i)throw new Error("Arrays are of different type actual: "+r+" vs expected: "+i)}var o,a;if(o=t instanceof wi?t.dataSync():t,a=e instanceof wi?e.dataSync():e,o.length!==a.length)throw new Error("Arrays have different lengths actual: "+o.length+" vs expected: "+a.length+".\nActual:   "+o+".\nExpected: "+a+".");for(var s=0;s<a.length;++s){var u=o[s],l=a[s];if(!Ds(u,Number(l),n))throw new Error("Arrays differ: actual["+s+"] = "+u+", expected["+s+"] = "+l+".\nActual:   "+o+".\nExpected: "+a+".")}}function Ds(t,e,n){return!(!isNaN(t)||!isNaN(e))||!(isNaN(t)||isNaN(e)||Math.abs(t-e)>n)}var Ps=Object.freeze({WEBGL_ENVS:bs,CPU_ENVS:ws,CHROME_CPU_ENVS:[{BACKEND:"test-cpu",IS_CHROME:!0}],NATIVE_ENV:xs,BROWSER_ENVS:_s,ALL_ENVS:Cs,expectArraysClose:Ss,expectPromiseToFail:function(t,e){t().then(function(){return e.fail()},function(){return e()})},expectArraysEqual:function(t,e){return Ss(t,e,0)},expectNumbersClose:function(t,e,n){if(null==n&&(n=Ki.get("TEST_EPSILON")),!Ds(t,e,n))throw new Error("Numbers differ: actual === "+t+", expected === "+e)},expectValuesInRange:function(t,e,n){var r;r=t instanceof wi?t.dataSync():t;for(var i=0;i<r.length;i++)if(r[i]<e||r[i]>n)throw new Error("Value out of range:"+r[i]+" low: "+e+", high: "+n)},expectArrayBuffersEqual:function(t,e){expect(new Float32Array(t)).toEqual(new Float32Array(e))}}),As="0.11.9",Ts=Object.freeze({gpgpu_util:ma,webgl_util:Jo,MathBackendWebGL:Ta,GPGPUContext:ya}),Es=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.minimize=function(t,e,n){void 0===e&&(e=!1);var r=this.computeGradients(t,n),i=r.value,o=r.grads;return this.applyGradients(o),Object.keys(o).forEach(function(t){return o[t].dispose()}),e?i:(i.dispose(),null)},e.prototype.computeGradients=function(t,e){return Ni(t,e)},o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]}],e.prototype,"minimize",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]}],e)}(gs),Os=1e-8,ks=1e-4;function Rs(){return Ki.get("WEBGL_RENDER_FLOAT32_ENABLED")?Os:ks}var Is=function(t){function e(e,n,r){void 0===r&&(r=null);var i=t.call(this)||this;return i.learningRate=e,i.rho=n,i.epsilon=r,i.accumulatedGrads={},i.accumulatedUpdates={},i.c=Ti(Ur(-e)),i.rhoScalar=Ti(Ur(n)),i.oneMinusRho=Ti(Ur(1-n)),null===r&&(r=Rs()),i.epsilonScalar=Ti(Ur(r)),i}return i(e,t),e.prototype.applyGradients=function(t){var e=this,n=function(n){var i=Ki.engine.registeredVariables[n];null==r.accumulatedGrads[n]&&Ai(function(){e.accumulatedGrads[n]=Er(i).variable(!1)}),null==r.accumulatedUpdates[n]&&Ai(function(){e.accumulatedUpdates[n]=Er(i).variable(!1)});var o=t[n],a=r.accumulatedGrads[n],s=r.accumulatedUpdates[n];Ai(function(){var t=e.rhoScalar.mul(a).add(e.oneMinusRho.mul(o.square())),r=s.add(e.epsilonScalar).sqrt().div(a.add(e.epsilonScalar).sqrt()).mul(o),u=e.rhoScalar.mul(s).add(e.oneMinusRho.mul(r.square()));e.accumulatedGrads[n].assign(t),e.accumulatedUpdates[n].assign(u);var l=e.c.mul(r).add(i);i.assign(l)})},r=this;for(var i in t)n(i)},e.prototype.dispose=function(){var t=this;this.c.dispose(),this.epsilonScalar.dispose(),this.rhoScalar.dispose(),this.oneMinusRho.dispose(),null!=this.accumulatedUpdates&&(Object.keys(this.accumulatedUpdates).forEach(function(e){return t.accumulatedUpdates[e].dispose()}),Object.keys(this.accumulatedGrads).forEach(function(e){return t.accumulatedGrads[e].dispose()}))},e.prototype.getConfig=function(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}},e.fromConfig=function(t,e){return new t(e.learningRate,e.rho,e.epsilon)},e.className="AdadeltaOptimizer",e}(Es);ms.register(Is);var Ms=function(t){function e(e,n){void 0===n&&(n=.1);var r=t.call(this)||this;r.learningRate=e,r.initialAccumulatorValue=n,r.accumulatedGrads={},r.c=Ti(Ur(-e));var i=Rs();return r.epsilon=Ti(Ur(i)),r}return i(e,t),e.prototype.applyGradients=function(t){var e=this,n=function(n){var i=Ki.engine.registeredVariables[n];null==r.accumulatedGrads[n]&&Ai(function(){e.accumulatedGrads[n]=Xr(i.shape,e.initialAccumulatorValue).variable(!1)});var o=t[n],a=r.accumulatedGrads[n];Ai(function(){var t=a.add(o.square());e.accumulatedGrads[n].assign(t);var r=e.c.mul(o.div(t.add(e.epsilon).sqrt())).add(i);i.assign(r)})},r=this;for(var i in t)n(i)},e.prototype.dispose=function(){var t=this;this.epsilon.dispose(),this.c.dispose(),null!=this.accumulatedGrads&&Object.keys(this.accumulatedGrads).forEach(function(e){return t.accumulatedGrads[e].dispose()})},e.prototype.getConfig=function(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}},e.fromConfig=function(t,e){return new t(e.learningRate,e.initialAccumulatorValue)},e.className="AdagradOptimizer",e}(Es);ms.register(Ms);var Ns=function(t){function e(e,n,r,i){void 0===i&&(i=null);var o=t.call(this)||this;return o.learningRate=e,o.beta1=n,o.beta2=r,o.epsilon=i,o.accumulatedFirstMoment={},o.accumulatedSecondMoment={},o.c=Ti(Ur(-e)),o.beta1Scalar=Ti(Ur(n)),o.beta2Scalar=Ti(Ur(r)),Ai(function(){o.accBeta1=Ur(n).variable(),o.accBeta2=Ur(r).variable()}),o.oneMinusBeta1=Ti(Ur(1-n)),o.oneMinusBeta2=Ti(Ur(1-r)),o.one=Ti(Ur(1)),null===i&&(i=Rs()),o.epsScalar=Ti(Ur(i)),o}return i(e,t),e.prototype.applyGradients=function(t){var e=this;Ai(function(){var n=e.one.sub(e.accBeta1),r=e.one.sub(e.accBeta2);for(var i in t){var o=Ki.engine.registeredVariables[i];if(null==e.accumulatedFirstMoment[i]){var a=!1;e.accumulatedFirstMoment[i]=Er(o).variable(a)}null==e.accumulatedSecondMoment[i]&&(a=!1,e.accumulatedSecondMoment[i]=Er(o).variable(a));var s=t[i],u=e.accumulatedSecondMoment[i],l=e.beta1Scalar.mul(e.accumulatedFirstMoment[i]).add(e.oneMinusBeta1.mul(s)),c=e.beta2Scalar.mul(u).add(e.oneMinusBeta2.mul(s.square())),f=l.div(n),h=c.div(r);e.accumulatedFirstMoment[i].assign(l),e.accumulatedSecondMoment[i].assign(c);var d=e.c.mul(f.div(e.epsScalar.add(h.sqrt()))).add(o);o.assign(d)}e.accBeta1.assign(e.accBeta1.mul(e.beta1Scalar)),e.accBeta2.assign(e.accBeta2.mul(e.beta2Scalar))})},e.prototype.dispose=function(){var t=this;this.c.dispose(),this.epsScalar.dispose(),this.beta1Scalar.dispose(),this.beta2Scalar.dispose(),this.accBeta1.dispose(),this.accBeta2.dispose(),this.oneMinusBeta1.dispose(),this.oneMinusBeta2.dispose(),this.one.dispose(),null!=this.accumulatedFirstMoment&&Object.keys(this.accumulatedFirstMoment).forEach(function(e){return t.accumulatedFirstMoment[e].dispose()}),null!=this.accumulatedSecondMoment&&Object.keys(this.accumulatedSecondMoment).forEach(function(e){return t.accumulatedSecondMoment[e].dispose()})},e.prototype.getConfig=function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}},e.fromConfig=function(t,e){return new t(e.learningRate,e.beta1,e.beta2,e.epsilon)},e.className="AdamOptimizer",e}(Es);ms.register(Ns);var Ls=function(t){function e(e,n,r,i,o){void 0===i&&(i=null),void 0===o&&(o=0);var a=t.call(this)||this;return a.learningRate=e,a.beta1=n,a.beta2=r,a.epsilon=i,a.decay=o,a.accumulatedFirstMoment={},a.accumulatedWeightedInfNorm={},a.c=Ti(Ur(-e)),a.beta1Scalar=Ti(Ur(n)),a.beta2Scalar=Ti(Ur(r)),a.decayScalar=Ti(Ur(o)),Ai(function(){a.iteration=Ur(0).variable(),a.accBeta1=Ur(n).variable()}),a.oneMinusBeta1=Ti(Ur(1-n)),a.one=Ti(Ur(1)),null===i&&(i=Rs()),a.epsScalar=Ti(Ur(i)),a}return i(e,t),e.prototype.applyGradients=function(t){var e=this;Ai(function(){var n=e.one.sub(e.accBeta1),r=e.c.div(e.one.add(e.decayScalar.mul(e.iteration)));for(var i in t){var o=Ki.engine.registeredVariables[i];if(null==e.accumulatedFirstMoment[i]){var a=!1;e.accumulatedFirstMoment[i]=Er(o).variable(a)}null==e.accumulatedWeightedInfNorm[i]&&(a=!1,e.accumulatedWeightedInfNorm[i]=Er(o).variable(a));var s=t[i],u=e.accumulatedWeightedInfNorm[i],l=e.beta1Scalar.mul(e.accumulatedFirstMoment[i]).add(e.oneMinusBeta1.mul(s)),c=e.beta2Scalar.mul(u),f=s.abs(),h=c.maximum(f);e.accumulatedFirstMoment[i].assign(l),e.accumulatedWeightedInfNorm[i].assign(h);var d=r.div(n).mul(l.div(e.epsScalar.add(h))).add(o);o.assign(d)}e.iteration.assign(e.iteration.add(e.one)),e.accBeta1.assign(e.accBeta1.mul(e.beta1Scalar))})},e.prototype.dispose=function(){var t=this;this.c.dispose(),this.epsScalar.dispose(),this.accBeta1.dispose(),this.beta1Scalar.dispose(),this.beta2Scalar.dispose(),this.oneMinusBeta1.dispose(),this.decayScalar.dispose(),this.iteration.dispose(),this.one.dispose(),null!=this.accumulatedFirstMoment&&Object.keys(this.accumulatedFirstMoment).forEach(function(e){return t.accumulatedFirstMoment[e].dispose()}),null!=this.accumulatedWeightedInfNorm&&Object.keys(this.accumulatedWeightedInfNorm).forEach(function(e){return t.accumulatedWeightedInfNorm[e].dispose()})},e.prototype.getConfig=function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}},e.fromConfig=function(t,e){return new t(e.learningRate,e.beta1,e.beta2,e.epsilon,e.decay)},e.className="AdamaxOptimizer",e}(Es);ms.register(Ls);var Fs=function(t){function e(e){var n=t.call(this)||this;return n.learningRate=e,n.setLearningRate(e),n}return i(e,t),e.prototype.applyGradients=function(t){var e=this;Object.keys(t).forEach(function(n){var r=t[n],i=Ki.engine.registeredVariables[n];Ai(function(){var t=e.c.mul(r).add(i);i.assign(t)})})},e.prototype.setLearningRate=function(t){this.learningRate=t,null!=this.c&&this.c.dispose(),this.c=Ti(Ur(-t))},e.prototype.dispose=function(){this.c.dispose()},e.prototype.getConfig=function(){return{learningRate:this.learningRate}},e.fromConfig=function(t,e){return new t(e.learningRate)},e.className="SGDOptimizer",e}(Es);ms.register(Fs);var js=function(t){function e(e,n,r){void 0===r&&(r=!1);var i=t.call(this,e)||this;return i.learningRate=e,i.momentum=n,i.useNesterov=r,i.m=Ur(i.momentum),i.accumulations={},i}return i(e,t),e.prototype.applyGradients=function(t){var e=this,n=function(n){var i=Ki.engine.registeredVariables[n];null==r.accumulations[n]&&Ai(function(){e.accumulations[n]=Er(i).variable(!1)});var o=r.accumulations[n],a=t[n];Ai(function(){var t,r=e.m.mul(o).add(a);t=e.useNesterov?e.c.mul(a.add(r.mul(e.m))).add(i):e.c.mul(r).add(i),e.accumulations[n].assign(r),i.assign(t)})},r=this;for(var i in t)n(i)},e.prototype.dispose=function(){if(t.prototype.dispose.call(this),this.m.dispose(),null!=this.accumulations)for(var e in this.accumulations)this.accumulations[e].dispose()},e.prototype.setMomentum=function(t){this.momentum=t},e.prototype.getConfig=function(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}},e.fromConfig=function(t,e){return new t(e.learningRate,e.momentum,e.useNesterov)},e.className="MomentumOptimizer",e}(Fs);ms.register(js);var Vs=function(t){function e(e,n,r,i,o){void 0===n&&(n=.9),void 0===r&&(r=0),void 0===i&&(i=null),void 0===o&&(o=!1);var a=t.call(this)||this;return a.learningRate=e,a.decay=n,a.momentum=r,a.epsilon=i,a.accumulatedMeanSquares={},a.accumulatedMeanGrads={},a.accumulatedMoments={},a.c=Ti(Ur(e)),a.decayScalar=Ti(Ur(n)),a.momentumScalar=Ti(Ur(r)),a.oneMinusDecay=Ti(Ur(1-n)),a.centered=o,null===i&&(i=Rs()),a.epsilonScalar=Ti(Ur(i)),a}return i(e,t),e.prototype.applyGradients=function(t){var e=this,n=function(n){var i=Ki.engine.registeredVariables[n];null==r.accumulatedMeanSquares[n]&&Ai(function(){e.accumulatedMeanSquares[n]=Er(i).variable(!1)}),null==r.accumulatedMeanGrads[n]&&r.centered&&Ai(function(){e.accumulatedMeanGrads[n]=Er(i).variable(!1)}),null==r.accumulatedMoments[n]&&Ai(function(){e.accumulatedMoments[n]=Er(i).variable(!1)});var o=r.accumulatedMeanSquares[n],a=r.accumulatedMeanGrads[n],s=r.accumulatedMoments[n],u=t[n];Ai(function(){var t=e.decayScalar.mul(o).add(e.oneMinusDecay.mul(u.square()));if(e.centered){var r=e.decayScalar.mul(a).add(e.oneMinusDecay.mul(u)),l=e.momentumScalar.mul(s).add(e.c.mul(u).div(t.sub(r.square().add(e.epsilonScalar)).sqrt()));e.accumulatedMeanSquares[n].assign(t),e.accumulatedMeanGrads[n].assign(r),e.accumulatedMoments[n].assign(l);var c=i.sub(l);i.assign(c)}else{var f=e.decayScalar.mul(o).add(e.oneMinusDecay.mul(u.square()));l=e.momentumScalar.mul(s).add(e.c.mul(u).div(f.add(e.epsilonScalar).sqrt())),e.accumulatedMeanSquares[n].assign(f),e.accumulatedMoments[n].assign(l),c=i.sub(l),i.assign(c)}})},r=this;for(var i in t)n(i)},e.prototype.dispose=function(){var t=this;this.c.dispose(),this.epsilonScalar.dispose(),this.decayScalar.dispose(),this.momentumScalar.dispose(),this.oneMinusDecay.dispose(),null!=this.accumulatedMeanSquares&&Object.keys(this.accumulatedMeanSquares).forEach(function(e){return t.accumulatedMeanSquares[e].dispose()}),null!=this.accumulatedMeanGrads&&this.centered&&Object.keys(this.accumulatedMeanGrads).forEach(function(e){return t.accumulatedMeanGrads[e].dispose()}),null!=this.accumulatedMoments&&Object.keys(this.accumulatedMoments).forEach(function(e){return t.accumulatedMoments[e].dispose()})},e.prototype.getConfig=function(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}},e.fromConfig=function(t,e){return new t(e.learningRate,e.decay,e.momentum,e.epsilon,e.centered)},e.className="RMSPropOptimizer",e}(Es);ms.register(Vs);var zs=function(){function t(){}return t.sgd=function(t){return new Fs(t)},t.momentum=function(t,e,n){return void 0===n&&(n=!1),new js(t,e,n)},t.rmsprop=function(t,e,n,r,i){return void 0===e&&(e=.9),void 0===n&&(n=0),void 0===r&&(r=null),void 0===i&&(i=!1),new Vs(t,e,n,r,i)},t.adam=function(t,e,n,r){return void 0===t&&(t=.001),void 0===e&&(e=.9),void 0===n&&(n=.999),void 0===r&&(r=null),new Ns(t,e,n,r)},t.adadelta=function(t,e,n){return void 0===t&&(t=.001),void 0===e&&(e=.95),void 0===n&&(n=null),new Is(t,e,n)},t.adamax=function(t,e,n,r,i){return void 0===t&&(t=.002),void 0===e&&(e=.9),void 0===n&&(n=.999),void 0===r&&(r=null),void 0===i&&(i=0),new Ls(t,e,n,r,i)},t.adagrad=function(t,e){return void 0===e&&(e=.1),new Ms(t,e)},o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]}],t,"sgd",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]}],t,"momentum",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]}],t,"rmsprop",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]}],t,"adam",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]}],t,"adadelta",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]}],t,"adamax",null),o([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]}],t,"adagrad",null),t}(),Bs={sgd:zs.sgd,momentum:zs.momentum,adadelta:zs.adadelta,adagrad:zs.adagrad,rmsprop:zs.rmsprop,adamax:zs.adamax,adam:zs.adam},Ws=Ui.setBackend,Hs=Ui.getBackend,Xs=Ui.disposeVariables,qs=Ui.memory,Us=Oa.nextFrame},lZTZ:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.extractWeightsFactory=function(t){var e=t;return{extractWeights:function(t){var n=e.slice(0,t);return e=e.slice(t),n},getRemainingWeights:function(){return e}}}},lnjT:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.disposeUnusedWeightTensors=function(t,e){Object.keys(t).forEach(function(n){e.some(function(t){return t.originalPath===n})||t[n].dispose()})}},luzI:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("mrSG"),i=n("t8m6"),o=n("9sgn");function a(t){return function(e,n,o){return r.__awaiter(this,void 0,void 0,function(){var a,s,u;return r.__generator(this,function(r){switch(r.label){case 0:return[4,i.extractFaceTensors(e,n)];case 1:return a=r.sent(),o?[4,t.computeFaceDescriptor(a)]:[3,3];case 2:return u=r.sent(),[3,5];case 3:return[4,Promise.all(a.map(function(e){return t.computeFaceDescriptor(e)}))];case 4:u=r.sent(),r.label=5;case 5:return s=u,a.forEach(function(t){return t.dispose()}),[2,s]}})})}}e.allFacesFactory=function(t,e,n){var s=a(n);return function(n,a,u){return void 0===a&&(a=.8),void 0===u&&(u=!1),r.__awaiter(this,void 0,void 0,function(){var l,c,f,h,d,p;return r.__generator(this,function(r){switch(r.label){case 0:return[4,t.locateFaces(n,a)];case 1:return l=r.sent(),[4,i.extractFaceTensors(n,l)];case 2:return c=r.sent(),u?[4,e.detectLandmarks(c)]:[3,4];case 3:return h=r.sent(),[3,6];case 4:return[4,Promise.all(c.map(function(t){return e.detectLandmarks(t)}))];case 5:h=r.sent(),r.label=6;case 6:return f=h,c.forEach(function(t){return t.dispose()}),d=f.map(function(t,e){return t.align(l[e].getBox())}),[4,s(n,d,u)];case 7:return p=r.sent(),[2,l.map(function(t,e){return new o.FullFaceDescription(t,f[e].shiftByPoint(t.getBox()),p[e])})]}})})}},e.allFacesMtcnnFactory=function(t,e){var n=a(e);return function(e,i,a){return void 0===i&&(i={}),void 0===a&&(a=!1),r.__awaiter(this,void 0,void 0,function(){var s,u,l;return r.__generator(this,function(r){switch(r.label){case 0:return[4,t.forward(e,i)];case 1:return s=r.sent(),u=s.map(function(t){return t.faceLandmarks.align()}),[4,n(e,u,a)];case 2:return l=r.sent(),[2,s.map(function(t,e){return new o.FullFaceDescription(t.faceDetection,t.faceLandmarks,l[e])})]}})})}}},mChF:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},"mU/a":function(t,e,n){"use strict";var r=n("mrSG").__decorate,i=n("mrSG").__metadata;Object.defineProperty(e,"__esModule",{value:!0});var o=n("CcnG"),a=n("Ip0R"),s=n("gIcY"),u=n("nciF"),l=n("7LN8"),c=function(){function t(){this.pageLinkSize=5,this.onPageChange=new o.EventEmitter,this.alwaysShow=!0,this._totalRecords=0,this._first=0,this._rows=0}return t.prototype.ngOnInit=function(){this.updatePaginatorState()},Object.defineProperty(t.prototype,"totalRecords",{get:function(){return this._totalRecords},set:function(t){this._totalRecords=t,this.updatePageLinks()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"first",{get:function(){return this._first},set:function(t){this._first=t,this.updatePageLinks()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rows",{get:function(){return this._rows},set:function(t){this._rows=t,this.updatePageLinks()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rowsPerPageOptions",{get:function(){return this._rowsPerPageOptions},set:function(t){if(this._rowsPerPageOptions=t,this._rowsPerPageOptions){this.rowsPerPageItems=[];for(var e=0,n=this._rowsPerPageOptions;e<n.length;e++){var r=n[e];this.rowsPerPageItems.push({label:String(r),value:r})}}},enumerable:!0,configurable:!0}),t.prototype.isFirstPage=function(){return 0===this.getPage()},t.prototype.isLastPage=function(){return this.getPage()===this.getPageCount()-1},t.prototype.getPageCount=function(){return Math.ceil(this.totalRecords/this.rows)||1},t.prototype.calculatePageLinkBoundaries=function(){var t=this.getPageCount(),e=Math.min(this.pageLinkSize,t),n=Math.max(0,Math.ceil(this.getPage()-e/2)),r=Math.min(t-1,n+e-1);return[n=Math.max(0,n-(this.pageLinkSize-(r-n+1))),r]},t.prototype.updatePageLinks=function(){this.pageLinks=[];for(var t=this.calculatePageLinkBoundaries(),e=t[1],n=t[0];n<=e;n++)this.pageLinks.push(n+1)},t.prototype.changePage=function(t){var e=this.getPageCount();if(t>=0&&t<e){this.first=this.rows*t;var n={page:t,first:this.first,rows:this.rows,pageCount:e};this.updatePageLinks(),this.onPageChange.emit(n),this.updatePaginatorState()}},t.prototype.getPage=function(){return Math.floor(this.first/this.rows)},t.prototype.changePageToFirst=function(t){this.isFirstPage()||this.changePage(0),t.preventDefault()},t.prototype.changePageToPrev=function(t){this.changePage(this.getPage()-1),t.preventDefault()},t.prototype.changePageToNext=function(t){this.changePage(this.getPage()+1),t.preventDefault()},t.prototype.changePageToLast=function(t){this.isLastPage()||this.changePage(this.getPageCount()-1),t.preventDefault()},t.prototype.onPageLinkClick=function(t,e){this.changePage(e),t.preventDefault()},t.prototype.onRppChange=function(t){this.changePage(this.getPage())},t.prototype.updatePaginatorState=function(){this.paginatorState={page:this.getPage(),rows:this.rows,first:this.first,totalRecords:this.totalRecords}},r([o.Input(),i("design:type",Number)],t.prototype,"pageLinkSize",void 0),r([o.Output(),i("design:type",o.EventEmitter)],t.prototype,"onPageChange",void 0),r([o.Input(),i("design:type",Object)],t.prototype,"style",void 0),r([o.Input(),i("design:type",String)],t.prototype,"styleClass",void 0),r([o.Input(),i("design:type",Boolean)],t.prototype,"alwaysShow",void 0),r([o.Input(),i("design:type",o.TemplateRef)],t.prototype,"templateLeft",void 0),r([o.Input(),i("design:type",o.TemplateRef)],t.prototype,"templateRight",void 0),r([o.Input(),i("design:type",Object)],t.prototype,"dropdownAppendTo",void 0),r([o.Input(),i("design:type",Number),i("design:paramtypes",[Number])],t.prototype,"totalRecords",null),r([o.Input(),i("design:type",Number),i("design:paramtypes",[Number])],t.prototype,"first",null),r([o.Input(),i("design:type",Number),i("design:paramtypes",[Number])],t.prototype,"rows",null),r([o.Input(),i("design:type",Array),i("design:paramtypes",[Array])],t.prototype,"rowsPerPageOptions",null),r([o.Component({selector:"p-paginator",template:'\n        <div [class]="styleClass" [ngStyle]="style" [ngClass]="\'ui-paginator ui-widget ui-widget-header ui-unselectable-text ui-helper-clearfix\'"\n            *ngIf="alwaysShow ? true : (pageLinks && pageLinks.length > 1)">\n            <div class="ui-paginator-left-content" *ngIf="templateLeft">\n                <ng-container *ngTemplateOutlet="templateLeft; context: {$implicit: paginatorState}"></ng-container>\n            </div>\n            <a href="#" class="ui-paginator-first ui-paginator-element ui-state-default ui-corner-all"\n                    (click)="changePageToFirst($event)" [ngClass]="{\'ui-state-disabled\':isFirstPage()}" [tabindex]="isFirstPage() ? -1 : null">\n                <span class="ui-paginator-icon pi pi-step-backward"></span>\n            </a>\n            <a href="#" class="ui-paginator-prev ui-paginator-element ui-state-default ui-corner-all"\n                    (click)="changePageToPrev($event)" [ngClass]="{\'ui-state-disabled\':isFirstPage()}" [tabindex]="isFirstPage() ? -1 : null">\n                <span class="ui-paginator-icon pi pi-caret-left"></span>\n            </a>\n            <span class="ui-paginator-pages">\n                <a href="#" *ngFor="let pageLink of pageLinks" class="ui-paginator-page ui-paginator-element ui-state-default ui-corner-all"\n                    (click)="onPageLinkClick($event, pageLink - 1)" [ngClass]="{\'ui-state-active\': (pageLink-1 == getPage())}">{{pageLink}}</a>\n            </span>\n            <a href="#" class="ui-paginator-next ui-paginator-element ui-state-default ui-corner-all"\n                    (click)="changePageToNext($event)" [ngClass]="{\'ui-state-disabled\':isLastPage()}" [tabindex]="isLastPage() ? -1 : null">\n                <span class="ui-paginator-icon pi pi-caret-right"></span>\n            </a>\n            <a href="#" class="ui-paginator-last ui-paginator-element ui-state-default ui-corner-all"\n                    (click)="changePageToLast($event)" [ngClass]="{\'ui-state-disabled\':isLastPage()}" [tabindex]="isLastPage() ? -1 : null">\n                <span class="ui-paginator-icon pi pi-step-forward"></span>\n            </a>\n            <p-dropdown [options]="rowsPerPageItems" [(ngModel)]="rows" *ngIf="rowsPerPageOptions" \n                (onChange)="onRppChange($event)" [lazy]="false" [autoWidth]="false" [appendTo]="dropdownAppendTo"></p-dropdown>\n            <div class="ui-paginator-right-content" *ngIf="templateRight">\n                <ng-container *ngTemplateOutlet="templateRight; context: {$implicit: paginatorState}"></ng-container>\n            </div>\n        </div>\n    '})],t)}();e.Paginator=c,e.PaginatorModule=function(){return r([o.NgModule({imports:[a.CommonModule,u.DropdownModule,s.FormsModule,l.SharedModule],exports:[c,u.DropdownModule,s.FormsModule,l.SharedModule],declarations:[c]})],function(){})}()},maNC:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("mrSG"),i=n("3Lul"),o=n("nFNn"),a=n("FLgm"),s=n("kiUJ");e.toNetInput=function(t,e,n){return void 0===e&&(e=!1),void 0===n&&(n=!1),r.__awaiter(this,void 0,void 0,function(){var u,l,c,f;return r.__generator(this,function(r){switch(r.label){case 0:if(t instanceof a.NetInput)return[2,t];if(u=function(t){return e?t.managed():t},o.isTensor4D(t))return[2,u(new a.NetInput(t))];if(!(l=Array.isArray(t)?t:[t]).length)throw new Error("toNetInput - empty array passed as input");return c=function(e){return Array.isArray(t)?" at input index "+e+":":""},(f=l.map(s.resolveInput)).forEach(function(t,e){if(!i.isMediaElement(t)&&!o.isTensor3D(t)&&!o.isTensor4D(t)){if("string"==typeof l[e])throw new Error("toNetInput -"+c(e)+" string passed, but could not resolve HTMLElement for element id "+l[e]);throw new Error("toNetInput -"+c(e)+" expected media to be of type HTMLImageElement | HTMLVideoElement | HTMLCanvasElement | tf.Tensor3D, or to be an element id")}if(o.isTensor4D(t)){var n=t.shape[0];if(1!==n)throw new Error("toNetInput -"+c(e)+" tf.Tensor4D with batchSize "+n+" passed, but not supported in input array")}}),[4,Promise.all(f.map(function(t){return i.isMediaElement(t)&&s.awaitMediaLoaded(t)}))];case 1:return r.sent(),[2,u(new a.NetInput(f,Array.isArray(t),n))]}})})}},mrSG:function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",function(){return i}),n.d(e,"__assign",function(){return o}),n.d(e,"__rest",function(){return a}),n.d(e,"__decorate",function(){return s}),n.d(e,"__param",function(){return u}),n.d(e,"__metadata",function(){return l}),n.d(e,"__awaiter",function(){return c}),n.d(e,"__generator",function(){return f}),n.d(e,"__exportStar",function(){return h}),n.d(e,"__values",function(){return d}),n.d(e,"__read",function(){return p}),n.d(e,"__spread",function(){return v}),n.d(e,"__await",function(){return g}),n.d(e,"__asyncGenerator",function(){return m}),n.d(e,"__asyncDelegator",function(){return y}),n.d(e,"__asyncValues",function(){return b}),n.d(e,"__makeTemplateObject",function(){return w}),n.d(e,"__importStar",function(){return x}),n.d(e,"__importDefault",function(){return _});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function a(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&(n[r[i]]=t[r[i]])}return n}function s(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}function u(t,e){return function(n,r){e(n,r,t)}}function l(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function c(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})}function f(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function h(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function d(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function p(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function v(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(p(arguments[e]));return t}function g(t){return this instanceof g?(this.v=t,this):new g(t)}function m(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(t){i[t]&&(r[t]=function(e){return new Promise(function(n,r){o.push([t,e,n,r])>1||s(t,e)})})}function s(t,e){try{(n=i[t](e)).value instanceof g?Promise.resolve(n.value.v).then(u,l):c(o[0][2],n)}catch(t){c(o[0][3],t)}var n}function u(t){s("next",t)}function l(t){s("throw",t)}function c(t,e){t(e),o.shift(),o.length&&s(o[0][0],o[0][1])}}function y(t){var e,n;return e={},r("next"),r("throw",function(t){throw t}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:g(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function b(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=d(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise(function(r,i){!function(t,e,n,r){Promise.resolve(r).then(function(e){t({value:e,done:n})},e)}(r,i,(e=t[n](e)).done,e.value)})}}}function w(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function x(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function _(t){return t&&t.__esModule?t:{default:t}}},nFNn:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("lT9W");function i(t,e){return t instanceof r.Tensor&&t.shape.length===e}e.isTensor=i,e.isTensor1D=function(t){return i(t,1)},e.isTensor2D=function(t){return i(t,2)},e.isTensor3D=function(t){return i(t,3)},e.isTensor4D=function(t){return i(t,4)}},nciF:function(t,e,n){"use strict";var r=n("mrSG").__decorate,i=n("mrSG").__metadata;Object.defineProperty(e,"__esModule",{value:!0});var o=n("CcnG"),a=n("ihYY"),s=n("Ip0R"),u=n("7LN8"),l=n("sdDj"),c=n("P3jN"),f=n("gIcY");e.DROPDOWN_VALUE_ACCESSOR={provide:f.NG_VALUE_ACCESSOR,useExisting:o.forwardRef(function(){return h}),multi:!0};var h=function(){function t(t,e,n,r,i,a){this.el=t,this.domHandler=e,this.renderer=n,this.cd=r,this.objectUtils=i,this.zone=a,this.scrollHeight="200px",this.autoWidth=!0,this.filterBy="label",this.lazy=!0,this.resetFilterOnHide=!1,this.dropdownIcon="pi pi-caret-down",this.autoDisplayFirst=!0,this.emptyFilterMessage="No results found",this.onChange=new o.EventEmitter,this.onFocus=new o.EventEmitter,this.onBlur=new o.EventEmitter,this.onClick=new o.EventEmitter,this.onModelChange=function(){},this.onModelTouched=function(){},this.panelVisible=!1}return t.prototype.ngAfterContentInit=function(){var t=this;this.templates.forEach(function(e){switch(e.getType()){case"item":t.itemTemplate=e.template;break;case"selectedItem":t.selectedItemTemplate=e.template;break;case"group":t.groupTemplate=e.template;break;default:t.itemTemplate=e.template}})},t.prototype.ngOnInit=function(){this.optionsToDisplay=this.options,this.updateSelectedOption(null)},Object.defineProperty(t.prototype,"options",{get:function(){return this._options},set:function(t){var e=this.optionLabel?this.objectUtils.generateSelectItems(t,this.optionLabel):t;this._options=e,this.optionsToDisplay=this._options,this.updateSelectedOption(this.value),this.optionsChanged=!0,this.filterValue&&this.filterValue.length&&this.activateFilter()},enumerable:!0,configurable:!0}),t.prototype.ngAfterViewInit=function(){this.container=this.containerViewChild.nativeElement,this.panel=this.panelViewChild.nativeElement,this.itemsWrapper=this.itemsWrapperViewChild.nativeElement,this.editable&&this.updateEditableLabel(),this.updateDimensions(),this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.panel):this.domHandler.appendChild(this.panel,this.appendTo))},Object.defineProperty(t.prototype,"label",{get:function(){return this.selectedOption?this.selectedOption.label:null},enumerable:!0,configurable:!0}),t.prototype.updateEditableLabel=function(){this.editableInputViewChild&&this.editableInputViewChild.nativeElement&&(this.editableInputViewChild.nativeElement.value=this.selectedOption?this.selectedOption.label:this.value||"")},t.prototype.onItemClick=function(t,e){this.itemClick=!0,this.selectItem(t,e),this.focusViewChild.nativeElement.focus(),this.filled=!0,this.hide()},t.prototype.selectItem=function(t,e){this.selectedOption!=e&&(this.selectedOption=e,this.value=e.value,this.onModelChange(this.value),this.updateEditableLabel(),this.onChange.emit({originalEvent:t,value:this.value}))},t.prototype.ngAfterViewChecked=function(){var t=this;this.autoWidth&&!this.dimensionsUpdated&&this.updateDimensions(),this.shown&&(this.onShow(),this.shown=!1),this.optionsChanged&&this.panelVisible&&(this.optionsChanged=!1,this.zone.runOutsideAngular(function(){setTimeout(function(){t.updateDimensions(),t.alignPanel()},1)})),this.selectedOptionUpdated&&this.itemsWrapper&&(this.updateDimensions(),this.domHandler.findSingle(this.panel,"li.ui-state-highlight")&&this.domHandler.scrollInView(this.itemsWrapper,this.domHandler.findSingle(this.panel,"li.ui-state-highlight")),this.selectedOptionUpdated=!1)},t.prototype.writeValue=function(t){this.filter&&this.resetFilter(),this.value=t,this.updateSelectedOption(t),this.updateEditableLabel(),this.updateFilledState(),this.cd.markForCheck()},t.prototype.resetFilter=function(){this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value=""),this.optionsToDisplay=this.options},t.prototype.updateSelectedOption=function(t){this.selectedOption=this.findOption(t,this.optionsToDisplay),this.autoDisplayFirst&&!this.placeholder&&!this.selectedOption&&this.optionsToDisplay&&this.optionsToDisplay.length&&!this.editable&&(this.selectedOption=this.optionsToDisplay[0]),this.selectedOptionUpdated=!0},t.prototype.registerOnChange=function(t){this.onModelChange=t},t.prototype.registerOnTouched=function(t){this.onModelTouched=t},t.prototype.setDisabledState=function(t){this.disabled=t},t.prototype.updateDimensions=function(){if(this.autoWidth&&this.el.nativeElement&&this.el.nativeElement.children[0]&&this.el.nativeElement.offsetParent){var t=this.domHandler.findSingle(this.el.nativeElement,"select");(t&&!this.style||this.style&&!this.style.width&&!this.style["min-width"])&&(this.el.nativeElement.children[0].style.width=t.offsetWidth+30+"px"),this.dimensionsUpdated=!0}},t.prototype.onMouseclick=function(t){var e=this;this.disabled||this.readonly||(this.onClick.emit(t),this.selfClick=!0,this.clearClick=this.domHandler.hasClass(t.target,"ui-dropdown-clear-icon"),this.itemClick||this.clearClick||(this.focusViewChild.nativeElement.focus(),this.panelVisible?this.hide():(this.show(),void 0!=this.filterViewChild&&setTimeout(function(){e.filterViewChild.nativeElement.focus()},200))))},t.prototype.onEditableInputClick=function(t){this.itemClick=!0,this.bindDocumentClickListener()},t.prototype.onEditableInputFocus=function(t){this.focused=!0,this.hide(),this.onFocus.emit(t)},t.prototype.onEditableInputChange=function(t){this.value=t.target.value,this.updateSelectedOption(this.value),this.onModelChange(this.value),this.onChange.emit({originalEvent:t,value:this.value})},t.prototype.onShow=function(){if(this.bindDocumentClickListener(),this.options&&this.options.length){this.alignPanel();var t=this.domHandler.findSingle(this.itemsWrapper,".ui-dropdown-item.ui-state-highlight");t&&this.domHandler.scrollInView(this.itemsWrapper,t)}},t.prototype.show=function(){this.appendTo&&(this.panel.style.minWidth=this.domHandler.getWidth(this.container)+"px"),this.panel.style.zIndex=String(++l.DomHandler.zindex),this.panelVisible=!0,this.shown=!0},t.prototype.hide=function(){this.panelVisible=!1,this.filter&&this.resetFilterOnHide&&this.resetFilter()},t.prototype.alignPanel=function(){this.appendTo?this.domHandler.absolutePosition(this.panel,this.container):this.domHandler.relativePosition(this.panel,this.container)},t.prototype.onInputFocus=function(t){this.focused=!0,this.onFocus.emit(t)},t.prototype.onInputBlur=function(t){this.focused=!1,this.onModelTouched(),this.onBlur.emit(t)},t.prototype.onKeydown=function(t){if(!this.readonly&&this.optionsToDisplay&&null!==this.optionsToDisplay.length)switch(t.which){case 40:var e;!this.panelVisible&&t.altKey?this.show():this.group?-1!==(n=this.selectedOption?this.findOptionGroupIndex(this.selectedOption.value,this.optionsToDisplay):-1)?(e=n.itemIndex+1)<this.optionsToDisplay[n.groupIndex].items.length?(this.selectItem(t,this.optionsToDisplay[n.groupIndex].items[e]),this.selectedOptionUpdated=!0):this.optionsToDisplay[n.groupIndex+1]&&(this.selectItem(t,this.optionsToDisplay[n.groupIndex+1].items[0]),this.selectedOptionUpdated=!0):this.selectItem(t,this.optionsToDisplay[0].items[0]):(e=(n=this.selectedOption?this.findOptionIndex(this.selectedOption.value,this.optionsToDisplay):-1)+1)!=this.optionsToDisplay.length?(this.selectItem(t,this.optionsToDisplay[e]),this.selectedOptionUpdated=!0):this.selectItem(t,this.optionsToDisplay[0]),t.preventDefault();break;case 38:var n,r;if(this.group){if(-1!==(n=this.selectedOption?this.findOptionGroupIndex(this.selectedOption.value,this.optionsToDisplay):-1))if((r=n.itemIndex-1)>=0)this.selectItem(t,this.optionsToDisplay[n.groupIndex].items[r]),this.selectedOptionUpdated=!0;else if(r<0){var i=this.optionsToDisplay[n.groupIndex-1];i&&(this.selectItem(t,i.items[i.items.length-1]),this.selectedOptionUpdated=!0)}}else(n=this.selectedOption?this.findOptionIndex(this.selectedOption.value,this.optionsToDisplay):-1)>0&&(this.selectItem(t,this.optionsToDisplay[r=n-1]),this.selectedOptionUpdated=!0);t.preventDefault();break;case 32:case 32:this.panelVisible||(this.show(),t.preventDefault());break;case 13:(!this.filter||this.optionsToDisplay&&this.optionsToDisplay.length>0)&&this.hide(),t.preventDefault();break;case 27:case 9:this.hide()}},t.prototype.findOptionIndex=function(t,e){var n=-1;if(e)for(var r=0;r<e.length;r++)if(null==t&&null==e[r].value||this.objectUtils.equals(t,e[r].value,this.dataKey)){n=r;break}return n},t.prototype.findOptionGroupIndex=function(t,e){var n,r;if(e)for(var i=0;i<e.length&&(n=i,-1===(r=this.findOptionIndex(t,e[i].items)));i++);return-1!==r?{groupIndex:n,itemIndex:r}:-1},t.prototype.findOption=function(t,e,n){if(this.group&&!n){var r=void 0;if(e&&e.length)for(var i=0,o=e;i<o.length&&!(r=this.findOption(t,o[i].items,!0));i++);return r}var a=this.findOptionIndex(t,e);return-1!=a?e[a]:null},t.prototype.onFilter=function(t){var e=t.target.value.toLowerCase();e&&e.length?(this.filterValue=e,this.activateFilter()):(this.filterValue=null,this.optionsToDisplay=this.options),this.optionsChanged=!0},t.prototype.activateFilter=function(){var t=this.filterBy.split(",");if(this.options&&this.options.length){if(this.group){for(var e=[],n=0,r=this.options;n<r.length;n++){var i=r[n],o=this.objectUtils.filter(i.items,t,this.filterValue);o&&o.length&&e.push({label:i.label,value:i.value,items:o})}this.optionsToDisplay=e}else this.optionsToDisplay=this.objectUtils.filter(this.options,t,this.filterValue);this.optionsChanged=!0}},t.prototype.applyFocus=function(){this.editable?this.domHandler.findSingle(this.el.nativeElement,".ui-dropdown-label.ui-inputtext").focus():this.domHandler.findSingle(this.el.nativeElement,"input[readonly]").focus()},t.prototype.focus=function(){this.applyFocus()},t.prototype.bindDocumentClickListener=function(){var t=this;this.documentClickListener||(this.documentClickListener=this.renderer.listen("document","click",function(){t.selfClick||t.itemClick||(t.hide(),t.unbindDocumentClickListener()),t.selfClick=!1,t.itemClick=!1,t.cd.markForCheck()}))},t.prototype.unbindDocumentClickListener=function(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)},t.prototype.updateFilledState=function(){this.filled=null!=this.selectedOption},t.prototype.clear=function(t){this.clearClick=!0,this.value=null,this.onModelChange(this.value),this.onChange.emit({originalEvent:t,value:this.value}),this.updateSelectedOption(this.value),this.updateEditableLabel(),this.updateFilledState()},t.prototype.ngOnDestroy=function(){this.unbindDocumentClickListener(),this.appendTo&&this.el.nativeElement.appendChild(this.panel)},r([o.Input(),i("design:type",String)],t.prototype,"scrollHeight",void 0),r([o.Input(),i("design:type",Boolean)],t.prototype,"filter",void 0),r([o.Input(),i("design:type",String)],t.prototype,"name",void 0),r([o.Input(),i("design:type",Object)],t.prototype,"style",void 0),r([o.Input(),i("design:type",Object)],t.prototype,"panelStyle",void 0),r([o.Input(),i("design:type",String)],t.prototype,"styleClass",void 0),r([o.Input(),i("design:type",String)],t.prototype,"panelStyleClass",void 0),r([o.Input(),i("design:type",Boolean)],t.prototype,"disabled",void 0),r([o.Input(),i("design:type",Boolean)],t.prototype,"readonly",void 0),r([o.Input(),i("design:type",Boolean)],t.prototype,"autoWidth",void 0),r([o.Input(),i("design:type",Boolean)],t.prototype,"required",void 0),r([o.Input(),i("design:type",Boolean)],t.prototype,"editable",void 0),r([o.Input(),i("design:type",Object)],t.prototype,"appendTo",void 0),r([o.Input(),i("design:type",Number)],t.prototype,"tabindex",void 0),r([o.Input(),i("design:type",String)],t.prototype,"placeholder",void 0),r([o.Input(),i("design:type",String)],t.prototype,"filterPlaceholder",void 0),r([o.Input(),i("design:type",String)],t.prototype,"inputId",void 0),r([o.Input(),i("design:type",String)],t.prototype,"dataKey",void 0),r([o.Input(),i("design:type",String)],t.prototype,"filterBy",void 0),r([o.Input(),i("design:type",Boolean)],t.prototype,"lazy",void 0),r([o.Input(),i("design:type",Boolean)],t.prototype,"autofocus",void 0),r([o.Input(),i("design:type",Boolean)],t.prototype,"resetFilterOnHide",void 0),r([o.Input(),i("design:type",String)],t.prototype,"dropdownIcon",void 0),r([o.Input(),i("design:type",String)],t.prototype,"optionLabel",void 0),r([o.Input(),i("design:type",Boolean)],t.prototype,"autoDisplayFirst",void 0),r([o.Input(),i("design:type",Boolean)],t.prototype,"group",void 0),r([o.Input(),i("design:type",Boolean)],t.prototype,"showClear",void 0),r([o.Input(),i("design:type",String)],t.prototype,"emptyFilterMessage",void 0),r([o.Output(),i("design:type",o.EventEmitter)],t.prototype,"onChange",void 0),r([o.Output(),i("design:type",o.EventEmitter)],t.prototype,"onFocus",void 0),r([o.Output(),i("design:type",o.EventEmitter)],t.prototype,"onBlur",void 0),r([o.Output(),i("design:type",o.EventEmitter)],t.prototype,"onClick",void 0),r([o.ViewChild("container"),i("design:type",o.ElementRef)],t.prototype,"containerViewChild",void 0),r([o.ViewChild("panel"),i("design:type",o.ElementRef)],t.prototype,"panelViewChild",void 0),r([o.ViewChild("itemswrapper"),i("design:type",o.ElementRef)],t.prototype,"itemsWrapperViewChild",void 0),r([o.ViewChild("filter"),i("design:type",o.ElementRef)],t.prototype,"filterViewChild",void 0),r([o.ViewChild("in"),i("design:type",o.ElementRef)],t.prototype,"focusViewChild",void 0),r([o.ViewChild("editableInput"),i("design:type",o.ElementRef)],t.prototype,"editableInputViewChild",void 0),r([o.ContentChildren(u.PrimeTemplate),i("design:type",o.QueryList)],t.prototype,"templates",void 0),r([o.Input(),i("design:type",Array),i("design:paramtypes",[Array])],t.prototype,"options",null),r([o.Component({selector:"p-dropdown",template:'\n         <div #container [ngClass]="{\'ui-dropdown ui-widget ui-state-default ui-corner-all ui-helper-clearfix\':true,\n            \'ui-state-disabled\':disabled,\'ui-dropdown-open\':panelVisible,\'ui-state-focus\':focused, \'ui-dropdown-clearable\': showClear && !disabled}"\n            (click)="onMouseclick($event)" [ngStyle]="style" [class]="styleClass">\n            <div class="ui-helper-hidden-accessible" *ngIf="autoWidth">\n                <select [required]="required" [attr.name]="name" [attr.aria-label]="selectedOption ? selectedOption.label : \' \'" tabindex="-1" aria-hidden="true">\n                    <option *ngIf="placeholder">{{placeholder}}</option>\n                    <ng-container *ngIf="group">\n                        <optgroup *ngFor="let option of options" [attr.label]="option.label">\n                            <option *ngFor="let option of option.items" [value]="option.value" [selected]="selectedOption == option">{{option.label}}</option>\n                        <optgroup>\n                    </ng-container>\n                    <ng-container *ngIf="!group">\n                        <option *ngFor="let option of options" [value]="option.value" [selected]="selectedOption == option">{{option.label}}</option>\n                    </ng-container>\n                </select>\n            </div>\n            <div class="ui-helper-hidden-accessible">\n                <input #in [attr.id]="inputId" type="text" [attr.aria-label]="selectedOption ? selectedOption.label : \' \'" readonly (focus)="onInputFocus($event)" role="listbox"\n                    (blur)="onInputBlur($event)" (keydown)="onKeydown($event)" [disabled]="disabled" [attr.tabindex]="tabindex" [attr.autofocus]="autofocus">\n            </div>\n            <label [ngClass]="{\'ui-dropdown-label ui-inputtext ui-corner-all\':true,\'ui-dropdown-label-empty\':(label == null || label.length === 0)}" *ngIf="!editable && (label != null)">\n                <ng-container *ngIf="!selectedItemTemplate">{{label||\'empty\'}}</ng-container>\n                <ng-container *ngTemplateOutlet="selectedItemTemplate; context: {$implicit: selectedOption}"></ng-container>\n            </label>\n            <label [ngClass]="{\'ui-dropdown-label ui-inputtext ui-corner-all ui-placeholder\':true,\'ui-dropdown-label-empty\': (placeholder == null || placeholder.length === 0)}" *ngIf="!editable && (label == null)">{{placeholder||\'empty\'}}</label>\n            <input #editableInput type="text" [attr.aria-label]="selectedOption ? selectedOption.label : \' \'" class="ui-dropdown-label ui-inputtext ui-corner-all" *ngIf="editable" [disabled]="disabled" [attr.placeholder]="placeholder"\n                        (click)="onEditableInputClick($event)" (input)="onEditableInputChange($event)" (focus)="onEditableInputFocus($event)" (blur)="onInputBlur($event)">\n            <i class="ui-dropdown-clear-icon pi pi-times" (click)="clear($event)" *ngIf="value != null && showClear && !disabled"></i>\n            <div class="ui-dropdown-trigger ui-state-default ui-corner-right">\n                <span class="ui-dropdown-trigger-icon ui-clickable" [ngClass]="dropdownIcon"></span>\n            </div>\n            <div #panel [ngClass]="\'ui-dropdown-panel ui-widget-content ui-corner-all ui-shadow\'" [@panelState]="panelVisible ? \'visible\' : \'hidden\'"\n                [style.display]="panelVisible ? \'block\' : \'none\'" [ngStyle]="panelStyle" [class]="panelStyleClass">\n                <div *ngIf="filter" class="ui-dropdown-filter-container" (input)="onFilter($event)" (click)="$event.stopPropagation()">\n                    <input #filter type="text" autocomplete="off" class="ui-dropdown-filter ui-inputtext ui-widget ui-state-default ui-corner-all" [attr.placeholder]="filterPlaceholder"\n                    (keydown.enter)="$event.preventDefault()" (keydown)="onKeydown($event)">\n                    <span class="ui-dropdown-filter-icon pi pi-search"></span>\n                </div>\n                <div #itemswrapper class="ui-dropdown-items-wrapper" [style.max-height]="scrollHeight||\'auto\'">\n                    <ul class="ui-dropdown-items ui-dropdown-list ui-widget-content ui-widget ui-corner-all ui-helper-reset" *ngIf="lazy ? panelVisible : true">\n                        <ng-container *ngIf="group">\n                            <ng-template ngFor let-optgroup [ngForOf]="optionsToDisplay">\n                                <li class="ui-dropdown-item-group">\n                                    <span *ngIf="!groupTemplate">{{optgroup.label||\'empty\'}}</span>\n                                    <ng-container *ngTemplateOutlet="groupTemplate; context: {$implicit: optgroup}"></ng-container>\n                                </li>\n                                <ng-container *ngTemplateOutlet="itemslist; context: {$implicit: optgroup.items, selectedOption: selectedOption}"></ng-container>\n                            </ng-template>\n                        </ng-container>\n                        <ng-container *ngIf="!group">\n                            <ng-container *ngTemplateOutlet="itemslist; context: {$implicit: optionsToDisplay, selectedOption: selectedOption}"></ng-container>\n                        </ng-container>\n                        <ng-template #itemslist let-options let-selectedOption="selectedOption">\n                            <li *ngFor="let option of options;let i=index" [ngClass]="{\'ui-dropdown-item ui-corner-all\':true, \'ui-state-highlight\':(selectedOption == option), \'ui-dropdown-item-empty\':!option.label||option.label.length === 0}"\n                                    (click)="onItemClick($event, option)">\n                                <span *ngIf="!itemTemplate">{{option.label||\'empty\'}}</span>\n                                <ng-container *ngTemplateOutlet="itemTemplate; context: {$implicit: option}"></ng-container>\n                            </li>\n                        </ng-template>\n                        <li *ngIf="filter && optionsToDisplay && optionsToDisplay.length === 0">{{emptyFilterMessage}}</li>\n                    </ul>\n                </div>\n            </div>\n        </div>\n    ',animations:[a.trigger("panelState",[a.state("hidden",a.style({opacity:0})),a.state("visible",a.style({opacity:1})),a.transition("visible => hidden",a.animate("400ms ease-in")),a.transition("hidden => visible",a.animate("400ms ease-out"))])],host:{"[class.ui-inputwrapper-filled]":"filled","[class.ui-inputwrapper-focus]":"focused"},providers:[l.DomHandler,c.ObjectUtils,e.DROPDOWN_VALUE_ACCESSOR]})],t)}();e.Dropdown=h,e.DropdownModule=function(){return r([o.NgModule({imports:[s.CommonModule,u.SharedModule],exports:[h,u.SharedModule],declarations:[h]})],function(){})}()},nkY7:function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},oZLJ:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("mrSG"),i=n("lT9W"),o=n("38xv"),a=n("maNC"),s=n("5WR/"),u=n("CuG4"),l=n("LPMm"),c=n("CKfB"),f=n("kvNw");e.FaceRecognitionNet=function(t){function e(){return t.call(this,"FaceRecognitionNet")||this}return r.__extends(e,t),e.prototype.forwardInput=function(t){var e=this.params;if(!e)throw new Error("FaceRecognitionNet - load model before inference");return i.tidy(function(){var n=t.toBatchTensor(150,!0),r=c.normalize(n),o=s.convDown(r,e.conv32_down);o=i.maxPool(o,3,2,"valid"),o=f.residual(o,e.conv32_1),o=f.residual(o,e.conv32_2),o=f.residual(o,e.conv32_3),o=f.residualDown(o,e.conv64_down),o=f.residual(o,e.conv64_1),o=f.residual(o,e.conv64_2),o=f.residual(o,e.conv64_3),o=f.residualDown(o,e.conv128_down),o=f.residual(o,e.conv128_1),o=f.residual(o,e.conv128_2),o=f.residualDown(o,e.conv256_down),o=f.residual(o,e.conv256_1),o=f.residual(o,e.conv256_2);var a=(o=f.residualDown(o,e.conv256_down_out)).mean([1,2]);return i.matMul(a,e.fc)})},e.prototype.forward=function(t){return r.__awaiter(this,void 0,void 0,function(){var e;return r.__generator(this,function(n){switch(n.label){case 0:return e=this.forwardInput,[4,a.toNetInput(t,!0)];case 1:return[2,e.apply(this,[n.sent()])]}})})},e.prototype.computeFaceDescriptor=function(t){return r.__awaiter(this,void 0,void 0,function(){var e,n,o,s=this;return r.__generator(this,function(r){switch(r.label){case 0:return[4,a.toNetInput(t,!0)];case 1:return e=r.sent(),n=i.tidy(function(){return i.unstack(s.forwardInput(e))}),[4,Promise.all(n.map(function(t){return t.data()}))];case 2:return o=r.sent(),n.forEach(function(t){return t.dispose()}),[2,e.isBatchInput?o:o[0]]}})})},e.prototype.loadQuantizedParams=function(t){return l.loadQuantizedParams(t)},e.prototype.extractParams=function(t){return u.extractParams(t)},e}(o.NeuralNetwork)},ocgu:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("mrSG"),i=n("lT9W"),o=n("VVl2"),a=n("fhWt"),s=n("lZTZ");e.extractParams=function(t){var e=s.extractWeightsFactory(t),n=e.getRemainingWeights,u=[],l=function(t,e){var n=o.extractConvParamsFactory(t,e),s=a.extractFCParamsFactory(t,e);function u(n,r){var o=i.tensor1d(t(n));return e.push({paramPath:r}),o}function l(t,e,r){return void 0===r&&(r=!1),{conv1:n(t[0],t[1],3,e+"/conv1"),prelu1_alpha:u(t[1],e+"/prelu1_alpha"),conv2:n(t[1],t[2],3,e+"/conv2"),prelu2_alpha:u(t[2],e+"/prelu2_alpha"),conv3:n(t[2],t[3],r?2:3,e+"/conv3"),prelu3_alpha:u(t[3],e+"/prelu3_alpha")}}return{extractPNetParams:function(){var t=l([3,10,16,32],"pnet"),e=n(32,2,1,"pnet/conv4_1"),i=n(32,4,1,"pnet/conv4_2");return r.__assign({},t,{conv4_1:e,conv4_2:i})},extractRNetParams:function(){var t=l([3,28,48,64],"rnet",!0),e=s(576,128,"rnet/fc1"),n=u(128,"rnet/prelu4_alpha"),i=s(128,2,"rnet/fc2_1"),o=s(128,4,"rnet/fc2_2");return r.__assign({},t,{fc1:e,prelu4_alpha:n,fc2_1:i,fc2_2:o})},extractONetParams:function(){var t=l([3,32,64,64],"onet"),e=n(64,128,2,"onet/conv4"),i=u(128,"onet/prelu4_alpha"),o=s(1152,256,"onet/fc1"),a=u(256,"onet/prelu5_alpha"),c=s(256,2,"onet/fc2_1"),f=s(256,4,"onet/fc2_2"),h=s(256,10,"onet/fc2_3");return r.__assign({},t,{conv4:e,prelu4_alpha:i,fc1:o,prelu5_alpha:a,fc2_1:c,fc2_2:f,fc2_3:h})}}}(e.extractWeights,u),c=l.extractRNetParams,f=l.extractONetParams,h=(0,l.extractPNetParams)(),d=c(),p=f();if(0!==n().length)throw new Error("weights remaing after extract: "+n().length);return{params:{pnet:h,rnet:d,onet:p},paramMappings:u}}},pU5Y:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("mrSG"),i=n("U4QO");function o(t){var e=new i.FaceLandmarkNet;return e.extractWeights(t),e}r.__exportStar(n("U4QO"),e),r.__exportStar(n("SDZX"),e),e.createFaceLandmarkNet=o,e.faceLandmarkNet=function(t){return console.warn("faceLandmarkNet(weights: Float32Array) will be deprecated in future, use createFaceLandmarkNet instead"),o(t)}},ppHe:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("zGsf");e.getCenterPoint=function(t){return t.reduce(function(t,e){return t.add(e)},new r.Point(0,0)).div(new r.Point(t.length,t.length))}},psW0:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("mrSG"),i=n("zotm"),o=n("MGBS"),a=n("67Y/"),s=n("0/uQ");function u(t,e,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"==typeof e?function(r){return r.pipe(u(function(n,r){return Object(s.a)(t(n,r)).pipe(Object(a.a)(function(t,i){return e(n,t,r,i)}))},n))}:("number"==typeof e&&(n=e),function(e){return e.lift(new l(t,n))})}var l=function(){function t(t,e){void 0===e&&(e=Number.POSITIVE_INFINITY),this.project=t,this.concurrent=e}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.project,this.concurrent))},t}(),c=function(t){function e(e,n,r){void 0===r&&(r=Number.POSITIVE_INFINITY);var i=t.call(this,e)||this;return i.project=n,i.concurrent=r,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return r.__extends(e,t),e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(t){return void this.destination.error(t)}this.active++,this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){this.add(Object(i.a)(this,t,e,n))},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(o.a)},pugT:function(t,e,n){"use strict";var r,i=n("isby"),o=n("McSo"),a=n("2Bdj"),s={e:{}};function u(){try{return r.apply(this,arguments)}catch(t){return s.e=t,s}}function l(t){return r=t,u}var c=n("mrSG"),f=function(t){function e(n){var r=t.call(this,n?n.length+" errors occurred during unsubscription:\n  "+n.map(function(t,e){return e+1+") "+t.toString()}).join("\n  "):"")||this;return r.errors=n,r.name="UnsubscriptionError",Object.setPrototypeOf(r,e.prototype),r}return c.__extends(e,t),e}(Error);n.d(e,"a",function(){return h});var h=function(){function t(t){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}var e;return t.prototype.unsubscribe=function(){var t,e=!1;if(!this.closed){var n=this._parent,r=this._parents,u=this._unsubscribe,c=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var h=-1,p=r?r.length:0;n;)n.remove(this),n=++h<p&&r[h]||null;if(Object(a.a)(u)&&l(u).call(this)===s&&(e=!0,t=t||(s.e instanceof f?d(s.e.errors):[s.e])),Object(i.a)(c))for(h=-1,p=c.length;++h<p;){var v=c[h];if(Object(o.a)(v)&&l(v.unsubscribe).call(v)===s){e=!0,t=t||[];var g=s.e;g instanceof f?t=t.concat(d(g.errors)):t.push(g)}}if(e)throw new f(t)}},t.prototype.add=function(e){if(!e||e===t.EMPTY)return t.EMPTY;if(e===this)return this;var n=e;switch(typeof e){case"function":n=new t(e);case"object":if(n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if("function"!=typeof n._addParent){var r=n;(n=new t)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(n),n._addParent(this),n},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}},t.prototype._addParent=function(t){var e=this._parent,n=this._parents;e&&e!==t?n?-1===n.indexOf(t)&&n.push(t):this._parents=[t]:this._parent=t},t.EMPTY=((e=new t).closed=!0,e),t}();function d(t){return t.reduce(function(t,e){return t.concat(e instanceof f?e.errors:e)},[])}},"q/np":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("DmoT");e.FaceDetection=function(){function t(t,e,n){var i=n.width,o=n.height;this._imageWidth=i,this._imageHeight=o,this._score=t,this._box=new r.Rect(e.x*i,e.y*o,e.width*i,e.height*o)}return Object.defineProperty(t.prototype,"score",{get:function(){return this._score},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"box",{get:function(){return this._box},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"imageWidth",{get:function(){return this._imageWidth},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"imageHeight",{get:function(){return this._imageHeight},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"relativeBox",{get:function(){return new r.Rect(this._box.x/this._imageWidth,this._box.y/this._imageHeight,this._box.width/this._imageWidth,this._box.height/this._imageHeight)},enumerable:!0,configurable:!0}),t.prototype.getScore=function(){return this.score},t.prototype.getBox=function(){return this.box},t.prototype.getImageWidth=function(){return this.imageWidth},t.prototype.getImageHeight=function(){return this.imageHeight},t.prototype.getRelativeBox=function(){return this.relativeBox},t.prototype.forSize=function(e,n){return new t(this._score,this.getRelativeBox(),{width:e,height:n})},t}()},qtoK:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("lT9W"),i=n("6Khb"),o=n("Y9TT");e.predictionLayer=function(t,e,n){return r.tidy(function(){var a=o.pointwiseConvLayer(t,n.conv_0,[1,1]),s=o.pointwiseConvLayer(a,n.conv_1,[2,2]),u=o.pointwiseConvLayer(s,n.conv_2,[1,1]),l=o.pointwiseConvLayer(u,n.conv_3,[2,2]),c=o.pointwiseConvLayer(l,n.conv_4,[1,1]),f=o.pointwiseConvLayer(c,n.conv_5,[2,2]),h=o.pointwiseConvLayer(f,n.conv_6,[1,1]),d=o.pointwiseConvLayer(h,n.conv_7,[2,2]),p=i.boxPredictionLayer(e,n.box_predictor_0),v=i.boxPredictionLayer(t,n.box_predictor_1),g=i.boxPredictionLayer(s,n.box_predictor_2),m=i.boxPredictionLayer(l,n.box_predictor_3),y=i.boxPredictionLayer(f,n.box_predictor_4),b=i.boxPredictionLayer(d,n.box_predictor_5);return{boxPredictions:r.concat([p.boxPredictionEncoding,v.boxPredictionEncoding,g.boxPredictionEncoding,m.boxPredictionEncoding,y.boxPredictionEncoding,b.boxPredictionEncoding],1),classPredictions:r.concat([p.classPrediction,v.classPrediction,g.classPrediction,m.classPrediction,y.classPrediction,b.classPrediction],1)}})}},sdDj:function(t,e,n){"use strict";var r=n("mrSG").__decorate;Object.defineProperty(e,"__esModule",{value:!0});var i=n("CcnG");e.DomHandler=function(){function t(){this.calculatedScrollbarWidth=null}return t.prototype.addClass=function(t,e){t.classList?t.classList.add(e):t.className+=" "+e},t.prototype.addMultipleClasses=function(t,e){if(t.classList)for(var n=e.split(" "),r=0;r<n.length;r++)t.classList.add(n[r]);else for(n=e.split(" "),r=0;r<n.length;r++)t.className+=" "+n[r]},t.prototype.removeClass=function(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," ")},t.prototype.hasClass=function(t,e){return t.classList?t.classList.contains(e):new RegExp("(^| )"+e+"( |$)","gi").test(t.className)},t.prototype.siblings=function(t){return Array.prototype.filter.call(t.parentNode.children,function(e){return e!==t})},t.prototype.find=function(t,e){return Array.from(t.querySelectorAll(e))},t.prototype.findSingle=function(t,e){return t.querySelector(e)},t.prototype.index=function(t){for(var e=t.parentNode.childNodes,n=0,r=0;r<e.length;r++){if(e[r]==t)return n;1==e[r].nodeType&&n++}return-1},t.prototype.indexWithinGroup=function(t,e){for(var n=t.parentNode.childNodes,r=0,i=0;i<n.length;i++){if(n[i]==t)return r;n[i].attributes&&n[i].attributes[e]&&1==n[i].nodeType&&r++}return-1},t.prototype.relativePosition=function(t,e){var n,r,i=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t),o=e.offsetHeight,a=e.offsetWidth,s=e.getBoundingClientRect(),u=(this.getWindowScrollTop(),this.getViewport());s.top+o+i.height>u.height?s.top+(n=-1*i.height)<0&&(n=0):n=o,r=s.left+i.width>u.width?a-i.width:0,t.style.top=n+"px",t.style.left=r+"px"},t.prototype.absolutePosition=function(t,e){var n,r,i=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t),o=i.height,a=i.width,s=e.offsetHeight,u=e.offsetWidth,l=e.getBoundingClientRect(),c=this.getWindowScrollTop(),f=this.getWindowScrollLeft(),h=this.getViewport();l.top+s+o>h.height?(n=l.top+c-o)<0&&(n=0+c):n=s+l.top+c,r=l.left+u+a>h.width?l.left+f+u-a:l.left+f,t.style.top=n+"px",t.style.left=r+"px"},t.prototype.getHiddenElementOuterHeight=function(t){t.style.visibility="hidden",t.style.display="block";var e=t.offsetHeight;return t.style.display="none",t.style.visibility="visible",e},t.prototype.getHiddenElementOuterWidth=function(t){t.style.visibility="hidden",t.style.display="block";var e=t.offsetWidth;return t.style.display="none",t.style.visibility="visible",e},t.prototype.getHiddenElementDimensions=function(t){var e={};return t.style.visibility="hidden",t.style.display="block",e.width=t.offsetWidth,e.height=t.offsetHeight,t.style.display="none",t.style.visibility="visible",e},t.prototype.scrollInView=function(t,e){var n=getComputedStyle(t).getPropertyValue("borderTopWidth"),r=n?parseFloat(n):0,i=getComputedStyle(t).getPropertyValue("paddingTop"),o=i?parseFloat(i):0,a=t.getBoundingClientRect(),s=e.getBoundingClientRect().top+document.body.scrollTop-(a.top+document.body.scrollTop)-r-o,u=t.scrollTop,l=t.clientHeight,c=this.getOuterHeight(e);s<0?t.scrollTop=u+s:s+c>l&&(t.scrollTop=u+s-l+c)},t.prototype.fadeIn=function(t,e){t.style.opacity=0;var n=+new Date,r=0,i=function(){r=+t.style.opacity.replace(",",".")+((new Date).getTime()-n)/e,t.style.opacity=r,n=+new Date,+r<1&&(window.requestAnimationFrame&&requestAnimationFrame(i)||setTimeout(i,16))};i()},t.prototype.fadeOut=function(t,e){var n=1,r=50/e,i=setInterval(function(){(n-=r)<=0&&(n=0,clearInterval(i)),t.style.opacity=n},50)},t.prototype.getWindowScrollTop=function(){var t=document.documentElement;return(window.pageYOffset||t.scrollTop)-(t.clientTop||0)},t.prototype.getWindowScrollLeft=function(){var t=document.documentElement;return(window.pageXOffset||t.scrollLeft)-(t.clientLeft||0)},t.prototype.matches=function(t,e){var n=Element.prototype;return(n.matches||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector||function(t){return-1!==[].indexOf.call(document.querySelectorAll(t),this)}).call(t,e)},t.prototype.getOuterWidth=function(t,e){var n=t.offsetWidth;if(e){var r=getComputedStyle(t);n+=parseFloat(r.marginLeft)+parseFloat(r.marginRight)}return n},t.prototype.getHorizontalPadding=function(t){var e=getComputedStyle(t);return parseFloat(e.paddingLeft)+parseFloat(e.paddingRight)},t.prototype.getHorizontalMargin=function(t){var e=getComputedStyle(t);return parseFloat(e.marginLeft)+parseFloat(e.marginRight)},t.prototype.innerWidth=function(t){var e=t.offsetWidth,n=getComputedStyle(t);return e+(parseFloat(n.paddingLeft)+parseFloat(n.paddingRight))},t.prototype.width=function(t){var e=t.offsetWidth,n=getComputedStyle(t);return e-(parseFloat(n.paddingLeft)+parseFloat(n.paddingRight))},t.prototype.getInnerHeight=function(t){var e=t.offsetHeight,n=getComputedStyle(t);return e+(parseFloat(n.paddingTop)+parseFloat(n.paddingBottom))},t.prototype.getOuterHeight=function(t,e){var n=t.offsetHeight;if(e){var r=getComputedStyle(t);n+=parseFloat(r.marginTop)+parseFloat(r.marginBottom)}return n},t.prototype.getHeight=function(t){var e=t.offsetHeight,n=getComputedStyle(t);return e-(parseFloat(n.paddingTop)+parseFloat(n.paddingBottom)+parseFloat(n.borderTopWidth)+parseFloat(n.borderBottomWidth))},t.prototype.getWidth=function(t){var e=t.offsetWidth,n=getComputedStyle(t);return e-(parseFloat(n.paddingLeft)+parseFloat(n.paddingRight)+parseFloat(n.borderLeftWidth)+parseFloat(n.borderRightWidth))},t.prototype.getViewport=function(){var t=window,e=document,n=e.documentElement,r=e.getElementsByTagName("body")[0];return{width:t.innerWidth||n.clientWidth||r.clientWidth,height:t.innerHeight||n.clientHeight||r.clientHeight}},t.prototype.getOffset=function(t){var e=t.getBoundingClientRect();return{top:e.top+document.body.scrollTop,left:e.left+document.body.scrollLeft}},t.prototype.replaceElementWith=function(t,e){var n=t.parentNode;if(!n)throw"Can't replace element";return n.replaceChild(e,t)},t.prototype.getUserAgent=function(){return navigator.userAgent},t.prototype.isIE=function(){var t=window.navigator.userAgent;return t.indexOf("MSIE ")>0||(t.indexOf("Trident/")>0?(t.indexOf("rv:"),!0):t.indexOf("Edge/")>0)},t.prototype.appendChild=function(t,e){if(this.isElement(e))e.appendChild(t);else{if(!e.el||!e.el.nativeElement)throw"Cannot append "+e+" to "+t;e.el.nativeElement.appendChild(t)}},t.prototype.removeChild=function(t,e){if(this.isElement(e))e.removeChild(t);else{if(!e.el||!e.el.nativeElement)throw"Cannot remove "+t+" from "+e;e.el.nativeElement.removeChild(t)}},t.prototype.isElement=function(t){return"object"==typeof HTMLElement?t instanceof HTMLElement:t&&"object"==typeof t&&null!==t&&1===t.nodeType&&"string"==typeof t.nodeName},t.prototype.calculateScrollbarWidth=function(){if(null!==this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;var t=document.createElement("div");t.className="ui-scrollbar-measure",document.body.appendChild(t);var e=t.offsetWidth-t.clientWidth;return document.body.removeChild(t),this.calculatedScrollbarWidth=e,e},t.prototype.invokeElementMethod=function(t,e,n){t[e].apply(t,n)},t.prototype.clearSelection=function(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch(t){}},t.prototype.getBrowser=function(){if(!this.browser){var t=this.resolveUserAgent();this.browser={},t.browser&&(this.browser[t.browser]=!0,this.browser.version=t.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser},t.prototype.resolveUserAgent=function(){var t=navigator.userAgent.toLowerCase(),e=/(chrome)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[];return{browser:e[1]||"",version:e[2]||"0"}},t.prototype.isInteger=function(t){return Number.isInteger?Number.isInteger(t):"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},t.zindex=1e3,r([i.Injectable()],t)}()},t8m6:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("mrSG"),i=n("lT9W"),o=n("q/np"),a=n("maNC");e.extractFaceTensors=function(t,e){return r.__awaiter(this,void 0,void 0,function(){var n;return r.__generator(this,function(r){switch(r.label){case 0:return[4,a.toNetInput(t,!0)];case 1:if((n=r.sent()).batchSize>1)throw n.isManaged&&n.dispose(),new Error("extractFaceTensors - batchSize > 1 not supported");return[2,i.tidy(function(){var t=n.inputs[0].expandDims().toFloat(),r=t.shape.slice(1),a=r[0],s=r[1],u=r[2],l=e.map(function(t){return t instanceof o.FaceDetection?t.forSize(s,a).getBox().floor():t}).map(function(e){return i.slice(t,[0,e.y,e.x,0],[1,e.height,e.width,u])});return n.isManaged&&n.dispose(),l})]}})})}},u67D:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("En8+"),i=function(t){return function(e){for(var n=t[r.a]();;){var i=n.next();if(i.done){e.complete();break}if(e.next(i.value),e.closed)break}return"function"==typeof n.return&&e.add(function(){n.return&&n.return()}),e}}},uMaO:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("mrSG"),i=function(t){function e(e,n){var r=t.call(this)||this;return r.subject=e,r.subscriber=n,r.closed=!1,r}return r.__extends(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},e}(n("pugT").a)},umzO:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("mrSG"),i=n("oZLJ");function o(t){var e=new i.FaceRecognitionNet;return e.extractWeights(t),e}r.__exportStar(n("oZLJ"),e),e.createFaceRecognitionNet=o,e.faceRecognitionNet=function(t){return console.warn("faceRecognitionNet(weights: Float32Array) will be deprecated in future, use createFaceRecognitionNet instead"),o(t)}},wfJU:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("lT9W"),i=n("iDJ0"),o=n("eihW"),a=n("x8+q"),s=n("0/8I");e.ONet=function(t,e){return r.tidy(function(){var n=s.sharedLayer(t,e);n=r.maxPool(n,[2,2],[2,2],"same"),n=i.convLayer(n,e.conv4,"valid"),n=a.prelu(n,e.prelu4_alpha);var u=r.reshape(n,[n.shape[0],e.fc1.weights.shape[0]]),l=o.fullyConnectedLayer(u,e.fc1),c=a.prelu(l,e.prelu5_alpha),f=o.fullyConnectedLayer(c,e.fc2_1),h=r.expandDims(r.max(f,1),1),d=r.softmax(r.sub(f,h),1),p=o.fullyConnectedLayer(c,e.fc2_2),v=o.fullyConnectedLayer(c,e.fc2_3);return{scores:r.unstack(d,1)[1],regions:p,points:v}})}},"x+jr":function(t,e,n){"use strict";n.r(e);var r=n("CcnG"),i=function(){},o=function(){},a=n("mrSG"),s=n("K9Ia"),u=n("8g8A"),l=function(t){function e(e){var n=t.call(this)||this;return n._value=e,n}return a.__extends(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(e){var n=t.prototype._subscribe.call(this,e);return n&&!n.closed&&e.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new u.a;return this._value},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(s.a),c=n("0/uQ"),f=n("nkY7"),h=n("IUTb"),d=n("G5J1"),p=n("6blF");function v(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n,r,i=t[t.length-1];switch(Object(f.a)(i)?t.pop():i=void 0,t.length){case 0:return Object(d.b)(i);case 1:return i?Object(h.a)(t,i):(n=t[0],(r=new p.a(function(t){t.next(n),t.complete()}))._isScalar=!0,r.value=n,r);default:return Object(h.a)(t,i)}}var g=function(t){function e(){var n=t.call(this,"no elements in sequence")||this;return n.name="EmptyError",Object.setPrototypeOf(n,e.prototype),n}return a.__extends(e,t),e}(Error),m=n("FFOo");function y(t,e){return function(n){return n.lift(new b(t,e))}}var b=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new w(t,this.predicate,this.thisArg))},t}(),w=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.predicate=n,i.thisArg=r,i.count=0,i}return a.__extends(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}e&&this.destination.next(t)},e}(m.a),x=function(t){function e(){var n=t.call(this,"argument out of range")||this;return n.name="ArgumentOutOfRangeError",Object.setPrototypeOf(n,e.prototype),n}return a.__extends(e,t),e}(Error),_=function(){function t(t){if(this.total=t,this.total<0)throw new x}return t.prototype.call=function(t,e){return e.subscribe(new C(t,this.total))},t}(),C=function(t){function e(e,n){var r=t.call(this,e)||this;return r.total=n,r.count=0,r}return a.__extends(e,t),e.prototype._next=function(t){var e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))},e}(m.a);function S(t){return void 0===t&&(t=null),function(e){return e.lift(new D(t))}}var D=function(){function t(t){this.defaultValue=t}return t.prototype.call=function(t,e){return e.subscribe(new P(t,this.defaultValue))},t}(),P=function(t){function e(e,n){var r=t.call(this,e)||this;return r.defaultValue=n,r.isEmpty=!0,r}return a.__extends(e,t),e.prototype._next=function(t){this.isEmpty=!1,this.destination.next(t)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(m.a),A=n("+umK"),T=n("2Bdj"),E=function(){function t(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}return t.prototype.call=function(t,e){return e.subscribe(new O(t,this.nextOrObserver,this.error,this.complete))},t}(),O=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o._tapNext=A.a,o._tapError=A.a,o._tapComplete=A.a,o._tapError=r||A.a,o._tapComplete=i||A.a,Object(T.a)(n)?(o._context=o,o._tapNext=n):n&&(o._context=n,o._tapNext=n.next||A.a,o._tapError=n.error||A.a,o._tapComplete=n.complete||A.a),o}return a.__extends(e,t),e.prototype._next=function(t){try{this._tapNext.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.next(t)},e.prototype._error=function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()},e}(m.a),k=function(t){return void 0===t&&(t=R),e={hasValue:!1,next:function(){this.hasValue=!0},complete:function(){if(!this.hasValue)throw t()}},function(t){return t.lift(new E(e,void 0,void 0))};var e};function R(){return new g}var I=n("mChF");function M(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?y(function(e,n){return t(e,n,r)}):I.a,function(t){return t.lift(new _(1))},n?S(e):k(function(){return new g}))}}var N=n("psW0"),L=n("67Y/");function F(t,e){return Object(N.a)(t,e,1)}function j(t){return function(e){return 0===t?Object(d.b)():e.lift(new V(t))}}var V=function(){function t(t){if(this.total=t,this.total<0)throw new x}return t.prototype.call=function(t,e){return e.subscribe(new z(t,this.total))},t}(),z=function(t){function e(e,n){var r=t.call(this,e)||this;return r.total=n,r.ring=new Array,r.count=0,r}return a.__extends(e,t),e.prototype._next=function(t){var e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t},e.prototype._complete=function(){var t=this.destination,e=this.count;if(e>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=e++%n;t.next(r[o])}t.complete()},e}(m.a);function B(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?y(function(e,n){return t(e,n,r)}):I.a,j(1),n?S(e):k(function(){return new g}))}}function W(t,e){return function(n){return n.lift(new H(t,e,n))}}var H=function(){function t(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}return t.prototype.call=function(t,e){return e.subscribe(new X(t,this.predicate,this.thisArg,this.source))},t}(),X=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o.predicate=n,o.thisArg=r,o.source=i,o.index=0,o.thisArg=r||o,o}return a.__extends(e,t),e.prototype.notifyComplete=function(t){this.destination.next(t),this.destination.complete()},e.prototype._next=function(t){var e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(t){return void this.destination.error(t)}e||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(m.a),q=n("MGBS"),U=n("zotm");function G(t){return function(e){var n=new Y(t),r=e.lift(n);return n.caught=r}}var Y=function(){function t(t){this.selector=t}return t.prototype.call=function(t,e){return e.subscribe(new K(t,this.selector,this.caught))},t}(),K=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.selector=n,i.caught=r,i}return a.__extends(e,t),e.prototype.error=function(e){if(!this.isStopped){var n=void 0;try{n=this.selector(e,this.caught)}catch(e){return void t.prototype.error.call(this,e)}this._unsubscribeAndRecycle(),this.add(Object(U.a)(this,n))}},e}(q.a),Z=n("Zn8D");function J(){return Object(Z.a)(1)}function Q(t,e){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new $(t,e,n))}}var $=function(){function t(t,e,n){void 0===n&&(n=!1),this.accumulator=t,this.seed=e,this.hasSeed=n}return t.prototype.call=function(t,e){return e.subscribe(new tt(t,this.accumulator,this.seed,this.hasSeed))},t}(),tt=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o.accumulator=n,o._seed=r,o.hasSeed=i,o.index=0,o}return a.__extends(e,t),Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t},enumerable:!0,configurable:!0}),e.prototype._next=function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.accumulator(this.seed,t,n)}catch(t){this.destination.error(t)}this.seed=e,this.destination.next(e)},e}(m.a),et=n("y3By"),nt=n("Ip0R"),rt=n("ZYjt"),it=function(t,e){this.id=t,this.url=e},ot=function(t){function e(e,n,r,i){void 0===r&&(r="imperative"),void 0===i&&(i=null);var o=t.call(this,e,n)||this;return o.navigationTrigger=r,o.restoredState=i,o}return Object(a.__extends)(e,t),e.prototype.toString=function(){return"NavigationStart(id: "+this.id+", url: '"+this.url+"')"},e}(it),at=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i.urlAfterRedirects=r,i}return Object(a.__extends)(e,t),e.prototype.toString=function(){return"NavigationEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"')"},e}(it),st=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i.reason=r,i}return Object(a.__extends)(e,t),e.prototype.toString=function(){return"NavigationCancel(id: "+this.id+", url: '"+this.url+"')"},e}(it),ut=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i.error=r,i}return Object(a.__extends)(e,t),e.prototype.toString=function(){return"NavigationError(id: "+this.id+", url: '"+this.url+"', error: "+this.error+")"},e}(it),lt=function(t){function e(e,n,r,i){var o=t.call(this,e,n)||this;return o.urlAfterRedirects=r,o.state=i,o}return Object(a.__extends)(e,t),e.prototype.toString=function(){return"RoutesRecognized(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(it),ct=function(t){function e(e,n,r,i){var o=t.call(this,e,n)||this;return o.urlAfterRedirects=r,o.state=i,o}return Object(a.__extends)(e,t),e.prototype.toString=function(){return"GuardsCheckStart(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(it),ft=function(t){function e(e,n,r,i,o){var a=t.call(this,e,n)||this;return a.urlAfterRedirects=r,a.state=i,a.shouldActivate=o,a}return Object(a.__extends)(e,t),e.prototype.toString=function(){return"GuardsCheckEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+", shouldActivate: "+this.shouldActivate+")"},e}(it),ht=function(t){function e(e,n,r,i){var o=t.call(this,e,n)||this;return o.urlAfterRedirects=r,o.state=i,o}return Object(a.__extends)(e,t),e.prototype.toString=function(){return"ResolveStart(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(it),dt=function(t){function e(e,n,r,i){var o=t.call(this,e,n)||this;return o.urlAfterRedirects=r,o.state=i,o}return Object(a.__extends)(e,t),e.prototype.toString=function(){return"ResolveEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(it),pt=function(){function t(t){this.route=t}return t.prototype.toString=function(){return"RouteConfigLoadStart(path: "+this.route.path+")"},t}(),vt=function(){function t(t){this.route=t}return t.prototype.toString=function(){return"RouteConfigLoadEnd(path: "+this.route.path+")"},t}(),gt=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ChildActivationStart(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),mt=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ChildActivationEnd(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),yt=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ActivationStart(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),bt=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ActivationEnd(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),wt=function(){},xt="primary",_t=function(){function t(t){this.params=t||{}}return t.prototype.has=function(t){return this.params.hasOwnProperty(t)},t.prototype.get=function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e[0]:e}return null},t.prototype.getAll=function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e:[e]}return[]},Object.defineProperty(t.prototype,"keys",{get:function(){return Object.keys(this.params)},enumerable:!0,configurable:!0}),t}();function Ct(t){return new _t(t)}function St(t,e,n){var r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;for(var i={},o=0;o<r.length;o++){var a=r[o],s=t[o];if(a.startsWith(":"))i[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}var Dt=function(t,e){this.routes=t,this.module=e};function Pt(t,e){void 0===e&&(e="");for(var n=0;n<t.length;n++){var r=t[n];At(r,Tt(e,r))}}function At(t,e){if(!t)throw new Error("\n      Invalid configuration of route '"+e+"': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    ");if(Array.isArray(t))throw new Error("Invalid configuration of route '"+e+"': Array cannot be specified");if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&t.outlet!==xt)throw new Error("Invalid configuration of route '"+e+"': a componentless route without children or loadChildren cannot have a named outlet set");if(t.redirectTo&&t.children)throw new Error("Invalid configuration of route '"+e+"': redirectTo and children cannot be used together");if(t.redirectTo&&t.loadChildren)throw new Error("Invalid configuration of route '"+e+"': redirectTo and loadChildren cannot be used together");if(t.children&&t.loadChildren)throw new Error("Invalid configuration of route '"+e+"': children and loadChildren cannot be used together");if(t.redirectTo&&t.component)throw new Error("Invalid configuration of route '"+e+"': redirectTo and component cannot be used together");if(t.path&&t.matcher)throw new Error("Invalid configuration of route '"+e+"': path and matcher cannot be used together");if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error("Invalid configuration of route '"+e+"'. One of the following must be provided: component, redirectTo, children or loadChildren");if(void 0===t.path&&void 0===t.matcher)throw new Error("Invalid configuration of route '"+e+"': routes must have either a path or a matcher specified");if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error("Invalid configuration of route '"+e+"': path cannot start with a slash");if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error("Invalid configuration of route '{path: \""+e+'", redirectTo: "'+t.redirectTo+"\"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.");if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error("Invalid configuration of route '"+e+"': pathMatch can only be set to 'prefix' or 'full'");t.children&&Pt(t.children,e)}function Tt(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:t+"/"+e.path:"":t}function Et(t){var e=t.children&&t.children.map(Et),n=e?Object(a.__assign)({},t,{children:e}):Object(a.__assign)({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==xt&&(n.component=wt),n}function Ot(t,e){var n,r=Object.keys(t),i=Object.keys(e);if(r.length!=i.length)return!1;for(var o=0;o<r.length;o++)if(t[n=r[o]]!==e[n])return!1;return!0}function kt(t){return Array.prototype.concat.apply([],t)}function Rt(t){return t.length>0?t[t.length-1]:null}function It(t,e){for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Mt(t){return t.pipe(Object(Z.a)(),W(function(t){return!0===t}))}function Nt(t){return Object(r["\u0275isObservable"])(t)?t:Object(r["\u0275isPromise"])(t)?Object(c.a)(Promise.resolve(t)):v(t)}function Lt(t,e,n){return n?function(t,e){return Ot(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!zt(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(var r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(function(n){return e[n]===t[n]})}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,r,i){if(n.segments.length>i.length)return!!zt(a=n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!zt(n.segments,i))return!1;for(var o in r.children){if(!n.children[o])return!1;if(!t(n.children[o],r.children[o]))return!1}return!0}var a=i.slice(0,n.segments.length),s=i.slice(n.segments.length);return!!zt(n.segments,a)&&!!n.children[xt]&&e(n.children[xt],r,s)}(e,n,n.segments)}(t.root,e.root)}var Ft=function(){function t(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}return Object.defineProperty(t.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=Ct(this.queryParams)),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return Xt.serialize(this)},t}(),jt=function(){function t(t,e){var n=this;this.segments=t,this.children=e,this.parent=null,It(e,function(t,e){return t.parent=n})}return t.prototype.hasChildren=function(){return this.numberOfChildren>0},Object.defineProperty(t.prototype,"numberOfChildren",{get:function(){return Object.keys(this.children).length},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return qt(this)},t}(),Vt=function(){function t(t,e){this.path=t,this.parameters=e}return Object.defineProperty(t.prototype,"parameterMap",{get:function(){return this._parameterMap||(this._parameterMap=Ct(this.parameters)),this._parameterMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return Jt(this)},t}();function zt(t,e){return t.length===e.length&&t.every(function(t,n){return t.path===e[n].path})}function Bt(t,e){var n=[];return It(t.children,function(t,r){r===xt&&(n=n.concat(e(t,r)))}),It(t.children,function(t,r){r!==xt&&(n=n.concat(e(t,r)))}),n}var Wt=function(){},Ht=function(){function t(){}return t.prototype.parse=function(t){var e=new ne(t);return new Ft(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())},t.prototype.serialize=function(t){var e,n;return"/"+function t(e,n){if(!e.hasChildren())return qt(e);if(n){var r=e.children[xt]?t(e.children[xt],!1):"",i=[];return It(e.children,function(e,n){n!==xt&&i.push(n+":"+t(e,!1))}),i.length>0?r+"("+i.join("//")+")":r}var o=Bt(e,function(n,r){return r===xt?[t(e.children[xt],!1)]:[r+":"+t(n,!1)]});return qt(e)+"/("+o.join("//")+")"}(t.root,!0)+(e=t.queryParams,(n=Object.keys(e).map(function(t){var n=e[t];return Array.isArray(n)?n.map(function(e){return Gt(t)+"="+Gt(e)}).join("&"):Gt(t)+"="+Gt(n)})).length?"?"+n.join("&"):"")+("string"==typeof t.fragment?"#"+encodeURI(t.fragment):"")},t}(),Xt=new Ht;function qt(t){return t.segments.map(function(t){return Jt(t)}).join("/")}function Ut(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Gt(t){return Ut(t).replace(/%3B/gi,";")}function Yt(t){return Ut(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Kt(t){return decodeURIComponent(t)}function Zt(t){return Kt(t.replace(/\+/g,"%20"))}function Jt(t){return""+Yt(t.path)+(e=t.parameters,Object.keys(e).map(function(t){return";"+Yt(t)+"="+Yt(e[t])}).join(""));var e}var Qt=/^[^\/()?;=#]+/;function $t(t){var e=t.match(Qt);return e?e[0]:""}var te=/^[^=?&#]+/,ee=/^[^?&#]+/,ne=function(){function t(t){this.url=t,this.remaining=t}return t.prototype.parseRootSegment=function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new jt([],{}):new jt([],this.parseChildren())},t.prototype.parseQueryParams=function(){var t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t},t.prototype.parseFragment=function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null},t.prototype.parseChildren=function(){if(""===this.remaining)return{};this.consumeOptional("/");var t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());var e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n[xt]=new jt(t,e)),n},t.prototype.parseSegment=function(){var t=$t(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '"+this.remaining+"'.");return this.capture(t),new Vt(Kt(t),this.parseMatrixParams())},t.prototype.parseMatrixParams=function(){for(var t={};this.consumeOptional(";");)this.parseParam(t);return t},t.prototype.parseParam=function(t){var e=$t(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var r=$t(this.remaining);r&&this.capture(n=r)}t[Kt(e)]=Kt(n)}},t.prototype.parseQueryParam=function(t){var e,n=(e=this.remaining.match(te))?e[0]:"";if(n){this.capture(n);var r="";if(this.consumeOptional("=")){var i=function(t){var e=t.match(ee);return e?e[0]:""}(this.remaining);i&&this.capture(r=i)}var o=Zt(n),a=Zt(r);if(t.hasOwnProperty(o)){var s=t[o];Array.isArray(s)||(t[o]=s=[s]),s.push(a)}else t[o]=a}},t.prototype.parseParens=function(t){var e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=$t(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error("Cannot parse url '"+this.url+"'");var i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=xt);var o=this.parseChildren();e[i]=1===Object.keys(o).length?o[xt]:new jt([],o),this.consumeOptional("//")}return e},t.prototype.peekStartsWith=function(t){return this.remaining.startsWith(t)},t.prototype.consumeOptional=function(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)},t.prototype.capture=function(t){if(!this.consumeOptional(t))throw new Error('Expected "'+t+'".')},t}(),re=function(t){this.segmentGroup=t||null},ie=function(t){this.urlTree=t};function oe(t){return new p.a(function(e){return e.error(new re(t))})}function ae(t){return new p.a(function(e){return e.error(new ie(t))})}function se(t){return new p.a(function(e){return e.error(new Error("Only absolute redirects can have named outlets. redirectTo: '"+t+"'"))})}var ue=function(){function t(t,e,n,i,o){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(r.NgModuleRef)}return t.prototype.apply=function(){var t=this;return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,xt).pipe(Object(L.a)(function(e){return t.createUrlTree(e,t.urlTree.queryParams,t.urlTree.fragment)})).pipe(G(function(e){if(e instanceof ie)return t.allowRedirects=!1,t.match(e.urlTree);if(e instanceof re)throw t.noMatchError(e);throw e}))},t.prototype.match=function(t){var e=this;return this.expandSegmentGroup(this.ngModule,this.config,t.root,xt).pipe(Object(L.a)(function(n){return e.createUrlTree(n,t.queryParams,t.fragment)})).pipe(G(function(t){if(t instanceof re)throw e.noMatchError(t);throw t}))},t.prototype.noMatchError=function(t){return new Error("Cannot match any routes. URL Segment: '"+t.segmentGroup+"'")},t.prototype.createUrlTree=function(t,e,n){var r,i=t.segments.length>0?new jt([],((r={})[xt]=t,r)):t;return new Ft(i,e,n)},t.prototype.expandSegmentGroup=function(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(L.a)(function(t){return new jt([],t)})):this.expandSegment(t,n,e,n.segments,r,!0)},t.prototype.expandChildren=function(t,e,n){var r=this;return function(n,i){if(0===Object.keys(n).length)return v({});var o=[],a=[],s={};return It(n,function(n,i){var u,l,c=(u=i,l=n,r.expandSegmentGroup(t,e,l,u)).pipe(Object(L.a)(function(t){return s[i]=t}));i===xt?o.push(c):a.push(c)}),v.apply(null,o.concat(a)).pipe(J(),B(),Object(L.a)(function(){return s}))}(n.children)},t.prototype.expandSegment=function(t,e,n,r,i,o){var s=this;return v.apply(void 0,Object(a.__spread)(n)).pipe(Object(L.a)(function(a){return s.expandSegmentAgainstRoute(t,e,n,a,r,i,o).pipe(G(function(t){if(t instanceof re)return v(null);throw t}))}),J(),M(function(t){return!!t}),G(function(t,n){if(t instanceof g||"EmptyError"===t.name){if(s.noLeftoversInUrl(e,r,i))return v(new jt([],{}));throw new re(e)}throw t}))},t.prototype.noLeftoversInUrl=function(t,e,n){return 0===e.length&&!t.children[n]},t.prototype.expandSegmentAgainstRoute=function(t,e,n,r,i,o,a){return he(r)!==o?oe(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):oe(e)},t.prototype.expandSegmentAgainstRouteUsingRedirect=function(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)},t.prototype.expandWildCardWithParamsAgainstRouteUsingRedirect=function(t,e,n,r){var i=this,o=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?ae(o):this.lineralizeSegments(n,o).pipe(Object(N.a)(function(n){var o=new jt(n,{});return i.expandSegment(t,o,e,n,r,!1)}))},t.prototype.expandRegularSegmentAgainstRouteUsingRedirect=function(t,e,n,r,i,o){var a=this,s=le(e,r,i),u=s.consumedSegments,l=s.lastChild,c=s.positionalParamSegments;if(!s.matched)return oe(e);var f=this.applyRedirectCommands(u,r.redirectTo,c);return r.redirectTo.startsWith("/")?ae(f):this.lineralizeSegments(r,f).pipe(Object(N.a)(function(r){return a.expandSegment(t,e,n,r.concat(i.slice(l)),o,!1)}))},t.prototype.matchSegmentAgainstRoute=function(t,e,n,r){var i=this;if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(L.a)(function(t){return n._loadedConfig=t,new jt(r,{})})):v(new jt(r,{}));var o=le(e,n,r),s=o.consumedSegments,u=o.lastChild;if(!o.matched)return oe(e);var l=r.slice(u);return this.getChildConfig(t,n).pipe(Object(N.a)(function(t){var n=t.module,r=t.routes,o=function(t,e,n,r){return n.length>0&&function(t,e,n){return r.some(function(n){return fe(t,e,n)&&he(n)!==xt})}(t,n)?{segmentGroup:ce(new jt(e,function(t,e){var n,r,i={};i[xt]=e;try{for(var o=Object(a.__values)(t),s=o.next();!s.done;s=o.next()){var u=s.value;""===u.path&&he(u)!==xt&&(i[he(u)]=new jt([],{}))}}catch(t){n={error:t}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}(r,new jt(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return r.some(function(n){return fe(t,e,n)})}(t,n)?{segmentGroup:ce(new jt(t.segments,function(t,e,n,r){var i,o,s={};try{for(var u=Object(a.__values)(n),l=u.next();!l.done;l=u.next()){var c=l.value;fe(t,e,c)&&!r[he(c)]&&(s[he(c)]=new jt([],{}))}}catch(t){i={error:t}}finally{try{l&&!l.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}return Object(a.__assign)({},r,s)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,s,l,r),u=o.segmentGroup,c=o.slicedSegments;return 0===c.length&&u.hasChildren()?i.expandChildren(n,r,u).pipe(Object(L.a)(function(t){return new jt(s,t)})):0===r.length&&0===c.length?v(new jt(s,{})):i.expandSegment(n,u,r,c,xt,!0).pipe(Object(L.a)(function(t){return new jt(s.concat(t.segments),t.children)}))}))},t.prototype.getChildConfig=function(t,e){var n=this;return e.children?v(new Dt(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?v(e._loadedConfig):function(t,e){var n=e.canLoad;return n&&0!==n.length?Mt(Object(c.a)(n).pipe(Object(L.a)(function(n){var r=t.get(n);return Nt(r.canLoad?r.canLoad(e):r(e))}))):v(!0)}(t.injector,e).pipe(Object(N.a)(function(r){return r?n.configLoader.load(t.injector,e).pipe(Object(L.a)(function(t){return e._loadedConfig=t,t})):function(t){return new p.a(function(e){return e.error(((n=Error("NavigationCancelingError: Cannot load children because the guard of the route \"path: '"+t.path+"'\" returned false")).ngNavigationCancelingError=!0,n));var n})}(e)})):v(new Dt([],t))},t.prototype.lineralizeSegments=function(t,e){for(var n=[],r=e.root;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return v(n);if(r.numberOfChildren>1||!r.children[xt])return se(t.redirectTo);r=r.children[xt]}},t.prototype.applyRedirectCommands=function(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)},t.prototype.applyRedirectCreatreUrlTree=function(t,e,n,r){var i=this.createSegmentGroup(t,e.root,n,r);return new Ft(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)},t.prototype.createQueryParams=function(t,e){var n={};return It(t,function(t,r){if("string"==typeof t&&t.startsWith(":")){var i=t.substring(1);n[r]=e[i]}else n[r]=t}),n},t.prototype.createSegmentGroup=function(t,e,n,r){var i=this,o=this.createSegments(t,e.segments,n,r),a={};return It(e.children,function(e,o){a[o]=i.createSegmentGroup(t,e,n,r)}),new jt(o,a)},t.prototype.createSegments=function(t,e,n,r){var i=this;return e.map(function(e){return e.path.startsWith(":")?i.findPosParam(t,e,r):i.findOrReturn(e,n)})},t.prototype.findPosParam=function(t,e,n){var r=n[e.path.substring(1)];if(!r)throw new Error("Cannot redirect to '"+t+"'. Cannot find '"+e.path+"'.");return r},t.prototype.findOrReturn=function(t,e){var n,r,i=0;try{for(var o=Object(a.__values)(e),s=o.next();!s.done;s=o.next()){var u=s.value;if(u.path===t.path)return e.splice(i),u;i++}}catch(t){n={error:t}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return t},t}();function le(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};var r=(e.matcher||St)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function ce(t){if(1===t.numberOfChildren&&t.children[xt]){var e=t.children[xt];return new jt(t.segments.concat(e.segments),e.children)}return t}function fe(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function he(t){return t.outlet||xt}var de=function(){function t(t){this._root=t}return Object.defineProperty(t.prototype,"root",{get:function(){return this._root.value},enumerable:!0,configurable:!0}),t.prototype.parent=function(t){var e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null},t.prototype.children=function(t){var e=pe(t,this._root);return e?e.children.map(function(t){return t.value}):[]},t.prototype.firstChild=function(t){var e=pe(t,this._root);return e&&e.children.length>0?e.children[0].value:null},t.prototype.siblings=function(t){var e=ve(t,this._root);return e.length<2?[]:e[e.length-2].children.map(function(t){return t.value}).filter(function(e){return e!==t})},t.prototype.pathFromRoot=function(t){return ve(t,this._root).map(function(t){return t.value})},t}();function pe(t,e){if(t===e.value)return e;try{for(var n=Object(a.__values)(e.children),r=n.next();!r.done;r=n.next()){var i=pe(t,r.value);if(i)return i}}catch(t){o={error:t}}finally{try{r&&!r.done&&(s=n.return)&&s.call(n)}finally{if(o)throw o.error}}return null;var o,s}function ve(t,e){if(t===e.value)return[e];try{for(var n=Object(a.__values)(e.children),r=n.next();!r.done;r=n.next()){var i=ve(t,r.value);if(i.length)return i.unshift(e),i}}catch(t){o={error:t}}finally{try{r&&!r.done&&(s=n.return)&&s.call(n)}finally{if(o)throw o.error}}return[];var o,s}var ge=function(){function t(t,e){this.value=t,this.children=e}return t.prototype.toString=function(){return"TreeNode("+this.value+")"},t}();function me(t){var e={};return t&&t.children.forEach(function(t){return e[t.value.outlet]=t}),e}var ye=function(t){function e(e,n){var r=t.call(this,e)||this;return r.snapshot=n,Se(r,e),r}return Object(a.__extends)(e,t),e.prototype.toString=function(){return this.snapshot.toString()},e}(de);function be(t,e){var n=function(t,e){var n=new _e([],{},{},"",{},xt,e,null,t.root,-1,{});return new Ce("",new ge(n,[]))}(t,e),r=new l([new Vt("",{})]),i=new l({}),o=new l({}),a=new l({}),s=new l(""),u=new we(r,i,a,s,o,xt,e,n.root);return u.snapshot=n.root,new ye(new ge(u,[]),n)}var we=function(){function t(t,e,n,r,i,o,a,s){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=a,this._futureSnapshot=s}return Object.defineProperty(t.prototype,"routeConfig",{get:function(){return this._futureSnapshot.routeConfig},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstChild",{get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pathFromRoot",{get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paramMap",{get:function(){return this._paramMap||(this._paramMap=this.params.pipe(Object(L.a)(function(t){return Ct(t)}))),this._paramMap},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(L.a)(function(t){return Ct(t)}))),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return this.snapshot?this.snapshot.toString():"Future("+this._futureSnapshot+")"},t}();function xe(t,e){void 0===e&&(e="emptyOnly");var n=t.pathFromRoot,r=0;if("always"!==e)for(r=n.length-1;r>=1;){var i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function(t){return t.reduce(function(t,e){return{params:Object(a.__assign)({},t.params,e.params),data:Object(a.__assign)({},t.data,e.data),resolve:Object(a.__assign)({},t.resolve,e._resolvedData)}},{params:{},data:{},resolve:{}})}(n.slice(r))}var _e=function(){function t(t,e,n,r,i,o,a,s,u,l,c){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=a,this.routeConfig=s,this._urlSegment=u,this._lastPathIndex=l,this._resolve=c}return Object.defineProperty(t.prototype,"root",{get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstChild",{get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pathFromRoot",{get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paramMap",{get:function(){return this._paramMap||(this._paramMap=Ct(this.params)),this._paramMap},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=Ct(this.queryParams)),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return"Route(url:'"+this.url.map(function(t){return t.toString()}).join("/")+"', path:'"+(this.routeConfig?this.routeConfig.path:"")+"')"},t}(),Ce=function(t){function e(e,n){var r=t.call(this,n)||this;return r.url=e,Se(r,n),r}return Object(a.__extends)(e,t),e.prototype.toString=function(){return De(this._root)},e}(de);function Se(t,e){e.value._routerState=t,e.children.forEach(function(e){return Se(t,e)})}function De(t){var e=t.children.length>0?" { "+t.children.map(De).join(", ")+" } ":"";return""+t.value+e}function Pe(t){if(t.snapshot){var e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Ot(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Ot(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!Ot(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Ot(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Ae(t,e){var n,r;return Ot(t.params,e.params)&&zt(n=t.url,r=e.url)&&n.every(function(t,e){return Ot(t.parameters,r[e].parameters)})&&!(!t.parent!=!e.parent)&&(!t.parent||Ae(t.parent,e.parent))}function Te(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Ee(t,e,n,r,i){var o={};return r&&It(r,function(t,e){o[e]=Array.isArray(t)?t.map(function(t){return""+t}):""+t}),new Ft(n.root===t?e:function t(e,n,r){var i={};return It(e.children,function(e,o){i[o]=e===n?r:t(e,n,r)}),new jt(e.segments,i)}(n.root,t,e),o,i)}var Oe=function(){function t(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Te(n[0]))throw new Error("Root segment cannot have matrix parameters");var r=n.find(function(t){return"object"==typeof t&&null!=t&&t.outlets});if(r&&r!==Rt(n))throw new Error("{outlets:{}} has to be the last command")}return t.prototype.toRoot=function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]},t}(),ke=function(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n};function Re(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets[xt]:""+t}function Ie(t,e,n){if(t||(t=new jt([],{})),0===t.segments.length&&t.hasChildren())return Me(t,e,n);var r=function(t,e,n){for(var r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};i<t.segments.length;){if(r>=n.length)return o;var a=t.segments[i],s=Re(n[r]),u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===s)break;if(s&&u&&"object"==typeof u&&void 0===u.outlets){if(!je(s,u,a))return o;r+=2}else{if(!je(s,{},a))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){var o=new jt(t.segments.slice(0,r.pathIndex),{});return o.children[xt]=new jt(t.segments.slice(r.pathIndex),t.children),Me(o,0,i)}return r.match&&0===i.length?new jt(t.segments,{}):r.match&&!t.hasChildren()?Ne(t,e,n):r.match?Me(t,0,i):Ne(t,e,n)}function Me(t,e,n){if(0===n.length)return new jt(t.segments,{});var r=function(t){return"object"!=typeof t[0]?((e={})[xt]=t,e):void 0===t[0].outlets?((n={})[xt]=t,n):t[0].outlets;var e,n}(n),i={};return It(r,function(n,r){null!==n&&(i[r]=Ie(t.children[r],e,n))}),It(t.children,function(t,e){void 0===r[e]&&(i[e]=t)}),new jt(t.segments,i)}function Ne(t,e,n){for(var r=t.segments.slice(0,e),i=0;i<n.length;){if("object"==typeof n[i]&&void 0!==n[i].outlets){var o=Le(n[i].outlets);return new jt(r,o)}if(0===i&&Te(n[0]))r.push(new Vt(t.segments[e].path,n[0])),i++;else{var a=Re(n[i]),s=i<n.length-1?n[i+1]:null;a&&s&&Te(s)?(r.push(new Vt(a,Fe(s))),i+=2):(r.push(new Vt(a,{})),i++)}}return new jt(r,{})}function Le(t){var e={};return It(t,function(t,n){null!==t&&(e[n]=Ne(new jt([],{}),0,t))}),e}function Fe(t){var e={};return It(t,function(t,n){return e[n]=""+t}),e}function je(t,e,n){return t==n.path&&Ot(e,n.parameters)}var Ve=function(t){this.path=t,this.route=this.path[this.path.length-1]},ze=function(t,e){this.component=t,this.route=e},Be=function(){function t(t,e,n,r){this.future=t,this.curr=e,this.moduleInjector=n,this.forwardEvent=r,this.canActivateChecks=[],this.canDeactivateChecks=[]}return t.prototype.initialize=function(t){var e=this.future._root;this.setupChildRouteGuards(e,this.curr?this.curr._root:null,t,[e.value])},t.prototype.checkGuards=function(){var t=this;return this.isDeactivating()||this.isActivating()?this.runCanDeactivateChecks().pipe(Object(N.a)(function(e){return e?t.runCanActivateChecks():v(!1)})):v(!0)},t.prototype.resolveData=function(t){var e=this;return this.isActivating()?Object(c.a)(this.canActivateChecks).pipe(F(function(n){return e.runResolve(n.route,t)}),function(t,e){return arguments.length>=2?function(n){return Object(et.a)(Q(t,e),j(1),S(e))(n)}:function(e){return Object(et.a)(Q(function(e,n,r){return t(e,n,r+1)}),j(1))(e)}}(function(t,e){return t})):v(null)},t.prototype.isDeactivating=function(){return 0!==this.canDeactivateChecks.length},t.prototype.isActivating=function(){return 0!==this.canActivateChecks.length},t.prototype.setupChildRouteGuards=function(t,e,n,r){var i=this,o=me(e);t.children.forEach(function(t){i.setupRouteGuards(t,o[t.value.outlet],n,r.concat([t.value])),delete o[t.value.outlet]}),It(o,function(t,e){return i.deactivateRouteAndItsChildren(t,n.getContext(e))})},t.prototype.setupRouteGuards=function(t,e,n,r){var i=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&i.routeConfig===o.routeConfig){var s=this.shouldRunGuardsAndResolvers(o,i,i.routeConfig.runGuardsAndResolvers);s?this.canActivateChecks.push(new Ve(r)):(i.data=o.data,i._resolvedData=o._resolvedData),this.setupChildRouteGuards(t,e,i.component?a?a.children:null:n,r),s&&this.canDeactivateChecks.push(new ze(a.outlet.component,o))}else o&&this.deactivateRouteAndItsChildren(e,a),this.canActivateChecks.push(new Ve(r)),this.setupChildRouteGuards(t,null,i.component?a?a.children:null:n,r)},t.prototype.shouldRunGuardsAndResolvers=function(t,e,n){switch(n){case"always":return!0;case"paramsOrQueryParamsChange":return!Ae(t,e)||!Ot(t.queryParams,e.queryParams);case"paramsChange":default:return!Ae(t,e)}},t.prototype.deactivateRouteAndItsChildren=function(t,e){var n=this,r=me(t),i=t.value;It(r,function(t,r){n.deactivateRouteAndItsChildren(t,i.component?e?e.children.getContext(r):null:e)}),this.canDeactivateChecks.push(new ze(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))},t.prototype.runCanDeactivateChecks=function(){var t=this;return Object(c.a)(this.canDeactivateChecks).pipe(Object(N.a)(function(e){return t.runCanDeactivate(e.component,e.route)}),W(function(t){return!0===t}))},t.prototype.runCanActivateChecks=function(){var t=this;return Object(c.a)(this.canActivateChecks).pipe(F(function(e){return Mt(Object(c.a)([t.fireChildActivationStart(e.route.parent),t.fireActivationStart(e.route),t.runCanActivateChild(e.path),t.runCanActivate(e.route)]))}),W(function(t){return!0===t}))},t.prototype.fireActivationStart=function(t){return null!==t&&this.forwardEvent&&this.forwardEvent(new yt(t)),v(!0)},t.prototype.fireChildActivationStart=function(t){return null!==t&&this.forwardEvent&&this.forwardEvent(new gt(t)),v(!0)},t.prototype.runCanActivate=function(t){var e=this,n=t.routeConfig?t.routeConfig.canActivate:null;return n&&0!==n.length?Mt(Object(c.a)(n).pipe(Object(L.a)(function(n){var r=e.getToken(n,t);return Nt(r.canActivate?r.canActivate(t,e.future):r(t,e.future)).pipe(M())}))):v(!0)},t.prototype.runCanActivateChild=function(t){var e=this,n=t[t.length-1],r=t.slice(0,t.length-1).reverse().map(function(t){return e.extractCanActivateChild(t)}).filter(function(t){return null!==t});return Mt(Object(c.a)(r).pipe(Object(L.a)(function(t){return Mt(Object(c.a)(t.guards).pipe(Object(L.a)(function(r){var i=e.getToken(r,t.node);return Nt(i.canActivateChild?i.canActivateChild(n,e.future):i(n,e.future)).pipe(M())})))})))},t.prototype.extractCanActivateChild=function(t){var e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null},t.prototype.runCanDeactivate=function(t,e){var n=this,r=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return r&&0!==r.length?Object(c.a)(r).pipe(Object(N.a)(function(r){var i=n.getToken(r,e);return Nt(i.canDeactivate?i.canDeactivate(t,e,n.curr,n.future):i(t,e,n.curr,n.future)).pipe(M())})).pipe(W(function(t){return!0===t})):v(!0)},t.prototype.runResolve=function(t,e){return this.resolveNode(t._resolve,t).pipe(Object(L.a)(function(n){return t._resolvedData=n,t.data=Object(a.__assign)({},t.data,xe(t,e).resolve),null}))},t.prototype.resolveNode=function(t,e){var n=this,r=Object.keys(t);if(0===r.length)return v({});if(1===r.length){var i=r[0];return this.getResolver(t[i],e).pipe(Object(L.a)(function(t){return(e={})[i]=t,e;var e}))}var o={};return Object(c.a)(r).pipe(Object(N.a)(function(r){return n.getResolver(t[r],e).pipe(Object(L.a)(function(t){return o[r]=t,t}))})).pipe(B(),Object(L.a)(function(){return o}))},t.prototype.getResolver=function(t,e){var n=this.getToken(t,e);return Nt(n.resolve?n.resolve(e,this.future):n(e,this.future))},t.prototype.getToken=function(t,e){var n=function(t){if(!t)return null;for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(e);return(n?n.module.injector:this.moduleInjector).get(t)},t}(),We=function(){},He=function(){function t(t,e,n,r,i){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i}return t.prototype.recognize=function(){try{var t=Ue(this.urlTree.root,[],[],this.config).segmentGroup,e=this.processSegmentGroup(this.config,t,xt),n=new _e([],Object.freeze({}),Object.freeze(Object(a.__assign)({},this.urlTree.queryParams)),this.urlTree.fragment,{},xt,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new ge(n,e),i=new Ce(this.url,r);return this.inheritParamsAndData(i._root),v(i)}catch(t){return new p.a(function(e){return e.error(t)})}},t.prototype.inheritParamsAndData=function(t){var e=this,n=t.value,r=xe(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach(function(t){return e.inheritParamsAndData(t)})},t.prototype.processSegmentGroup=function(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)},t.prototype.processChildren=function(t,e){var n,r=this,i=Bt(e,function(e,n){return r.processSegmentGroup(t,e,n)});return n={},i.forEach(function(t){var e=n[t.value.outlet];if(e){var r=e.url.map(function(t){return t.toString()}).join("/"),i=t.value.url.map(function(t){return t.toString()}).join("/");throw new Error("Two segments cannot have the same outlet name: '"+r+"' and '"+i+"'.")}n[t.value.outlet]=t.value}),i.sort(function(t,e){return t.value.outlet===xt?-1:e.value.outlet===xt?1:t.value.outlet.localeCompare(e.value.outlet)}),i},t.prototype.processSegment=function(t,e,n,r){try{for(var i=Object(a.__values)(t),o=i.next();!o.done;o=i.next()){var s=o.value;try{return this.processSegmentAgainstRoute(s,e,n,r)}catch(t){if(!(t instanceof We))throw t}}}catch(t){u={error:t}}finally{try{o&&!o.done&&(l=i.return)&&l.call(i)}finally{if(u)throw u.error}}if(this.noLeftoversInUrl(e,n,r))return[];throw new We;var u,l},t.prototype.noLeftoversInUrl=function(t,e,n){return 0===e.length&&!t.children[n]},t.prototype.processSegmentAgainstRoute=function(t,e,n,r){if(t.redirectTo)throw new We;if((t.outlet||xt)!==r)throw new We;var i,o=[],s=[];if("**"===t.path){var u=n.length>0?Rt(n).parameters:{};i=new _e(n,u,Object.freeze(Object(a.__assign)({},this.urlTree.queryParams)),this.urlTree.fragment,Ke(t),r,t.component,t,Xe(e),qe(e)+n.length,Ze(t))}else{var l=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new We;return{consumedSegments:[],lastChild:0,parameters:{}}}var r=(e.matcher||St)(n,t,e);if(!r)throw new We;var i={};It(r.posParams,function(t,e){i[e]=t.path});var o=r.consumed.length>0?Object(a.__assign)({},i,r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(e,t,n);o=l.consumedSegments,s=n.slice(l.lastChild),i=new _e(o,l.parameters,Object.freeze(Object(a.__assign)({},this.urlTree.queryParams)),this.urlTree.fragment,Ke(t),r,t.component,t,Xe(e),qe(e)+o.length,Ze(t))}var c=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),f=Ue(e,o,s,c),h=f.segmentGroup,d=f.slicedSegments;if(0===d.length&&h.hasChildren()){var p=this.processChildren(c,h);return[new ge(i,p)]}if(0===c.length&&0===d.length)return[new ge(i,[])];var v=this.processSegment(c,h,d,xt);return[new ge(i,v)]},t}();function Xe(t){for(var e=t;e._sourceSegment;)e=e._sourceSegment;return e}function qe(t){for(var e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;e._sourceSegment;)n+=(e=e._sourceSegment)._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Ue(t,e,n,r){if(n.length>0&&function(t,e,n){return r.some(function(n){return Ge(t,e,n)&&Ye(n)!==xt})}(t,n)){var i=new jt(e,function(t,e,n,r){var i,o,s={};s[xt]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;try{for(var u=Object(a.__values)(n),l=u.next();!l.done;l=u.next()){var c=l.value;if(""===c.path&&Ye(c)!==xt){var f=new jt([],{});f._sourceSegment=t,f._segmentIndexShift=e.length,s[Ye(c)]=f}}}catch(t){i={error:t}}finally{try{l&&!l.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}return s}(t,e,r,new jt(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return r.some(function(n){return Ge(t,e,n)})}(t,n)){var o=new jt(t.segments,function(t,e,n,r){var i,o,s={};try{for(var u=Object(a.__values)(n),l=u.next();!l.done;l=u.next()){var c=l.value;if(Ge(t,e,c)&&!r[Ye(c)]){var f=new jt([],{});f._sourceSegment=t,f._segmentIndexShift=t.segments.length,s[Ye(c)]=f}}}catch(t){i={error:t}}finally{try{l&&!l.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}return Object(a.__assign)({},r,s)}(t,n,r,t.children));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}var s=new jt(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function Ge(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function Ye(t){return t.outlet||xt}function Ke(t){return t.data||{}}function Ze(t){return t.resolve||{}}var Je=function(){},Qe=function(){function t(){}return t.prototype.shouldDetach=function(t){return!1},t.prototype.store=function(t,e){},t.prototype.shouldAttach=function(t){return!1},t.prototype.retrieve=function(t){return null},t.prototype.shouldReuseRoute=function(t,e){return t.routeConfig===e.routeConfig},t}(),$e=new r.InjectionToken("ROUTES"),tn=function(){function t(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}return t.prototype.load=function(t,e){var n=this;return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(L.a)(function(r){n.onLoadEndListener&&n.onLoadEndListener(e);var i=r.create(t);return new Dt(kt(i.injector.get($e)).map(Et),i)}))},t.prototype.loadModuleFactory=function(t){var e=this;return"string"==typeof t?Object(c.a)(this.loader.load(t)):Nt(t()).pipe(Object(N.a)(function(t){return t instanceof r.NgModuleFactory?v(t):Object(c.a)(e.compiler.compileModuleAsync(t))}))},t}(),en=function(){},nn=function(){function t(){}return t.prototype.shouldProcessUrl=function(t){return!0},t.prototype.extract=function(t){return t},t.prototype.merge=function(t,e){return t},t}();function rn(t){throw t}function on(t,e,n){return e.parse("/")}function an(t){return v(null)}var sn=function(){function t(t,e,n,i,o,a,u,c){var f=this;this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=c,this.navigations=new l(null),this.navigationId=0,this.events=new s.a,this.errorHandler=rn,this.malformedUriErrorHandler=on,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:an,afterPreactivation:an},this.urlHandlingStrategy=new nn,this.routeReuseStrategy=new Qe,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.ngModule=o.get(r.NgModuleRef),this.resetConfig(c),this.currentUrlTree=new Ft(new jt([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.configLoader=new tn(a,u,function(t){return f.triggerEvent(new pt(t))},function(t){return f.triggerEvent(new vt(t))}),this.routerState=be(this.currentUrlTree,this.rootComponentType),this.processNavigations()}return t.prototype.resetRootComponentType=function(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType},t.prototype.initialNavigation=function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})},t.prototype.setUpLocationChangeListener=function(){var t=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe(function(e){var n=t.parseUrl(e.url),r="popstate"===e.type?"popstate":"hashchange",i=e.state&&e.state.navigationId?{navigationId:e.state.navigationId}:null;setTimeout(function(){t.scheduleNavigation(n,r,i,{replaceUrl:!0})},0)}))},Object.defineProperty(t.prototype,"url",{get:function(){return this.serializeUrl(this.currentUrlTree)},enumerable:!0,configurable:!0}),t.prototype.triggerEvent=function(t){this.events.next(t)},t.prototype.resetConfig=function(t){Pt(t),this.config=t.map(Et),this.navigated=!1,this.lastSuccessfulId=-1},t.prototype.ngOnDestroy=function(){this.dispose()},t.prototype.dispose=function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)},t.prototype.createUrlTree=function(t,e){void 0===e&&(e={});var n=e.relativeTo,i=e.queryParams,o=e.fragment,s=e.preserveQueryParams,u=e.queryParamsHandling,l=e.preserveFragment;Object(r.isDevMode)()&&s&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");var c=n||this.routerState.root,f=l?this.currentUrlTree.fragment:o,h=null;if(u)switch(u){case"merge":h=Object(a.__assign)({},this.currentUrlTree.queryParams,i);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=i||null}else h=s?this.currentUrlTree.queryParams:i||null;return null!==h&&(h=this.removeEmptyProps(h)),function(t,e,n,r,i){if(0===n.length)return Ee(e.root,e.root,e,r,i);var o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Oe(!0,0,t);var e=0,n=!1,r=t.reduce(function(t,r,i){if("object"==typeof r&&null!=r){if(r.outlets){var o={};return It(r.outlets,function(t,e){o[e]="string"==typeof t?t.split("/"):t}),Object(a.__spread)(t,[{outlets:o}])}if(r.segmentPath)return Object(a.__spread)(t,[r.segmentPath])}return"string"!=typeof r?Object(a.__spread)(t,[r]):0===i?(r.split("/").forEach(function(r,i){0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):Object(a.__spread)(t,[r])},[]);return new Oe(n,e,r)}(n);if(o.toRoot())return Ee(e.root,new jt([],{}),e,r,i);var s=function(t,n,r){if(t.isAbsolute)return new ke(e.root,!0,0);if(-1===r.snapshot._lastPathIndex)return new ke(r.snapshot._urlSegment,!0,0);var i=Te(t.commands[0])?0:1;return function(e,n,o){for(var a=r.snapshot._urlSegment,s=r.snapshot._lastPathIndex+i,u=t.numberOfDoubleDots;u>s;){if(u-=s,!(a=a.parent))throw new Error("Invalid number of '../'");s=a.segments.length}return new ke(a,!1,s-u)}()}(o,0,t),u=s.processChildren?Me(s.segmentGroup,s.index,o.commands):Ie(s.segmentGroup,s.index,o.commands);return Ee(s.segmentGroup,u,e,r,i)}(c,this.currentUrlTree,t,h,f)},t.prototype.navigateByUrl=function(t,e){void 0===e&&(e={skipLocationChange:!1});var n=t instanceof Ft?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)},t.prototype.navigate=function(t,e){return void 0===e&&(e={skipLocationChange:!1}),function(t){for(var e=0;e<t.length;e++){var n=t[e];if(null==n)throw new Error("The requested path contains "+n+" segment at index "+e)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)},t.prototype.serializeUrl=function(t){return this.urlSerializer.serialize(t)},t.prototype.parseUrl=function(t){var e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e},t.prototype.isActive=function(t,e){if(t instanceof Ft)return Lt(this.currentUrlTree,t,e);var n=this.parseUrl(t);return Lt(this.currentUrlTree,n,e)},t.prototype.removeEmptyProps=function(t){return Object.keys(t).reduce(function(e,n){var r=t[n];return null!==r&&void 0!==r&&(e[n]=r),e},{})},t.prototype.processNavigations=function(){var t=this;this.navigations.pipe(F(function(e){return e?(t.executeScheduledNavigation(e),e.promise.catch(function(){})):v(null)})).subscribe(function(){})},t.prototype.scheduleNavigation=function(t,e,n,r){var i=this.navigations.value;if(i&&"imperative"!==e&&"imperative"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(i&&"hashchange"==e&&"popstate"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(i&&"popstate"==e&&"hashchange"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);var o=null,a=null,s=new Promise(function(t,e){o=t,a=e}),u=++this.navigationId;return this.navigations.next({id:u,source:e,state:n,rawUrl:t,extras:r,resolve:o,reject:a,promise:s}),s.catch(function(t){return Promise.reject(t)})},t.prototype.executeScheduledNavigation=function(t){var e=this,n=t.id,r=t.rawUrl,i=t.extras,o=t.resolve,a=t.reject,s=t.source,u=t.state,l=this.urlHandlingStrategy.extract(r),c=!this.navigated||l.toString()!==this.currentUrlTree.toString();("reload"===this.onSameUrlNavigation||c)&&this.urlHandlingStrategy.shouldProcessUrl(r)?(this.events.next(new ot(n,this.serializeUrl(l),s,u)),Promise.resolve().then(function(t){return e.runNavigate(l,r,!!i.skipLocationChange,!!i.replaceUrl,n,null)}).then(o,a)):c&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)?(this.events.next(new ot(n,this.serializeUrl(l),s,u)),Promise.resolve().then(function(t){return e.runNavigate(l,r,!1,!1,n,be(l,e.rootComponentType).snapshot)}).then(o,a)):(this.rawUrlTree=r,o(null))},t.prototype.runNavigate=function(t,e,n,r,i,o){var s=this;return i!==this.navigationId?(this.events.next(new st(i,this.serializeUrl(t),"Navigation ID "+i+" is not equal to the current navigation id "+this.navigationId)),Promise.resolve(!1)):new Promise(function(u,c){var f,h=(o?v({appliedUrl:t,snapshot:o}):new ue(s.ngModule.injector,s.configLoader,s.urlSerializer,t,s.config).apply().pipe(Object(N.a)(function(e){return function(t,e,n,r,i){return void 0===i&&(i="emptyOnly"),new He(t,e,n,r,i).recognize()}(s.rootComponentType,s.config,e,s.serializeUrl(e),s.paramsInheritanceStrategy).pipe(Object(L.a)(function(n){return s.events.next(new lt(i,s.serializeUrl(t),s.serializeUrl(e),n)),{appliedUrl:e,snapshot:n}}))}))).pipe(Object(N.a)(function(t){return"boolean"==typeof t?v(t):s.hooks.beforePreactivation(t.snapshot).pipe(Object(L.a)(function(){return t}))})).pipe(Object(L.a)(function(t){if("boolean"==typeof t)return t;var e=t.appliedUrl,n=t.snapshot;return(f=new Be(n,s.routerState.snapshot,s.ngModule.injector,function(t){return s.triggerEvent(t)})).initialize(s.rootContexts),{appliedUrl:e,snapshot:n}})).pipe(Object(N.a)(function(e){if("boolean"==typeof e||s.navigationId!==i)return v(!1);var n=e.appliedUrl,r=e.snapshot;return s.triggerEvent(new ct(i,s.serializeUrl(t),s.serializeUrl(n),r)),f.checkGuards().pipe(Object(L.a)(function(e){return s.triggerEvent(new ft(i,s.serializeUrl(t),s.serializeUrl(n),r,e)),{appliedUrl:n,snapshot:r,shouldActivate:e}}))})).pipe(Object(N.a)(function(e){return"boolean"==typeof e||s.navigationId!==i?v(!1):e.shouldActivate&&f.isActivating()?(s.triggerEvent(new ht(i,s.serializeUrl(t),s.serializeUrl(e.appliedUrl),e.snapshot)),f.resolveData(s.paramsInheritanceStrategy).pipe(Object(L.a)(function(){return s.triggerEvent(new dt(i,s.serializeUrl(t),s.serializeUrl(e.appliedUrl),e.snapshot)),e}))):v(e)})).pipe(Object(N.a)(function(t){return"boolean"==typeof t||s.navigationId!==i?v(!1):s.hooks.afterPreactivation(t.snapshot).pipe(Object(L.a)(function(){return t}))})).pipe(Object(L.a)(function(t){if("boolean"==typeof t||s.navigationId!==i)return!1;var e,n,r,o=t.appliedUrl,u=t.shouldActivate;return u?{appliedUrl:o,state:(r=function t(e,n,r){if(r&&e.shouldReuseRoute(n.value,r.value.snapshot)){(c=r.value)._futureSnapshot=n.value;var i=function(e,n,r){return n.children.map(function(n){try{for(var i=Object(a.__values)(r.children),o=i.next();!o.done;o=i.next()){var s=o.value;if(e.shouldReuseRoute(s.value.snapshot,n.value))return t(e,n,s)}}catch(t){u={error:t}}finally{try{o&&!o.done&&(l=i.return)&&l.call(i)}finally{if(u)throw u.error}}return t(e,n);var u,l})}(e,n,r);return new ge(c,i)}var o=e.retrieve(n.value);if(o){var s=o.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(var r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(n,s),s}var u,c=new we(new l((u=n.value).url),new l(u.params),new l(u.queryParams),new l(u.fragment),new l(u.data),u.outlet,u.component,u);return i=n.children.map(function(n){return t(e,n)}),new ge(c,i)}(s.routeReuseStrategy,(e=t.snapshot)._root,(n=s.routerState)?n._root:void 0),new ye(r,e)),shouldActivate:u}:{appliedUrl:o,state:null,shouldActivate:u}}));s.activateRoutes(h,s.routerState,s.currentUrlTree,i,t,e,n,r,u,c)})},t.prototype.activateRoutes=function(t,e,n,r,i,o,a,s,u,l){var c,f=this;t.forEach(function(t){if("boolean"!=typeof t&&t.shouldActivate&&r===f.navigationId&&t.state){var n=t.state;if(f.currentUrlTree=t.appliedUrl,f.rawUrlTree=f.urlHandlingStrategy.merge(f.currentUrlTree,o),f.routerState=n,!a){var i=f.urlSerializer.serialize(f.rawUrlTree);f.location.isCurrentPathEqualTo(i)||s?f.location.replaceState(i,"",{navigationId:r}):f.location.go(i,"",{navigationId:r})}new un(f.routeReuseStrategy,n,e,function(t){return f.triggerEvent(t)}).activate(f.rootContexts),c=!0}else c=!1}).then(function(){c?(f.navigated=!0,f.lastSuccessfulId=r,f.events.next(new at(r,f.serializeUrl(i),f.serializeUrl(f.currentUrlTree))),u(!0)):(f.resetUrlToCurrentUrlTree(),f.events.next(new st(r,f.serializeUrl(i),"")),u(!1))},function(t){if((a=t)&&a.ngNavigationCancelingError)f.navigated=!0,f.resetStateAndUrl(e,n,o),f.events.next(new st(r,f.serializeUrl(i),t.message)),u(!1);else{f.resetStateAndUrl(e,n,o),f.events.next(new ut(r,f.serializeUrl(i),t));try{u(f.errorHandler(t))}catch(t){l(t)}}var a})},t.prototype.resetStateAndUrl=function(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()},t.prototype.resetUrlToCurrentUrlTree=function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})},t}(),un=function(){function t(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}return t.prototype.activate=function(t){var e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Pe(this.futureState.root),this.activateChildRoutes(e,n,t)},t.prototype.deactivateChildRoutes=function(t,e,n){var r=this,i=me(e);t.children.forEach(function(t){var e=t.value.outlet;r.deactivateRoutes(t,i[e],n),delete i[e]}),It(i,function(t,e){r.deactivateRouteAndItsChildren(t,n)})},t.prototype.deactivateRoutes=function(t,e,n){var r=t.value,i=e?e.value:null;if(r===i)if(r.component){var o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)},t.prototype.deactivateRouteAndItsChildren=function(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)},t.prototype.detachAndStoreRouteSubtree=function(t,e){var n=e.getContext(t.value.outlet);if(n&&n.outlet){var r=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:r,route:t,contexts:i})}},t.prototype.deactivateRouteAndOutlet=function(t,e){var n=this,r=e.getContext(t.value.outlet);if(r){var i=me(t),o=t.value.component?r.children:e;It(i,function(t,e){return n.deactivateRouteAndItsChildren(t,o)}),r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated())}},t.prototype.activateChildRoutes=function(t,e,n){var r=this,i=me(e);t.children.forEach(function(t){r.activateRoutes(t,i[t.value.outlet],n),r.forwardEvent(new bt(t.value.snapshot))}),t.children.length&&this.forwardEvent(new mt(t.value.snapshot))},t.prototype.activateRoutes=function(t,e,n){var r=t.value,i=e?e.value:null;if(Pe(r),r===i)if(r.component){var o=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,n);else if(r.component)if(o=n.getOrCreateContext(r.outlet),this.routeReuseStrategy.shouldAttach(r.snapshot)){var a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),ln(a.route)}else{var s=function(t){for(var e=r.snapshot.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(),u=s?s.module.componentFactoryResolver:null;o.route=r,o.resolver=u,o.outlet&&o.outlet.activateWith(r,u),this.activateChildRoutes(t,null,o.children)}else this.activateChildRoutes(t,null,n)},t}();function ln(t){Pe(t.value),t.children.forEach(ln)}var cn=function(){function t(t,e,n){var r=this;this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.subscription=t.events.subscribe(function(t){t instanceof at&&r.updateTargetUrlAndHref()})}return Object.defineProperty(t.prototype,"routerLink",{set:function(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"preserveQueryParams",{set:function(t){Object(r.isDevMode)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(t){this.updateTargetUrlAndHref()},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.prototype.onClick=function(t,e,n,r){if(0!==t||e||n||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;var i={skipLocationChange:fn(this.skipLocationChange),replaceUrl:fn(this.replaceUrl)};return this.router.navigateByUrl(this.urlTree,i),!1},t.prototype.updateTargetUrlAndHref=function(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))},Object.defineProperty(t.prototype,"urlTree",{get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:fn(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:fn(this.preserveFragment)})},enumerable:!0,configurable:!0}),t}();function fn(t){return""===t||!!t}var hn=function(){return function(){this.outlet=null,this.route=null,this.resolver=null,this.children=new dn,this.attachRef=null}}(),dn=function(){function t(){this.contexts=new Map}return t.prototype.onChildOutletCreated=function(t,e){var n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)},t.prototype.onChildOutletDestroyed=function(t){var e=this.getContext(t);e&&(e.outlet=null)},t.prototype.onOutletDeactivated=function(){var t=this.contexts;return this.contexts=new Map,t},t.prototype.onOutletReAttached=function(t){this.contexts=t},t.prototype.getOrCreateContext=function(t){var e=this.getContext(t);return e||(e=new hn,this.contexts.set(t,e)),e},t.prototype.getContext=function(t){return this.contexts.get(t)||null},t}(),pn=function(){function t(t,e,n,i,o){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.EventEmitter,this.deactivateEvents=new r.EventEmitter,this.name=i||xt,t.onChildOutletCreated(this.name,this)}return t.prototype.ngOnDestroy=function(){this.parentContexts.onChildOutletDestroyed(this.name)},t.prototype.ngOnInit=function(){if(!this.activated){var t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}},Object.defineProperty(t.prototype,"isActivated",{get:function(){return!!this.activated},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"component",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activatedRoute",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activatedRouteData",{get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}},enumerable:!0,configurable:!0}),t.prototype.detach=function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var t=this.activated;return this.activated=null,this._activatedRoute=null,t},t.prototype.attach=function(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)},t.prototype.deactivate=function(){if(this.activated){var t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}},t.prototype.activateWith=function(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;var n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new vn(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)},t}(),vn=function(){function t(t,e,n){this.route=t,this.childContexts=e,this.parent=n}return t.prototype.get=function(t,e){return t===we?this.route:t===dn?this.childContexts:this.parent.get(t,e)},t}(),gn=function(){},mn=function(){function t(){}return t.prototype.preload=function(t,e){return e().pipe(G(function(){return v(null)}))},t}(),yn=function(){function t(){}return t.prototype.preload=function(t,e){return v(null)},t}(),bn=function(){function t(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new tn(e,n,function(e){return t.triggerEvent(new pt(e))},function(e){return t.triggerEvent(new vt(e))})}return t.prototype.setUpPreloading=function(){var t=this;this.subscription=this.router.events.pipe(y(function(t){return t instanceof at}),F(function(){return t.preload()})).subscribe(function(){})},t.prototype.preload=function(){var t=this.injector.get(r.NgModuleRef);return this.processRoutes(t,this.router.config)},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.prototype.processRoutes=function(t,e){var n,r,i=[];try{for(var o=Object(a.__values)(e),s=o.next();!s.done;s=o.next()){var u=s.value;if(u.loadChildren&&!u.canLoad&&u._loadedConfig){var l=u._loadedConfig;i.push(this.processRoutes(l.module,l.routes))}else u.loadChildren&&!u.canLoad?i.push(this.preloadConfig(t,u)):u.children&&i.push(this.processRoutes(t,u.children))}}catch(t){n={error:t}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return Object(c.a)(i).pipe(Object(Z.a)(),Object(L.a)(function(t){}))},t.prototype.preloadConfig=function(t,e){var n=this;return this.preloadingStrategy.preload(e,function(){return n.loader.load(t.injector,e).pipe(Object(N.a)(function(t){return e._loadedConfig=t,n.processRoutes(t.module,t.routes)}))})},t}(),wn=new r.InjectionToken("ROUTER_CONFIGURATION"),xn=new r.InjectionToken("ROUTER_FORROOT_GUARD"),_n=[nt.Location,{provide:Wt,useClass:Ht},{provide:sn,useFactory:Tn,deps:[r.ApplicationRef,Wt,dn,nt.Location,r.Injector,r.NgModuleFactoryLoader,r.Compiler,$e,wn,[en,new r.Optional],[Je,new r.Optional]]},dn,{provide:we,useFactory:En,deps:[sn]},{provide:r.NgModuleFactoryLoader,useClass:r.SystemJsNgModuleLoader},bn,yn,mn,{provide:wn,useValue:{enableTracing:!1}}];function Cn(){return new r.NgProbeToken("Router",sn)}var Sn=function(){function t(t,e){}return t.forRoot=function(e,n){return{ngModule:t,providers:[_n,An(e),{provide:xn,useFactory:Pn,deps:[[sn,new r.Optional,new r.SkipSelf]]},{provide:wn,useValue:n||{}},{provide:nt.LocationStrategy,useFactory:Dn,deps:[nt.PlatformLocation,[new r.Inject(nt.APP_BASE_HREF),new r.Optional],wn]},{provide:gn,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:yn},{provide:r.NgProbeToken,multi:!0,useFactory:Cn},[On,{provide:r.APP_INITIALIZER,multi:!0,useFactory:kn,deps:[On]},{provide:In,useFactory:Rn,deps:[On]},{provide:r.APP_BOOTSTRAP_LISTENER,multi:!0,useExisting:In}]]}},t.forChild=function(e){return{ngModule:t,providers:[An(e)]}},t}();function Dn(t,e,n){return void 0===n&&(n={}),n.useHash?new nt.HashLocationStrategy(t,e):new nt.PathLocationStrategy(t,e)}function Pn(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function An(t){return[{provide:r.ANALYZE_FOR_ENTRY_COMPONENTS,multi:!0,useValue:t},{provide:$e,multi:!0,useValue:t}]}function Tn(t,e,n,r,i,o,a,s,u,l,c){void 0===u&&(u={});var f=new sn(null,e,n,r,i,o,a,kt(s));if(l&&(f.urlHandlingStrategy=l),c&&(f.routeReuseStrategy=c),u.errorHandler&&(f.errorHandler=u.errorHandler),u.malformedUriErrorHandler&&(f.malformedUriErrorHandler=u.malformedUriErrorHandler),u.enableTracing){var h=Object(rt.s)();f.events.subscribe(function(t){h.logGroup("Router Event: "+t.constructor.name),h.log(t.toString()),h.log(t),h.logGroupEnd()})}return u.onSameUrlNavigation&&(f.onSameUrlNavigation=u.onSameUrlNavigation),u.paramsInheritanceStrategy&&(f.paramsInheritanceStrategy=u.paramsInheritanceStrategy),f}function En(t){return t.routerState.root}var On=function(){function t(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new s.a}return t.prototype.appInitializer=function(){var t=this;return this.injector.get(nt.LOCATION_INITIALIZED,Promise.resolve(null)).then(function(){var e=null,n=new Promise(function(t){return e=t}),r=t.injector.get(sn),i=t.injector.get(wn);if(t.isLegacyDisabled(i)||t.isLegacyEnabled(i))e(!0);else if("disabled"===i.initialNavigation)r.setUpLocationChangeListener(),e(!0);else{if("enabled"!==i.initialNavigation)throw new Error("Invalid initialNavigation options: '"+i.initialNavigation+"'");r.hooks.afterPreactivation=function(){return t.initNavigation?v(null):(t.initNavigation=!0,e(!0),t.resultOfPreactivationDone)},r.initialNavigation()}return n})},t.prototype.bootstrapListener=function(t){var e=this.injector.get(wn),n=this.injector.get(bn),i=this.injector.get(sn),o=this.injector.get(r.ApplicationRef);t===o.components[0]&&(this.isLegacyEnabled(e)?i.initialNavigation():this.isLegacyDisabled(e)&&i.setUpLocationChangeListener(),n.setUpPreloading(),i.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())},t.prototype.isLegacyEnabled=function(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation},t.prototype.isLegacyDisabled=function(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation},t}();function kn(t){return t.appInitializer.bind(t)}function Rn(t){return t.bootstrapListener.bind(t)}var In=new r.InjectionToken("Router Initializer"),Mn=r["\u0275crt"]({encapsulation:2,styles:[],data:{}});function Nn(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),r["\u0275did"](1,212992,null,0,pn,[dn,r.ViewContainerRef,r.ComponentFactoryResolver,[8,null],r.ChangeDetectorRef],null,null)],function(t,e){t(e,1,0)},null)}var Ln=r["\u0275ccf"]("ng-component",wt,function(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,"ng-component",[],null,null,null,Nn,Mn)),r["\u0275did"](1,49152,null,0,wt,[],null,null)],null,null)},{},{},[]),Fn=function(){function t(t){this.title=t}return t.prototype.ngOnInit=function(){this.title.setTitle("Painting gallery")},t.prototype.toHex=function(t){return("0"+Number(t).toString(16)).slice(-2).toUpperCase()},t.prototype.wrgbToHex=function(t){return"#"+this.toHex(t[1])+this.toHex(t[2])+this.toHex(t[3])},t.prototype.weightToStr=function(t){return(100*t).toFixed(2)},t}(),jn=r["\u0275crt"]({encapsulation:0,styles:[[".tabcontent[_ngcontent-%COMP%]{overflow:auto}"]],data:{}});function Vn(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,4,"tr",[],null,null,null,null,null)),(t()(),r["\u0275eld"](1,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),r["\u0275ted"](2,null,["","%"])),(t()(),r["\u0275eld"](3,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),r["\u0275eld"](4,0,null,null,0,"input",[["type","color"]],[[8,"value",0]],null,null,null,null))],null,function(t,e){var n=e.component;t(e,2,0,n.weightToStr(e.context.$implicit[0])),t(e,4,0,r["\u0275inlineInterpolate"](1,"",n.wrgbToHex(e.context.$implicit),""))})}function zn(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,45,"div",[["class","tabcontent"]],null,null,null,null,null)),(t()(),r["\u0275eld"](1,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),r["\u0275ted"](2,null,["",""])),(t()(),r["\u0275eld"](3,0,null,null,20,"table",[["style","margin-left:auto; margin-right:auto;border-spacing: 10px; border-collapse: separate;"]],null,null,null,null,null)),(t()(),r["\u0275eld"](4,0,null,null,19,"tbody",[],null,null,null,null,null)),(t()(),r["\u0275eld"](5,0,null,null,6,"tr",[["style","margin:1em"]],null,null,null,null,null)),(t()(),r["\u0275eld"](6,0,null,null,2,"td",[["colspan","2"],["style","width:33%; background-color:rgba(0,0,0,0.4);"]],null,null,null,null,null)),(t()(),r["\u0275eld"](7,0,null,null,1,"h4",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Original Painting"])),(t()(),r["\u0275eld"](9,0,null,null,2,"td",[["colspan","2"],["style","width:33%; background-color:rgba(0,0,0,0.4);"]],null,null,null,null,null)),(t()(),r["\u0275eld"](10,0,null,null,1,"h4",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Fine-tuned Grabcut Segmentation"])),(t()(),r["\u0275eld"](12,0,null,null,4,"tr",[],null,null,null,null,null)),(t()(),r["\u0275eld"](13,0,null,null,1,"td",[["colspan","2"],["style","width:33%;"]],null,null,null,null,null)),(t()(),r["\u0275eld"](14,0,null,null,0,"img",[["id","original"],["style","padding:2em; width: auto; height: auto;"]],[[8,"src",4]],null,null,null,null)),(t()(),r["\u0275eld"](15,0,null,null,1,"td",[["colspan","2"],["style","width:33%;"]],null,null,null,null,null)),(t()(),r["\u0275eld"](16,0,null,null,0,"img",[["id","grabcut2"],["style","padding:2em; width: auto; height: auto;"]],[[8,"src",4]],null,null,null,null)),(t()(),r["\u0275eld"](17,0,null,null,6,"tr",[],null,null,null,null,null)),(t()(),r["\u0275eld"](18,0,null,null,0,"td",[["colspan","2"],["style","width:33%;"]],null,null,null,null,null)),(t()(),r["\u0275eld"](19,0,null,null,4,"td",[["colspan","2"],["style","width:33%;"]],null,null,null,null,null)),(t()(),r["\u0275eld"](20,0,null,null,3,"table",[],null,null,null,null,null)),(t()(),r["\u0275eld"](21,0,null,null,2,"tbody",[],null,null,null,null,null)),(t()(),r["\u0275and"](16777216,null,null,1,null,Vn)),r["\u0275did"](23,802816,null,0,nt.NgForOf,[r.ViewContainerRef,r.TemplateRef,r.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(t()(),r["\u0275eld"](24,0,null,null,21,"div",[["style","display:flex; flex-direction:column; font-size:150%;"]],null,null,null,null,null)),(t()(),r["\u0275eld"](25,0,null,null,6,"div",[["style"," display:flex; flex-basis:100%; justify-content: space-evenly;"]],null,null,null,null,null)),(t()(),r["\u0275eld"](26,0,null,null,0,"div",[["style","flex-basis:35%;"]],null,null,null,null,null)),(t()(),r["\u0275eld"](27,0,null,null,1,"p",[["style","flex-basis:15%;"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Artist"])),(t()(),r["\u0275eld"](29,0,null,null,1,"p",[["style","flex-basis:30%; text-align:center;"]],null,null,null,null,null)),(t()(),r["\u0275ted"](30,null,["",""])),(t()(),r["\u0275eld"](31,0,null,null,0,"div",[["style","flex-basis:20%;"]],null,null,null,null,null)),(t()(),r["\u0275eld"](32,0,null,null,6,"div",[["style","display:flex; flex-basis:100%; justify-content: space-evenly;"]],null,null,null,null,null)),(t()(),r["\u0275eld"](33,0,null,null,0,"div",[["style","flex-basis:35%;"]],null,null,null,null,null)),(t()(),r["\u0275eld"](34,0,null,null,1,"p",[["style","flex-basis:15%;"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Year"])),(t()(),r["\u0275eld"](36,0,null,null,1,"p",[["style","flex-basis:30%; text-align:center;"]],null,null,null,null,null)),(t()(),r["\u0275ted"](37,null,["",""])),(t()(),r["\u0275eld"](38,0,null,null,0,"div",[["style","flex-basis:20%;"]],null,null,null,null,null)),(t()(),r["\u0275eld"](39,0,null,null,6,"div",[["style","display:flex; flex-basis:100%; justify-content: space-evenly;"]],null,null,null,null,null)),(t()(),r["\u0275eld"](40,0,null,null,0,"div",[["style","flex-basis:35%;"]],null,null,null,null,null)),(t()(),r["\u0275eld"](41,0,null,null,1,"p",[["style","flex-basis:15%;"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Perceived sex"])),(t()(),r["\u0275eld"](43,0,null,null,1,"p",[["style","flex-basis:30%; text-align:center;"]],null,null,null,null,null)),(t()(),r["\u0275ted"](44,null,["",""])),(t()(),r["\u0275eld"](45,0,null,null,0,"div",[["style","flex-basis:20%;"]],null,null,null,null,null)),(t()(),r["\u0275eld"](46,0,null,null,0,"canvas",[["height","1200 "],["id","myCanvas "],["style","display:none "],["width","1200 "]],null,null,null,null,null))],function(t,e){t(e,23,0,e.component.item.imofa2WRGB)},function(t,e){var n=e.component;t(e,2,0,n.item.title),t(e,14,0,r["\u0275inlineInterpolate"](1,"",n.item.ImageSrc,"")),t(e,16,0,r["\u0275inlineInterpolate"](1,"",n.item.Grabcut2Src,"")),t(e,30,0,n.item.Painter),t(e,37,0,n.item.Year),t(e,44,0,n.item.Gender)})}var Bn=n("gIcY"),Wn=function(){},Hn=r["\u0275crt"]({encapsulation:0,styles:[[".navigation-button[_ngcontent-%COMP%]{font-size:200%;width:200px;height:100px;margin-left:auto;margin-right:auto}.navigation-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#4caf50;border:1px solid green;color:#fff;padding:10px 24px;cursor:pointer;white-space:normal;margin:0}.navigation-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(:last-child){border-right:none}.navigation-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#3e8e41}[_nghost-%COMP%]{margin-top:auto;margin-bottom:5px}a[_ngcontent-%COMP%]{text-decoration:none}"]],data:{}});function Xn(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,5,"div",[["class","navigation-button"]],null,null,null,null,null)),(t()(),r["\u0275eld"](1,0,null,null,4,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r["\u0275nov"](t,2).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i},null,null)),r["\u0275did"](2,671744,null,0,cn,[sn,we,nt.LocationStrategy],{routerLink:[0,"routerLink"]},null),r["\u0275pad"](3,1),(t()(),r["\u0275eld"](4,0,null,null,1,"button",[],null,null,null,null,null)),(t()(),r["\u0275ted"](5,null,["",""]))],function(t,e){t(e,2,0,t(e,3,0,e.component.link))},function(t,e){var n=e.component;t(e,1,0,r["\u0275nov"](e,2).target,r["\u0275nov"](e,2).href),t(e,5,0,n.text)})}var qn,Un=n("EVdn"),Gn=function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})},Yn=function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=r[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Kn=function(){function t(t,e){this.settings=t,this.clothCanvas=e,this.basepath="/data/json/"}return t.prototype.init=function(){return Gn(this,void 0,void 0,function(){var t,e,n=this;return Yn(this,function(r){switch(r.label){case 0:return[4,this.clothFiles2()];case 1:return t=r.sent(),e=function(r){return Gn(n,void 0,void 0,function(){var n,i,o=this;return Yn(this,function(a){switch(a.label){case 0:return!(n=t[r])||Array.isArray(n)?[3,2]:[4,this.getFieldFromFilesIdx(t,r)];case 1:a.sent(),a.label=2;case 2:return(i=r+1)<t.length?[2,function(){return Gn(o,void 0,void 0,function(){return Yn(this,function(t){return[2,e(i)]})})}]:[2,function(){}]}})})},[2,function(){return Gn(n,void 0,void 0,function(){return Yn(this,function(t){return[2,e(0)]})})}]}})})},t.prototype.clothFiles2=function(){return Gn(this,void 0,void 0,function(){return Yn(this,function(t){switch(t.label){case 0:return[4,Un.getJSON(this.basepath+"files_v2.json")];case 1:return[2,t.sent()]}})})},t.prototype.getJSON=function(t){var e=Un.getJSON(""+this.basepath+t);return e.catch(function(t){return console.error(t)}),e},t.prototype.getFieldFromFilesIdx=function(t,e){return Gn(this,void 0,void 0,function(){var n,r,i,o,a,s,u;return Yn(this,function(l){switch(l.label){case 0:return n=t[e],r=this.settings.clustering,Object.hasOwnProperty.call(n,r)?(i=this.getJSON(n.json2),[4,this.getJSON(n[r])]):[2];case 1:if(o=l.sent(),!Un.isArray(o[0]))return[3,3];for(a=[],s=[],u=0;u<o.length;u+=1)a.push(this.clothCanvas.drawPaintingAsync(i,e,o[u].slice(1,4)));return[4,Promise.all(a)];case 2:return l.sent(),s.forEach(function(t){return t()}),[3,5];case 3:return[4,this.clothCanvas.drawPaintingAsync(i,e,o.slice(1,4))];case 4:l.sent(),l.label=5;case 5:return[2]}})})},t}(),Zn=n("epSk"),Jn=function(){function t(t){this.id=t,this.canvas=new Zn.fabric.Canvas(this.id),this.yStart=20,this.height=this.canvas.getHeight(),this.width=this.canvas.getWidth()}return t.prototype.add=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];(t=this.canvas).add.apply(t,e)},t.prototype.deactivateAll=function(){return this.canvas.discardActiveObject()},t}(),Qn=function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})},$n=function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=r[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},tr=function(){function t(t,e){this.mySettings=t,this.canvas=e,this.paintingClickedSource=new s.a,this.paintingClicked$=this.paintingClickedSource.asObservable(),this.axisMapping=[{hueList:[0,360],hueYList:[0,1],intList:[0,1],intYList:[0,1]},{hueList:[0,60,360],hueYList:[0,.6,.88],intList:[0,.2,.8,1],intYList:[0,.4,.8,1]}],this.addYearTextToCanvas(e.male.mono),this.addYearTextToCanvas(e.female.mono),e.male.mono.height-=60,e.female.mono.height-=60,e.male.color.height-=60,e.female.color.height-=60,this.addHSIBackgroundToCanvas(e.male.color),this.addHSIBackgroundToCanvas(e.female.color),this.addMonochromeBackgroundToCanvas(e.male.mono),this.addMonochromeBackgroundToCanvas(e.female.mono),this.addGenderIconToCanvas(e.male.color,"/assets/icons/maleDark.png"),this.addGenderIconToCanvas(e.female.color,"/assets/icons/femaleDark.png"),this.addYearMarkers(e.male.color),this.addYearMarkers(e.male.mono),this.addYearMarkers(e.female.color),this.addYearMarkers(e.female.mono)}return t.prototype.hsi2rgb=function(t,e,n){for(;t>360;)t-=360;for(;t<0;)t+=360;n*=255;var r=function(t){return Math.cos(t*(Math.PI/180))},i=0,o=0,a=0;return 0==t?(i=Math.floor(n+2*n*e),o=Math.floor(n-n*e),a=Math.floor(n-n*e)):0<t&&t<120?(i=Math.floor(n+n*e*r(t)/r(60-t)),o=Math.floor(n+n*e*(1-r(t)/r(60-t))),a=Math.floor(n-n*e)):120==t?(i=Math.floor(n-n*e),o=Math.floor(n+2*n*e),a=Math.floor(n-n*e)):120<t&&t<240?(i=Math.floor(n-n*e),o=Math.floor(n+n*e*r(t-120)/r(180-t)),a=Math.floor(n+n*e*(1-r(t-120)/r(180-t)))):240==t?(i=Math.floor(n-n*e),o=Math.floor(n-n*e),a=Math.floor(n+2*n*e)):240<t&&t<360&&(i=Math.floor(n+n*e*(1-r(t-240)/r(300-t))),o=Math.floor(n-n*e),a=Math.floor(n+n*e*r(t-240)/r(300-t))),[i,o,a]},t.prototype.checkIfHue=function(t,e,n){return!(e<this.mySettings.thSaturation||n<this.mySettings.thIntensityDark||n>this.mySettings.thIntensityBright||e<this.mySettings.thSaturationHigh&&(n<this.mySettings.thIntensityDarkHigh||n>this.mySettings.thIntensityBrightLow))},t.prototype.yearToX=function(t,e){return(t-1400)/500*e.width},t.prototype.mapPair=function(t,e,n){for(var r=0;r<t.length;r+=1)if(t[r]>n){if(0==r)return e[0];var i=t[r-1],o=e[r-1],a=n-i;return 0==a?e[r-1]:a/(t[r]-i)*(e[r]-o)+o}return e[e.length-1]},t.prototype.yToHue=function(t){return this.mapPair(this.axisMapping[this.mySettings.scaleYAxis].hueYList,this.axisMapping[this.mySettings.scaleYAxis].hueList,t)},t.prototype.hueToY=function(t,e){for(;t>360;)t-=360;for(;t<0;)t+=360;return this.mapPair(this.axisMapping[this.mySettings.scaleYAxis].hueList,this.axisMapping[this.mySettings.scaleYAxis].hueYList,t)*e.height},t.prototype.yToInt=function(t){return this.mapPair(this.axisMapping[this.mySettings.scaleYAxis].intYList,this.axisMapping[this.mySettings.scaleYAxis].intList,t)},t.prototype.intToY=function(t,e){return this.mapPair(this.axisMapping[this.mySettings.scaleYAxis].intList,this.axisMapping[this.mySettings.scaleYAxis].intYList,t)*e.height},t.prototype.drawPaintingAsync=function(t,e,n){return Qn(this,void 0,void 0,function(){var r,i,o,a,s,u,l,c,f,h,d,p,v,g,m,y,b=this;return $n(this,function(w){switch(w.label){case 0:return r={stroke:"black",strokeWidth:1,lockMovementX:!0,lockMovementY:!0,lockScalingX:!0,lockScalingY:!0,lockUniScaling:!0,lockRotation:!0},[4,t];case 1:return i=w.sent(),a=null,a="Male"===(o={color:n,year:i.Year,gender:i.Gender,title:i.title,painter:i.Painter,imageUrl:"/data/jpg/"+i.Filename,drawUrl:"/data/jpg/"+i.Filename,paintingIdx:e}).gender?this.canvas.male:this.canvas.female,s=!0,h=null,d=null,this.checkIfHue(l=(u=o.color)[0],c=u[1],f=u[2])?h=this.hueToY(l,d=a.color):(h=this.intToY(f,d=a.mono),s=!1),p=this.yearToX(o.year,d),v=function(t){var e=function(t,e){return null==e&&(e={}),e.left=p-t/2,e.top=h-t/2+d.yStart,e.width=t,e.height=t,Un.extend({},r,e)};return"hue"==t?e(16,{fill:s?function(t){var e=b.hsi2rgb(t,.5,.5);return"rgb("+e[0]+","+e[1]+","+e[2]+")"}(l):"rgb("+Math.round(255*f)+","+Math.round(255*f)+","+Math.round(255*f)+")"}):"color"==t?e(16,{fill:function(t,e,n){var r=b.hsi2rgb(t,e,n);return"rgb("+r[0]+","+r[1]+","+r[2]+")"}(l,c,f)}):"portrait"==t?e(30):void 0},g=function(t){return t.on("selected",function(){d.deactivateAll().renderAll(),b.paintingClickedSource.next(o)}),d.add(t)},m=function(t){return Qn(b,void 0,void 0,function(){return $n(this,function(e){switch(e.label){case 0:return"portrait"!=t?[3,2]:[4,new Promise(function(t,e){Zn.fabric.Image.fromURL(o.drawUrl,function(e){t(e)})})];case 1:return[2,e.sent().set(v(t))];case 2:return[2,new Zn.fabric.Rect(v(t))]}})})},y=void 0,this.mySettings.graphMethod.subscribe(function(t){return Qn(b,void 0,void 0,function(){var e;return $n(this,function(n){switch(n.label){case 0:return null!=y&&d.canvas.remove(y),e=g,[4,m(t)];case 1:return[4,e.apply(void 0,[n.sent()])];case 2:return y=n.sent(),[2]}})})}),[2]}})})},t.prototype.addYearMarkers=function(t){for(var e=this,n=[],r=1450;r<1875;r+=25){var i=this.yearToX(r,t),o=new Zn.fabric.Rect({top:t.yStart,left:i,width:1,height:t.height-3,fill:"rgba(127,127,127,0.4)"});o.on("selected",function(){t.deactivateAll(),e.paintingClickedSource.next()}),n.push(o)}t.add.apply(t,n)},t.prototype.addYearTextToCanvas=function(t){for(var e=this,n=1450;n<1875;n+=25){var r=this.yearToX(n,t),i=new Zn.fabric.Text(n.toString(),{top:t.height-20,left:r-14,fontSize:13,fill:"black"});i.on("selected",function(){t.deactivateAll(),e.paintingClickedSource.next()}),t.add(i)}},t.prototype.addGenderIconToCanvas=function(t,e){var n=this;Zn.fabric.Image.fromURL(e,function(e){var r=t.height/4+t.yStart,i=n.yearToX(1420,t),o=e.scaleToWidth(t.height/2).set({left:i,top:r,lockMovementX:!0,lockMovementY:!0,lockScalingX:!0,lockScalingY:!0,lockUniScaling:!0,lockRotation:!0});o.on("selected",function(){t.deactivateAll(),n.paintingClickedSource.next()}),t.canvas.add(o)})},t.prototype.addHSIBackgroundToCanvas=function(t){for(var e=this,n=[],r=function(t){var n=e.hsi2rgb(t,.5,.5);return"rgb("+n[0]+","+n[1]+","+n[2]+")"},i=0;i<t.height-10;i+=10){var o=this.yToHue(i/t.height),a=new Zn.fabric.Rect({top:i+t.yStart,left:this.yearToX(1420,t),width:10,height:11,fill:r(o),lockMovementX:!0,lockMovementY:!0,lockScalingX:!0,lockScalingY:!0,lockUniScaling:!0,lockRotation:!0});a.on("selected",function(){t.deactivateAll(),e.paintingClickedSource.next()}),n.push(a)}t.add.apply(t,n)},t.prototype.addMonochromeBackgroundToCanvas=function(t){for(var e=this,n=[],r=0;r<t.height-10;r+=10){var i=Math.round(255*this.yToInt(r/t.height)),o=new Zn.fabric.Rect({top:r+t.yStart,left:this.yearToX(1420,t),width:10,height:11,fill:"rgb("+i+","+i+","+i+")",lockMovementX:!0,lockMovementY:!0,lockScalingX:!0,lockScalingY:!0,lockUniScaling:!0,lockRotation:!0});o.on("selected",function(){t.deactivateAll(),e.paintingClickedSource.next()}),n.push(o)}t.add.apply(t,n)},t}();!function(t){t.Hue="hue",t.Color="color",t.Portrait="portrait"}(qn||(qn={}));var er,nr,rr=function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})},ir=function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=r[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};function or(){return rr(this,void 0,void 0,function(){var t;return ir(this,function(e){return null==er&&((t=Un('<canvas style="display:none" id="bufferCanvas"/>')).appendTo("body"),nr=(er=t[0]).getContext("2d")),[2,{bufferCanvas:er,bufferCtx:nr}]})})}function ar(t,e,n){return void 0===n&&(n=!1),rr(this,void 0,void 0,function(){var r,i,o,a,s;return ir(this,function(u){switch(u.label){case 0:return r=function(t){for(var e=t.substring(35).split(": "),n={},r=e[0],i=1;i<e.length;++i){var o=e[i],a=o.lastIndexOf("\n"),s=o.substring(0,a);n[r]=function(t){try{return JSON.parse(t)}catch(e){return t}}(s),r=o.substring(a+1).replace(/ /g,"")}return n},i=r(e),[4,or()];case 1:if(u.sent(),er.width=t.width,er.height=t.height,nr.drawImage(t,0,0),i)for(o=0;o<i.rows;++o)for(a=0;a<i.cols;++a)s=i.data[o*i.cols+a],n?0===s&&nr.clearRect(a,o,1,1):s<1&&nr.clearRect(a,o,1,1);return nr.stroke(),[2,er.toDataURL()]}})})}function sr(t){function e(t){var e=[];return t.forEach(function(t){e.push([t[0]].concat(function(t,e,n){for(;t>360;)t-=360;for(;t<0;)t+=360;n*=255;var r=function(t){return Math.cos(t*(Math.PI/180))},i=0,o=0,a=0;return 0==t?(i=Math.floor(n+2*n*e),o=Math.floor(n-n*e),a=Math.floor(n-n*e)):0<t&&t<120?(i=Math.floor(n+n*e*r(t)/r(60-t)),o=Math.floor(n+n*e*(1-r(t)/r(60-t))),a=Math.floor(n-n*e)):120==t?(i=Math.floor(n-n*e),o=Math.floor(n+2*n*e),a=Math.floor(n-n*e)):120<t&&t<240?(i=Math.floor(n-n*e),o=Math.floor(n+n*e*r(t-120)/r(180-t)),a=Math.floor(n+n*e*(1-r(t-120)/r(180-t)))):240==t?(i=Math.floor(n-n*e),o=Math.floor(n-n*e),a=Math.floor(n+2*n*e)):240<t&&t<360&&(i=Math.floor(n+n*e*(1-r(t-240)/r(300-t))),o=Math.floor(n-n*e),a=Math.floor(n+n*e*r(t-240)/r(300-t))),[i,o,a]}(t[1],t[2],t[3])))}),e}return Un.isArray(t[0])?e(t):e([t])}var ur=n("pugT"),lr=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r}return a.__extends(e,t),e.prototype.schedule=function(e,n){return void 0===n&&(n=0),n>0?t.prototype.schedule.call(this,e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)},e.prototype.execute=function(e,n){return n>0||this.closed?t.prototype.execute.call(this,e,n):this._execute(e,n)},e.prototype.requestAsyncId=function(e,n,r){return void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0?t.prototype.requestAsyncId.call(this,e,n,r):e.flush(this)},e}(function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r.pending=!1,r}return a.__extends(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this},e.prototype.requestAsyncId=function(t,e,n){return void 0===n&&(n=0),setInterval(t.flush.bind(t,this),n)},e.prototype.recycleAsyncId=function(t,e,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var n=!1,r=void 0;try{this.work(t)}catch(t){n=!0,r=!!t&&t||new Error(t)}if(n)return this.unsubscribe(),r},e.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null},e}(function(t){function e(e,n){return t.call(this)||this}return a.__extends(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(ur.a))),cr=function(){function t(e,n){void 0===n&&(n=t.now),this.SchedulerAction=e,this.now=n}return t.prototype.schedule=function(t,e,n){return void 0===e&&(e=0),new this.SchedulerAction(this,t).schedule(n,e)},t.now=Date.now?Date.now:function(){return+new Date},t}(),fr=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(e,t),e}(function(t){function e(n,r){void 0===r&&(r=cr.now);var i=t.call(this,n,function(){return e.delegate&&e.delegate!==i?e.delegate.now():r()})||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return a.__extends(e,t),e.prototype.schedule=function(n,r,i){return void 0===r&&(r=0),e.delegate&&e.delegate!==this?e.delegate.schedule(n,r,i):t.prototype.schedule.call(this,n,r,i)},e.prototype.flush=function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}},e}(cr)))(lr),hr=function(){function t(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}return t.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}},t.prototype.do=function(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}},t.prototype.accept=function(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)},t.prototype.toObservable=function(){var t;switch(this.kind){case"N":return v(this.value);case"E":return t=this.error,new p.a(function(e){return e.error(t)});case"C":return Object(d.b)()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}(),dr=function(t){function e(e,n,r){void 0===r&&(r=0);var i=t.call(this,e)||this;return i.scheduler=n,i.delay=r,i}return a.__extends(e,t),e.dispatch=function(t){t.notification.observe(t.destination),this.unsubscribe()},e.prototype.scheduleMessage=function(t){this.add(this.scheduler.schedule(e.dispatch,this.delay,new pr(t,this.destination)))},e.prototype._next=function(t){this.scheduleMessage(hr.createNext(t))},e.prototype._error=function(t){this.scheduleMessage(hr.createError(t))},e.prototype._complete=function(){this.scheduleMessage(hr.createComplete())},e}(m.a),pr=function(t,e){this.notification=t,this.destination=e},vr=n("uMaO"),gr=function(t){function e(e,n,r){void 0===e&&(e=Number.POSITIVE_INFINITY),void 0===n&&(n=Number.POSITIVE_INFINITY);var i=t.call(this)||this;return i.scheduler=r,i._events=[],i._infiniteTimeWindow=!1,i._bufferSize=e<1?1:e,i._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(i._infiniteTimeWindow=!0,i.next=i.nextInfiniteTimeWindow):i.next=i.nextTimeWindow,i}return a.__extends(e,t),e.prototype.nextInfiniteTimeWindow=function(e){var n=this._events;n.push(e),n.length>this._bufferSize&&n.shift(),t.prototype.next.call(this,e)},e.prototype.nextTimeWindow=function(e){this._events.push(new mr(this._getNow(),e)),this._trimBufferThenGetEvents(),t.prototype.next.call(this,e)},e.prototype._subscribe=function(t){var e,n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,o=r.length;if(this.closed)throw new u.a;if(this.isStopped||this.hasError?e=ur.a.EMPTY:(this.observers.push(t),e=new vr.a(this,t)),i&&t.add(t=new dr(t,i)),n)for(var a=0;a<o&&!t.closed;a++)t.next(r[a]);else for(a=0;a<o&&!t.closed;a++)t.next(r[a].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),e},e.prototype._getNow=function(){return(this.scheduler||fr).now()},e.prototype._trimBufferThenGetEvents=function(){for(var t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length,o=0;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r},e}(s.a),mr=function(t,e){this.time=t,this.value=e},yr=function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})},br=function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=r[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},wr=function(){function t(){this.itemGenerators=[],this.itemPromises=[],this.absoluteIndices=[],this.basepath="/data/json/",this.readySubject=new gr,this.ready$=this.readySubject.asObservable(),this.init()}return t.prototype.getGalleryItem=function(t){return null!=this.itemGenerators[t]?(null==this.itemPromises[t]&&(this.itemPromises[t]=this.itemGenerators[t]()),this.itemPromises[t]):(console.error(t,this.itemGenerators),null)},t.prototype.getGalleryItemFromAbsoluteIndex=function(t){return this.getGalleryItem(this.absoluteIndices[t])},t.prototype.getItem=function(t){return yr(this,void 0,void 0,function(){var e,n,r,i,o,a,s,u,l,c,f,h,d,p,v,g,m,y=this;return br(this,function(b){switch(b.label){case 0:return b.trys.push([0,22,,23]),[4,(e={json2:t.json2?Un.getJSON(this.basepath+t.json2):null,grabcut2:t.grabcut2?Un.getJSON(this.basepath+t.grabcut2):null,grabcut:t.grabcut?Un.getJSON(this.basepath+t.grabcut):null,imofaColor:t.imofaColor?Un.getJSON(this.basepath+t.imofaColor):null,imofa2Color:t.imofa2Color?Un.getJSON(this.basepath+t.imofa2Color):null}).json2];case 1:return n=b.sent(),r=this.basepath+"../jpg/"+n.Filename,e.imofaColor?(a=sr,[4,e.imofaColor]):[3,3];case 2:return o=a.apply(void 0,[b.sent()]),[3,4];case 3:o=null,b.label=4;case 4:return i=o,e.imofa2Color?(l=sr,[4,e.imofa2Color]):[3,6];case 5:return u=l.apply(void 0,[b.sent()]),[3,7];case 6:u=null,b.label=7;case 7:return s=u,[4,this.getImage(r)];case 8:return c=b.sent(),e.grabcut?[4,e.grabcut]:[3,10];case 9:return f=b.sent().GrabCutData,[3,11];case 10:f=null,b.label=11;case 11:return e.grabcut?[4,ar(c,f,!0)]:[3,13];case 12:return d=b.sent(),[3,14];case 13:d="https://placeholdit.imgix.net/~text?txtsize=56&txt=Not%20Available&w="+c.width+"&h="+c.height+"&txttrack=0",b.label=14;case 14:return h=d,e.grabcut2?[4,e.grabcut2]:[3,16];case 15:return p=b.sent().GrabCutDataV2,[3,17];case 16:p=null,b.label=17;case 17:return e.grabcut2?[4,ar(c,p,!1)]:[3,19];case 18:return g=b.sent(),[3,20];case 19:g="https://placeholdit.imgix.net/~text?txtsize=56&txt=Not%20Available&w="+c.width+"&h="+c.height+"&txttrack=0",b.label=20;case 20:return v=g,[4,yr(y,void 0,void 0,function(){var t,e,n;return br(this,function(r){switch(r.label){case 0:return[4,or()];case 1:return t=r.sent(),n=t.bufferCtx,(e=t.bufferCanvas).width=c.width,e.height=c.height,n.drawImage(c,0,0),[2,e.toDataURL()]}})})];case 21:return[2,{ImageSrc:b.sent(),imofaWRGB:i,imofa2WRGB:s,GrabcutSrc:h,Grabcut2Src:v,Gender:n.Gender,Year:n.Year,Painter:n.Painter,title:n.title}];case 22:return m=b.sent(),alert("Something went wrong. Please report the incident to cihan.sari@boun.edu.tr if issue persists. Check console for details (F12 is the default key to open console.)."),console.error(m),[3,23];case 23:return[2]}})})},t.prototype.getLength=function(){return this.itemPromises.length},t.prototype.init=function(){return yr(this,void 0,void 0,function(){var t,e,n,r,i,o,a,s=this;return br(this,function(u){switch(u.label){case 0:return[4,Un.getJSON("/data/json/files_v2.json")];case 1:for(t=u.sent(),e=function(){var e=t.shift();if(e&&e.json2)return n.itemGenerators.push(function(){return s.getItem(e)}),n.itemPromises.push(void 0),n.absoluteIndices.push(n.itemPromises.length-1),"break";n.absoluteIndices.push(-1)},n=this;"break"!==e(););for(r=function(t){t&&t.json2?(i.itemGenerators.push(function(){return s.getItem(t)}),i.itemPromises.push(void 0),i.absoluteIndices.push(i.itemPromises.length-1)):i.absoluteIndices.push(-1)},i=this,o=0,a=t;o<a.length;o++)r(a[o]);return this.readySubject.next(this.itemPromises.length),this.readySubject.complete(),[2]}})})},t.prototype.getImage=function(t){return yr(this,void 0,void 0,function(){var e=this;return br(this,function(n){switch(n.label){case 0:return[4,new Promise(function(n,r){var i=new Image;i.onload=function(){return yr(e,void 0,void 0,function(){return br(this,function(t){return n(i),[2]})})},i.src=t})];case 1:return[2,n.sent()]}})})},t.ngInjectableDef=r.defineInjectable({factory:function(){return new t},token:t,providedIn:"root"}),t}(),xr=function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})},_r=function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=r[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Cr=function(){function t(t,e,n){this.title=t,this.galleryService=e,this.el=n,this.settings={graphMethod:new l(qn.Hue),clustering:"imofa2Color",scaleYAxis:1,thSaturation:.05,thSaturationHigh:.15,thIntensityDark:.1,thIntensityDarkHigh:.15,thIntensityBright:.85,thIntensityBrightLow:.7,minUpvote:0,maxDownvote:-1}}return t.prototype.drawResults=function(){return xr(this,void 0,void 0,function(){var t,e,n,r,i=this;return _r(this,function(o){switch(o.label){case 0:return this.canvas.male.mono.canvas.clear(),this.canvas.female.mono.canvas.clear(),this.canvas.male.color.canvas.clear(),this.canvas.female.color.canvas.clear(),t=new tr(this.settings,this.canvas),(e=new Kn(this.settings,t)).clothCanvas.paintingClicked$.subscribe(function(t){return xr(i,void 0,void 0,function(){var e;return _r(this,function(n){switch(n.label){case 0:return t?(e=this,[4,this.galleryService.getGalleryItemFromAbsoluteIndex(t.paintingIdx)]):[3,2];case 1:return e.item=n.sent(),[3,3];case 2:this.item=void 0,n.label=3;case 3:return[2]}})})}),[4,e.init()];case 1:return n=o.sent(),(r=function(){i.timeoutId=window.setTimeout(function(){return xr(i,void 0,void 0,function(){var t;return _r(this,function(e){switch(e.label){case 0:t=0,e.label=1;case 1:return t<10?n?[4,n()]:[3,3]:[3,4];case 2:n=e.sent(),e.label=3;case 3:return t+=1,[3,1];case 4:return r(),[2]}})})},0)})(),[2]}})})},t.prototype.ngOnInit=function(){var t=this.el.nativeElement.clientWidth;this.canvas1.nativeElement.width=t,this.canvas2.nativeElement.width=t,this.canvas3.nativeElement.width=t,this.canvas4.nativeElement.width=t,this.title.setTitle("Clothing"),this.canvas={male:{color:new Jn("maleCanvasHSI"),mono:new Jn("maleCanvasMonochrome")},female:{color:new Jn("femaleCanvasHSI"),mono:new Jn("femaleCanvasMonochrome")}},this.drawResults()},t.prototype.ngOnDestroy=function(){this.timeoutId&&window.clearTimeout(this.timeoutId)},t.prototype.onGraphMethodChange=function(t){this.settings.graphMethod.next(t.srcElement.value),console.log(this.settings.graphMethod.getValue())},t}(),Sr=r["\u0275crt"]({encapsulation:0,styles:[["[_nghost-%COMP%]{display:flex;flex-grow:1;flex-direction:column}select[_ngcontent-%COMP%]{font-size:130%;background-color:#a8aaad;margin-left:auto;margin-right:auto;min-width:150px;margin-top:2em}"]],data:{}});function Dr(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,"app-painting-gallery-item",[],null,null,null,zn,jn)),r["\u0275did"](1,114688,null,0,Fn,[rt.h],{item:[0,"item"]},null)],function(t,e){t(e,1,0,e.component.item)},null)}function Pr(t){return r["\u0275vid"](0,[r["\u0275qud"](402653184,1,{canvas1:0}),r["\u0275qud"](402653184,2,{canvas2:0}),r["\u0275qud"](402653184,3,{canvas3:0}),r["\u0275qud"](402653184,4,{canvas4:0}),(t()(),r["\u0275eld"](4,0,[["header",1]],null,1,"h1",[["style","width:100%"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,[" Clothing Graph"])),(t()(),r["\u0275eld"](6,0,[[1,0],["canvas1",1]],null,0,"canvas",[["height","200"],["id","femaleCanvasHSI"]],null,null,null,null,null)),(t()(),r["\u0275eld"](7,0,[[2,0],["canvas2",1]],null,0,"canvas",[["height","150"],["id","femaleCanvasMonochrome"]],null,null,null,null,null)),(t()(),r["\u0275eld"](8,0,[[3,0],["canvas3",1]],null,0,"canvas",[["height","200"],["id","maleCanvasHSI"]],null,null,null,null,null)),(t()(),r["\u0275eld"](9,0,[[4,0],["canvas4",1]],null,0,"canvas",[["height","150"],["id","maleCanvasMonochrome"]],null,null,null,null,null)),(t()(),r["\u0275and"](16777216,null,null,1,null,Dr)),r["\u0275did"](11,16384,null,0,nt.NgIf,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),r["\u0275eld"](12,0,null,null,8,"select",[],null,[[null,"change"]],function(t,e,n){var r=!0;return"change"===e&&(r=!1!==t.component.onGraphMethodChange(n)&&r),r},null,null)),(t()(),r["\u0275eld"](13,0,null,null,3,"option",[["selected",""],["value","hue"]],null,null,null,null,null)),r["\u0275did"](14,147456,null,0,Bn.NgSelectOption,[r.ElementRef,r.Renderer2,[8,null]],{value:[0,"value"]},null),r["\u0275did"](15,147456,null,0,Bn["\u0275angular_packages_forms_forms_r"],[r.ElementRef,r.Renderer2,[8,null]],{value:[0,"value"]},null),(t()(),r["\u0275ted"](-1,null,["Color hue"])),(t()(),r["\u0275eld"](17,0,null,null,3,"option",[["value","color"]],null,null,null,null,null)),r["\u0275did"](18,147456,null,0,Bn.NgSelectOption,[r.ElementRef,r.Renderer2,[8,null]],{value:[0,"value"]},null),r["\u0275did"](19,147456,null,0,Bn["\u0275angular_packages_forms_forms_r"],[r.ElementRef,r.Renderer2,[8,null]],{value:[0,"value"]},null),(t()(),r["\u0275ted"](-1,null,["Color raw"])),(t()(),r["\u0275eld"](21,0,null,null,1,"app-navigation-button",[],null,null,null,Xn,Hn)),r["\u0275did"](22,49152,null,0,Wn,[],{link:[0,"link"],text:[1,"text"]},null)],function(t,e){t(e,11,0,null!=e.component.item),t(e,14,0,"hue"),t(e,15,0,"hue"),t(e,18,0,"color"),t(e,19,0,"color"),t(e,22,0,"/gallery","Go to painting gallery")},null)}var Ar=r["\u0275ccf"]("app-show-paintings",Cr,function(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,"app-show-paintings",[],null,null,null,Pr,Sr)),r["\u0275did"](1,245760,null,0,Cr,[rt.h,wr,r.ElementRef],null,null)],function(t,e){t(e,1,0)},null)},{},{},[]),Tr=n("mU/a"),Er=n("7LN8"),Or=n("nciF"),kr=n("sdDj"),Rr=n("P3jN"),Ir=r["\u0275crt"]({encapsulation:2,styles:[],data:{animation:[{type:7,name:"panelState",definitions:[{type:0,name:"hidden",styles:{type:6,styles:{opacity:0},offset:null},options:void 0},{type:0,name:"visible",styles:{type:6,styles:{opacity:1},offset:null},options:void 0},{type:1,expr:"visible => hidden",animation:{type:4,styles:null,timings:"400ms ease-in"},options:null},{type:1,expr:"hidden => visible",animation:{type:4,styles:null,timings:"400ms ease-out"},options:null}],options:{}}]}});function Mr(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,"option",[],null,null,null,null,null)),(t()(),r["\u0275ted"](1,null,["",""]))],null,function(t,e){t(e,1,0,e.component.placeholder)})}function Nr(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,"option",[],[[8,"value",0],[8,"selected",0]],null,null,null,null)),(t()(),r["\u0275ted"](1,null,["",""]))],null,function(t,e){t(e,0,0,e.context.$implicit.value,e.component.selectedOption==e.context.$implicit),t(e,1,0,e.context.$implicit.label)})}function Lr(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,2,"optgroup",[],[[1,"label",0]],null,null,null,null)),(t()(),r["\u0275and"](16777216,null,null,1,null,Nr)),r["\u0275did"](2,802816,null,0,nt.NgForOf,[r.ViewContainerRef,r.TemplateRef,r.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(t,e){t(e,2,0,e.context.$implicit.items)},function(t,e){t(e,0,0,e.context.$implicit.label)})}function Fr(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,3,null,null,null,null,null,null,null)),(t()(),r["\u0275and"](16777216,null,null,1,null,Lr)),r["\u0275did"](2,802816,null,0,nt.NgForOf,[r.ViewContainerRef,r.TemplateRef,r.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(t()(),r["\u0275eld"](3,0,null,null,0,"optgroup",[],null,null,null,null,null))],function(t,e){t(e,2,0,e.component.options)},null)}function jr(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,"option",[],[[8,"value",0],[8,"selected",0]],null,null,null,null)),(t()(),r["\u0275ted"](1,null,["",""]))],null,function(t,e){t(e,0,0,e.context.$implicit.value,e.component.selectedOption==e.context.$implicit),t(e,1,0,e.context.$implicit.label)})}function Vr(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,2,null,null,null,null,null,null,null)),(t()(),r["\u0275and"](16777216,null,null,1,null,jr)),r["\u0275did"](2,802816,null,0,nt.NgForOf,[r.ViewContainerRef,r.TemplateRef,r.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(t()(),r["\u0275and"](0,null,null,0))],function(t,e){t(e,2,0,e.component.options)},null)}function zr(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,7,"div",[["class","ui-helper-hidden-accessible"]],null,null,null,null,null)),(t()(),r["\u0275eld"](1,0,null,null,6,"select",[["aria-hidden","true"],["tabindex","-1"]],[[8,"required",0],[1,"name",0],[1,"aria-label",0]],null,null,null,null)),(t()(),r["\u0275and"](16777216,null,null,1,null,Mr)),r["\u0275did"](3,16384,null,0,nt.NgIf,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),r["\u0275and"](16777216,null,null,1,null,Fr)),r["\u0275did"](5,16384,null,0,nt.NgIf,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),r["\u0275and"](16777216,null,null,1,null,Vr)),r["\u0275did"](7,16384,null,0,nt.NgIf,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,3,0,n.placeholder),t(e,5,0,n.group),t(e,7,0,!n.group)},function(t,e){var n=e.component;t(e,1,0,n.required,n.name,n.selectedOption?n.selectedOption.label:" ")})}function Br(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,null,null,null,null,null,null,null)),(t()(),r["\u0275ted"](1,null,["",""]))],null,function(t,e){t(e,1,0,e.component.label||"empty")})}function Wr(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function Hr(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,7,"label",[],null,null,null,null,null)),r["\u0275did"](1,278528,null,0,nt.NgClass,[r.IterableDiffers,r.KeyValueDiffers,r.ElementRef,r.Renderer2],{ngClass:[0,"ngClass"]},null),r["\u0275pod"](2,{"ui-dropdown-label ui-inputtext ui-corner-all":0,"ui-dropdown-label-empty":1}),(t()(),r["\u0275and"](16777216,null,null,1,null,Br)),r["\u0275did"](4,16384,null,0,nt.NgIf,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),r["\u0275and"](16777216,null,null,2,null,Wr)),r["\u0275did"](6,540672,null,0,nt.NgTemplateOutlet,[r.ViewContainerRef],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),r["\u0275pod"](7,{$implicit:0})],function(t,e){var n=e.component;t(e,1,0,t(e,2,0,!0,null==n.label||0===n.label.length)),t(e,4,0,!n.selectedItemTemplate),t(e,6,0,t(e,7,0,n.selectedOption),n.selectedItemTemplate)},null)}function Xr(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,3,"label",[],null,null,null,null,null)),r["\u0275did"](1,278528,null,0,nt.NgClass,[r.IterableDiffers,r.KeyValueDiffers,r.ElementRef,r.Renderer2],{ngClass:[0,"ngClass"]},null),r["\u0275pod"](2,{"ui-dropdown-label ui-inputtext ui-corner-all ui-placeholder":0,"ui-dropdown-label-empty":1}),(t()(),r["\u0275ted"](3,null,["",""]))],function(t,e){var n=e.component;t(e,1,0,t(e,2,0,!0,null==n.placeholder||0===n.placeholder.length))},function(t,e){t(e,3,0,e.component.placeholder||"empty")})}function qr(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,[[6,0],["editableInput",1]],null,0,"input",[["class","ui-dropdown-label ui-inputtext ui-corner-all"],["type","text"]],[[1,"aria-label",0],[8,"disabled",0],[1,"placeholder",0]],[[null,"click"],[null,"input"],[null,"focus"],[null,"blur"]],function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==i.onEditableInputClick(n)&&r),"input"===e&&(r=!1!==i.onEditableInputChange(n)&&r),"focus"===e&&(r=!1!==i.onEditableInputFocus(n)&&r),"blur"===e&&(r=!1!==i.onInputBlur(n)&&r),r},null,null))],null,function(t,e){var n=e.component;t(e,0,0,n.selectedOption?n.selectedOption.label:" ",n.disabled,n.placeholder)})}function Ur(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,0,"i",[["class","ui-dropdown-clear-icon pi pi-times"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.clear(n)&&r),r},null,null))],null,null)}function Gr(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,2,"div",[["class","ui-dropdown-filter-container"]],null,[[null,"input"],[null,"click"]],function(t,e,n){var r=!0;return"input"===e&&(r=!1!==t.component.onFilter(n)&&r),"click"===e&&(r=!1!==n.stopPropagation()&&r),r},null,null)),(t()(),r["\u0275eld"](1,0,[[4,0],["filter",1]],null,0,"input",[["autocomplete","off"],["class","ui-dropdown-filter ui-inputtext ui-widget ui-state-default ui-corner-all"],["type","text"]],[[1,"placeholder",0]],[[null,"keydown.enter"],[null,"keydown"]],function(t,e,n){var r=!0,i=t.component;return"keydown.enter"===e&&(r=!1!==n.preventDefault()&&r),"keydown"===e&&(r=!1!==i.onKeydown(n)&&r),r},null,null)),(t()(),r["\u0275eld"](2,0,null,null,0,"span",[["class","ui-dropdown-filter-icon pi pi-search"]],null,null,null,null,null))],null,function(t,e){t(e,1,0,e.component.filterPlaceholder)})}function Yr(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),r["\u0275ted"](1,null,["",""]))],null,function(t,e){t(e,1,0,e.parent.context.$implicit.label||"empty")})}function Kr(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function Zr(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function Jr(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,5,"li",[["class","ui-dropdown-item-group"]],null,null,null,null,null)),(t()(),r["\u0275and"](16777216,null,null,1,null,Yr)),r["\u0275did"](2,16384,null,0,nt.NgIf,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),r["\u0275and"](16777216,null,null,2,null,Kr)),r["\u0275did"](4,540672,null,0,nt.NgTemplateOutlet,[r.ViewContainerRef],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),r["\u0275pod"](5,{$implicit:0}),(t()(),r["\u0275and"](16777216,null,null,2,null,Zr)),r["\u0275did"](7,540672,null,0,nt.NgTemplateOutlet,[r.ViewContainerRef],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),r["\u0275pod"](8,{$implicit:0,selectedOption:1}),(t()(),r["\u0275and"](0,null,null,0))],function(t,e){var n=e.component;t(e,2,0,!n.groupTemplate),t(e,4,0,t(e,5,0,e.context.$implicit),n.groupTemplate),t(e,7,0,t(e,8,0,e.context.$implicit.items,n.selectedOption),r["\u0275nov"](e.parent.parent,5))},null)}function Qr(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,2,null,null,null,null,null,null,null)),(t()(),r["\u0275and"](16777216,null,null,1,null,Jr)),r["\u0275did"](2,802816,null,0,nt.NgForOf,[r.ViewContainerRef,r.TemplateRef,r.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(t()(),r["\u0275and"](0,null,null,0))],function(t,e){t(e,2,0,e.component.optionsToDisplay)},null)}function $r(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function ti(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,3,null,null,null,null,null,null,null)),(t()(),r["\u0275and"](16777216,null,null,2,null,$r)),r["\u0275did"](2,540672,null,0,nt.NgTemplateOutlet,[r.ViewContainerRef],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),r["\u0275pod"](3,{$implicit:0,selectedOption:1}),(t()(),r["\u0275and"](0,null,null,0))],function(t,e){var n=e.component;t(e,2,0,t(e,3,0,n.optionsToDisplay,n.selectedOption),r["\u0275nov"](e.parent,5))},null)}function ei(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),r["\u0275ted"](1,null,["",""]))],null,function(t,e){t(e,1,0,e.parent.context.$implicit.label||"empty")})}function ni(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function ri(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,7,"li",[],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.onItemClick(n,t.context.$implicit)&&r),r},null,null)),r["\u0275did"](1,278528,null,0,nt.NgClass,[r.IterableDiffers,r.KeyValueDiffers,r.ElementRef,r.Renderer2],{ngClass:[0,"ngClass"]},null),r["\u0275pod"](2,{"ui-dropdown-item ui-corner-all":0,"ui-state-highlight":1,"ui-dropdown-item-empty":2}),(t()(),r["\u0275and"](16777216,null,null,1,null,ei)),r["\u0275did"](4,16384,null,0,nt.NgIf,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),r["\u0275and"](16777216,null,null,2,null,ni)),r["\u0275did"](6,540672,null,0,nt.NgTemplateOutlet,[r.ViewContainerRef],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),r["\u0275pod"](7,{$implicit:0})],function(t,e){var n=e.component;t(e,1,0,t(e,2,0,!0,e.parent.context.selectedOption==e.context.$implicit,!e.context.$implicit.label||0===e.context.$implicit.label.length)),t(e,4,0,!n.itemTemplate),t(e,6,0,t(e,7,0,e.context.$implicit),n.itemTemplate)},null)}function ii(t){return r["\u0275vid"](0,[(t()(),r["\u0275and"](16777216,null,null,1,null,ri)),r["\u0275did"](1,802816,null,0,nt.NgForOf,[r.ViewContainerRef,r.TemplateRef,r.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(t()(),r["\u0275and"](0,null,null,0))],function(t,e){t(e,1,0,e.context.$implicit)},null)}function oi(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,"li",[],null,null,null,null,null)),(t()(),r["\u0275ted"](1,null,["",""]))],null,function(t,e){t(e,1,0,e.component.emptyFilterMessage)})}function ai(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,7,"ul",[["class","ui-dropdown-items ui-dropdown-list ui-widget-content ui-widget ui-corner-all ui-helper-reset"]],null,null,null,null,null)),(t()(),r["\u0275and"](16777216,null,null,1,null,Qr)),r["\u0275did"](2,16384,null,0,nt.NgIf,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),r["\u0275and"](16777216,null,null,1,null,ti)),r["\u0275did"](4,16384,null,0,nt.NgIf,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),r["\u0275and"](0,[["itemslist",2]],null,0,null,ii)),(t()(),r["\u0275and"](16777216,null,null,1,null,oi)),r["\u0275did"](7,16384,null,0,nt.NgIf,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,2,0,n.group),t(e,4,0,!n.group),t(e,7,0,n.filter&&n.optionsToDisplay&&0===n.optionsToDisplay.length)},null)}function si(t){return r["\u0275vid"](0,[r["\u0275qud"](402653184,1,{containerViewChild:0}),r["\u0275qud"](402653184,2,{panelViewChild:0}),r["\u0275qud"](402653184,3,{itemsWrapperViewChild:0}),r["\u0275qud"](671088640,4,{filterViewChild:0}),r["\u0275qud"](402653184,5,{focusViewChild:0}),r["\u0275qud"](671088640,6,{editableInputViewChild:0}),(t()(),r["\u0275eld"](6,0,[[1,0],["container",1]],null,26,"div",[],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.onMouseclick(n)&&r),r},null,null)),r["\u0275did"](7,278528,null,0,nt.NgClass,[r.IterableDiffers,r.KeyValueDiffers,r.ElementRef,r.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),r["\u0275pod"](8,{"ui-dropdown ui-widget ui-state-default ui-corner-all ui-helper-clearfix":0,"ui-state-disabled":1,"ui-dropdown-open":2,"ui-state-focus":3,"ui-dropdown-clearable":4}),r["\u0275did"](9,278528,null,0,nt.NgStyle,[r.KeyValueDiffers,r.ElementRef,r.Renderer2],{ngStyle:[0,"ngStyle"]},null),(t()(),r["\u0275and"](16777216,null,null,1,null,zr)),r["\u0275did"](11,16384,null,0,nt.NgIf,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),r["\u0275eld"](12,0,null,null,1,"div",[["class","ui-helper-hidden-accessible"]],null,null,null,null,null)),(t()(),r["\u0275eld"](13,0,[[5,0],["in",1]],null,0,"input",[["readonly",""],["role","listbox"],["type","text"]],[[1,"id",0],[1,"aria-label",0],[8,"disabled",0],[1,"tabindex",0],[1,"autofocus",0]],[[null,"focus"],[null,"blur"],[null,"keydown"]],function(t,e,n){var r=!0,i=t.component;return"focus"===e&&(r=!1!==i.onInputFocus(n)&&r),"blur"===e&&(r=!1!==i.onInputBlur(n)&&r),"keydown"===e&&(r=!1!==i.onKeydown(n)&&r),r},null,null)),(t()(),r["\u0275and"](16777216,null,null,1,null,Hr)),r["\u0275did"](15,16384,null,0,nt.NgIf,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),r["\u0275and"](16777216,null,null,1,null,Xr)),r["\u0275did"](17,16384,null,0,nt.NgIf,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),r["\u0275and"](16777216,null,null,1,null,qr)),r["\u0275did"](19,16384,null,0,nt.NgIf,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),r["\u0275and"](16777216,null,null,1,null,Ur)),r["\u0275did"](21,16384,null,0,nt.NgIf,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),r["\u0275eld"](22,0,null,null,2,"div",[["class","ui-dropdown-trigger ui-state-default ui-corner-right"]],null,null,null,null,null)),(t()(),r["\u0275eld"](23,0,null,null,1,"span",[["class","ui-dropdown-trigger-icon ui-clickable"]],null,null,null,null,null)),r["\u0275did"](24,278528,null,0,nt.NgClass,[r.IterableDiffers,r.KeyValueDiffers,r.ElementRef,r.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(t()(),r["\u0275eld"](25,0,[[2,0],["panel",1]],null,7,"div",[],[[24,"@panelState",0],[4,"display",null]],null,null,null,null)),r["\u0275did"](26,278528,null,0,nt.NgClass,[r.IterableDiffers,r.KeyValueDiffers,r.ElementRef,r.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),r["\u0275did"](27,278528,null,0,nt.NgStyle,[r.KeyValueDiffers,r.ElementRef,r.Renderer2],{ngStyle:[0,"ngStyle"]},null),(t()(),r["\u0275and"](16777216,null,null,1,null,Gr)),r["\u0275did"](29,16384,null,0,nt.NgIf,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),r["\u0275eld"](30,0,[[3,0],["itemswrapper",1]],null,2,"div",[["class","ui-dropdown-items-wrapper"]],[[4,"max-height",null]],null,null,null,null)),(t()(),r["\u0275and"](16777216,null,null,1,null,ai)),r["\u0275did"](32,16384,null,0,nt.NgIf,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,7,0,n.styleClass,t(e,8,0,!0,n.disabled,n.panelVisible,n.focused,n.showClear&&!n.disabled)),t(e,9,0,n.style),t(e,11,0,n.autoWidth),t(e,15,0,!n.editable&&null!=n.label),t(e,17,0,!n.editable&&null==n.label),t(e,19,0,n.editable),t(e,21,0,null!=n.value&&n.showClear&&!n.disabled),t(e,24,0,"ui-dropdown-trigger-icon ui-clickable",n.dropdownIcon),t(e,26,0,n.panelStyleClass,"ui-dropdown-panel ui-widget-content ui-corner-all ui-shadow"),t(e,27,0,n.panelStyle),t(e,29,0,n.filter),t(e,32,0,!n.lazy||n.panelVisible)},function(t,e){var n=e.component;t(e,13,0,n.inputId,n.selectedOption?n.selectedOption.label:" ",n.disabled,n.tabindex,n.autofocus),t(e,25,0,n.panelVisible?"visible":"hidden",n.panelVisible?"block":"none"),t(e,30,0,n.scrollHeight||"auto")})}var ui=r["\u0275crt"]({encapsulation:2,styles:[],data:{}});function li(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function ci(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,3,"div",[["class","ui-paginator-left-content"]],null,null,null,null,null)),(t()(),r["\u0275and"](16777216,null,null,2,null,li)),r["\u0275did"](2,540672,null,0,nt.NgTemplateOutlet,[r.ViewContainerRef],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),r["\u0275pod"](3,{$implicit:0})],function(t,e){var n=e.component;t(e,2,0,t(e,3,0,n.paginatorState),n.templateLeft)},null)}function fi(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,3,"a",[["class","ui-paginator-page ui-paginator-element ui-state-default ui-corner-all"],["href","#"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.onPageLinkClick(n,t.context.$implicit-1)&&r),r},null,null)),r["\u0275did"](1,278528,null,0,nt.NgClass,[r.IterableDiffers,r.KeyValueDiffers,r.ElementRef,r.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),r["\u0275pod"](2,{"ui-state-active":0}),(t()(),r["\u0275ted"](3,null,["",""]))],function(t,e){t(e,1,0,"ui-paginator-page ui-paginator-element ui-state-default ui-corner-all",t(e,2,0,e.context.$implicit-1==e.component.getPage()))},function(t,e){t(e,3,0,e.context.$implicit)})}function hi(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,8,"p-dropdown",[],[[2,"ui-inputwrapper-filled",null],[2,"ui-inputwrapper-focus",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"onChange"]],function(t,e,n){var r=!0,i=t.component;return"ngModelChange"===e&&(r=!1!==(i.rows=n)&&r),"onChange"===e&&(r=!1!==i.onRppChange(n)&&r),r},si,Ir)),r["\u0275prd"](512,null,kr.DomHandler,kr.DomHandler,[]),r["\u0275prd"](512,null,Rr.ObjectUtils,Rr.ObjectUtils,[]),r["\u0275did"](3,13877248,null,1,Or.Dropdown,[r.ElementRef,kr.DomHandler,r.Renderer2,r.ChangeDetectorRef,Rr.ObjectUtils,r.NgZone],{autoWidth:[0,"autoWidth"],appendTo:[1,"appendTo"],lazy:[2,"lazy"],options:[3,"options"]},{onChange:"onChange"}),r["\u0275qud"](603979776,1,{templates:1}),r["\u0275prd"](1024,null,Bn.NG_VALUE_ACCESSOR,function(t){return[t]},[Or.Dropdown]),r["\u0275did"](6,671744,null,0,Bn.NgModel,[[8,null],[8,null],[8,null],[6,Bn.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),r["\u0275prd"](2048,null,Bn.NgControl,null,[Bn.NgModel]),r["\u0275did"](8,16384,null,0,Bn.NgControlStatus,[[4,Bn.NgControl]],null,null)],function(t,e){var n=e.component;t(e,3,0,!1,n.dropdownAppendTo,!1,n.rowsPerPageItems),t(e,6,0,n.rows)},function(t,e){t(e,0,0,r["\u0275nov"](e,3).filled,r["\u0275nov"](e,3).focused,r["\u0275nov"](e,8).ngClassUntouched,r["\u0275nov"](e,8).ngClassTouched,r["\u0275nov"](e,8).ngClassPristine,r["\u0275nov"](e,8).ngClassDirty,r["\u0275nov"](e,8).ngClassValid,r["\u0275nov"](e,8).ngClassInvalid,r["\u0275nov"](e,8).ngClassPending)})}function di(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function pi(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,3,"div",[["class","ui-paginator-right-content"]],null,null,null,null,null)),(t()(),r["\u0275and"](16777216,null,null,2,null,di)),r["\u0275did"](2,540672,null,0,nt.NgTemplateOutlet,[r.ViewContainerRef],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),r["\u0275pod"](3,{$implicit:0})],function(t,e){var n=e.component;t(e,2,0,t(e,3,0,n.paginatorState),n.templateRight)},null)}function vi(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,27,"div",[],null,null,null,null,null)),r["\u0275did"](1,278528,null,0,nt.NgClass,[r.IterableDiffers,r.KeyValueDiffers,r.ElementRef,r.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),r["\u0275did"](2,278528,null,0,nt.NgStyle,[r.KeyValueDiffers,r.ElementRef,r.Renderer2],{ngStyle:[0,"ngStyle"]},null),(t()(),r["\u0275and"](16777216,null,null,1,null,ci)),r["\u0275did"](4,16384,null,0,nt.NgIf,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),r["\u0275eld"](5,0,null,null,3,"a",[["class","ui-paginator-first ui-paginator-element ui-state-default ui-corner-all"],["href","#"]],[[8,"tabIndex",0]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.changePageToFirst(n)&&r),r},null,null)),r["\u0275did"](6,278528,null,0,nt.NgClass,[r.IterableDiffers,r.KeyValueDiffers,r.ElementRef,r.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),r["\u0275pod"](7,{"ui-state-disabled":0}),(t()(),r["\u0275eld"](8,0,null,null,0,"span",[["class","ui-paginator-icon pi pi-step-backward"]],null,null,null,null,null)),(t()(),r["\u0275eld"](9,0,null,null,3,"a",[["class","ui-paginator-prev ui-paginator-element ui-state-default ui-corner-all"],["href","#"]],[[8,"tabIndex",0]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.changePageToPrev(n)&&r),r},null,null)),r["\u0275did"](10,278528,null,0,nt.NgClass,[r.IterableDiffers,r.KeyValueDiffers,r.ElementRef,r.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),r["\u0275pod"](11,{"ui-state-disabled":0}),(t()(),r["\u0275eld"](12,0,null,null,0,"span",[["class","ui-paginator-icon pi pi-caret-left"]],null,null,null,null,null)),(t()(),r["\u0275eld"](13,0,null,null,2,"span",[["class","ui-paginator-pages"]],null,null,null,null,null)),(t()(),r["\u0275and"](16777216,null,null,1,null,fi)),r["\u0275did"](15,802816,null,0,nt.NgForOf,[r.ViewContainerRef,r.TemplateRef,r.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(t()(),r["\u0275eld"](16,0,null,null,3,"a",[["class","ui-paginator-next ui-paginator-element ui-state-default ui-corner-all"],["href","#"]],[[8,"tabIndex",0]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.changePageToNext(n)&&r),r},null,null)),r["\u0275did"](17,278528,null,0,nt.NgClass,[r.IterableDiffers,r.KeyValueDiffers,r.ElementRef,r.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),r["\u0275pod"](18,{"ui-state-disabled":0}),(t()(),r["\u0275eld"](19,0,null,null,0,"span",[["class","ui-paginator-icon pi pi-caret-right"]],null,null,null,null,null)),(t()(),r["\u0275eld"](20,0,null,null,3,"a",[["class","ui-paginator-last ui-paginator-element ui-state-default ui-corner-all"],["href","#"]],[[8,"tabIndex",0]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.changePageToLast(n)&&r),r},null,null)),r["\u0275did"](21,278528,null,0,nt.NgClass,[r.IterableDiffers,r.KeyValueDiffers,r.ElementRef,r.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),r["\u0275pod"](22,{"ui-state-disabled":0}),(t()(),r["\u0275eld"](23,0,null,null,0,"span",[["class","ui-paginator-icon pi pi-step-forward"]],null,null,null,null,null)),(t()(),r["\u0275and"](16777216,null,null,1,null,hi)),r["\u0275did"](25,16384,null,0,nt.NgIf,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),r["\u0275and"](16777216,null,null,1,null,pi)),r["\u0275did"](27,16384,null,0,nt.NgIf,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,1,0,n.styleClass,"ui-paginator ui-widget ui-widget-header ui-unselectable-text ui-helper-clearfix"),t(e,2,0,n.style),t(e,4,0,n.templateLeft),t(e,6,0,"ui-paginator-first ui-paginator-element ui-state-default ui-corner-all",t(e,7,0,n.isFirstPage())),t(e,10,0,"ui-paginator-prev ui-paginator-element ui-state-default ui-corner-all",t(e,11,0,n.isFirstPage())),t(e,15,0,n.pageLinks),t(e,17,0,"ui-paginator-next ui-paginator-element ui-state-default ui-corner-all",t(e,18,0,n.isLastPage())),t(e,21,0,"ui-paginator-last ui-paginator-element ui-state-default ui-corner-all",t(e,22,0,n.isLastPage())),t(e,25,0,n.rowsPerPageOptions),t(e,27,0,n.templateRight)},function(t,e){var n=e.component;t(e,5,0,n.isFirstPage()?-1:null),t(e,9,0,n.isFirstPage()?-1:null),t(e,16,0,n.isLastPage()?-1:null),t(e,20,0,n.isLastPage()?-1:null)})}function gi(t){return r["\u0275vid"](0,[(t()(),r["\u0275and"](16777216,null,null,1,null,vi)),r["\u0275did"](1,16384,null,0,nt.NgIf,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,1,0,!!n.alwaysShow||n.pageLinks&&n.pageLinks.length>1)},null)}var mi=function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})},yi=function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=r[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},bi=function(){function t(t){this.galleryService=t}return t.prototype.loadData=function(t){return mi(this,void 0,void 0,function(){var e;return yi(this,function(n){switch(n.label){case 0:return e=this,[4,this.galleryService.getGalleryItem(t.page)];case 1:return e.item=n.sent(),[2]}})})},t.prototype.ngOnInit=function(){return mi(this,void 0,void 0,function(){var t,e;return yi(this,function(n){switch(n.label){case 0:return t=this,[4,this.galleryService.ready$.toPromise()];case 1:return t.nItems=n.sent(),e=this,[4,this.galleryService.getGalleryItem(0)];case 2:return e.item=n.sent(),[2]}})})},t}(),wi=r["\u0275crt"]({encapsulation:0,styles:[["[_nghost-%COMP%]{display:flex;flex-grow:1;flex-direction:column}"]],data:{}});function xi(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,"app-painting-gallery-item",[],null,null,null,zn,jn)),r["\u0275did"](1,114688,null,0,Fn,[rt.h],{item:[0,"item"]},null)],function(t,e){t(e,1,0,e.component.item)},null)}function _i(t){return r["\u0275vid"](0,[(t()(),r["\u0275and"](16777216,null,null,1,null,xi)),r["\u0275did"](1,16384,null,0,nt.NgIf,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),r["\u0275eld"](2,0,null,null,1,"p-paginator",[["rows","1"]],null,[[null,"onLazyLoad"],[null,"onPageChange"]],function(t,e,n){var r=!0,i=t.component;return"onLazyLoad"===e&&(r=!1!==i.loadData(n)&&r),"onPageChange"===e&&(r=!1!==i.loadData(n)&&r),r},gi,ui)),r["\u0275did"](3,114688,null,0,Tr.Paginator,[],{totalRecords:[0,"totalRecords"],rows:[1,"rows"]},{onPageChange:"onPageChange"}),(t()(),r["\u0275eld"](4,0,null,null,1,"app-navigation-button",[],null,null,null,Xn,Hn)),r["\u0275did"](5,49152,null,0,Wn,[],{link:[0,"link"],text:[1,"text"]},null)],function(t,e){var n=e.component;t(e,1,0,null!=n.item),t(e,3,0,n.nItems,"1"),t(e,5,0,"/showpaintings","Go to clothing color trend")},null)}var Ci=r["\u0275ccf"]("app-painting-gallery",bi,function(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,"app-painting-gallery",[],null,null,null,_i,wi)),r["\u0275did"](1,114688,null,0,bi,[wr],null,null)],function(t,e){t(e,1,0)},null)},{},{},[]),Si=n("xqcX"),Di="data:image/jpeg;base64,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",Pi=function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})},Ai=function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=r[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Ti=function(){function t(){var t=this;this.imgsrc=Di,this.net=new Promise(function(e,n){return Pi(t,void 0,void 0,function(){var t,n,r,i;return Ai(this,function(o){switch(o.label){case 0:return[4,fetch("/assets/models/face_landmark_68_model.weights")];case 1:return t=o.sent(),r=Float32Array.bind,[4,t.arrayBuffer()];case 2:return n=new(r.apply(Float32Array,[void 0,o.sent()])),[4,(i=new Si.FaceLandmarkNet).load(n)];case 3:return o.sent(),e(i),[2]}})})})}return t.prototype.ngOnInit=function(){return Pi(this,void 0,void 0,function(){var t,e;return Ai(this,function(n){switch(n.label){case 0:return(t=new Image).src=Di,[4,new Promise(function(e){t.onload=function(){e()}})];case 1:return n.sent(),[4,this.net];case 2:return[4,n.sent().detectLandmarks(t)];case 3:return e=n.sent(),console.log(e),[2]}})})},t}(),Ei=r["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function Oi(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,0,"img",[["id","myImg"]],[[8,"src",4]],null,null,null,null))],null,function(t,e){t(e,0,0,r["\u0275inlineInterpolate"](1,"",e.component.imgsrc,""))})}var ki=r["\u0275ccf"]("app-face",Ti,function(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,"app-face",[],null,null,null,Oi,Ei)),r["\u0275did"](1,114688,null,0,Ti,[],null,null)],function(t,e){t(e,1,0)},null)},{},{},[]),Ri=r["\u0275crt"]({encapsulation:0,styles:[["[_nghost-%COMP%]{display:flex;flex-grow:1;flex-direction:column}"]],data:{}});function Ii(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),r["\u0275did"](1,212992,null,0,pn,[dn,r.ViewContainerRef,r.ComponentFactoryResolver,[8,null],r.ChangeDetectorRef],null,null)],function(t,e){t(e,1,0)},null)}var Mi=r["\u0275ccf"]("app-root",o,function(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,"app-root",[],null,null,null,Ii,Ri)),r["\u0275did"](1,49152,null,0,o,[],null,null)],null,null)},{},{},[]),Ni=function(){},Li=n("VSng"),Fi=r["\u0275cmf"](i,[o],function(t){return r["\u0275mod"]([r["\u0275mpd"](512,r.ComponentFactoryResolver,r["\u0275CodegenComponentFactoryResolver"],[[8,[Ln,Ar,Ci,ki,Mi]],[3,r.ComponentFactoryResolver],r.NgModuleRef]),r["\u0275mpd"](5120,r.LOCALE_ID,r["\u0275angular_packages_core_core_l"],[[3,r.LOCALE_ID]]),r["\u0275mpd"](4608,nt.NgLocalization,nt.NgLocaleLocalization,[r.LOCALE_ID,[2,nt["\u0275angular_packages_common_common_a"]]]),r["\u0275mpd"](5120,r.APP_ID,r["\u0275angular_packages_core_core_f"],[]),r["\u0275mpd"](5120,r.IterableDiffers,r["\u0275angular_packages_core_core_j"],[]),r["\u0275mpd"](5120,r.KeyValueDiffers,r["\u0275angular_packages_core_core_k"],[]),r["\u0275mpd"](4608,rt.b,rt.q,[nt.DOCUMENT]),r["\u0275mpd"](6144,r.Sanitizer,null,[rt.b]),r["\u0275mpd"](4608,rt.e,rt.f,[]),r["\u0275mpd"](5120,rt.c,function(t,e,n,r,i,o,a){return[new rt.j(t,e,n),new rt.n(r),new rt.m(i,o,a)]},[nt.DOCUMENT,r.NgZone,[2,r.PLATFORM_ID],nt.DOCUMENT,nt.DOCUMENT,rt.e,r["\u0275Console"]]),r["\u0275mpd"](4608,rt.d,rt.d,[rt.c,r.NgZone]),r["\u0275mpd"](135680,rt.l,rt.l,[nt.DOCUMENT]),r["\u0275mpd"](4608,rt.k,rt.k,[rt.d,rt.l]),r["\u0275mpd"](6144,r.RendererFactory2,null,[rt.k]),r["\u0275mpd"](6144,rt.o,null,[rt.l]),r["\u0275mpd"](4608,r.Testability,r.Testability,[r.NgZone]),r["\u0275mpd"](4608,rt.g,rt.g,[nt.DOCUMENT]),r["\u0275mpd"](4608,rt.h,rt.h,[nt.DOCUMENT]),r["\u0275mpd"](5120,we,En,[sn]),r["\u0275mpd"](4608,yn,yn,[]),r["\u0275mpd"](6144,gn,null,[yn]),r["\u0275mpd"](135680,bn,bn,[sn,r.NgModuleFactoryLoader,r.Compiler,r.Injector,gn]),r["\u0275mpd"](4608,mn,mn,[]),r["\u0275mpd"](5120,In,Rn,[On]),r["\u0275mpd"](5120,r.APP_BOOTSTRAP_LISTENER,function(t){return[t]},[In]),r["\u0275mpd"](4608,Bn["\u0275angular_packages_forms_forms_i"],Bn["\u0275angular_packages_forms_forms_i"],[]),r["\u0275mpd"](1073742336,nt.CommonModule,nt.CommonModule,[]),r["\u0275mpd"](1024,r.ErrorHandler,rt.p,[]),r["\u0275mpd"](1024,r.NgProbeToken,function(){return[Cn()]},[]),r["\u0275mpd"](512,On,On,[r.Injector]),r["\u0275mpd"](1024,r.APP_INITIALIZER,function(t,e){return[rt.r(t),kn(e)]},[[2,r.NgProbeToken],On]),r["\u0275mpd"](512,r.ApplicationInitStatus,r.ApplicationInitStatus,[[2,r.APP_INITIALIZER]]),r["\u0275mpd"](131584,r.ApplicationRef,r.ApplicationRef,[r.NgZone,r["\u0275Console"],r.Injector,r.ErrorHandler,r.ComponentFactoryResolver,r.ApplicationInitStatus]),r["\u0275mpd"](1073742336,r.ApplicationModule,r.ApplicationModule,[r.ApplicationRef]),r["\u0275mpd"](1073742336,rt.a,rt.a,[[3,rt.a]]),r["\u0275mpd"](1024,xn,Pn,[[3,sn]]),r["\u0275mpd"](512,Wt,Ht,[]),r["\u0275mpd"](512,dn,dn,[]),r["\u0275mpd"](256,wn,{},[]),r["\u0275mpd"](1024,nt.LocationStrategy,Dn,[nt.PlatformLocation,[2,nt.APP_BASE_HREF],wn]),r["\u0275mpd"](512,nt.Location,nt.Location,[nt.LocationStrategy]),r["\u0275mpd"](512,r.Compiler,r.Compiler,[]),r["\u0275mpd"](512,r.NgModuleFactoryLoader,r.SystemJsNgModuleLoader,[r.Compiler,[2,r.SystemJsNgModuleLoaderConfig]]),r["\u0275mpd"](1024,$e,function(){return[[{path:"showpaintings",component:Cr},{path:"gallery",component:bi},{path:"face",component:Ti},{path:"",redirectTo:"gallery",pathMatch:"full"}]]},[]),r["\u0275mpd"](1024,sn,Tn,[r.ApplicationRef,Wt,dn,nt.Location,r.Injector,r.NgModuleFactoryLoader,r.Compiler,$e,wn,[2,en],[2,Je]]),r["\u0275mpd"](1073742336,Sn,Sn,[[2,xn],[2,sn]]),r["\u0275mpd"](1073742336,Ni,Ni,[]),r["\u0275mpd"](1073742336,Er.SharedModule,Er.SharedModule,[]),r["\u0275mpd"](1073742336,Or.DropdownModule,Or.DropdownModule,[]),r["\u0275mpd"](1073742336,Bn["\u0275angular_packages_forms_forms_bb"],Bn["\u0275angular_packages_forms_forms_bb"],[]),r["\u0275mpd"](1073742336,Bn.FormsModule,Bn.FormsModule,[]),r["\u0275mpd"](1073742336,Tr.PaginatorModule,Tr.PaginatorModule,[]),r["\u0275mpd"](1073742336,Li.ButtonModule,Li.ButtonModule,[]),r["\u0275mpd"](1073742336,i,i,[]),r["\u0275mpd"](256,r["\u0275APP_ROOT"],!0,[])])});Object(r.enableProdMode)(),rt.i().bootstrapModuleFactory(Fi).catch(function(t){return console.log(t)})},"x8+q":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("lT9W");e.prelu=function(t,e){return r.tidy(function(){return r.add(r.relu(t),r.mul(e,r.neg(r.relu(r.neg(t)))))})}},xFx2:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("mrSG"),i=n("lnjT"),o=n("y1S8"),a=n("nFNn"),s=n("M96y");e.loadQuantizedParams=function(t){return r.__awaiter(this,void 0,void 0,function(){var e,n,u,l,c,f,h;return r.__generator(this,function(r){switch(r.label){case 0:return[4,s.loadWeightMap(t,"face_detection_model")];case 1:if(e=r.sent(),u=function(t,e){var n=o.extractWeightEntryFactory(t,e);function r(t,e,r){return{filters:n(t+"/Conv2d_"+e+"_pointwise/weights",4,r+"/filters"),batch_norm_offset:n(t+"/Conv2d_"+e+"_pointwise/convolution_bn_offset",1,r+"/batch_norm_offset")}}function i(t){var e="mobilenetv1/conv_"+t,i="MobilenetV1/Conv2d_"+t+"_depthwise",o=e+"/depthwise_conv",a=e+"/pointwise_conv";return{depthwise_conv:{filters:n(i+"/depthwise_weights",4,o+"/filters"),batch_norm_scale:n(i+"/BatchNorm/gamma",1,o+"/batch_norm_scale"),batch_norm_offset:n(i+"/BatchNorm/beta",1,o+"/batch_norm_offset"),batch_norm_mean:n(i+"/BatchNorm/moving_mean",1,o+"/batch_norm_mean"),batch_norm_variance:n(i+"/BatchNorm/moving_variance",1,o+"/batch_norm_variance")},pointwise_conv:r("MobilenetV1",t,a)}}function a(t,e){return{filters:n(t+"/weights",4,e+"/filters"),bias:n(t+"/biases",1,e+"/bias")}}function s(t){return{box_encoding_predictor:a("Prediction/BoxPredictor_"+t+"/BoxEncodingPredictor","prediction_layer/box_predictor_"+t+"/box_encoding_predictor"),class_predictor:a("Prediction/BoxPredictor_"+t+"/ClassPredictor","prediction_layer/box_predictor_"+t+"/class_predictor")}}return{extractMobilenetV1Params:function(){return{conv_0:r("MobilenetV1",0,"mobilenetv1/conv_0"),conv_1:i(1),conv_2:i(2),conv_3:i(3),conv_4:i(4),conv_5:i(5),conv_6:i(6),conv_7:i(7),conv_8:i(8),conv_9:i(9),conv_10:i(10),conv_11:i(11),conv_12:i(12),conv_13:i(13)}},extractPredictionLayerParams:function(){return{conv_0:r("Prediction",0,"prediction_layer/conv_0"),conv_1:r("Prediction",1,"prediction_layer/conv_1"),conv_2:r("Prediction",2,"prediction_layer/conv_2"),conv_3:r("Prediction",3,"prediction_layer/conv_3"),conv_4:r("Prediction",4,"prediction_layer/conv_4"),conv_5:r("Prediction",5,"prediction_layer/conv_5"),conv_6:r("Prediction",6,"prediction_layer/conv_6"),conv_7:r("Prediction",7,"prediction_layer/conv_7"),box_predictor_0:s(0),box_predictor_1:s(1),box_predictor_2:s(2),box_predictor_3:s(3),box_predictor_4:s(4),box_predictor_5:s(5)}}}}(e,n=[]),l=u.extractMobilenetV1Params,c=u.extractPredictionLayerParams,f=e["Output/extra_dim"],n.push({originalPath:"Output/extra_dim",paramPath:"output_layer/extra_dim"}),!a.isTensor3D(f))throw new Error("expected weightMap['Output/extra_dim'] to be a Tensor3D, instead have "+f);return h={mobilenetv1:l(),prediction_layer:c(),output_layer:{extra_dim:f}},i.disposeUnusedWeightTensors(e,n),[2,{params:h,paramMappings:n}]}})})}},xJL4:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSizesForScale=function(t,e){var n=e[1];return{height:Math.floor(e[0]*t),width:Math.floor(n*t)}}},xTla:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r="function"==typeof Symbol&&Symbol.observable||"@@observable"},xXFh:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("pU5Y"),i=n("kiUJ");function o(t,e,n,r,i,o){var a=Object.assign({color:"blue",lineWidth:2,fontSize:20,fontStyle:"Georgia"},o||{});t.strokeStyle=a.color,t.lineWidth=a.lineWidth,t.strokeRect(e,n,r,i)}function a(t,e,n,r,i){var o=Object.assign({color:"blue",lineWidth:2,fontSize:20,fontStyle:"Georgia"},i||{}),a=2+o.lineWidth;t.fillStyle=o.color,t.font=o.fontSize+"px "+o.fontStyle,t.fillText(r,e+a,n+a+.6*o.fontSize)}function s(t,e,n){if(void 0===n&&(n=!1),t.beginPath(),e.slice(1).forEach(function(n,r){var i=n.x,o=n.y,a=e[r];t.moveTo(a.x,a.y),t.lineTo(i,o)}),n){var r=e[e.length-1],i=e[0];if(!r||!i)return;t.moveTo(r.x,r.y),t.lineTo(i.x,i.y)}t.stroke()}e.getDefaultDrawOptions=function(){return{color:"blue",lineWidth:2,fontSize:20,fontStyle:"Georgia"}},e.drawBox=o,e.drawText=a,e.drawDetection=function(t,e,n){var r=i.resolveInput(t);if(!(r instanceof HTMLCanvasElement))throw new Error("drawBox - expected canvas to be of type: HTMLCanvasElement");(Array.isArray(e)?e:[e]).forEach(function(t){var e=t.getBox(),s=e.x,u=e.y,l=e.width,c=e.height,f=Object.assign({color:"blue",lineWidth:2,fontSize:20,fontStyle:"Georgia"},n||{}),h=Object.assign({withScore:!0},n||{}).withScore,d=i.getContext2dOrThrow(r);o(d,s,u,l,c,f),h&&a(d,s,u,""+i.round(t.getScore()),f)})},e.drawLandmarks=function(t,e,n){var o=i.resolveInput(t);if(!(o instanceof HTMLCanvasElement))throw new Error("drawLandmarks - expected canvas to be of type: HTMLCanvasElement");var a=Object.assign({color:"blue",lineWidth:2,fontSize:20,fontStyle:"Georgia"},n||{}),u=Object.assign({drawLines:!1},n||{}).drawLines,l=i.getContext2dOrThrow(o),c=a.lineWidth,f=a.color;(Array.isArray(e)?e:[e]).forEach(function(t){if(u&&t instanceof r.FaceLandmarks68)return l.strokeStyle=f,l.lineWidth=c,s(l,t.getJawOutline()),s(l,t.getLeftEyeBrow()),s(l,t.getRightEyeBrow()),s(l,t.getNose()),s(l,t.getLeftEye(),!0),s(l,t.getRightEye(),!0),void s(l,t.getMouth(),!0);var e=c/2;l.fillStyle=f,t.getPositions().forEach(function(t){return l.fillRect(t.x-e,t.y-e,c,c)})})}},xqcX:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("mrSG"),i=n("lT9W");e.tf=i,r.__exportStar(n("q/np"),e),r.__exportStar(n("9sgn"),e),r.__exportStar(n("FLgm"),e),r.__exportStar(n("zGsf"),e),r.__exportStar(n("DmoT"),e),r.__exportStar(n("xXFh"),e),r.__exportStar(n("V/0k"),e),r.__exportStar(n("k/si"),e),r.__exportStar(n("t8m6"),e),r.__exportStar(n("4k+S"),e),r.__exportStar(n("pU5Y"),e),r.__exportStar(n("umzO"),e),r.__exportStar(n("TrWs"),e),r.__exportStar(n("ItLS"),e),r.__exportStar(n("2IeD"),e),r.__exportStar(n("maNC"),e),r.__exportStar(n("kiUJ"),e)},y1S8:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("nFNn");e.extractWeightEntryFactory=function(t,e){return function(n,i,o){var a=t[n];if(!r.isTensor(a,i))throw new Error("expected weightMap["+n+"] to be a Tensor"+i+"D, instead have "+a);return e.push({originalPath:n,paramPath:o||n}),a}}},y3By:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o});var r=n("+umK");function i(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return o(t)}function o(t){return t?1===t.length?t[0]:function(e){return t.reduce(function(t,e){return e(t)},e)}:r.a}},zGsf:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Point=function(){function t(t,e){this.x=t,this.y=e}return t.prototype.add=function(e){return new t(this.x+e.x,this.y+e.y)},t.prototype.sub=function(e){return new t(this.x-e.x,this.y-e.y)},t.prototype.mul=function(e){return new t(this.x*e.x,this.y*e.y)},t.prototype.div=function(e){return new t(this.x/e.x,this.y/e.y)},t.prototype.abs=function(){return new t(Math.abs(this.x),Math.abs(this.y))},t.prototype.magnitude=function(){return Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2))},t.prototype.floor=function(){return new t(Math.floor(this.x),Math.floor(this.y))},t}()},zotm:function(t,e,n){"use strict";var r=n("mrSG"),i=function(t){function e(e,n,r){var i=t.call(this)||this;return i.parent=e,i.outerValue=n,i.outerIndex=r,i.index=0,i}return r.__extends(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(n("FFOo").a),o=n("Fxb1");function a(t,e,n,r){var a=new i(t,n,r);return Object(o.a)(e)(a)}n.d(e,"a",function(){return a})}},[[10,0]]]);