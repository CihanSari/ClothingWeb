<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="resources/css/bootstrap.min.css">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/jquery-confirm/3.3.2/jquery-confirm.min.css">
    <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <link rel="stylesheet" href="resources/css/clothing.css">
    <link rel="icon" href="resources/icons/clothingfork.ico">
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery-confirm/3.3.2/jquery-confirm.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/fabric.js/1.7.20/fabric.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/color-thief/2.0.1/color-thief.min.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <script src="js/clothFiles.js"></script>
    <script src="js/clothingBase.js"></script>
    <script src="js/showPaintingsOnCanvasAnnotated.js"></script>
    <title>Clothing</title>
</head>

<body>
    <article>
        <h1>Clothing Graph</h1>
        <fieldset style='margin-left:auto;margin-right:auto;width:500px;'>
            <label for="clustering" style='width:250px;'>Select a color extraction method</label>
            <select name="clustering" id="clustering">
                <option selected="selected">Annotated</option>
                <option>IMoFA</option>
                <option>k2</option>
                <option>k5</option>
                <option>k8</option>
                <option>k11</option>
                <option>k14</option>
                <option>k17</option>
            </select>
            <label for="graphMethod" style='width:250px;'>Select a plot method</label>
            <select name="graphMethod" id="graphMethod">
                <option selected="selected">Hue</option>
                <option>Color</option>
                <option>Portrait</option>
            </select>
        </fieldset>
        <script>$(function () {
                $("#clustering").selectmenu({
                    change: function (event, data) {
                        const method = $('#clustering').val();
                        window.location = `${window.location.origin}/showPaintingsOnCanvasAnnotated.html?clustering=${method.toLowerCase()}&graphMethod=${window.graphMethod}`
                    }
                });
                $("#graphMethod").selectmenu({
                    change: function (event, data) {
                        const method = $('#graphMethod').val();
                        window.location = `${window.location.origin}/showPaintingsOnCanvasAnnotated.html?graphMethod=${method.toLowerCase()}&clustering=${window.clustering}`
                    }
                });
                setTimeout(() => {
                    if (window.clustering=='imofa') {
                        $('#clustering').val('IMoFA');
                    } 
                    else if (window.clustering=='annotated') {
                        $('#clustering').val('Annotated');
                    } else {
                        $('#clustering').val(window.clustering);
                    }
                    $("#clustering").selectmenu("refresh");
                    if (window.graphMethod=='hue') {
                        $('#graphMethod').val('Hue');
                    }
                    else if (window.graphMethod=='color') {
                        $('#graphMethod').val('Color');
                    }
                    else if (window.graphMethod=='portrait') {
                        $('#graphMethod').val('Portrait');
                    }
                    else {
                        alert(`Unknown graph method: ${window.graphMethod}!`);
                    }
                    $("#graphMethod").selectmenu("refresh");
                }, 500);
            });</script>
        <canvas id="femaleCanvasHSV" width="1400" height="200"></canvas>
        <canvas id="femaleCanvasMonochrome" width="1400" height="150"></canvas>
        <canvas id="maleCanvasHSV" width="1400" height="200"></canvas>
        <canvas id="maleCanvasMonochrome" width="1400" height="150"></canvas>
        <h3>
            <a id="editEditor" href="javascript:void(0)">Change graph settings</a>
        </h3>
    </article>
    <footer></footer>
</body>

</html>